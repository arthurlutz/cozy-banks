/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"main": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"pdfjsWorker":"pdfjsWorker"}[chunkId]||chunkId) + ".bundle.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							var error = new Error('Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')');
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([0,"cozy-bar","vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "../overrides/cozy-banks/manifest.webapp":
/*!***********************************************!*\
  !*** ../overrides/cozy-banks/manifest.webapp ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = {"name":"Espace personnel MAIF","version":"1.34.0","name_prefix":"","slug":"maif","registry_namespace":"maif","icon":"icon-banks.svg","description":"The banking application for Cozy","category":"cozy","licence":"AGPL-3.0","source":"git://github.com/cozy/cozy-banks.git","type":"webapp","developer":{"name":"Cozy Cloud","url":"https://cozy.io"},"default_locale":"en","locales":{"en":{"short_description":"Cozy Banks is the personal financial management application available on Cozy.","long_description":"Cozy Banks is the all-in-one personal data banking application to manage and control your money\nAll Cozy Banks is free\n- Automatic categorisation of your transactions\n- Simple graph to balances follow-up (New)\n- Smart notifications (New)\n- Multi-bank synchronisation\n- Personal Financial Management\n- Unlimited historic\n- Privacy by design application: 100% control of your personal finances\n\nMAIN FEATURES FOR MORE CONTROL AND SERVICES\n- Detailed overview of your finances\nYour transactions are automatically categorised and even more as you can re-categorise if need be. In-depth understand of your finances with smart graphs\n- All your bank accounts in one place - even different banks\nUnlimited history for all your transactions.\nReal difference with your actuel bank application.\n\nCheck out the list of 25+ banks and account types available in your Cozy:\nAxa Banque, Banque Populaire, BforBank, BNP Paribas, Boursorama, Bred, Carrefour Banque, Caisse d’Epargne, Casden, CIC, Crédit Agricole, Crédit Coopératif, Crédit Maritime, Crédit Mutuel, Crédit du Nord & banques du groupe, Crédit Mutuel, Fortuneo, HelloBank!, HSBC, ING Direct, LCL, Monabanq, La Banque Postale, Société Générale, Société Marseillaise de Crédit\n- One-click follow up of your health expenses\nCheck out directly in one place all your health expenses and be notified in real-time once reimbursed\n- Smart notifications\nCozy Banks warns you when something important occurs on your bank accounts\n- Magic link between your bills and expenses\nCozy Banks imports and associates automatically your bills to your expenses.\nAWARDS\n- Award-Winning Innovation Grand Prix - Ville de Paris 2018\n- Best Secure Data Service - Disruptive Night - 2018\n- Finance Innovation Label - 2018\nSAFE AND SECURE\n- Encrypted storage, connections and credentials\n- Two-factor authentication\n- Hosting in France \n- User is king\n- Using technology of our provider Budget Insight\n- Open source\n- Decentralized model in opposition to the current GAFA model\n- Cozy Cloud is a French company\nMore information available on https://help.cozy.io/article/268-all-my-data-in-a-secure-place","changes":""},"fr":{"short_description":"Cozy Banks est l’application gratuite et sécurisée pour gérer votre argent et tous vos comptes bancaires.","long_description":"Avec Cozy Banks, vous pouvez facilement :\n- Regrouper tous vos comptes même issus de banques différentes\n- Catégoriser automatiquement vos dépenses : revenus, loisirs, santé, logement... avec la possibilité de re-catégoriser si nécessaire\n- Suivre l’évolution des soldes de vos différents comptes bancaires (Nouveauté)\n- Paramétrer vos alertes en temps réel en cas de risque de solde négatif ou entrée d’argent importante\n- Accéder à une vision d’ensemble de toutes vos dépenses\n- Accéder directement aux factures des services que vous avez payés grâce à l’importation automatique des données par les connecteurs\n- Suivre vos dépenses et remboursements de santé entre vos différents services et pour tous les membres de la famille\n\nNOS RÉCOMPENSES & PRIX\n- Lauréat Grand Prix de l’Innovation - Catégorie Moonshot 2040 - Ville de Paris - 2018\n- Lauréat d’Or “Sécurité des données” - Disruptive Night - 2018\n- Label Finance Innovation - 2018\n\nNOS ENGAGEMENTS & GARANTIES DE SÉCURITÉ\n- Chiffrement des données stockées, connexions et identifiants\n- Isolation des rôles côté serveur\n- Authentification en deux étapes\n- Hébergement en France\n- Utilisateur comme client-roi\n- Solution open-source\n- Modèle décentralisé en rupture avec le modèle économique actuel des GAFA\n- Cozy Banks est développé par Cozy Cloud, entreprise française dont les serveurs sont situés en France\n- Pour plus d'informations sur la sécurité : https://support.cozy.io/category/5-securite\n\nL'application Cozy Banks est connectée à plus de 100 institutions financières : Caisse d’Epargne, Crédit Agricole, Société Générale, Boursorama, Crédit Mutuel, La Banque Postale, LCL, Banque Populaire, HSBC, Axa Banque, Bred, CIC, BforBank, Hello Bank, Fortuneo Banque, ING Direct, Monabanq, Barclays, BNP Paribas...","changes":""}},"langs":["en","fr"],"screenshots":["screenshots/fr/screenshot1.png","screenshots/fr/screenshot2.png","screenshots/fr/screenshot3.png","screenshots/fr/screenshot4.png","screenshots/fr/screenshot5.png"],"platforms":[{"type":"ios","url":"https://itunes.apple.com/us/app/cozy-banks/id1349814380"},{"type":"android","url":"https://play.google.com/store/apps/details?id=io.cozy.banks.mobile"}],"editor":"Cozy","tags":["bank","banks","money","account"],"routes":{"/":{"folder":"/","index":"index.html","public":false},"/public":{"folder":"/public","public":true}},"services":{"onOperationOrBillCreate":{"type":"node","file":"onOperationOrBillCreate.js","trigger":"@event io.cozy.bills:CREATED","debounce":"75s"},"categorization":{"type":"node","file":"categorization.js","comment":"This service must be called programmatically from konnectors. See https://github.com/cozy/cozy-banks/blob/master/docs/services.md for more information."},"stats":{"type":"node","file":"stats.js","trigger":"@event io.cozy.bank.operations:CREATED,UPDATED","debounce":"1m"},"recurrence":{"type":"node","file":"recurrence.js","trigger":"@event io.cozy.bank.operations:CREATED,UPDATED","debounce":"1m"},"autogroups":{"type":"node","file":"autogroups.js","trigger":"@event io.cozy.bank.accounts:CREATED","debounce":"5s"},"budgetAlerts":{"type":"node","file":"budgetAlerts.js","comment":"Service is run inside onOperationOrBillCreate. The service described here is for diagnosis/debug."},"linkMyselfToAccounts":{"type":"node","file":"linkMyselfToAccounts.js","trigger":"@event io.cozy.bank.accounts:CREATED","debounce":"5s"},"konnectorAlerts":{"type":"node","file":"konnectorAlerts.js","trigger":"@event io.cozy.jobs:UPDATED:konnector:worker","debounce":"60s"}},"notifications":{"balance-lower":{"description":"Alert the user when his account balance is lower than a certain value","collapsible":true,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}},"health-bill-linked":{"description":"Alert the user when a health bill has been linked to a health expense","collapsible":false,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}},"transaction-greater":{"description":"Alert the user when a transaction amount is greater than a certain value","collapsible":false,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}},"late-health-reimbursement":{"description":"Alert the user when a health reimbursement is late","collapsible":false,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}},"delayed-debit":{"description":"Alert the user when an account balance is going to be negative after delayed debit","collapsible":false,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}},"budget-alerts":{"description":"Alert the user when sum of expenses goes higher than defined in settings","collapsible":false,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}},"konnector-alerts":{"description":"Alert the user when a banking konnector fails","collapsible":false,"stateful":false,"multiple":false,"default_priority":"normal","templates":{}}},"permissions":{"bank.groups":{"description":"Manage groups of bank accounts","type":"io.cozy.bank.groups","verbs":["GET","POST","PUT","DELETE"]},"bank.accounts":{"description":"Used to list your bank accounts","type":"io.cozy.bank.accounts","verbs":["GET","POST","PUT","DELETE"]},"bank.accounts.stats":{"description":"Used to aggregate stats about bank accounts","type":"io.cozy.bank.accounts.stats","verbs":["GET","POST","PUT","DELETE"]},"bank.operations":{"description":"Used to manage your bank operations","type":"io.cozy.bank.operations","verbs":["GET","POST","PUT","DELETE"]},"bank.settings":{"description":"Used to manage your bank settings","type":"io.cozy.bank.settings","verbs":["GET","POST","PUT"]},"bank.recipients":{"description":"Show recipients of transfers","type":"io.cozy.bank.recipients"},"bank.recurrence":{"description":"Manage your recurring bundles your Cozy","type":"io.cozy.bank.recurrence","verbs":["GET","POST","PUT","DELETE"]},"bills":{"description":"Manage bills","type":"io.cozy.bills","verbs":["GET","POST","PUT","DELETE"]},"notifications":{"description":"Used to send notifications","type":"io.cozy.notifications","verbs":["POST"]},"apps":{"description":"Required to retrieve links to Documents app","type":"io.cozy.apps","verbs":["GET","POST","PUT"]},"triggers":{"description":"Required to run the konnectors and get statuses","type":"io.cozy.triggers","verbs":["GET","POST"]},"settings":{"description":"Required by the cozy-bar to display Claudy and know which applications are coming soon","type":"io.cozy.settings","verbs":["GET"]},"reporting":{"description":"Allow to report unexpected errors to the support team","type":"cc.cozycloud.sentry","verbs":["POST"]},"autocategorization":{"description":"Allow to anonymously send categorized transactions","type":"cc.cozycloud.autocategorization","verbs":["POST"]},"konnectors":{"description":"Required to install and display konnectors","type":"io.cozy.konnectors","verbs":["GET","POST","PUT","DELETE"]},"apps.suggestions":{"description":"Used to suggest which apps / connectors might be useful for the user","type":"io.cozy.apps.suggestions","verbs":["GET","POST","PUT"]},"jobs":{"description":"Required to run the konnectors","type":"io.cozy.jobs","verbs":["GET","POST","PUT"]},"accounts":{"description":"Required to manage accounts associated to konnectors","type":"io.cozy.accounts","verbs":["GET","POST","PUT","DELETE"]},"contacts":{"description":"Required to access contacts","type":"io.cozy.contacts","verbs":["GET","PUT","POST"],"selector":"me"},"identities":{"description":"Used to update the document storing information entered before a transfer","type":"io.cozy.identities","verbs":["GET","PUT","POST"]},"terms":{"description":"Required to install update terms","type":"io.cozy.terms","verbs":["GET","POST","PUT","DELETE"]},"files":{"description":"Required to access folders","type":"io.cozy.files","verbs":["GET","POST","PUT","PATCH","DELETE"]},"permissions":{"description":"Required to run the konnectors","type":"io.cozy.permissions","verbs":["GET","POST","PATCH"]},"create-a-zip-archive":{"description":"Required to create a zip archive inside the cozy","type":"io.cozy.jobs","verbs":["POST"],"selector":"worker","values":["zip"]}}}

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories sync \\.svg$":
/*!************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories sync nonrecursive \.svg$ ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./icon-cat-activities.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-activities.svg",
	"./icon-cat-dailyLife.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-dailyLife.svg",
	"./icon-cat-educationAndTraining.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-educationAndTraining.svg",
	"./icon-cat-excludeFromBudgetCat.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-excludeFromBudgetCat.svg",
	"./icon-cat-goingOutAndTravel.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-goingOutAndTravel.svg",
	"./icon-cat-health.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-health.svg",
	"./icon-cat-homeAndRealEstate.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-homeAndRealEstate.svg",
	"./icon-cat-incomeCat.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-incomeCat.svg",
	"./icon-cat-kids.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-kids.svg",
	"./icon-cat-services.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-services.svg",
	"./icon-cat-tax.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-tax.svg",
	"./icon-cat-transportation.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-transportation.svg",
	"./icon-cat-uncategorized.svg": "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-uncategorized.svg"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "../overrides/cozy-banks/src/assets/icons/categories sync \\.svg$";

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-activities.svg":
/*!***********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-activities.svg ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea",
  "use": "icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea\">\n    <title>icon-cat-activities</title>\n    <g id=\"icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea_planche-Cozy\" transform=\"translate(-2078.000000, -143.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea_icon-cat-activities\" transform=\"translate(2078.000000, 143.000000)\">\n                <circle id=\"icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea_Oval\" fill=\"#F9CCCF\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M12.2348198,13.5311419 C13.8882615,13.5311419 15.4739824,14.1879547 16.6431422,15.3570891 C17.812302,16.5262235 18.4691292,18.11191 18.4691292,19.7653158 C18.4691292,22.2868999 16.9502392,24.5602265 14.6205612,25.5252257 C12.2908832,26.4902248 9.60928527,25.9568517 7.82621724,24.1738225 C6.0431492,22.3907932 5.50976454,19.7092535 6.47478466,17.3796262 C7.43980478,15.0499989 9.71318077,13.5311419 12.2348198,13.5311419 Z M14.1501965,19.8803461 C13.7549413,19.9421891 13.3713869,20.4590349 12.9311134,21.0454148 C12.5214791,21.6387974 12.0351149,22.1753597 11.484688,22.6411271 C10.7430966,23.2048091 9.90738904,23.632471 9.01640675,23.9042363 C10.1057894,24.7669525 11.4979101,25.152177 12.875838,24.9722028 C13.7128817,23.4225358 14.1514149,21.6890438 14.1519618,19.9277718 C14.1519618,19.9117532 14.150354,19.8960497 14.1501965,19.8803461 Z M14.7072944,19.9918656 C14.69758,21.6712596 14.3098845,23.326919 13.5729651,24.8360353 C14.4807155,24.5970876 15.3077184,24.1189453 15.9677077,23.4514844 C16.0181728,22.7177221 16.0130541,21.3677675 15.4112792,20.543636 C15.2343882,20.2959894 14.9900188,20.1044522 14.7072944,19.9918656 Z M13.2643667,18.3717513 C11.0222325,18.3666225 8.83707156,19.0778172 7.02749142,20.4016871 C7.1678456,21.5602188 7.69132774,22.6386329 8.51477453,23.4655998 C9.46514194,23.2201105 10.357972,22.7901727 11.1424703,22.2002463 C11.6529171,21.764111 12.104264,21.263228 12.4850781,20.7102853 C13.0198768,19.9983032 13.4968343,19.3721953 14.1300104,19.319008 C14.1128628,19.0155678 14.0865934,18.7130856 14.0438129,18.4138059 C13.7849053,18.3951953 13.5267984,18.3717513 13.2643667,18.3717513 Z M14.6096913,18.4634299 C14.6503915,18.7739246 14.6758603,19.0869786 14.6906061,19.4016337 C15.1631132,19.5309898 15.5769576,19.8184917 15.8630632,20.2161515 C16.3347562,20.977284 16.5718051,21.8604902 16.5446175,22.7555143 C17.1570209,21.8786645 17.4852034,20.8348226 17.4847393,19.7652961 C17.4847393,19.5897024 17.4753081,19.416353 17.4584886,19.2452479 C16.5504762,18.8517034 15.5913882,18.5884933 14.6096913,18.4634299 Z M14.0378542,5.00015774 C15.6589453,5.00015774 17.4876454,5.79417769 19.2282318,7.53475905 C20.4787612,8.75446462 21.1221017,10.4671078 20.9838724,12.2084667 C20.9827502,12.2174374 20.9859527,12.2260865 20.984194,12.2350571 L20.984194,12.2350571 L20.9784256,12.268387 C20.9681685,12.3651479 20.9566383,12.4612789 20.9409344,12.5567667 C20.8800547,13.1556412 20.8468882,14.4472701 21.5616091,15.1624546 L21.5616091,15.1624546 L22.4506479,16.0513099 C22.5169898,16.0249343 22.5876916,16.0112403 22.6590838,16.0109387 C22.8095345,16.0106241 22.9538881,16.0703707 23.0601074,16.1769187 L23.0601074,16.1769187 L26.6680007,19.7848648 C27.1106664,20.2276735 27.1106664,20.9454463 26.6680007,21.388255 L26.6680007,21.388255 L25.8661242,22.1902716 C25.6535274,22.4030197 25.3650906,22.5225535 25.0643231,22.5225535 C24.7635555,22.5225535 24.4751187,22.4030197 24.262522,22.1902716 L24.262522,22.1902716 L20.6546287,18.5823255 C20.4952396,18.4226496 20.4458869,18.1835748 20.5290172,17.9738373 L20.5290172,17.9738373 L19.6396634,17.0843388 C19.3753259,16.8345361 19.0509246,16.6572728 18.6979152,16.5697373 C18.4582558,16.0824907 18.1645497,15.6237465 17.822336,15.2021564 C18.2352851,15.0236695 18.6117851,14.7705749 18.9329552,14.4555649 C19.481991,13.9003489 19.8430768,13.186933 19.9653831,12.4157432 C19.9796433,12.2846943 19.9942184,12.1837597 20.004633,12.1206371 C20.1154508,10.6697074 19.5759521,9.24453135 18.5320957,8.23068316 C17.0837409,6.78236644 15.4878365,5.98483186 14.0383661,5.98483186 C13.0875472,5.97505148 12.1734648,6.35154524 11.5053596,7.0281307 C10.7135008,7.81158393 10.3368045,8.92217601 10.4886291,10.0256987 C10.6149898,10.9463076 10.9587864,11.8235873 11.4915654,12.5849321 C11.1423707,12.6236881 10.7964961,12.6880515 10.4567357,12.7775024 C8.98852954,10.3188886 9.23846629,7.9028903 10.809381,6.33217378 C11.661434,5.47035745 12.825978,4.9900047 14.0378542,5.00015774 Z M22.6592479,17.1679555 L21.6458839,18.1814615 L24.9586581,21.4943278 C24.9866732,21.5224285 25.0247215,21.5382226 25.0644018,21.5382226 C25.1040821,21.5382226 25.1421305,21.5224285 25.1701455,21.4943278 L25.1701455,21.4943278 L25.9718646,20.6923046 C26.0301854,20.6338722 26.0301854,20.5392542 25.9718646,20.4808217 L25.9718646,20.4808217 L22.6592479,17.1679555 Z M10.6220827,16.1397171 C9.81420156,16.0632194 8.99916498,16.1468445 8.22365196,16.3858029 C7.42809475,17.3249973 6.98971308,18.514934 6.98581999,19.7457733 C8.83515971,18.4818009 11.0243273,17.808329 13.2643536,17.8142556 C13.4928443,17.8142556 13.717122,17.837322 13.9430271,17.8507813 C13.8776587,17.5207441 13.8013967,17.1935943 13.7051062,16.8722063 C13.6445481,16.8760518 13.5790222,16.8882248 13.5207019,16.8882248 C12.9722202,16.8646755 12.4329705,16.7388314 11.9307233,16.5171734 C11.5093245,16.3447436 11.0705814,16.2181952 10.6220827,16.1397171 Z M15.315763,15.5238595 C15.3665278,16.1623238 14.8987462,16.7247329 14.2617053,16.7911423 C14.3645242,17.1507752 14.4492249,17.5153424 14.5154876,17.883468 C15.4879694,17.9956649 16.4411875,18.2368187 17.3500247,18.6005752 C17.0659335,17.3629185 16.3433062,16.2699821 15.315763,15.5238595 Z M20.1241546,14.5552198 C19.8307802,14.9830573 19.4611439,15.3532285 19.0337279,15.6472239 C19.5228725,15.7814617 19.970513,16.0362915 20.335642,16.3883688 L20.335642,16.3883688 L21.1911927,17.2439008 L21.7211812,16.7139173 L20.8656305,15.8583852 C20.5134611,15.4927765 20.2585369,15.0447398 20.1241546,14.5552198 Z M12.2348066,14.5154851 C11.0589852,14.5154323 9.91759481,14.9124129 8.99559072,15.6420988 C9.55936476,15.5362268 10.1361213,15.5181772 10.7054124,15.5885899 C11.1919856,15.6724359 11.668114,15.8084382 12.1255619,15.9942443 C12.5665687,16.1880056 13.0392777,16.2995311 13.5203869,16.3233234 C13.2964152,15.7032966 13.0149751,15.1055626 12.6797395,14.5379216 C12.5326623,14.525742 12.3849419,14.5154851 12.2348066,14.5154851 Z M13.3830811,14.6458909 C13.659594,15.1637842 13.8947745,15.7027053 14.0864293,16.2576283 C14.3588731,16.2268108 14.5984105,16.0631683 14.7261745,15.8205799 C14.7900695,15.5866951 14.7694752,15.3377731 14.6680117,15.1175685 C14.2622968,14.9045474 13.8302627,14.7459546 13.3830811,14.6458909 Z M14.2809427,6.86680508 C14.3772742,6.84099455 14.4800582,6.86853576 14.550577,6.9390542 L14.550577,6.9390542 L15.2490887,7.63757698 L15.6393761,7.24730457 C15.7485046,7.13897377 15.9246936,7.13929594 16.0334252,7.24802511 C16.1421567,7.35675429 16.1424789,7.53293949 16.0341457,7.64206558 L16.0341457,7.64206558 L15.6438845,8.03234456 L16.5889993,8.97695315 L17.3178163,8.24830947 C17.4268289,8.13929741 17.6035747,8.13929594 17.7125892,8.24830618 C17.8216036,8.35731643 17.8216051,8.53405842 17.7125924,8.64307048 L17.7125924,8.64307048 L16.9837689,9.37171416 L17.9288836,10.3166443 L18.3188429,9.92669345 C18.4278556,9.81768139 18.6046014,9.81767992 18.7136158,9.92669017 C18.8226303,10.0357004 18.8226317,10.2124424 18.7136191,10.3214545 L18.7136191,10.3214545 L18.3236532,10.7114119 L19.0225127,11.4102562 C19.1308459,11.5193823 19.1305237,11.6955675 19.0217922,11.8042967 C18.9130606,11.9130259 18.7368716,11.913348 18.6277431,11.8050172 L18.6277431,11.8050172 L17.9288836,11.1061729 L16.9232239,12.1119814 L18.0548232,13.2437202 C18.1638376,13.3527304 18.1638391,13.5294724 18.0548265,13.6384845 C17.9458139,13.7474965 17.7690681,13.747498 17.6600536,13.6384878 L17.6600536,13.6384878 L16.5284477,12.506749 L15.6346052,13.4007295 C15.1444964,13.1404977 14.6258883,12.9379212 14.0891528,12.7970515 L14.0891528,12.7970515 L13.8236762,12.5317382 L13.6652263,12.6903487 C13.4404433,12.6448523 13.2122939,12.6092847 12.9804629,12.5855686 L12.9804629,12.5855686 L13.4289066,12.1369771 L12.4837918,11.1923817 L12.2165565,11.4596112 C12.1075439,11.5686233 11.9307981,11.5686247 11.8217836,11.4596145 C11.7127692,11.3506042 11.7127677,11.1738622 11.8217804,11.0648502 L11.8217804,11.0648502 L12.0890222,10.7976141 L11.3565171,10.0651118 C11.248184,9.95598571 11.2485062,9.7798005 11.3572377,9.67107133 C11.4659692,9.56234216 11.6421583,9.56201998 11.7512867,9.67035078 L11.7512867,9.67035078 L12.4837918,10.40284 L13.4540604,9.43259907 L12.322297,8.30086027 C12.251777,8.23034301 12.2242352,8.12756123 12.2500463,8.03123184 C12.2758574,7.93490245 12.3511,7.85966018 12.4474311,7.83384805 C12.5437621,7.80803593 12.6465466,7.83557543 12.7170666,7.90609269 L12.7170666,7.90609269 L13.8488562,9.0378315 L14.8543453,8.03234456 L14.1558008,7.33381521 C14.085282,7.26329678 14.0577419,7.16051454 14.0835546,7.06418559 C14.1093673,6.96785663 14.1846112,6.8926156 14.2809427,6.86680508 Z M15.1885503,11.1670709 L14.2184458,12.1369771 L15.163718,13.082242 L16.133665,12.1120011 L15.1885503,11.1670709 Z M13.8488562,9.82736009 L12.878568,10.7976141 L13.8236762,11.7421964 L14.7937807,10.7722902 L13.8488562,9.82736009 Z M16.5889993,9.76648174 L15.5833067,10.7722902 L16.5284346,11.7172335 L17.5341074,10.71174 L16.5889993,9.76648174 Z M15.2491149,8.42710557 L14.2435996,9.43259907 L15.1885503,10.3775292 L16.1942297,9.37171416 L15.2491149,8.42710557 Z\" id=\"icon-cat-activities_a9b9a9e963cef8ba4b5084c43c1090ea_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-dailyLife.svg":
/*!**********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-dailyLife.svg ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10",
  "use": "icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10\">\n    <title>icon-cat-dailyLife</title>\n    <g id=\"icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10_planche-Cozy\" transform=\"translate(-2078.000000, -253.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10_icon-cat-dailyLife\" transform=\"translate(2078.000000, 253.000000)\">\n                <circle id=\"icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10_Oval\" fill=\"#E08D69\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M12.4656425,22.8989397 C13.3581382,22.8989397 14.0816488,23.5931357 14.0816488,24.4494699 C14.0816488,25.305804 13.3581382,26 12.4656425,26 C11.5731468,26 10.8496361,25.305804 10.8496361,24.4494699 C10.8496361,23.5931357 11.5731468,22.8989397 12.4656425,22.8989397 Z M21.1920769,22.8989397 C22.0845726,22.8989397 22.8080833,23.5931357 22.8080833,24.4494699 C22.8080833,25.305804 22.0845726,26 21.1920769,26 C20.2995812,26 19.5760706,25.305804 19.5760706,24.4494699 C19.5760706,23.5931357 20.2995812,22.8989397 21.1920769,22.8989397 Z M12.4656425,23.8292578 C12.1088022,23.8296235 11.8196211,24.1070878 11.8192399,24.4494699 C11.8192399,24.7920035 12.1086442,25.0696819 12.4656425,25.0696819 C12.8226407,25.0696819 13.112045,24.7920035 13.112045,24.4494699 C13.112045,24.1069362 12.8226407,23.8292578 12.4656425,23.8292578 Z M21.1920769,23.8292578 C20.8352367,23.8296235 20.5460556,24.1070878 20.5456744,24.4494699 C20.5456744,24.7920035 20.8350787,25.0696819 21.1920769,25.0696819 C21.5490752,25.0696819 21.8384795,24.7920035 21.8384795,24.4494699 C21.8384795,24.1069362 21.5490752,23.8292578 21.1920769,23.8292578 Z M6.48468924,8 L6.55798206,8.00537208 L9.58294563,8.44510863 C9.78184123,8.47389982 9.94156826,8.61750728 9.98442626,8.80607205 L10.367911,10.5013597 L25.5151332,10.5013597 C25.6614508,10.5014384 25.7999188,10.5648636 25.8919859,10.6739771 C25.9842233,10.7831898 26.0199649,10.9266 25.9891984,11.0640347 L24.0499907,19.7470034 C24.0020029,19.9614271 23.8044916,20.1145974 23.5759191,20.1146465 L12.2592978,20.1146465 L11.4255743,21.9686216 L22.969949,21.9686216 C23.2376977,21.9686216 23.4547509,22.1768804 23.4547509,22.4337807 C23.4547509,22.6906809 23.2376977,22.8989399 22.969949,22.8989399 L10.6883005,22.8989399 C10.5251046,22.8989399 10.3728016,22.8203766 10.2831261,22.6895514 C10.1934507,22.5587263 10.1784574,22.3933704 10.2432394,22.2496521 L11.4337771,19.6022584 L9.10761351,9.31666162 L6.41280005,8.92478684 C6.24139394,8.90014924 6.0967523,8.78955284 6.03346592,8.63473904 C5.97017955,8.47992524 5.99788541,8.3044684 6.10612673,8.17458963 C6.21436805,8.04471087 6.38666232,7.98018753 6.55798206,8.00537208 L6.48468924,8 Z M13.4215943,15.5472437 L11.5203369,15.5472437 L12.3326839,19.1843285 L13.4215943,19.1843285 L13.4215943,15.5472437 Z M16.1460776,15.5472437 L13.9707843,15.5472437 L13.9707843,19.1843285 L16.1460776,19.1843285 L16.1460776,15.5472437 Z M18.8705674,15.5472437 L16.6952677,15.5472437 L16.6952677,19.1843285 L18.8705674,19.1843285 L18.8705674,15.5472437 Z M21.5944044,15.5472437 L19.4197575,15.5472437 L19.4197575,19.1843285 L21.5944044,19.1843285 L21.5944044,15.5472437 Z M23.9962553,15.5472437 L22.1436074,15.5472437 L22.1436074,19.1843285 L23.1839082,19.1843285 L23.9962553,15.5472437 Z M13.4215878,11.4316778 L10.6011525,11.4316778 L11.4026916,15.0203115 L13.4215878,15.0203115 L13.4215878,11.4316778 Z M16.1460776,11.4316778 L13.9707843,11.4316778 L13.9707843,15.0203115 L16.1460776,15.0203115 L16.1460776,11.4316778 Z M18.8705674,11.4316778 L16.6952677,11.4316778 L16.6952677,15.0203115 L18.8705674,15.0203115 L18.8705674,11.4316778 Z M21.5944044,11.4316778 L19.4197575,11.4316778 L19.4197575,15.0203115 L21.5944044,15.0203115 L21.5944044,11.4316778 Z M24.9154332,11.4316778 L22.1436009,11.4316778 L22.1436009,15.0203115 L24.1139005,15.0203115 L24.9154332,11.4316778 Z\" id=\"icon-cat-dailyLife_50e23fe2085df78bb5c0625889740a10_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-educationAndTraining.svg":
/*!*********************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-educationAndTraining.svg ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2",
  "use": "icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2\">\n    <title>icon-cat-educationAndTraining</title>\n    <g id=\"icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2_planche-Cozy\" transform=\"translate(-2078.000000, -537.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2_icon-cat-educationAndTraining\" transform=\"translate(2078.000000, 537.000000)\">\n                <circle id=\"icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2_Oval\" fill=\"#6EA6BE\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M16.2215634,8.05114041 C16.0813299,7.9829532 15.9186633,7.9829532 15.7784298,8.05114041 L5.29409978,13.1644911 C5.11445079,13.252176 5,13.4380595 5,13.6421486 C5,13.8462377 5.11445079,14.0321211 5.29409978,14.1198061 L9.73341086,16.2849186 L9.73341086,23.0358816 C9.2806512,23.1100961 8.90569428,23.4364521 8.76057128,23.8826242 C8.29100732,24.9913755 7.6930743,26.0381251 6.97966983,27.0002941 C6.92085607,27.0757923 6.90113489,27.1757491 6.92670091,27.2687669 C6.95226693,27.3617848 7.01998332,27.4364509 7.10857967,27.4693118 C7.8149215,27.7398764 8.55164848,27.9181733 9.30139446,28 L9.32824896,27.9996544 C10.8086977,27.9755476 11.0111239,25.6957549 11.0775933,24.9467301 C11.1987217,24.2447808 10.8995929,23.5364537 10.3175615,23.147 L10.3175615,20.1748032 C11.2950075,21.4335973 13.5227276,22.6275611 16.1180023,22.6275611 C19.6145116,22.6275611 22.4489811,20.4608123 22.4489811,18.8873391 L22.4489811,16.1959534 L26.7059002,14.1198625 C26.8855492,14.0321775 27,13.8462941 27,13.642205 C27,13.4381159 26.8855492,13.2522325 26.7059002,13.1645475 L16.2215634,8.05114041 Z M10.4954777,24.8923735 C10.3487749,26.5460875 9.95298385,27.3901571 9.31884369,27.4004896 C8.76232449,27.3419073 8.21395017,27.2195789 7.68397131,27.0357913 C8.32279897,26.1251509 8.86405711,25.1465085 9.2983625,24.1168298 C9.41921461,23.8254887 9.64379962,23.5093426 10.0332173,23.6660368 C10.469297,23.8406383 10.5263611,24.5445528 10.4954777,24.8923735 Z M21.4176955,18.8873391 C21.4176955,19.6874198 19.1797313,21.5696265 16.1179955,21.5696265 C13.0562596,21.5696265 10.8182542,19.6874198 10.8182542,18.8873391 L10.8182542,16.8140834 L15.7784298,19.2331849 C15.9186137,19.3015976 16.0813794,19.3015976 16.2215634,19.2331849 L21.4176955,16.6989801 L21.4176955,18.8873391 Z M15.9999966,18.169735 L11.0999514,15.7800017 L16.2910509,13.302615 C16.3859674,13.2576418 16.4502171,13.1640598 16.4595218,13.0572311 C16.4688264,12.9504025 16.4217671,12.8466179 16.3361263,12.7850948 C16.2504856,12.7235718 16.139323,12.7136922 16.0446441,12.7591893 L10.4149073,15.4458636 L6.71647375,13.6421768 L15.9999966,9.11461861 L25.2835194,13.6421768 L15.9999966,18.169735 Z\" id=\"icon-cat-educationAndTraining_6358c0af32ededdc9b7f2e438345ebf2_Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-excludeFromBudgetCat.svg":
/*!*********************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-excludeFromBudgetCat.svg ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476",
  "use": "icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476\">\n    <title>icon-cat-excludeFromBudgetCat</title>\n    <g id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_planche-Cozy\" transform=\"translate(-2077.000000, -590.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_icon-cat-excludeFromBudgetCat\" transform=\"translate(2077.000000, 590.000000)\">\n                <circle id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Oval\" fill=\"#CF535D\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <g id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Group-8\" transform=\"translate(6.000000, 6.000000)\" fill=\"#FFFFFF\">\n                    <polygon id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Rectangle\" points=\"12.0352941 14.0515929 15 14.0515929 14.9647059 14.9484071 12 14.9484071\" />\n                    <path d=\"M8.379,15.2708142 C8.064,15.3338142 7.749,15.3968142 7.434,15.3968142 C6.993,15.3968142 6.615,15.3338142 6.3,15.0818142 C5.985,14.8298142 5.796,14.5148142 5.67,14.1368142 L7.938,14.1368142 L8.064,13.1918142 L5.544,13.1918142 C5.544,13.1288142 5.544,13.0658142 5.544,13.0028142 L5.544,12.4358142 C5.544,12.3728142 5.544,12.3098142 5.544,12.2468142 L8.19,12.2468142 L8.316,11.3018142 L5.67,11.3018142 C5.733,10.9238142 5.985,10.5458142 6.3,10.3568142 C6.615,10.1048142 7.056,10.0418142 7.434,10.0418142 C7.749,10.0418142 8.001,10.1048142 8.316,10.1678142 C8.568,10.2308142 8.883,10.3568142 9.135,10.4828142 L9.639,9.53781425 C9.324,9.34881425 8.946,9.15981425 8.631,9.09681425 C8.253,8.97081425 7.812,8.97081425 7.434,8.97081425 C6.741,8.90781425 6.048,9.15981425 5.481,9.53781425 C4.977,9.97881425 4.599,10.6088142 4.473,11.3018142 L3.402,11.3018142 L3.402,12.2468142 L4.284,12.2468142 C4.284,12.3098142 4.284,12.3728142 4.284,12.4358142 L4.284,13.0028142 C4.284,13.0658142 4.284,13.1288142 4.284,13.1918142 L3.402,13.1918142 L3.402,14.1368142 L4.41,14.1368142 C4.536,14.8298142 4.851,15.4598142 5.418,15.9008142 C5.985,16.3418142 6.678,16.5308142 7.434,16.4678142 C7.875,16.4678142 8.316,16.4048142 8.694,16.3418142 C9.072,16.2158142 9.45,16.0898142 9.765,15.9008142 L9.261,14.9558142 C8.946,15.0188142 8.631,15.1448142 8.379,15.2708142 Z\" id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Path\" />\n                    <rect id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Rectangle\" x=\"12\" y=\"12\" width=\"4.41\" height=\"1\" />\n                    <path d=\"M18.396,6.45081425 L1.764,6.45081425 C0.819,6.45081425 1.1414869e-13,7.20681425 1.1414869e-13,8.21481425 L1.1414869e-13,17.3498142 C1.1414869e-13,18.2948142 0.756,19.1138142 1.764,19.1138142 L18.459,19.1138142 C19.404,19.1138142 20.223,18.3578142 20.223,17.3498142 L20.223,8.21481425 C20.16,7.20681425 19.404,6.45081425 18.396,6.45081425 Z M19.215,17.3498142 C19.215,17.7908142 18.837,18.1058142 18.459,18.1058142 L1.764,18.1058142 C1.323,18.1058142 1.008,17.7278142 1.008,17.3498142 L1.008,8.21481425 C1.008,7.77381425 1.386,7.45881425 1.764,7.45881425 L18.459,7.45881425 C18.9,7.45881425 19.215,7.83681425 19.215,8.21481425 L19.215,17.3498142 Z\" id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Shape\" />\n                    <path d=\"M2.079,2.41881425 C2.079,2.41881425 2.079,2.48181425 2.079,2.48181425 C2.079,2.48181425 2.079,2.54481425 2.142,2.54481425 C2.142,2.54481425 2.142,2.54481425 2.142,2.60781425 L3.717,4.49781425 C3.78,4.62381425 3.969,4.68681425 4.095,4.68681425 C4.221,4.68681425 4.284,4.62381425 4.41,4.56081425 C4.599,4.37181425 4.662,4.11981425 4.473,3.86781425 L3.528,2.79681425 L8.379,2.79681425 C8.631,2.79681425 8.883,2.60781425 8.883,2.29281425 C8.883,1.97781425 8.694,1.78881425 8.379,1.78881425 L3.528,1.78881425 L4.41,0.717814246 C4.599,0.591814246 4.599,0.276814246 4.41,0.0878142455 C4.221,-0.0381857545 3.906,-0.0381857545 3.717,0.150814246 L2.142,2.04081425 C2.142,2.04081425 2.142,2.04081425 2.142,2.10381425 C2.142,2.10381425 2.079,2.16681425 2.079,2.16681425 C2.079,2.16681425 2.079,2.22981425 2.079,2.22981425 C2.079,2.22981425 2.079,2.29281425 2.079,2.29281425 C2.079,2.35581425 2.079,2.41881425 2.079,2.41881425 Z\" id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Path\" />\n                    <path d=\"M11.97,2.85981425 L16.947,2.85981425 L16.065,3.93081425 C15.876,4.11981425 15.939,4.43481425 16.128,4.62381425 C16.191,4.68681425 16.317,4.74981425 16.443,4.74981425 C16.569,4.74981425 16.695,4.68681425 16.821,4.56081425 L18.396,2.67081425 C18.396,2.67081425 18.396,2.67081425 18.396,2.60781425 C18.396,2.60781425 18.459,2.54481425 18.459,2.54481425 C18.459,2.54481425 18.459,2.48181425 18.459,2.48181425 C18.459,2.48181425 18.459,2.41881425 18.459,2.41881425 C18.459,2.41881425 18.459,2.35581425 18.459,2.35581425 C18.459,2.35581425 18.459,2.29281425 18.459,2.29281425 C18.459,2.29281425 18.459,2.22981425 18.396,2.22981425 C18.396,2.22981425 18.396,2.22981425 18.396,2.16681425 L16.821,0.276814246 C16.632,0.0878142455 16.38,0.0248142455 16.128,0.213814246 C15.939,0.402814246 15.876,0.654814246 16.065,0.906814246 L17.01,1.91481425 L11.97,1.91481425 C11.718,1.91481425 11.466,2.10381425 11.466,2.41881425 C11.466,2.73381425 11.718,2.85981425 11.97,2.85981425 Z\" id=\"icon-cat-excludeFromBudgetCat_8e38fa45334a41b2dfa419a44aaca476_Path\" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-goingOutAndTravel.svg":
/*!******************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-goingOutAndTravel.svg ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682",
  "use": "icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682\">\n    <title>icon-cat-goingOutAndTravel</title>\n    <g id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_planche-Cozy\" transform=\"translate(-2078.000000, -367.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_icon-cat-goingOutAndTravel\" transform=\"translate(2078.000000, 367.000000)\">\n                <circle id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Oval\" fill=\"#824E50\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <g id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Group-7\" transform=\"translate(7.000000, 7.000000)\" fill=\"#FFFFFF\">\n                    <g id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Group\">\n                        <path d=\"M16.233448,2.946482 C16.233448,2.946482 16.177854,2.946482 16.177854,2.946482 C16.011072,2.890888 15.955478,2.7797 15.955478,2.612918 C16.011072,2.390542 15.955478,2.168166 15.788696,2.001384 C15.621914,1.834602 15.399538,1.779008 15.177162,1.834602 C15.01038,1.834602 14.899192,1.779008 14.843598,1.612226 C14.843598,1.445444 14.899192,1.334256 15.065974,1.278662 C15.510726,1.223068 15.899884,1.334256 16.177854,1.612226 C16.455824,1.890196 16.622606,2.334948 16.511418,2.7797 C16.455824,2.890888 16.344636,2.946482 16.233448,2.946482 Z\" id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Path\" />\n                        <path d=\"M17.067358,0.722722 C16.567012,0.222376 15.899884,0 15.232756,0 C15.065974,0 14.899192,0 14.73241,0.055594 C14.398846,0.111188 13.8985,0.222376 13.509342,0.333564 C13.231372,0.389158 12.953402,0.55594 12.731026,0.778316 L9.506574,4.002768 L7.616378,3.502422 L7.78316,3.33564 C7.894348,3.224452 7.894348,3.05767 7.78316,2.946482 L7.004844,2.168166 C6.94925,2.112572 6.893656,2.112572 6.782468,2.112572 C6.726874,2.112572 6.615686,2.112572 6.560092,2.168166 L5.726182,3.002076 L3.280046,2.279354 C3.05767,2.22376 2.890888,2.168166 2.724106,2.168166 C2.612918,2.168166 2.557324,2.22376 2.446136,2.279354 L0.778316,4.002768 C0.611534,4.113956 0.667128,4.336332 0.778316,4.44752 L5.948558,7.894348 L3.05767,12.175086 L1.779008,11.897116 C1.38985,11.785928 1.11188,11.785928 0.889504,11.785928 C0.611534,11.785928 0.500346,11.841522 0.333564,12.008304 L0,12.341868 L1.779008,14.120876 L1.445444,14.621222 C1.223068,14.843598 1.223068,15.232756 1.445444,15.510726 L2.334948,16.40023 C2.446136,16.511418 2.612918,16.567012 2.7797,16.567012 C2.946482,16.567012 3.113264,16.511418 3.224452,16.40023 L3.724798,16.066666 L5.448212,17.79008 L5.83737,17.400922 C6.11534,17.122952 6.11534,16.844982 5.948558,15.955478 L5.670588,14.676816 L9.951326,11.785928 L13.398154,16.95617 C13.453748,17.011764 13.564936,17.067358 13.62053,17.067358 C13.676124,17.067358 13.787312,17.067358 13.842906,17.011764 L15.56632,15.28835 C15.733102,15.121568 15.677508,14.954786 15.56632,14.510034 L14.899192,12.008304 L15.733102,11.174394 C15.84429,11.063206 15.84429,10.896424 15.733102,10.785236 L14.954786,10.00692 C14.899192,9.951326 14.843598,9.951326 14.73241,9.951326 C14.676816,9.951326 14.565628,9.951326 14.510034,10.00692 L14.398846,10.118108 L13.8985,8.227912 L17.122952,5.00346 C17.345328,4.781084 17.51211,4.503114 17.567704,4.225144 C17.678892,3.835986 17.79008,3.33564 17.845674,3.002076 C17.956862,2.279354 17.734486,1.38985 17.067358,0.722722 Z M1.66782,12.675432 L2.612918,12.897808 L2.22376,13.453748 L1.445444,12.675432 C1.556632,12.619838 1.612226,12.619838 1.66782,12.675432 Z M4.391926,15.510726 L4.947866,15.121568 L5.114648,16.12226 C5.114648,16.177854 5.114648,16.233448 5.170242,16.289042 L4.391926,15.510726 Z M6.337716,3.05767 L6.782468,2.612918 L7.282814,3.113264 L7.116032,3.280046 L6.893656,3.224452 L6.337716,3.05767 Z M2.890888,3.002076 C2.890888,3.002076 2.946482,3.002076 2.890888,3.002076 L3.05767,3.05767 L8.839446,4.614302 L6.782468,6.67128 L6.782468,6.67128 L6.39331,7.060438 L1.834602,4.113956 L2.890888,3.002076 Z M14.676816,10.507266 L15.177162,11.007612 L14.73241,11.452364 L14.510034,10.896424 L14.45444,10.674048 L14.676816,10.507266 Z M14.73241,14.73241 L14.788004,14.899192 C14.788004,14.899192 14.788004,14.899192 14.788004,14.954786 L13.731718,16.011072 L10.729642,11.452364 L11.1188,11.063206 L11.1188,11.063206 L13.175778,9.006228 L14.73241,14.73241 Z M16.95617,2.890888 L16.95617,2.890888 L16.95617,2.890888 C16.900576,3.280046 16.789388,3.780392 16.6782,4.113956 C16.622606,4.280738 16.567012,4.391926 16.455824,4.503114 L13.564936,7.394002 L13.564936,7.394002 L10.56286,10.396078 L2.7797,15.621914 L2.168166,15.01038 L7.394002,7.22722 L10.396078,4.225144 L10.396078,4.225144 L13.286966,1.334256 C13.398154,1.223068 13.509342,1.167474 13.676124,1.11188 C14.232064,1.000692 14.621222,0.889504 14.843598,0.83391 C14.954786,0.83391 15.121568,0.778316 15.232756,0.778316 C15.733102,0.778316 16.12226,0.945098 16.455824,1.278662 C16.900576,1.723414 17.067358,2.334948 16.95617,2.890888 Z\" id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Shape\" />\n                    </g>\n                    <g id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Group\" transform=\"translate(5.559400, 2.779700)\">\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(5.498024, 3.953856) rotate(-45.000000) translate(-5.498024, -3.953856) \" x=\"5.27565036\" y=\"3.67588906\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(4.784920, 4.680559) rotate(-45.000000) translate(-4.784920, -4.680559) \" x=\"4.56254612\" y=\"4.40259159\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(4.092383, 5.387526) rotate(-45.020256) translate(-4.092383, -5.387526) \" x=\"3.84219444\" y=\"5.10953858\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(3.379251, 6.114245) rotate(-45.020256) translate(-3.379251, -6.114245) \" x=\"3.12906241\" y=\"5.83625779\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(2.645774, 6.782157) rotate(-45.000000) translate(-2.645774, -6.782157) \" x=\"2.42340019\" y=\"6.50418934\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(1.952214, 7.489260) rotate(-45.000000) translate(-1.952214, -7.489260) \" x=\"1.70204329\" y=\"7.21129221\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(1.239276, 8.215851) rotate(-45.000000) translate(-1.239276, -8.215851) \" x=\"0.98910583\" y=\"7.93788355\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(0.525950, 8.942609) rotate(-45.000000) translate(-0.525950, -8.942609) \" x=\"0.275779216\" y=\"8.66464167\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(9.065547, 0.400021) rotate(-45.000000) translate(-9.065547, -0.400021) \" x=\"8.84317293\" y=\"0.122053733\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(8.373162, 1.106629) rotate(-44.979744) translate(-8.373162, -1.106629) \" x=\"8.12297414\" y=\"0.82864214\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(7.660030, 1.833348) rotate(-44.979744) translate(-7.660030, -1.833348) \" x=\"7.4098421\" y=\"1.55536135\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(6.926401, 2.501396) rotate(-45.000000) translate(-6.926401, -2.501396) \" x=\"6.704027\" y=\"2.2234291\" width=\"1\" height=\"1\" />\n                        <rect id=\"icon-cat-goingOutAndTravel_6cad03bd28a9bc2167da97a63ea7c682_Rectangle\" transform=\"translate(6.213297, 3.228043) rotate(-45.000000) translate(-6.213297, -3.228043) \" x=\"5.99092276\" y=\"2.95007604\" width=\"1\" height=\"1\" />\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-health.svg":
/*!*******************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-health.svg ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-health_2716e6973dd2e03165861cad99ea497a",
  "use": "icon-cat-health_2716e6973dd2e03165861cad99ea497a-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-health_2716e6973dd2e03165861cad99ea497a\">\n    <title>icon-cat-health</title>\n    <g id=\"icon-cat-health_2716e6973dd2e03165861cad99ea497a_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-health_2716e6973dd2e03165861cad99ea497a_planche-Cozy\" transform=\"translate(-2078.000000, -487.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-health_2716e6973dd2e03165861cad99ea497a_icon-cat-health\" transform=\"translate(2078.000000, 487.000000)\">\n                <circle id=\"icon-cat-health_2716e6973dd2e03165861cad99ea497a_Oval\" fill=\"#DB9CBB\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M18.2287,7 C18.6321779,7 19.0191343,7.15779628 19.3044362,7.43870898 C19.5897382,7.71962169 19.7500132,8.10062482 19.75,8.49789538 L19.75,8.49789538 L19.75,10.0769231 L20.9715812,10.0769231 L20.9715812,9.82790154 C20.9716123,9.62556305 21.1382062,9.46154865 21.3437063,9.46153846 L21.3437063,9.46153846 L22.4744938,9.46153846 C22.6799938,9.46154865 22.8465877,9.62556305 22.8466188,9.82790154 L22.8466188,9.82790154 L22.8466188,10.0769231 L24.4375,10.0769231 C25.3004449,10.0769231 26,10.7657158 26,11.6153846 L26,11.6153846 L26,21.4615385 C26,21.8695638 25.8353799,22.2608775 25.5423544,22.5493951 C25.2493288,22.8379126 24.8519007,23 24.4375,23 L24.4375,23 L7.5625,23 C6.69955508,23 6,22.3112073 6,21.4615385 L6,21.4615385 L6,11.6153846 C6,10.7657158 6.69955508,10.0769231 7.5625,10.0769231 L7.5625,10.0769231 L9.15341875,10.0769231 L9.15341875,9.82790154 C9.15343601,9.62555742 9.320038,9.46153846 9.52554375,9.46153846 L9.52554375,9.46153846 L10.6562937,9.46153846 C10.8617938,9.46154865 11.0283877,9.62556305 11.0284188,9.82790154 L11.0284188,9.82790154 L11.0284188,10.0769231 L12.25,10.0769231 L12.25,8.49789538 C12.2499867,8.10062482 12.4102618,7.71962169 12.6955638,7.43870898 C12.9808657,7.15779628 13.3678221,7 13.7713,7 L13.7713,7 L18.2287,7 Z M24.4375,11 L7.5625,11 C7.21748623,11.00039 6.93789608,11.2756787 6.9375,11.6153846 L6.9375,11.6153846 L6.9375,21.4615385 C6.93789608,21.8012443 7.21748623,22.0765331 7.5625,22.0769231 L7.5625,22.0769231 L24.4375,22.0769231 C24.7825137,22.0765331 25.0621039,21.8012443 25.0625,21.4615385 L25.0625,21.4615385 L25.0625,11.6153846 C25.0621039,11.2756787 24.7825137,11.00039 24.4375,11 L24.4375,11 Z M16.9606937,13.2001231 C17.2798229,13.2003403 17.5384731,13.4550113 17.5386938,13.7692308 L17.5386938,13.7692308 L17.5386938,15.02344 L18.8125,15.02344 C19.1316291,15.0236572 19.3902794,15.2783282 19.3905,15.5925477 L19.3905,15.5925477 L19.3905,17.4843754 C19.3902794,17.7985948 19.1316291,18.0532658 18.8125,18.0534831 L18.8125,18.0534831 L17.5386938,18.0534831 L17.5386938,19.3076923 C17.5384731,19.6219118 17.2798229,19.8765828 16.9606937,19.8768 L16.9606937,19.8768 L15.0393062,19.8768 C14.7201771,19.8765828 14.4615269,19.6219118 14.4613062,19.3076923 L14.4613062,19.3076923 L14.4613062,18.0534831 L13.1875,18.0534831 C12.8683709,18.0532658 12.6097206,17.7985948 12.6095,17.4843754 L12.6095,17.4843754 L12.6095,15.5925477 C12.6097206,15.2783282 12.8683709,15.0236572 13.1875,15.02344 L13.1875,15.02344 L14.4613062,15.02344 L14.4613062,13.7692308 C14.4615269,13.4550113 14.7201771,13.2003403 15.0393062,13.2001231 L15.0393062,13.2001231 L16.9606937,13.2001231 Z M16.9606938,13.7229538 L15.0393063,13.7229538 C15.0133556,13.7229538 14.9923229,13.7436793 14.9923125,13.7692308 L14.9923125,13.7692308 L14.9923125,15.2848554 C14.9923639,15.3542042 14.9644076,15.4207273 14.9146043,15.4697642 C14.8648011,15.5188013 14.7972386,15.5463276 14.7268062,15.5462769 L14.7268062,15.5462769 L13.1875,15.5462769 C13.1615493,15.5462871 13.1405,15.5669963 13.1405,15.5925477 L13.1405,15.5925477 L13.1405,17.4843754 C13.1405,17.5099268 13.1615493,17.5306359 13.1875,17.5306462 L13.1875,17.5306462 L14.7268062,17.5306462 C14.7972386,17.5305955 14.8648011,17.5581218 14.9146043,17.6071588 C14.9644076,17.6561958 14.9923639,17.7227189 14.9923125,17.7920677 L14.9923125,17.7920677 L14.9923125,19.3076923 C14.9923229,19.3332438 15.0133556,19.3539692 15.0393063,19.3539692 L15.0393063,19.3539692 L16.9606938,19.3539692 C16.9866444,19.3539692 17.0076771,19.3332438 17.0076875,19.3076923 L17.0076875,19.3076923 L17.0076875,17.7920554 C17.0076361,17.7227066 17.0355924,17.6561835 17.0853957,17.6071465 C17.1351989,17.5581095 17.2027614,17.5305832 17.2731938,17.5306338 L17.2731938,17.5306338 L18.8125,17.5306338 C18.8384507,17.5306236 18.8595,17.5099145 18.8595,17.4843631 L18.8595,17.4843631 L18.8595,15.5925477 C18.8595,15.5669963 18.8384507,15.5462871 18.8125,15.5462769 L18.8125,15.5462769 L17.2731938,15.5462769 C17.2027614,15.5463276 17.1351989,15.5188013 17.0853957,15.4697642 C17.0355924,15.4207273 17.0076361,15.3542042 17.0076875,15.2848554 L17.0076875,15.2848554 L17.0076875,13.7692308 C17.0076771,13.7436793 16.9866444,13.7229538 16.9606938,13.7229538 L16.9606938,13.7229538 Z M18.2287,7.92307692 L13.7713,7.92307692 C13.4490304,7.92344317 13.187872,8.18058374 13.1875,8.49789538 L13.1875,8.49789538 L13.1875,10.0769231 L18.8125,10.0769231 L18.8125,8.49789538 C18.812128,8.18058374 18.5509696,7.92344317 18.2287,7.92307692 L18.2287,7.92307692 Z\" id=\"icon-cat-health_2716e6973dd2e03165861cad99ea497a_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-homeAndRealEstate.svg":
/*!******************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-homeAndRealEstate.svg ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3",
  "use": "icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3\">\n    <title>icon-cat-homeAndRealEstate</title>\n    <g id=\"icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3_planche-Cozy\" transform=\"translate(-2078.000000, -196.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3_icon-cat-homeAndRealEstate\" transform=\"translate(2078.000000, 196.000000)\">\n                <circle id=\"icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3_Oval\" fill=\"#675C6B\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M15.2787525,6.23388284 C15.7080441,5.92158676 16.2956582,5.92208442 16.7243978,6.23510717 L16.7243978,6.23510717 L25.5087022,12.616806 C26.0475177,13.009736 26.1603714,13.7550075 25.7613932,14.2838234 C25.4468316,14.684746 24.9126148,14.8544439 24.4176868,14.7106616 L24.4176868,14.7106616 L24.4176868,23.2941285 C24.4169882,24.2355058 23.6383711,24.9986567 22.6772437,25 L22.6772437,25 L9.32408782,25 C8.36296049,24.9986567 7.58434335,24.2355058 7.58364468,23.2941285 L7.58364468,23.2941285 L7.58364468,14.6792759 C7.0164,14.8552103 6.40246889,14.6033874 6.13250553,14.0840462 C5.86254217,13.5647049 6.01579823,12.9303055 6.49475441,12.5845265 L6.49475441,12.5845265 L9.09184707,10.7070712 L9.09184707,7.08400264 C9.09191607,6.83046355 9.30174512,6.62494639 9.56060363,6.62487881 L9.56060363,6.62487881 L12.739967,6.62487881 C12.9988269,6.62494302 13.2086579,6.83046215 13.2087235,7.08400264 L13.2087235,7.08400264 L13.2087235,7.73052245 L15.2787525,6.23388284 Z M16.1663755,6.95857895 C16.0679244,6.88693415 15.9331102,6.88681209 15.8345236,6.9582785 L15.8345236,6.9582785 L13.0085974,8.99837887 C12.8657979,9.10136042 12.6758929,9.11698189 12.5175108,9.03877534 C12.3591287,8.96056879 12.2592293,8.80184652 12.2591751,8.62832613 L12.2591751,8.62832613 L12.2591751,7.5295299 L10.0103377,7.5295299 L10.0103377,10.9306905 C10.0102725,11.0766917 9.93938922,11.2140056 9.81930808,11.3007494 L9.81930808,11.3007494 L7.0230498,13.3192969 C6.94255247,13.3772184 6.8997659,13.47274 6.91080737,13.5698794 C6.92184885,13.6670189 6.98504091,13.7510186 7.07657973,13.7902365 C7.16811853,13.8294545 7.27409717,13.8179326 7.3545945,13.7600111 L7.3545945,13.7600111 L7.74797662,13.4758815 C7.89076189,13.3728397 8.08069888,13.3571854 8.23910314,13.4354036 C8.3975074,13.5136217 8.49739761,13.6723893 8.49739266,13.8459342 L8.49739266,13.8459342 L8.49739266,23.3063245 C8.49752331,23.7415098 8.85785789,24.0944502 9.30283416,24.0952381 L9.30283416,24.0952381 L22.6977577,24.0952381 C23.142734,24.0944502 23.5030685,23.7415098 23.5031992,23.3063245 L23.5031992,23.3063245 L23.5031992,13.8755748 C23.5031682,13.7018172 23.603277,13.5428786 23.7619663,13.4647411 C23.9206556,13.3866036 24.1108262,13.4026105 24.2535306,13.5061168 L24.2535306,13.5061168 L24.6456901,13.7905468 C24.7006208,13.8445381 24.7785194,13.8697837 24.8555476,13.8585581 C24.9325758,13.8473324 24.999564,13.8009717 25.0360127,13.7336633 C25.1279108,13.6119031 25.1017614,13.4403795 24.977542,13.3501331 L24.977542,13.3501331 L16.1663755,6.95857895 Z M16.4438131,12.3333333 L16.6266348,12.3377669 C17.1497741,12.3350101 17.671028,12.3967664 18.1769861,12.5214468 C18.6483126,12.6370965 19.096933,12.8225111 19.5059256,13.0706971 L19.5059256,13.0706971 L18.8544847,14.1823273 C18.5273492,14.0045123 18.1771075,13.8670066 17.8124332,13.7732155 C17.4474028,13.6795051 17.0706015,13.6321699 16.6921307,13.6324786 C16.1647943,13.608836 15.6428884,13.7413199 15.2003309,14.0111664 C14.7939462,14.3032714 14.5065617,14.7170578 14.3860297,15.1836263 L14.3860297,15.1836263 L17.7730145,15.1836263 L17.6298799,16.319702 L14.2034504,16.319702 C14.1940026,16.3845197 14.1895375,16.4498904 14.1900893,16.5153084 L14.1900893,16.5153084 L14.1900893,17.1987431 C14.1895156,17.2641617 14.1939809,17.3295338 14.2034504,17.3943495 L14.2034504,17.3943495 L17.4733777,17.3943495 L17.317514,18.5304252 L14.3860297,18.5304252 C14.5069983,18.9968033 14.7912405,19.4117108 15.1933344,19.7088453 C15.636124,19.9841871 16.161503,20.1190191 16.6921567,20.0934994 C17.0949435,20.0942702 17.4959144,20.0428951 17.8837074,19.9408299 C18.2723912,19.8386668 18.6432933,19.6844041 18.9849227,19.482821 L18.9849227,19.482821 L19.6363636,20.6189028 C19.2141771,20.87712 18.7497958,21.0688947 18.2615952,21.1866383 C17.7277062,21.3161432 17.1780945,21.379895 16.6266348,21.3762846 C15.7070955,21.4190583 14.7994519,21.1668534 14.0533128,20.6612411 C13.3642467,20.1184541 12.9046732,19.3627805 12.7574273,18.5304252 L12.7574273,18.5304252 L11.4545455,18.5304252 L11.4545455,17.3943495 L12.5875706,17.3943495 C12.5786573,17.3294884 12.5744069,17.2641388 12.574848,17.1987431 L12.574848,17.1987431 L12.574848,16.5153084 C12.5744277,16.4499132 12.5786781,16.3845649 12.5875706,16.319702 L12.5875706,16.319702 L11.4545455,16.319702 L11.4545455,15.1836263 L12.7574273,15.1836263 C12.9130197,14.3509734 13.3765769,13.5963272 14.0666934,13.0522119 C14.8085517,12.5481756 15.7114923,12.2961771 16.6266348,12.3377669 L16.4438131,12.3333333 Z\" id=\"icon-cat-homeAndRealEstate_9b8c041f329fed67f3c53ed08b5ab8a3_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-incomeCat.svg":
/*!**********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-incomeCat.svg ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d",
  "use": "icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d\">\n    <title>icon-cat-incomeCat</title>\n    <g id=\"icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d_planche-Cozy\" transform=\"translate(-2078.000000, -79.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d_icon-cat-incomeCat\" transform=\"translate(2078.000000, 79.000000)\">\n                <circle id=\"icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d_Oval\" fill=\"#809792\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M18.0740741,6 C14.2333333,6 11.1481481,7.9375 11.1481481,10.375 L11.1481481,12.875 C11.1481481,12.875 11.1481481,12.9375 11.1481481,12.9375 C9.25925926,13.6875 8,15.0625 8,16.625 L8,21.625 C8,24.0625 11.0851852,26 14.9259259,26 C18.7666667,26 21.8518519,24.0625 21.8518519,21.625 L21.8518519,16.625 C21.8518519,16.625 21.8518519,16.5625 21.8518519,16.5625 C23.7407407,15.8125 25,14.4375 25,12.875 L25,10.375 C25,7.9375 21.9148148,6 18.0740741,6 Z M18.0740741,6.9375 C21.2851852,6.9375 24.0555556,8.5 24.0555556,10.375 C24.0555556,12.25 21.2851852,13.8125 18.0740741,13.8125 C14.862963,13.8125 12.0925926,12.25 12.0925926,10.375 C12.0925926,8.5 14.862963,6.9375 18.0740741,6.9375 Z M11.337037,13.875 C12.0925926,15.8125 14.8,17.25 18.0740741,17.25 C19.0185185,17.25 19.962963,17.125 20.9074074,16.875 C20.6555556,18.625 18.0740741,20.0625 14.9259259,20.0625 C11.7148148,20.0625 8.94444444,18.5 8.94444444,16.625 C8.94444444,15.5 9.95185185,14.5625 11.337037,13.875 Z M20.9074074,21.625 C20.9074074,23.5 18.137037,25.0625 14.9259259,25.0625 C11.7148148,25.0625 8.94444444,23.5 8.94444444,21.625 L8.94444444,21.3125 C10.1407407,22.625 12.3444444,23.5 14.9259259,23.5 C17.5074074,23.5 19.7111111,22.625 20.9074074,21.3125 L20.9074074,21.625 Z M20.9074074,19.125 C20.9074074,21 18.137037,22.5625 14.9259259,22.5625 C11.7148148,22.5625 8.94444444,21 8.94444444,19.125 L8.94444444,18.8125 C10.1407407,20.125 12.3444444,21 14.9259259,21 C17.5074074,21 19.7111111,20.125 20.9074074,18.8125 L20.9074074,19.125 Z M24.0555556,12.875 C24.0555556,14.75 21.2851852,16.3125 18.0740741,16.3125 C14.862963,16.3125 12.0925926,14.75 12.0925926,12.875 L12.0925926,12.5625 C13.2888889,13.875 15.4925926,14.75 18.0740741,14.75 C20.6555556,14.75 22.8592593,13.875 24.0555556,12.5625 L24.0555556,12.875 Z\" id=\"icon-cat-incomeCat_84e6b28a139c354cd4f0cc6b0e7d990d_Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-kids.svg":
/*!*****************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-kids.svg ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea",
  "use": "icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea\">\n    <title>icon-cat-kids</title>\n    <g id=\"icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea_planche-Cozy\" transform=\"translate(-2078.000000, -309.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea_icon-cat-kids\" transform=\"translate(2078.000000, 309.000000)\">\n                <circle id=\"icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea_Oval\" fill=\"#9FB3CD\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M12.6445187,14.3376188 C13.8226062,14.6597432 15.4241688,15.8646693 15.4241688,17.3057151 L15.4241688,17.3057151 L15.4241688,22.2961908 C15.4241688,22.4828717 15.3497535,22.661918 15.217188,22.7939178 C15.0846226,22.9259177 14.9048147,23 14.7173437,23 L14.7173437,23 L6.70682502,23 C6.51935462,23 6.3395477,22.9259155 6.20698259,22.793916 C6.07441748,22.6619165 6,22.4828712 6,22.2961908 L6,22.2961908 L6,17.3057151 C6,15.8646693 7.60152502,14.6600481 8.77954377,14.3376188 C9.31559375,14.8037575 10.0003204,15.0654263 10.7119125,15.0760752 C11.4235763,15.0654288 12.1083786,14.8037631 12.6445187,14.3376188 Z M12.7944687,15.3842212 C11.5324521,16.2180924 9.89160422,16.2180924 8.62958752,15.3842212 C7.83639377,15.7434137 6.93750002,16.5277571 6.93750002,17.3057151 L6.93750002,17.3057151 L6.93750002,22.0664505 L8.24426252,22.0664505 L8.24426252,19.7155612 C8.24380081,19.6208001 8.29430419,19.53304 8.37664082,19.4855263 C8.45897745,19.4380125 8.56055383,19.4380125 8.64289046,19.4855263 C8.72522709,19.53304 8.77573047,19.6208001 8.77526877,19.7155612 L8.77526877,19.7155612 L8.77526877,22.0664505 L12.6488625,22.0664505 L12.6488625,19.7155612 C12.6484008,19.6208001 12.6989042,19.53304 12.7812408,19.4855263 C12.8635774,19.4380125 12.9651538,19.4380125 13.0474904,19.4855263 C13.1298271,19.53304 13.1803305,19.6208001 13.1798687,19.7155612 L13.1798687,19.7155612 L13.1798687,22.0664505 L14.4866687,22.0664505 L14.4866687,17.3057151 C14.4866687,16.5274522 13.5877375,15.7434137 12.7944687,15.3842212 Z M24.1651312,15.5735388 C24.9427937,15.7862636 26,16.5815358 26,17.5330219 L26,17.5330219 L26,20.7153554 C26,20.8385409 25.9507979,20.9566691 25.8633011,21.0437516 C25.7758043,21.1308342 25.6571506,21.1797029 25.5334438,21.1797029 L25.5334438,21.1797029 L20.2456625,21.1797029 C20.1219584,21.1797029 20.0033086,21.1308293 19.9158154,21.0437469 C19.8283223,20.9566645 19.779125,20.8385382 19.779125,20.7153554 L19.779125,20.7153554 L19.779125,17.5330219 C19.779125,16.581542 20.8362562,15.7862636 21.6138812,15.5735388 C22.3390731,16.2234546 23.4399394,16.2234546 24.1651312,15.5735388 Z M24.2794562,16.6256118 C23.4186646,17.1175136 22.3603667,17.1175136 21.499575,16.6256118 C21.0951375,16.8483567 20.7166062,17.2297428 20.7166062,17.5330219 L20.7166062,17.5330219 L20.7166062,20.2461534 L25.0625,20.2461534 L25.0625,17.5330219 C25.0625,17.2294441 24.6839687,16.8483629 24.2794562,16.6256118 Z M19.1541062,18.9096465 L19.1541062,19.843196 L16.0491687,19.843196 L16.0491687,18.9096465 L19.1541062,18.9096465 Z M18.7933875,13.6164891 C19.6624968,13.8771961 20.4135531,14.4306699 20.9179437,15.1821326 C20.6385902,15.3174462 20.3770742,15.4865724 20.139325,15.6856768 C19.8398115,15.2414248 19.4230804,14.8880155 18.93495,14.6643051 C17.8041782,15.3851293 16.3556281,15.3851293 15.2248562,14.6643051 C15.0884431,14.730451 14.9567206,14.805787 14.8306062,14.8897885 C14.589497,14.6706248 14.3289871,14.4736118 14.0522562,14.3011544 C14.4428916,13.9922355 14.888828,13.7599072 15.3664187,13.6164891 C16.3404639,14.4896693 17.8193423,14.4896693 18.7933875,13.6164891 Z M22.8894187,11.3920087 C23.83455,11.3920087 24.6003125,11.8636503 24.6003125,13.4049779 C24.6790145,14.4291543 23.9167632,15.3262605 22.8894187,15.4185571 C21.8621232,15.3262363 21.0999644,14.4290981 21.1787937,13.4049779 C21.1787937,11.8636503 21.9447875,11.3920087 22.8894187,11.3920087 Z M22.9737226,12.3260557 L22.8051477,12.3260557 C22.4662979,12.3319515 22.1162937,12.4085967 22.1162937,13.4049842 C22.1162937,13.9905811 22.470375,14.4850076 22.8894187,14.4850076 C23.3086562,14.4850076 23.6628125,13.9905811 23.6628125,13.4049842 C23.6628125,12.4085967 23.3127019,12.3319515 22.9737226,12.3260557 Z M10.7776438,8.00303715 C12.2094313,8.00303715 13.3695187,8.7174826 13.3695187,11.05257 C13.3695187,12.7379443 12.2090688,14.1030178 10.7776438,14.1030178 C9.34625002,14.1030178 8.18620002,12.7379443 8.18620002,11.05257 C8.18620002,8.7174826 9.34663127,8.00303715 10.7776438,8.00303715 Z M17.0797875,8 C18.3492812,8 19.3779125,8.63361251 19.3779125,10.7037088 C19.3779125,12.1982345 18.348975,13.4086312 17.0797875,13.4086312 C15.810625,13.4086312 14.7820062,12.1982096 14.7820062,10.7037088 C14.7820062,8.63361251 15.8109437,8 17.0797875,8 Z M10.7776438,8.93658668 C9.91861252,8.93658668 9.12370002,9.19307008 9.12370002,11.05257 C9.12370002,12.2198119 9.86566252,13.1694683 10.7776438,13.1694683 C11.6898688,13.1694683 12.4320187,12.2198119 12.4320187,11.05257 C12.4320187,9.19307008 11.6368625,8.93658668 10.7776438,8.93658668 Z M17.0797875,8.93354953 C16.421675,8.93354953 15.7195062,9.07030209 15.7195062,10.7037088 C15.7195062,11.6640014 16.3424437,12.4750817 17.0797875,12.4750817 C17.8173187,12.4750817 18.4404125,11.6640201 18.4404125,10.7037088 C18.4404125,9.07030209 17.7380875,8.93354953 17.0797875,8.93354953 Z\" id=\"icon-cat-kids_34da49b93ac1a8d3fc710056e0dbc0ea_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-services.svg":
/*!*********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-services.svg ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39",
  "use": "icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39\">\n    <title>icon-cat-services</title>\n    <g id=\"icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39_planche-Cozy\" transform=\"translate(-2078.000000, -427.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39_icon-cat-services\" transform=\"translate(2078.000000, 427.000000)\">\n                <circle id=\"icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39_Oval\" fill=\"#2E404F\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M22.2692228,7 C23.2250954,7 24,7.7975023 24,8.78125 L24,8.78125 L24,24.21875 C24,25.2024977 23.2250954,26 22.2692228,26 L22.2692228,26 L10.7307772,26 C9.77490459,26 9,25.2024977 9,24.21875 L9,24.21875 L9,8.78125 C9,7.7975023 9.77490459,7 10.7307772,7 L10.7307772,7 L22.2692228,7 Z M22.2692228,7.88787 L10.7307772,7.88787 C10.2515968,7.88844915 9.86328992,8.28809569 9.86274629,8.78125 L9.86274629,8.78125 L9.86274629,24.21875 C9.86328992,24.7119043 10.2515968,25.1115509 10.7307772,25.11213 L10.7307772,25.11213 L22.2692228,25.11213 C22.7484032,25.1115509 23.1367101,24.7119043 23.1372537,24.21875 L23.1372537,24.21875 L23.1372537,8.78125 C23.1367101,8.28809569 22.7484032,7.88844915 22.2692228,7.88787 L22.2692228,7.88787 Z M13.1001766,20.1930834 C13.8193139,20.1931162 14.4022403,20.793116 14.4022403,21.5332247 C14.4022403,22.0752431 14.0849519,22.5638791 13.5983739,22.7712817 C13.1117959,22.9786843 12.5517333,22.864009 12.1793433,22.4807288 C11.8069533,22.0974486 11.6955721,21.5210444 11.8971366,21.0202934 C12.0987011,20.5195424 12.5735166,20.1930834 13.1001766,20.1930834 Z M13.4102071,20.7627676 C13.1074326,20.6336814 12.7589146,20.7050197 12.5271769,20.9435152 C12.2954393,21.1820108 12.2261224,21.5406923 12.3515509,21.8522963 C12.4769793,22.1639002 12.7724501,22.3670516 13.1001766,22.3670278 C13.5474362,22.3665606 13.9098892,21.9935272 13.9103534,21.5332247 C13.9103814,21.195941 13.7129816,20.8918538 13.4102071,20.7627676 Z M20.7677851,21.0877934 C21.0067556,21.0877934 21.2004794,21.2871666 21.2004794,21.5331059 C21.2004794,21.7790453 21.0067556,21.9784184 20.7677851,21.9784184 L20.7677851,21.9784184 L16.1382964,21.9784184 C15.899326,21.9784184 15.7056021,21.7790452 15.7056021,21.5331059 C15.7056021,21.2871667 15.899326,21.0877934 16.1382964,21.0877934 L16.1382964,21.0877934 L20.7677851,21.0877934 Z M13.1001766,15.1308659 C13.8192708,15.1308659 14.4022345,15.7308004 14.4022345,16.4708647 C14.4022345,17.2109217 13.8193021,17.8108634 13.1002151,17.8108634 C12.381128,17.8108634 11.7981764,17.2109415 11.7981764,16.4708845 C11.7981764,15.7308275 12.3810896,15.1308659 13.1001766,15.1308659 Z M13.4102107,15.7005305 C13.1074677,15.5714739 12.7589958,15.6428117 12.5272873,15.881279 C12.2955788,16.1197462 12.2262649,16.4783807 12.3516667,16.7899515 C12.4770685,17.1015221 12.7724902,17.3046678 13.1001766,17.3046678 C13.5474236,17.3041704 13.9098675,16.9311543 13.9103477,16.4708647 C13.9103477,16.1336223 13.7129538,15.829587 13.4102107,15.7005305 Z M20.7677851,16.0255522 C21.0067556,16.0255522 21.2004794,16.2249254 21.2004794,16.4708647 C21.2004794,16.716804 21.0067556,16.9161772 20.7677851,16.9161772 L20.7677851,16.9161772 L16.1382964,16.9161772 C15.8993259,16.9161772 15.7056021,16.716804 15.7056021,16.4708647 C15.7056021,16.2249254 15.8993259,16.0255522 16.1382964,16.0255522 L16.1382964,16.0255522 L20.7677851,16.0255522 Z M13.1001766,10.0684584 C13.819273,10.0684584 14.4022403,10.6683906 14.4022403,11.4084572 C14.4022776,11.9504886 14.0850434,12.4391683 13.5984699,12.6466158 C13.1118963,12.8540633 12.551811,12.7394231 12.1793923,12.3561542 C11.8069736,11.9728852 11.6955669,11.3964698 11.8971233,10.8957013 C12.0986798,10.3949328 12.573504,10.0684584 13.1001766,10.0684584 Z M13.1000382,10.5746541 C12.6525516,10.5746934 12.2898231,10.9480636 12.2898613,11.4085997 C12.2898996,11.8691358 12.6526901,12.2424266 13.1001766,12.2424028 C13.5474639,12.2418702 13.909902,11.8687883 13.9103534,11.4084572 C13.9103152,10.9479211 13.5475247,10.5746147 13.1000382,10.5746541 Z M20.7677851,10.9633109 C21.0067556,10.9633109 21.2004794,11.1626841 21.2004794,11.4086234 C21.2004794,11.6545627 21.0067556,11.8539359 20.7677851,11.8539359 L20.7677851,11.8539359 L16.1382964,11.8539359 C15.8993259,11.8539359 15.7056021,11.6545627 15.7056021,11.4086234 C15.7056021,11.1626841 15.8993259,10.9633109 16.1382964,10.9633109 L16.1382964,10.9633109 L20.7677851,10.9633109 Z\" id=\"icon-cat-services_61af518edd8ab91c8bcdb42a145a9c39_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-tax.svg":
/*!****************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-tax.svg ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0",
  "use": "icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0\">\n    <title>icon-cat-tax</title>\n    <g id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_planche-Cozy\" transform=\"translate(-2076.000000, -641.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_icon-cat-tax\" transform=\"translate(2076.000000, 641.000000)\">\n                <circle id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Oval\" fill=\"#AC464F\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <g id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Group-9\" transform=\"translate(6.000000, 4.000000)\" fill=\"#FFFFFF\">\n                    <path d=\"M10.27,0 L0,5.135 L0,7.15 L20.8,7.15 L20.8,5.135 L10.27,0 Z M19.825,6.175 L0.975,6.175 L0.975,5.72 L10.27,1.04 L19.825,5.72 L19.825,6.175 Z\" id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Shape\" />\n                    <path d=\"M-3.64153152e-13,20.8 L20.8,20.8 L20.8,17.55 L-3.64153152e-13,17.55 L-3.64153152e-13,20.8 Z M0.975,18.525 L19.825,18.525 L19.825,19.825 L0.975,19.825 L0.975,18.525 Z\" id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Shape\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"6.24\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"8.84\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"11.44\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"14.04\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"16.64\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"19.24\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"3.64\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                    <rect id=\"icon-cat-tax_a5d456f6debbcc90dc2ebad7a91f94e0_Rectangle\" x=\"1.04\" y=\"8.19\" width=\"1\" height=\"8.32\" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-transportation.svg":
/*!***************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-transportation.svg ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7",
  "use": "icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7\">\n    <title>icon-cat-transportation</title>\n    <g id=\"icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7_planche-Cozy\" transform=\"translate(-2076.000000, -695.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7_icon-cat-transportation\" transform=\"translate(2076.000000, 695.000000)\">\n                <circle id=\"icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7_Oval\" fill=\"#7C798E\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M22.164311,6 C23.3995618,6 24.4009304,6.96706417 24.4009304,8.15999827 L24.4009304,8.15999827 L24.4009304,8.42999806 L24.3181159,9.34511733 L24.6979833,9.34511733 C25.5206269,9.33965746 26.1925821,9.97836305 26.2,10.7728114 L26.2,10.7728114 L26.2,14.9251129 C26.1995232,15.4219779 25.7825655,15.8246517 25.2680752,15.8251122 L25.2680752,15.8251122 L24.3510613,15.8251122 L24.3979259,17.7838849 C24.4044171,17.8736929 24.4109405,17.9635296 24.4174963,18.0533951 L24.4174963,18.0533951 L24.5093245,18.8082498 C24.5215873,18.909291 24.5264529,19.011042 24.5238848,19.1127447 L24.5238848,19.1127447 L24.4009304,23.9999856 C24.3998018,24.3476858 24.2673166,24.6830361 24.0283394,24.9430984 L24.0283394,24.9430984 L24.0283841,26.4599932 C24.0283841,26.6205805 23.9557998,26.7647955 23.8405863,26.8637092 L23.7886418,26.9032501 C23.6980833,26.9642358 23.5879587,27 23.4691846,27 L23.4691846,27 L22.3508749,27 C22.0420622,27 21.79172,26.758234 21.79172,26.4600004 L21.79172,26.4600004 L21.79172,25.5449676 L21.79172,25.5449676 C21.7917647,25.5088468 21.7954429,25.473527 21.8024574,25.4393668 L10.5975277,25.4393668 C10.6000907,25.4518484 10.6022082,25.4644848 10.6038637,25.4772599 L10.608265,25.5449676 L10.608265,26.4600004 C10.608265,26.758234 10.3579229,27 10.0491102,27 L10.0491102,27 L8.93080048,27 C8.90704566,27 8.88363681,26.9985694 8.86066129,26.9957927 L8.79307723,26.9835007 C8.55083995,26.9242667 8.3716009,26.7123447 8.3716009,26.4599932 L8.37164562,24.9430984 C8.13266844,24.6830361 8.00018325,24.3476858 7.99905465,23.9999856 L7.99905465,23.9999856 L7.87610023,19.1127735 C7.87353221,19.0110708 7.87839775,18.9093198 7.89066062,18.8082785 L7.89066062,18.8082785 L7.98267514,18.0524159 L8.00214864,17.7851882 L8.05129463,15.8001497 L7.13192476,15.8001497 C6.61743454,15.7996893 6.20047678,15.3970155 6.2,14.9001505 L6.2,14.9001505 L6.2,10.7678866 C6.20760555,9.97557148 6.87792843,9.33874511 7.69836354,9.34439732 L7.69836354,9.34439732 L8.08169029,9.34439732 L7.99905465,8.42999806 L7.99905465,8.15999827 C7.99905465,6.96706417 9.00042328,6 10.2356741,6 L10.2356741,6 L22.164311,6 Z M9.04947551,18.538538 L9.00132855,18.9343577 C8.99517217,18.9849113 8.99273809,19.0358231 8.99404462,19.0867095 L8.99404462,19.0867095 L9.11699905,23.9737488 C9.11170277,24.0731961 9.14842968,24.1704605 9.21877013,24.2432706 C9.28911058,24.3160808 9.38703982,24.3582005 9.49013427,24.3599853 L9.49013427,24.3599853 L22.9098508,24.3599853 C23.1156357,24.359775 23.2824029,24.1987207 23.2826207,23.9999856 L23.2826207,23.9999856 L23.4059405,19.0865367 C23.4072396,19.0356624 23.4048055,18.984763 23.3986565,18.9342208 L23.3986565,18.9342208 L23.3593442,18.6110491 C21.1535235,18.8628942 18.9327085,18.9717259 16.7118205,18.9368128 C16.5336911,18.9366977 16.3521597,18.936112 16.167226,18.9350561 C13.7879711,18.9633323 11.4095823,18.8308361 9.04947551,18.538538 L9.04947551,18.538538 Z M12.1085252,22.5099851 L12.1650864,22.5181476 C13.4928085,22.7355709 14.8392516,22.8279988 16.1854694,22.7941306 C17.5413689,22.8358069 18.898398,22.7593237 20.2400728,22.5656099 C20.4108647,22.5287204 20.5802846,22.6325267 20.6184827,22.7974678 C20.6566807,22.9624088 20.5491921,23.1260247 20.3784002,23.1629143 C19.0890299,23.3656387 17.7823668,23.4473486 16.4766922,23.4069005 C16.3805921,23.4069005 16.2823001,23.4065621 16.1811005,23.4058421 C14.786004,23.4442177 13.3904682,23.3461023 12.0158368,23.1129967 C11.8457468,23.0731944 11.7412724,22.9077669 11.7824865,22.7435038 C11.8237007,22.5792408 11.9949964,22.4783454 12.1650864,22.5181476 L12.1085252,22.5099851 Z M21.4216862,19.6469411 C22.0483101,19.6499024 22.5541022,20.1423398 22.5521051,20.7475011 C22.5500841,21.3526624 22.0410329,21.8419576 21.4144023,21.8410411 L21.4144023,21.8410411 L21.407849,21.8410411 C20.7816132,21.8379398 20.2760966,21.3459738 20.2776939,20.7411854 C20.2793065,20.1363969 20.7874277,19.6469411 21.4136717,19.6469411 L21.4136717,19.6469411 L21.4216862,19.6469411 Z M10.8919274,19.584369 L10.9928592,19.5847187 C11.2939949,19.5864778 11.5820719,19.7036981 11.7937108,19.9105902 C12.0053498,20.1174823 12.1232124,20.3970969 12.1214101,20.6879163 C12.1181807,21.2911764 11.610981,21.7786328 10.9863134,21.7787874 L10.9863134,21.7787874 L10.9782988,21.7787874 C10.5189386,21.7759939 10.1065325,21.5062964 9.93331829,21.0954107 C9.76010407,20.684525 9.86017858,20.2133333 10.1868934,19.9014753 C10.3933267,19.685285 10.688773,19.5691702 10.9928592,19.5847187 L10.8919274,19.584369 Z M21.4180256,20.2586598 C21.1379453,20.2591895 20.9138425,20.4752613 20.9128351,20.7422464 C20.9118411,21.0092315 21.1343183,21.2268645 21.4107641,21.2293272 L21.4107641,21.2293272 C21.6900442,21.2295122 21.9147531,21.0142283 21.9167793,20.7473306 L21.9167793,20.7473306 C21.9184896,20.4789094 21.6952443,20.2604791 21.4180256,20.2586598 L21.4180256,20.2586598 Z M10.9892359,20.1964375 C10.7088436,20.1965579 10.4842757,20.4127463 10.4832672,20.6800178 C10.4822721,20.9472892 10.7052135,21.1650421 10.9819594,21.1670975 L10.9819594,21.1670975 C11.2616692,21.166899 11.4859356,20.9517296 11.4879498,20.6851082 L11.4879498,20.6851082 C11.4897412,20.4166654 11.2664697,20.198229 10.9892359,20.1964375 L10.9892359,20.1964375 Z M23.1169841,10.4243965 L9.28918147,10.4243965 C9.29227546,10.5531972 9.29264077,10.7053834 9.29082166,10.9094169 L9.29082166,10.9094169 L9.12009304,17.8109354 L9.11954879,17.8357681 L9.11772968,17.8605937 L9.11281657,17.9271721 C11.4527825,18.21832 13.8110049,18.3506852 16.1701411,18.3232942 C18.5491129,18.3720274 20.9287586,18.2641568 23.2925439,18.000432 L23.2925439,18.000432 L23.2822554,17.8587073 L23.2805257,17.8337882 L23.279892,17.8088257 L23.1097077,10.6943962 L23.108977,10.6646891 L23.109976,10.6349819 L23.1169841,10.4243965 Z M24.6979833,10.4251165 L24.2358381,10.4251165 L24.2358381,10.4251165 L24.2277415,10.6694483 L24.3252134,14.745113 L25.0816754,14.745113 L25.0816754,10.7728114 C25.0747494,10.5746453 24.9032042,10.419194 24.6979833,10.4251165 L24.6979833,10.4251165 Z M8.17052881,10.4243965 L7.69836354,10.4243965 C7.49536582,10.4182965 7.32547685,10.5718681 7.31837681,10.7678866 L7.31837681,10.7678866 L7.31837681,14.7201506 L8.07808187,14.7201506 L8.1725194,10.8998985 C8.17451744,10.6860154 8.17369735,10.5403164 8.17052881,10.4243965 L8.17052881,10.4243965 Z M22.164311,7.07999914 L20.7722465,7.07999914 L20.7722465,9.34439732 L23.1957057,9.34439732 L23.2826207,8.38293169 L23.2826207,8.15999827 C23.2819304,7.56380756 22.7816502,7.08066575 22.164311,7.07999914 L22.164311,7.07999914 Z M20.1388284,7.07999914 L10.2356741,7.07999914 C9.61833482,7.08066575 9.11805462,7.56380756 9.11736437,8.15999827 L9.11736437,8.15999827 L9.11736437,8.38293169 L9.2042794,9.34439732 L20.1388284,9.34439732 L20.1388284,7.07999914 Z\" id=\"icon-cat-transportation_dd7f839b7186cd1fe8dd4cc1283d94e7_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-uncategorized.svg":
/*!**************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/categories/icon-cat-uncategorized.svg ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747",
  "use": "icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747\">\n    <title>icon-cat-uncategorized</title>\n    <g id=\"icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747_planche\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747_planche-Cozy\" transform=\"translate(-2076.000000, -745.000000)\" fill-rule=\"nonzero\">\n            <g id=\"icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747_icon-cat-uncategorized\" transform=\"translate(2076.000000, 745.000000)\">\n                <circle id=\"icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747_Oval\" fill=\"#3E5F6B\" cx=\"16\" cy=\"16\" r=\"16\" />\n                <path d=\"M16,5 C18.9173814,5 21.7152744,6.15892525 23.7781746,8.22182541 C25.8410748,10.2847256 27,13.0826186 27,16 C27,22.0751323 22.0751323,27 16,27 C9.92486775,27 5,22.0751323 5,16 C5,9.92486775 9.92486775,5 16,5 Z M16,6.375 C10.6842593,6.375 6.375,10.6842593 6.375,16 C6.375,21.3157407 10.6842593,25.625 16,25.625 C21.313245,25.6189797 25.6189797,21.313245 25.625,16 C25.625,10.6842593 21.3157407,6.375 16,6.375 Z M16.6105,19.9276875 L16.6105,22.1386875 L14.581,22.1386875 L14.581,20.1586875 L16.6105,19.9276875 Z M15.6532319,10.0938113 C16.7474552,10.0141836 17.8322928,10.3434836 18.6976194,11.0179281 C19.4240883,11.7302183 19.8011235,12.7255914 19.7288694,13.7404281 C19.7756256,14.6128528 19.4727534,15.4679376 18.8872869,16.1164281 C18.2062964,16.7544844 17.326619,17.1389791 16.3957869,17.2054281 L16.3957869,17.2054281 L16.2474106,18.6244281 L14.8942319,18.6244281 L14.6468281,15.7367975 C15.4622301,15.7943254 16.2790631,15.6468438 17.0228625,15.3077975 C17.5276341,14.9833167 17.8080686,14.4033939 17.7489725,13.8062425 C17.7999008,13.2690732 17.6093619,12.7370683 17.2289819,12.3543731 C16.7510055,12.0179032 16.1699352,11.8602182 15.5874381,11.9089075 C15.1096867,11.9096525 14.6345228,11.9790665 14.1765231,12.11502 C13.6809068,12.2651676 13.206782,12.4787613 12.7659381,12.75049 L12.7659381,12.75049 L11.9408006,11.1499006 C12.4998247,10.8097606 13.1019417,10.5461309 13.7310506,10.3660613 C14.3558356,10.185598 15.0029064,10.0939495 15.6532319,10.0938113 Z\" id=\"icon-cat-uncategorized_7738716ced4489d679cc6bbc19aa7747_Combined-Shape\" fill=\"#FFFFFF\" />\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/error/icon-error.svg":
/*!*********************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/error/icon-error.svg ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-error_ed7910059db7ea250c0fba7121ed0e59",
  "use": "icon-error_ed7910059db7ea250c0fba7121ed0e59-usage",
  "viewBox": "0 0 146 146",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 146 146\" id=\"icon-error_ed7910059db7ea250c0fba7121ed0e59\">\n    <g fill=\"none\" fill-rule=\"evenodd\">\n        <g>\n            <g>\n                <g fill=\"#D8D8D8\" transform=\"translate(-108 -145) translate(108 145)\">\n                    <circle cx=\"73\" cy=\"73\" r=\"73\" />\n                </g>\n                <g>\n                    <g>\n                        <path fill=\"#2E404F\" d=\"M43.8 0H8.111C3.631 0 0 3.631 0 8.111v74.622c0 4.48 3.631 8.111 8.111 8.111H43.8c4.48 0 8.111-3.631 8.111-8.11V8.11C51.911 3.631 48.28 0 43.8 0\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                        <path fill=\"#C72222\" d=\"M43.8 0H8.111C3.727-.09.098 3.386 0 7.77v66.852h51.911V7.77C51.814 3.386 48.184-.09 43.8 0\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                        <path fill=\"#E52729\" d=\"M27.578 74.622H51.91V7.77C51.814 3.386 48.184-.09 43.8 0H14.6l12.978 74.622z\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                        <path fill=\"#FFF\" d=\"M27.959 11.502h-4.007c-.761 0-1.379-.618-1.379-1.38 0-.76.618-1.378 1.38-1.378h4.006c.762 0 1.379.617 1.379 1.379 0 .761-.617 1.379-1.379 1.379M29.24 84.21h-6.529c-.761 0-1.379-.618-1.379-1.38 0-.76.618-1.378 1.38-1.378h6.57c.76 0 1.378.617 1.378 1.379 0 .761-.617 1.379-1.379 1.379\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                    </g>\n                    <path fill=\"#FFF\" fill-rule=\"nonzero\" stroke=\"#FFF\" stroke-width=\".5\" d=\"M13.552 31.368c.35-.35.918-.35 1.268 0l5.695 5.695c.35.35.35.917 0 1.267-.35.35-.918.35-1.268 0l-5.695-5.695c-.35-.35-.35-.917 0-1.267z\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                    <path fill=\"#FFF\" fill-rule=\"nonzero\" stroke=\"#FFF\" stroke-width=\".5\" d=\"M13.481 38.293c-.35-.35-.35-.917 0-1.267l5.695-5.695c.35-.35.918-.35 1.268 0s.35.917 0 1.267l-5.695 5.695c-.35.35-.918.35-1.268 0zM31.94 31.36c.35-.35.917-.35 1.268 0l5.695 5.695c.35.35.35.917 0 1.267-.35.35-.918.35-1.268 0l-5.695-5.695c-.35-.35-.35-.918 0-1.268z\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                    <path fill=\"#FFF\" fill-rule=\"nonzero\" stroke=\"#FFF\" stroke-width=\".5\" d=\"M31.86 38.293c-.35-.35-.35-.917 0-1.267l5.696-5.695c.35-.35.918-.35 1.268 0s.35.917 0 1.267l-5.696 5.695c-.35.35-.917.35-1.267 0z\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                    <path stroke=\"#FFF\" stroke-linecap=\"round\" stroke-width=\"2.7\" d=\"M14.965 55.026c1.678-5.265 6.59-8.824 12.116-8.777 5.526.046 10.377 3.687 11.966 8.98\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                    <path fill=\"#FFF\" d=\"M13.416 14.543c0 1.707-1.384 3.09-3.09 3.09-1.707 0-3.09-1.383-3.09-3.09 0-1.703 2.514-6.148 3.09-6.148.575 0 3.09 4.445 3.09 6.148z\" transform=\"translate(-108 -145) translate(108 145) translate(46.864 27.938)\" />\n                </g>\n            </g>\n        </g>\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/icon-gear.svg":
/*!**************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/icon-gear.svg ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-gear_85588495509aed7fe16256d2e5db08be",
  "use": "icon-gear_85588495509aed7fe16256d2e5db08be-usage",
  "viewBox": "0 0 29 31",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 29 31\" id=\"icon-gear_85588495509aed7fe16256d2e5db08be\">\n<desc>Created with Sketch.</desc>\n<g id=\"icon-gear_85588495509aed7fe16256d2e5db08be_Cozy-Ln\">\n\t<g id=\"icon-gear_85588495509aed7fe16256d2e5db08be_planche-Cozy\" transform=\"translate(-2368.000000, -632.000000)\">\n\t\t<g id=\"icon-gear_85588495509aed7fe16256d2e5db08be_reglageCozy\" transform=\"translate(2366.000000, 630.000000)\">\n\t\t\t<path id=\"icon-gear_85588495509aed7fe16256d2e5db08be_Shape\" d=\"M16.5,22.8c-3,0-5.5-2.5-5.5-5.5c0-1.5,0.6-2.8,1.6-3.9s2.4-1.6,3.9-1.6c1.5,0,2.9,0.6,3.9,1.6\n\t\t\t\ts1.6,2.4,1.6,3.9c0,1.5-0.6,2.9-1.6,3.9C19.3,22.3,17.9,22.9,16.5,22.8z M16.5,12.7c-1.2,0-2.4,0.5-3.3,1.4\n\t\t\t\tc-0.9,0.9-1.4,2.1-1.4,3.3c0,2.6,2.1,4.7,4.7,4.7c2.6,0,4.7-2.1,4.7-4.7C21.1,14.8,19,12.7,16.5,12.7L16.5,12.7z\" />\n\t\t\t<path id=\"icon-gear_85588495509aed7fe16256d2e5db08be_Shape_1_\" d=\"M14.4,32.5c-0.8,0.1-1.5-0.2-2.1-0.8c-0.5-0.5-0.8-1.3-0.8-2.1v-2.1c-0.5-0.2-1-0.5-1.5-0.8l-1.7,0.9\n\t\t\t\tC7.8,28.1,7,28.2,6.3,28c-0.7-0.2-1.4-0.7-1.7-1.4L2.4,23l-0.1-0.2c-0.3-0.6-0.4-1.4-0.2-2.1c0.2-0.7,0.7-1.3,1.3-1.6l1.8-1v-0.7\n\t\t\t\tc0-0.3,0-0.6,0-0.9l-1.8-1c-0.6-0.4-1.1-1-1.3-1.7c-0.2-0.7-0.1-1.5,0.3-2.1l0.1-0.2L4.6,8c0.3-0.7,0.9-1.2,1.7-1.4\n\t\t\t\tC7,6.5,7.8,6.6,8.4,7l1.8,1h0.1l0.3-0.2c0.3-0.2,0.7-0.4,1-0.5V5.2c-0.1-0.8,0.2-1.5,0.8-2.1s1.3-0.8,2.1-0.8h4.2\n\t\t\t\tc0.8-0.1,1.5,0.2,2.1,0.8c0.5,0.5,0.8,1.3,0.8,2.1v2.1c0.5,0.2,1,0.5,1.5,0.8l1.7-0.9c0.6-0.4,1.4-0.6,2.2-0.4\n\t\t\t\tc0.7,0.2,1.3,0.7,1.7,1.4l2.1,3.7c0.4,0.6,0.5,1.3,0.4,2c-0.1,0.7-0.5,1.3-1.1,1.7l-2.1,1.2v0.6c0,0.3,0,0.6,0,0.9l1.7,1.1\n\t\t\t\tc0.6,0.3,1,0.8,1.3,1.3l0.1,0.3c0.1,0.5,0.1,1.1-0.1,1.6c-0.1,0.2-0.2,0.4-0.3,0.6L28.4,27c-0.4,0.6-1,1.1-1.7,1.3\n\t\t\t\tc-0.7,0.2-1.5,0.1-2.1-0.3l-1.8-1L22.6,27c-0.4,0.2-0.8,0.5-1.2,0.6v2.1c0.1,0.8-0.2,1.5-0.8,2.1c-0.6,0.5-1.3,0.8-2.1,0.8H14.4z\n\t\t\t\t M10.2,25.1l0.4,0.3c0.6,0.4,1.3,0.8,2,1.1l0.4,0.2v3c0,0.4,0.1,0.8,0.4,1.1s0.7,0.4,1.1,0.4h4.2c0.4,0,0.8-0.1,1.1-0.4\n\t\t\t\ts0.4-0.7,0.4-1.1v-3l0.4-0.2c0.5-0.2,0.9-0.5,1.4-0.7l0.8-0.6l2.6,1.5c0.3,0.2,0.7,0.3,1,0.2c0.4-0.1,0.7-0.3,0.9-0.6l0.1-0.2\n\t\t\t\tl2.2-3.6c0.1-0.1,0.1-0.2,0.2-0.3c0.1-0.3,0.1-0.5,0.1-0.8v-0.1c-0.1-0.3-0.4-0.6-0.7-0.8L26.4,19l0.1-0.4c0-0.4,0-0.7,0-1.1\n\t\t\t\tL26.4,16l2.2-1.2l0.5-0.3c0.3-0.2,0.5-0.5,0.6-0.9s0-0.7-0.2-1l-2.1-3.8c-0.2-0.4-0.5-0.7-0.9-0.8c-0.4-0.1-0.8,0-1.1,0.2\n\t\t\t\tl-2.4,1.4l-0.4-0.3c-0.6-0.5-1.3-0.8-2-1.1l-0.4-0.2v-3c0-0.4-0.1-0.8-0.4-1.1c-0.3-0.3-0.7-0.4-1.1-0.4h-4.2\n\t\t\t\tc-0.4,0-0.8,0.1-1.1,0.4c-0.3,0.3-0.4,0.7-0.4,1.1v3l-0.4,0.2c-0.3,0.1-0.9,0.5-1.8,1l-0.4,0.3L7.8,8.2C7.4,8,7,7.9,6.6,8\n\t\t\t\tC6.3,8.1,5.9,8.4,5.8,8.7l-2.2,3.8c-0.2,0.3-0.3,0.7-0.2,1.1c0.1,0.3,0.3,0.6,0.6,0.7l0.2,0.1l2.4,1.4v0.4c0,0.4-0.1,0.8-0.1,1.2\n\t\t\t\tV18v0.4l0.1,0.4l-2.5,1.4c-0.4,0.1-0.6,0.4-0.8,0.8c-0.1,0.4-0.1,0.8,0.1,1.1l0.1,0.1L5.7,26c0.2,0.4,0.5,0.6,0.9,0.8\n\t\t\t\tc0.4,0.1,0.8,0,1.1-0.2L10.2,25.1z\" />\n\t\t</g>\n\t</g>\n</g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/icon-graph.svg":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/icon-graph.svg ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-graph_a704bd70cde8313fdbb88546a128b814",
  "use": "icon-graph_a704bd70cde8313fdbb88546a128b814-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-graph_a704bd70cde8313fdbb88546a128b814\">\n    <g id=\"icon-graph_a704bd70cde8313fdbb88546a128b814_icon-graph\" fill-rule=\"nonzero\">\n        <path d=\"M15.2900961,1.45547015 L15.2900961,16.1776535 C15.2900465,16.4775918 15.5301786,16.7222817 15.8299316,16.7277351 L15.8299316,16.7277351 L30.5454546,16.7277351 C30.5481005,20.7772716 28.9420159,24.6618579 26.0807949,27.5262511 C23.2195739,30.3906442 19.3377996,32 15.2900961,32 L15.2900961,32 L14.9218604,31.994972 C10.1427677,31.8723338 5.68593899,29.5218544 2.88500573,25.6285121 C0.0122536773,21.6353405 -0.769121905,16.5049457 0.784515689,11.8370098 C2.84107383,5.58327207 8.70997466,1.38294193 15.2900961,1.45547015 L15.2900961,1.45547015 Z M13.6505956,3.18572675 C8.40038904,3.74014193 3.95930998,7.31495292 2.29405576,12.3270824 C0.92697855,16.5649106 1.6702603,21.2013719 4.29344657,24.7989321 C6.87155375,28.2906419 10.9510183,30.35356 15.2900961,30.3597628 C22.1847918,30.3643236 27.996384,25.2156855 28.8259719,18.3679783 L28.8259719,18.3679783 L15.8299316,18.3679783 C14.6263176,18.3679783 13.6505956,17.3918143 13.6505956,16.187655 L13.6505956,16.187655 Z M17.4549383,-9.76996262e-15 C21.3133399,-0.00264767897 25.014474,1.52892087 27.7427766,4.25722343 C30.4710791,6.98552598 32.0026477,10.6866601 32,14.5450617 L32,14.5450617 L18.0047514,14.5450617 C17.8572641,14.5507407 17.7140931,14.4946399 17.6097266,14.3902734 C17.5053601,14.2859069 17.4492593,14.1427359 17.4549383,13.9952486 L17.4549383,13.9952486 Z M19.0044115,1.64944609 L19.0044115,12.9955885    L30.3505539,12.9955885 C29.6337072,7.05144385 24.9485562,2.36629284 19.0044115,1.64944609 L19.0044115,1.64944609 Z\" id=\"icon-graph_a704bd70cde8313fdbb88546a128b814_Combined-Shape\" />\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/icon-transfers.svg":
/*!*******************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/icon-transfers.svg ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-transfers_8c935ffae5627d10b720db3dd13435a3",
  "use": "icon-transfers_8c935ffae5627d10b720db3dd13435a3-usage",
  "viewBox": "0 0 28 28",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 28 28\" id=\"icon-transfers_8c935ffae5627d10b720db3dd13435a3\">\n    <g>\n        <path d=\"M27.926 7.823l-.892-.884L20.028 0l-1.071 1.06 6.249 6.19H1v1.5h24.206l-6.25 6.19L20.029 16l7.006-6.94.892-.883c.099-.098.099-.256 0-.354zM.074 20.177l.892.884L7.972 28l1.071-1.06-6.249-6.19H27v-1.5H2.794l6.25-6.19L7.971 12 .966 18.94l-.892.883c-.099.098-.099.256 0 .354z\" />\n    </g>\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/icon-wallet.svg":
/*!****************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/icon-wallet.svg ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-wallet_215b1190a5212c91ebd6c560ea73857b",
  "use": "icon-wallet_215b1190a5212c91ebd6c560ea73857b-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 32 32\" id=\"icon-wallet_215b1190a5212c91ebd6c560ea73857b\">\n<path id=\"icon-wallet_215b1190a5212c91ebd6c560ea73857b_Shape\" d=\"M3.1,2.8C1.3,2.8,0,4.1,0,5.7v20.9c0,1.4,1.2,2.6,2.7,2.6h26.7c1.5,0,2.7-1.2,2.7-2.6V9.8c0-1.4-1.2-2.5-2.7-2.6\n\th-1.9V3.5c0-0.4-0.3-0.7-0.8-0.7H3.1z M3.1,4.3h22.5v3H3.1c-0.4,0-0.8-0.1-1.1-0.4S1.5,6.1,1.5,5.7c0-0.4,0.1-0.8,0.4-1.1\n\tS2.6,4.2,3.1,4.3z M1.5,8.8c0.5,0.3,1,0.4,1.6,0.4C11.8,9.2,21.9,9,29.4,9c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8v4.1h-11\n\tc-0.3,0-0.6,0.1-0.9,0.3c-0.2,0.2-0.3,0.5-0.3,0.8v6.8c0,0.7,0.3,1.2,1.4,1.2h10.8v3.4c0,0.3-0.1,0.6-0.3,0.8\n\tc-0.2,0.2-0.5,0.3-0.8,0.3H2.7c-0.3,0-0.6-0.1-0.8-0.3c-0.2-0.2-0.3-0.5-0.3-0.8V8.8z M19.5,15h11v7.5H19.6c-0.1,0-0.2,0-0.3-0.1\n\ts-0.1-0.2-0.1-0.3v-6.7c0-0.1,0-0.2,0.1-0.3C19.4,15.1,19.5,15,19.5,15L19.5,15z M23.6,17c-1.1,0-1.9,0.8-1.9,1.8\n\tc0,1,0.9,1.8,1.9,1.8c1.1,0,1.9-0.8,1.9-1.8C25.6,17.8,24.7,17,23.6,17L23.6,17z M23.6,17.8c0.6,0,1,0.4,1,0.9c0,0.5-0.4,0.9-1,0.9\n\ts-1-0.4-1-0.9c0-0.3,0.1-0.5,0.3-0.7C23.2,17.9,23.4,17.8,23.6,17.8L23.6,17.8z\" />\n</symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/icons/recurrence/icon-group.svg":
/*!**************************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/icons/recurrence/icon-group.svg ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../cozy-banks/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _cozy_banks_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-group_ec3a18c5fb23c50779e3e121f7fc2714",
  "use": "icon-group_ec3a18c5fb23c50779e3e121f7fc2714-usage",
  "viewBox": "0 0 146 146",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 146 146\" id=\"icon-group_ec3a18c5fb23c50779e3e121f7fc2714\"><g fill=\"none\" fill-rule=\"evenodd\"><circle cx=\"73\" cy=\"73\" r=\"73\" fill=\"#D8D8D8\" /><path fill=\"#FC0D1A\" d=\"M111.654 72.001l-7.194-4.365a24.555 24.555 0 00-5.967-8.616c-.788-3.251-2.022-10.093 1.406-13.228 0 0-8.926.425-11.944 7.252a26.461 26.461 0 00-7.444-1.088H60.07l.719 50.137h14.366v1.081s.038.956.125 1.452a7.83 7.83 0 0015.532-1.419v-3.083a25.266 25.266 0 0011.372-9.42l9.516-6.044a2.869 2.869 0 001.3-2.43v-7.768a2.87 2.87 0 00-1.346-2.46z\" /><path fill=\"#C62222\" d=\"M69.797 55.645a3.69 3.69 0 00-3.689-3.69h-5.32a26.353 26.353 0 00-19.004 8.094 4.144 4.144 0 012.17-7.681 2.4 2.4 0 000-4.8 8.941 8.941 0 00-5.143 16.263 23.889 23.889 0 00-3.442 8.86 25.1 25.1 0 0012.364 26.083v4.4c-.014.486.017.971.091 1.451a7.83 7.83 0 0015.532-1.419v-1.114h6.441V55.645z\" /><path fill=\"#FFF\" d=\"M99.205 67.06a2.15 2.15 0 10-.002 4.302 2.15 2.15 0 00.002-4.303m-20.002-5.768c-.415 0-.82-.13-1.157-.373a13.01 13.01 0 00-8.45-2.442c-2.97-.053-5.888.78-8.382 2.394a1.989 1.989 0 01-2.449-3.133 18.726 18.726 0 0110.832-3.238 17.147 17.147 0 0110.766 3.188 1.987 1.987 0 01-1.16 3.604\" /><path fill=\"#2E404F\" d=\"M58.274 45.711a11.527 11.527 0 0019.68 8.157 11.527 11.527 0 10-19.68-8.158\" /></g></symbol>"
});
var result = _cozy_banks_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "../overrides/cozy-banks/src/assets/transfer-error.svg":
/*!*************************************************************!*\
  !*** ../overrides/cozy-banks/src/assets/transfer-error.svg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/transfer-error.svg";

/***/ }),

/***/ "../overrides/cozy-banks/src/components/AnimatedBankLoading/animation.json":
/*!*********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/AnimatedBankLoading/animation.json ***!
  \*********************************************************************************/
/*! exports provided: v, fr, ip, op, w, h, nm, ddd, assets, layers, markers, default */
/***/ (function(module) {

module.exports = {"v":"5.6.3","fr":25,"ip":0,"op":60,"w":200,"h":200,"nm":"banque-chargement","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"feuille-bank","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":0,"s":[100,66.5,0],"to":[0,7,0],"ti":[0,-7,0]},{"t":15,"s":[100,108.5,0]}],"ix":2},"a":{"a":0,"k":[34.346,32.534,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[45.123,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[37.873,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[30.622,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[23.372,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[14.5,3.262],[0,-5.438],[-14.5,3.262],[-14.5,5.438],[14.5,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.248,15.957],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[14.5,-1.812],[12.688,-1.812],[-12.687,-1.812],[-14.5,-1.812],[-14.5,1.812],[14.5,1.812]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.248,37.707],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.328,0],[0,1.31],[0,0],[0,0],[0,0],[1.329,0],[0,1.31],[0,0],[-2.214,0],[0,0],[0,-2.183],[0,0]],"o":[[-1.329,0],[0,0],[0,0],[0,0],[0,1.31],[-1.329,0],[0,0],[0,-2.183],[0,0],[2.21,0],[0,0],[0,1.31]],"v":[[31.344,31.95],[28.937,29.577],[28.937,-27.204],[-28.936,-27.204],[-28.936,29.577],[-31.343,31.95],[-33.75,29.577],[-33.75,-27.995],[-29.739,-31.95],[29.74,-31.95],[33.75,-27.995],[33.75,29.577]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.987999949736,0.051000000449,0.102000000898,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.247,32.17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-0.89,0],[0,0],[0,-0.88],[0,0]],"o":[[0,0],[0,-0.88],[0,0],[0.891,0],[0,0],[0,0]],"v":[[-31.5,29.7],[-31.5,-28.112],[-29.887,-29.7],[29.887,-29.7],[31.5,-28.112],[31.5,29.7]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[32.898,32.62],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"feuille-bank 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":12,"s":[102,64,0],"to":[0,7.417,0],"ti":[0,-7.417,0]},{"t":28,"s":[102,108.5,0]}],"ix":2},"a":{"a":0,"k":[34.346,32.534,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[45.123,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[37.873,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[30.622,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[23.372,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[14.5,3.262],[0,-5.438],[-14.5,3.262],[-14.5,5.438],[14.5,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.248,15.957],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[14.5,-1.812],[12.688,-1.812],[-12.687,-1.812],[-14.5,-1.812],[-14.5,1.812],[14.5,1.812]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.248,37.707],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.328,0],[0,1.31],[0,0],[0,0],[0,0],[1.329,0],[0,1.31],[0,0],[-2.214,0],[0,0],[0,-2.183],[0,0]],"o":[[-1.329,0],[0,0],[0,0],[0,0],[0,1.31],[-1.329,0],[0,0],[0,-2.183],[0,0],[2.21,0],[0,0],[0,1.31]],"v":[[31.344,31.95],[28.937,29.577],[28.937,-27.204],[-28.936,-27.204],[-28.936,29.577],[-31.343,31.95],[-33.75,29.577],[-33.75,-27.995],[-29.739,-31.95],[29.74,-31.95],[33.75,-27.995],[33.75,29.577]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.987999949736,0.051000000449,0.102000000898,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.247,32.17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-0.89,0],[0,0],[0,-0.88],[0,0]],"o":[[0,0],[0,-0.88],[0,0],[0.891,0],[0,0],[0,0]],"v":[[-31.5,29.7],[-31.5,-28.112],[-29.887,-29.7],[29.887,-29.7],[31.5,-28.112],[31.5,29.7]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[32.898,32.62],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"feuille-bank 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":25,"s":[104,62.5,0],"to":[0,7.75,0],"ti":[0,-7.75,0]},{"t":41,"s":[104,109,0]}],"ix":2},"a":{"a":0,"k":[34.346,32.534,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[45.123,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[37.873,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[30.622,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.812,-5.438],[1.812,-5.438],[1.812,5.438],[-1.812,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[23.372,28.645],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[14.5,3.262],[0,-5.438],[-14.5,3.262],[-14.5,5.438],[14.5,5.438]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.248,15.957],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[14.5,-1.812],[12.688,-1.812],[-12.687,-1.812],[-14.5,-1.812],[-14.5,1.812],[14.5,1.812]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.180000005984,0.250999989229,0.310000011968,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.248,37.707],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.328,0],[0,1.31],[0,0],[0,0],[0,0],[1.329,0],[0,1.31],[0,0],[-2.214,0],[0,0],[0,-2.183],[0,0]],"o":[[-1.329,0],[0,0],[0,0],[0,0],[0,1.31],[-1.329,0],[0,0],[0,-2.183],[0,0],[2.21,0],[0,0],[0,1.31]],"v":[[31.344,31.95],[28.937,29.577],[28.937,-27.204],[-28.936,-27.204],[-28.936,29.577],[-31.343,31.95],[-33.75,29.577],[-33.75,-27.995],[-29.739,-31.95],[29.74,-31.95],[33.75,-27.995],[33.75,29.577]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.987999949736,0.051000000449,0.102000000898,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.247,32.17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-0.89,0],[0,0],[0,-0.88],[0,0]],"o":[[0,0],[0,-0.88],[0,0],[0.891,0],[0,0],[0,0]],"v":[[-31.5,29.7],[-31.5,-28.112],[-29.887,-29.7],[29.887,-29.7],[31.5,-28.112],[31.5,29.7]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[32.898,32.62],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"dossier Silhouettes","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.001,100,0],"ix":2},"a":{"a":0,"k":[42.751,33.453,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.914,0.698],[0.319,0.428],[0,0],[0,0],[0,0],[0,0]],"o":[[-0.417,-0.322],[0,0],[0,0],[0,0],[0,0],[-1.185,0]],"v":[[16.894,0],[15.788,-1.129],[-20.098,-1.129],[-20.098,0],[-20.098,1.129],[20.098,1.129]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[20.348,12.403],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.072,0.12],[0,0],[2.8,0],[0,0],[0,-2.933],[0,0],[0,0]],"o":[[0,0],[-1.442,-2.401],[0,0],[-2.936,0],[0,0],[0,0],[-0.08,-0.109]],"v":[[17.696,5.19],[13.597,-1.642],[6.763,-5.512],[-12.63,-5.512],[-17.943,-0.199],[-17.943,5.512],[17.943,5.512]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.776000019148,0.13300000359,0.13300000359,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.194,5.762],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 2","np":4,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0.693,1.181],[2.452,0.349],[0.385,0],[0,0],[0,0],[0,0],[0.961,1.599],[0,0],[2.799,0],[0,0],[0,-2.932],[0,0],[0,0],[0,0],[-4.402,0],[0,0],[0,0],[0,0],[-0.37,0.053],[-1.201,2.051],[0,1.466]],"o":[[0,-1.467],[-1.201,-2.051],[-0.37,-0.053],[0,0],[0,0],[0,0],[-1.867,0],[0,0],[-1.442,-2.401],[0,0],[-2.935,0],[0,0],[0,0],[0,0],[0,4.401],[0,0],[0,0],[0,0],[0.385,0],[2.452,-0.349],[0.693,-1.181],[0,0]],"v":[[42.501,-11.953],[41.404,-15.971],[35.662,-19.832],[34.531,-19.922],[34.531,-19.922],[3.639,-19.922],[-2.305,-19.922],[-6.861,-22.501],[-10.96,-29.333],[-17.794,-33.203],[-37.188,-33.203],[-42.499,-27.891],[-42.499,-19.922],[-42.501,-19.922],[-42.501,25.235],[-34.531,33.203],[-34.531,33.203],[34.531,33.203],[34.531,33.203],[35.662,33.113],[41.404,29.252],[42.501,25.235]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.987999949736,0.051000000449,0.102000000898,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[42.751,33.453],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 3","np":4,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"feuille Silhouettes - Comp 2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100,99.5,0],"ix":2},"a":{"a":0,"k":[100,100,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[162.452,15],[36.5,15],[36.5,129.693],[162.452,129.693]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Masque 1"}],"w":200,"h":200,"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"rond Silhouettes","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100,100,0],"ix":2},"a":{"a":0,"k":[100.25,100.25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.229,0],[0,-55.229],[55.229,0],[0,55.229]],"o":[[55.229,0],[0,55.229],[-55.229,0],[0,-55.229]],"v":[[0,-100],[100,0],[0,100],[-100,0]],"c":true},"ix":2},"nm":"TracÃ© 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002394,0.847000002394,0.847000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[100.25,100.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]};

/***/ }),

/***/ "../overrides/cozy-banks/src/components/AnimatedBankLoading/index.jsx":
/*!****************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/AnimatedBankLoading/index.jsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lottie-web */ "../node_modules/lottie-web/build/player/lottie.js");
/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lottie_web__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_AnimatedBankLoading_animation_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/AnimatedBankLoading/animation.json */ "../overrides/cozy-banks/src/components/AnimatedBankLoading/animation.json");
var components_AnimatedBankLoading_animation_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! components/AnimatedBankLoading/animation.json */ "../overrides/cozy-banks/src/components/AnimatedBankLoading/animation.json", 1);
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}




/**
 * @override Use an animated check circle instead of an img
 */

var AnimatedBankLoading = /*#__PURE__*/function (_Component) {
  _inherits(AnimatedBankLoading, _Component);

  function AnimatedBankLoading(props) {
    var _this;

    _classCallCheck(this, AnimatedBankLoading);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnimatedBankLoading).call(this, props));
    _this.nodeRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    return _this;
  }

  _createClass(AnimatedBankLoading, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      lottie_web__WEBPACK_IMPORTED_MODULE_1___default.a.loadAnimation({
        container: this.nodeRef.current,
        animationData: components_AnimatedBankLoading_animation_json__WEBPACK_IMPORTED_MODULE_2__,
        renderer: 'svg',
        loop: false,
        autoplay: true
      });
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        style: {
          height: '7.5rem'
        },
        className: "u-mb-1-half u-ta-center u-pv-half",
        ref: this.nodeRef
      });
    }
  }]);

  return AnimatedBankLoading;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (AnimatedBankLoading);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/AnimatedCheck/animation.json":
/*!***************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/AnimatedCheck/animation.json ***!
  \***************************************************************************/
/*! exports provided: v, fr, ip, op, w, h, nm, ddd, assets, layers, markers, default */
/***/ (function(module) {

module.exports = {"v":"5.6.3","fr":25,"ip":0,"op":50,"w":135,"h":135,"nm":"check-cercle","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Calque de forme 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[65.925,66.901,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[97.625,97.625,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[125.203,125.203],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Tracé d'ellipse 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.298039215686,0.705882352941,0.215686289469,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Contour 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[1.102,0.102],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[101.657,101.657],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"t":32,"s":[0]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.309],"y":[0]},"t":0,"s":[0]},{"t":32,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Réduire les tracés 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":54,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"valid Silhouettes","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[67.5,67.5,0],"ix":2},"a":{"a":0,"k":[67.5,67.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":25,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-3.074,3.368],[-40.539,42.339],[11.073,91.956],[48.538,52.986]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":32,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.138,34.043],[-14.933,100.758],[49.675,115.814],[64.746,49.098]],"c":true}]},{"t":38,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[5.576,55.18],[82.658,129.602],[134.924,76.82],[57.842,2.398]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Masque 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-2.472,2.472],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[2.472,2.472],[0,0],[0,0],[0,0]],"v":[[-11.932,11.442],[-26.848,-3.474],[-35.797,5.476],[-16.407,24.866],[-7.457,24.866],[35.797,-18.389],[26.848,-27.338]],"c":true},"ix":2},"nm":"Tracé 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.298000021542,0.705999995213,0.216000007181,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[67.499,68.905],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Groupe 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":21,"op":70,"st":21,"bm":0}],"markers":[]};

/***/ }),

/***/ "../overrides/cozy-banks/src/components/AnimatedCheck/index.jsx":
/*!**********************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/AnimatedCheck/index.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lottie-web */ "../node_modules/lottie-web/build/player/lottie.js");
/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lottie_web__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _animation_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./animation.json */ "../overrides/cozy-banks/src/components/AnimatedCheck/animation.json");
var _animation_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./animation.json */ "../overrides/cozy-banks/src/components/AnimatedCheck/animation.json", 1);
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}




/**
 * @override Use an animated check circle instead of an img
 */

var AnimatedCheck = /*#__PURE__*/function (_Component) {
  _inherits(AnimatedCheck, _Component);

  function AnimatedCheck(props) {
    var _this;

    _classCallCheck(this, AnimatedCheck);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnimatedCheck).call(this, props));
    _this.nodeRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    return _this;
  }

  _createClass(AnimatedCheck, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      lottie_web__WEBPACK_IMPORTED_MODULE_1___default.a.loadAnimation({
        container: this.nodeRef.current,
        animationData: _animation_json__WEBPACK_IMPORTED_MODULE_2__,
        renderer: 'svg',
        loop: false,
        autoplay: true
      });
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        style: {
          height: '7.5rem'
        },
        className: "u-mb-1-half u-ta-center u-pv-half",
        ref: this.nodeRef
      });
    }
  }]);

  return AnimatedCheck;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (AnimatedCheck);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/App.jsx":
/*!******************************************************!*\
  !*** ../overrides/cozy-banks/src/components/App.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_components_App__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/components/App */ "./src/components/App.jsx");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react */ "./node_modules/cozy-ui/transpiled/react/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}






var AppWrapped = function AppWrapped(Component) {
  var Wrapped = function Wrapped(props) {
    var _useBreakpoints = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["useBreakpoints"])(),
        isMobile = _useBreakpoints.isMobile;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({}, props, {
      showBottomNav: !isMobile || !cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.show-nav-header')
    }));
  };

  Wrapped.displayName = "AppWrapped with useBreakpoints";
  return Wrapped;
};

/* harmony default export */ __webpack_exports__["default"] = (AppWrapped(original_banks_components_App__WEBPACK_IMPORTED_MODULE_1__["default"]));

/***/ }),

/***/ "../overrides/cozy-banks/src/components/AppRoute.jsx":
/*!***********************************************************!*\
  !*** ../overrides/cozy-banks/src/components/AppRoute.jsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_components_AppRoute__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/components/AppRoute */ "./src/components/AppRoute.jsx");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "../node_modules/react-router/es/index.js");
/* harmony import */ var ducks_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/store */ "../overrides/cozy-banks/src/ducks/store/index.jsx");
/* harmony import */ var cozy_ui_dist_cozy_ui_min_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/dist/cozy-ui.min.css */ "./node_modules/cozy-ui/dist/cozy-ui.min.css");
/* harmony import */ var cozy_ui_dist_cozy_ui_min_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_dist_cozy_ui_min_css__WEBPACK_IMPORTED_MODULE_4__);
/* empty/unused harmony star reexport */





original_banks_components_AppRoute__WEBPACK_IMPORTED_MODULE_1__["default"].renderExtraRoutes = function () {
  return [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__["Route"], {
    key: "services/category/search",
    path: "services/:category/search/:search",
    component: ducks_store__WEBPACK_IMPORTED_MODULE_3__["StoreModal"]
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__["Route"], {
    key: "services/category/app",
    path: "services/:category/:konnectorSlug",
    component: ducks_store__WEBPACK_IMPORTED_MODULE_3__["StoreModal"]
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__["Route"], {
    key: "services",
    path: "services",
    component: ducks_store__WEBPACK_IMPORTED_MODULE_3__["StoreModal"]
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__["Route"], {
    key: "services/category",
    path: "services/:category",
    component: ducks_store__WEBPACK_IMPORTED_MODULE_3__["StoreModal"]
  })];
};

/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_AppRoute__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/ }),

/***/ "../overrides/cozy-banks/src/components/Bar.jsx":
/*!******************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Bar.jsx ***!
  \******************************************************/
/*! exports provided: BarCenter, BarRight, BarLeft, BarSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarCenter", function() { return BarCenter; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "../node_modules/react-router/es/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var cozy_ui_transpiled_react_BarContextProvider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/BarContextProvider */ "./node_modules/cozy-ui/transpiled/react/BarContextProvider/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var original_banks_components_RouterContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! original-banks/components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var utils_cozyBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! utils/cozyBar */ "./src/utils/cozyBar.js");
/* harmony import */ var original_banks_components_Bar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! original-banks/components/Bar */ "./src/components/Bar.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BarRight", function() { return original_banks_components_Bar__WEBPACK_IMPORTED_MODULE_10__["BarRight"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BarLeft", function() { return original_banks_components_Bar__WEBPACK_IMPORTED_MODULE_10__["BarLeft"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BarSearch", function() { return original_banks_components_Bar__WEBPACK_IMPORTED_MODULE_10__["BarSearch"]; });

/* harmony import */ var _NavHeader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./NavHeader */ "../overrides/cozy-banks/src/components/NavHeader/index.jsx");
/* harmony import */ var _NavHeader_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NavHeader/helpers */ "../overrides/cozy-banks/src/components/NavHeader/helpers.jsx");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_13__);















var wrap = function wrap(Component, className) {
  var WrappedBarComponent = function WrappedBarComponent(_ref) {
    var children = _ref.children;

    var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_7__["default"])(),
        isMobile = _useBreakpoints.isMobile;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_5__["default"], {
      className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('u-flex u-flex-items-center', className),
      variant: isMobile ? 'inverted' : 'normal'
    }, children));
  };

  return WrappedBarComponent;
};
/**
 * Overrides BarCenter to show the Nav Header based on the location
 *
 * @param router
 * @param children
 * @returns {JSX.Element}
 * @constructor
 */


var BarCenterWrapped = function BarCenterWrapped(_ref2) {
  var router = _ref2.router,
      children = _ref2.children;
  var BarCenter = utils_cozyBar__WEBPACK_IMPORTED_MODULE_9__["default"].BarCenter;
  var hasNeedNavHeader = _NavHeader_helpers__WEBPACK_IMPORTED_MODULE_12__["shouldRouteShowNavHeader"].includes(router.location.pathname) && cozy_flags__WEBPACK_IMPORTED_MODULE_13___default()('banks.show-nav-header');
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t,
      f = _useI18n.f,
      lang = _useI18n.lang;

  if (hasNeedNavHeader) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarCenter, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "u-w-100 u-mh-1"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_BarContextProvider__WEBPACK_IMPORTED_MODULE_6__["default"], {
      client: client,
      store: client.store,
      t: t,
      f: f,
      lang: lang
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_banks_components_RouterContext__WEBPACK_IMPORTED_MODULE_8__["default"].Provider, {
      value: router
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NavHeader__WEBPACK_IMPORTED_MODULE_11__["default"], null))), children));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarCenter, null, children);
};

var BarCenter = wrap(Object(react_router__WEBPACK_IMPORTED_MODULE_1__["withRouter"])(BarCenterWrapped), 'u-ellipsis');


/***/ }),

/***/ "../overrides/cozy-banks/src/components/ErrorBoundary/Error.jsx":
/*!**********************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/ErrorBoundary/Error.jsx ***!
  \**********************************************************************/
/*! exports provided: Error, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/components/ErrorBoundary/Error */ "./src/components/ErrorBoundary/Error.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return original_banks_components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_0__["Error"]; });

/* harmony import */ var assets_icons_error_icon_error_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/icons/error/icon-error.svg */ "../overrides/cozy-banks/src/assets/icons/error/icon-error.svg");
/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/constants */ "../overrides/cozy-banks/src/utils/constants.js");



original_banks_components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_0__["Error"].defaultProps = {
  faqURL: utils_constants__WEBPACK_IMPORTED_MODULE_2__["DEEP_LINK_FAQ"],
  emptyIcon: assets_icons_error_icon_error_svg__WEBPACK_IMPORTED_MODULE_1__["default"]
};

/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/Header/Header.jsx":
/*!****************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Header/Header.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_components_Header_Header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/components/Header/Header */ "./src/components/Header/Header.jsx");

/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_Header_Header__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/Header/Header.styl":
/*!*****************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Header/Header.styl ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Header--fixed":"Header--fixed--26ohT","HeaderColor_normal":"HeaderColor_normal--3KOyQ","HeaderColor_inverted":"HeaderColor_inverted--3FUgK","Header--paper":"Header--paper--A6SMK"};

/***/ }),

/***/ "../overrides/cozy-banks/src/components/KonnectorChip/index.jsx":
/*!**********************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/KonnectorChip/index.jsx ***!
  \**********************************************************************/
/*! exports provided: KonnectorChip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KonnectorChip", function() { return KonnectorChip; });
/** @override KonnectorChip are not displayed on MAIF Banks since konnectors
 *  are not available.
 */
var KonnectorChip = function KonnectorChip() {
  return null;
};



/***/ }),

/***/ "../overrides/cozy-banks/src/components/Loading/Loading.jsx":
/*!******************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Loading/Loading.jsx ***!
  \******************************************************************/
/*! exports provided: Loading, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_components_Loading_Loading__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/components/Loading/Loading */ "./src/components/Loading/Loading.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Loading", function() { return original_banks_components_Loading_Loading__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_Loading_Loading__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/Loading/index.js":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Loading/index.js ***!
  \***************************************************************/
/*! exports provided: Loading, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_components_Loading_Loading__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/components/Loading/Loading */ "./src/components/Loading/Loading.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Loading", function() { return original_banks_components_Loading_Loading__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_Loading_Loading__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/NavHeader.jsx":
/*!**********************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/NavHeader.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react */ "./node_modules/cozy-ui/transpiled/react/index.js");
/* harmony import */ var original_banks_ducks_commons_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! original-banks/ducks/commons/helpers */ "./src/ducks/commons/helpers.jsx");
/* harmony import */ var original_banks_components_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! original-banks/components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var original_banks_ducks_commons_Nav__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! original-banks/ducks/commons/Nav */ "./src/ducks/commons/Nav.jsx");
/* harmony import */ var _SegmentedControlTabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SegmentedControlTabs */ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabs.jsx");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers */ "../overrides/cozy-banks/src/components/NavHeader/helpers.jsx");








var NavHeader = function NavHeader() {
  var router = Object(original_banks_components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useRouter"])();
  var location = Object(original_banks_components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useLocation"])();

  var _useI18n = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var itemsToShow = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return Object(original_banks_ducks_commons_helpers__WEBPACK_IMPORTED_MODULE_2__["items"])(t).filter(function (i) {
      return i && _helpers__WEBPACK_IMPORTED_MODULE_6__["shouldRouteShowNavHeader"].includes(i.to) && !i.secondary;
    });
  }, []);
  var selected = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return itemsToShow.findIndex(function (i) {
      return Object(original_banks_ducks_commons_Nav__WEBPACK_IMPORTED_MODULE_4__["navLinkMatch"])(i.rx, i.to, location.pathname);
    });
  }, [itemsToShow, location]);
  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (newValue) {
    var location = itemsToShow[newValue].to;
    router.push(location);
  }, [itemsToShow]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "segmented-control",
    className: "u-mt-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SegmentedControlTabs__WEBPACK_IMPORTED_MODULE_5__["default"], {
    theme: "inverted",
    items: itemsToShow,
    selected: selected,
    handleChange: handleChange
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(NavHeader));

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTab.jsx":
/*!********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTab.jsx ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var _material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Tab */ "./node_modules/@material-ui/core/esm/Tab/index.js");
/* harmony import */ var _SegmentedControlTabStyles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SegmentedControlTabStyles */ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabStyles.jsx");
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}







function a11yProps(index) {
  return {
    id: "tab-".concat(index),
    'aria-controls': "tabpanel-".concat(index)
  };
}

var NormalStyledTab = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__["withStyles"])(_SegmentedControlTabStyles__WEBPACK_IMPORTED_MODULE_4__["normalTabStyles"])(_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__["default"]);
var InvertedStyledTab = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__["withStyles"])(_SegmentedControlTabStyles__WEBPACK_IMPORTED_MODULE_4__["invertedTabStyles"])(_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_3__["default"]); // eslint-disable-next-line react/display-name

var StyledTab = Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(function (props) {
  var WrappedTabs = props.theme === 'normal' ? NormalStyledTab : InvertedStyledTab;
  WrappedTabs.displayName = 'StyledTab component';
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedTabs, props);
});

var SegmentedControlTab = function SegmentedControlTab(_ref) {
  var label = _ref.label,
      index = _ref.index,
      theme = _ref.theme,
      props = _objectWithoutProperties(_ref, ["label", "index", "theme"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledTab, _extends({
    theme: theme,
    disableRipple: true,
    label: label
  }, a11yProps(index), props));
};

SegmentedControlTab.propTypes = {
  label: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  index: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  theme: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['normal', 'inverted'])
};
SegmentedControlTab.defaultProps = {
  theme: 'normal'
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SegmentedControlTab));

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabStyles.jsx":
/*!**************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabStyles.jsx ***!
  \**************************************************************************************/
/*! exports provided: normalTabStyles, invertedTabStyles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalTabStyles", function() { return normalTabStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "invertedTabStyles", function() { return invertedTabStyles; });
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_0__);
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}


var tabHeight = 30;
var IPHONE_X_WIDTH = 376;

var commons = function commons(theme) {
  return {
    root: {
      minHeight: tabHeight,
      height: tabHeight,
      textTransform: 'capitalize',
      fontFamily: 'var(--primaryFont)',
      zIndex: 1
    },
    textColorInherit: {
      opacity: 1
    },
    wrapper: _defineProperty({
      paddingBottom: 3,
      fontSize: 14,
      whiteSpace: 'nowrap'
    }, theme.breakpoints.down(IPHONE_X_WIDTH), {
      fontSize: 12
    })
  };
};

var normalTabStyles = function normalTabStyles(theme) {
  return lodash_merge__WEBPACK_IMPORTED_MODULE_0___default()({
    root: {
      color: 'var(--secondaryColorLight)'
    },
    selected: {
      color: 'white',
      fontWeight: 'bold'
    }
  }, commons(theme));
};
var invertedTabStyles = function invertedTabStyles(theme) {
  return lodash_merge__WEBPACK_IMPORTED_MODULE_0___default()({
    root: {
      color: 'white'
    },
    selected: {
      color: 'white',
      fontWeight: 'bold'
    }
  }, commons(theme));
};

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabs.jsx":
/*!*********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabs.jsx ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Tabs */ "./node_modules/@material-ui/core/esm/Tabs/index.js");
/* harmony import */ var _SegmentedControlTab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SegmentedControlTab */ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTab.jsx");
/* harmony import */ var _SegmentedControlTabsStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SegmentedControlTabsStyles */ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabsStyles.jsx");
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}







var NormalStyledTabs = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__["withStyles"])(_SegmentedControlTabsStyles__WEBPACK_IMPORTED_MODULE_5__["normalTabStyles"])(_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_3__["default"]);
var InvertedStyledTabs = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__["withStyles"])(_SegmentedControlTabsStyles__WEBPACK_IMPORTED_MODULE_5__["invertedTabStyles"])(_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_3__["default"]); // eslint-disable-next-line react/display-name

var StyledTabs = Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(function (props) {
  var WrappedTabs = props.theme === 'normal' ? NormalStyledTabs : InvertedStyledTabs;
  WrappedTabs.displayName = 'WrappedTabs component';
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedTabs, props);
});

var SegmentedControlTabs = function SegmentedControlTabs(_ref) {
  var items = _ref.items,
      handleChange = _ref.handleChange,
      selected = _ref.selected,
      theme = _ref.theme;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(selected),
      _useState2 = _slicedToArray(_useState, 2),
      value = _useState2[0],
      setValue = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setValue(selected);
  }, [selected]);

  var _handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (_, newValue) {
    setValue(newValue);
    handleChange(newValue);
  }, []);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledTabs, {
    textColor: theme === 'normal' ? 'secondary' : undefined,
    variant: "fullWidth",
    onChange: _handleChange,
    value: value,
    theme: theme
  }, items.map(function (_ref2, i) {
    var label = _ref2.label;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SegmentedControlTab__WEBPACK_IMPORTED_MODULE_4__["default"], {
      "data-testid": value === i ? 'selected' : null,
      key: label,
      index: i,
      theme: theme,
      label: label
    });
  }));
};

SegmentedControlTabs.propTypes = {
  items: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  handleChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  selected: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,
  theme: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(['normal', 'inverted'])
};
SegmentedControlTabs.defaultProps = {
  theme: 'normal',
  selected: 0
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SegmentedControlTabs));

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabsStyles.jsx":
/*!***************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabsStyles.jsx ***!
  \***************************************************************************************/
/*! exports provided: normalTabStyles, invertedTabStyles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalTabStyles", function() { return normalTabStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "invertedTabStyles", function() { return invertedTabStyles; });
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_0__);

var tabHeight = 30;
var commons = {
  root: {
    minHeight: tabHeight,
    height: tabHeight,
    borderRadius: 50
  },
  indicator: {
    height: '94%',
    borderRadius: 50,
    zIndex: 0
  },
  flexContainer: {
    padding: 2
  }
};
var normalTabStyles = lodash_merge__WEBPACK_IMPORTED_MODULE_0___default()({
  root: {
    backgroundColor: 'var(--headerNavBackgroundColor)',
    color: 'var(--secondaryColor)'
  },
  indicator: {
    backgroundColor: 'var(--secondaryContrastColor)',
    border: '1px solid var(--secondaryColorLight)'
  }
}, commons);
var invertedTabStyles = lodash_merge__WEBPACK_IMPORTED_MODULE_0___default()({
  root: {
    backgroundColor: 'var(--headerInvertedNavBackgroundColor)',
    color: 'white'
  },
  indicator: {
    backgroundColor: 'var(--secondaryColor)',
    border: '1px solid white'
  }
}, commons);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/helpers.jsx":
/*!********************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/helpers.jsx ***!
  \********************************************************************/
/*! exports provided: shouldRouteShowNavHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldRouteShowNavHeader", function() { return shouldRouteShowNavHeader; });
var shouldRouteShowNavHeader = ['/balances', '/analysis/categories', '/analysis/recurrence', '/settings', '/settings/configuration', '/settings/accounts', '/settings/groups'];

/***/ }),

/***/ "../overrides/cozy-banks/src/components/NavHeader/index.jsx":
/*!******************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/NavHeader/index.jsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _NavHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavHeader */ "../overrides/cozy-banks/src/components/NavHeader/NavHeader.jsx");

/* harmony default export */ __webpack_exports__["default"] = (_NavHeader__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/Padded/Padded.styl":
/*!*****************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Padded/Padded.styl ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Padded":"Padded--Hlwba","Unpadded--vertical":"Unpadded--vertical--3D7Mt","Unpadded--horizontal":"Unpadded--horizontal--3yNHP"};

/***/ }),

/***/ "../overrides/cozy-banks/src/components/Select/index.jsx":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Select/index.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_components_Select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/components/Select */ "./src/components/Select/index.jsx");

/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_Select__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/Select/styles.styl":
/*!*****************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/Select/styles.styl ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Select":"Select--215cQ","Select__Icon":"Select__Icon--YIV0n"};

/***/ }),

/***/ "../overrides/cozy-banks/src/components/SelectDates/SelectDates.jsx":
/*!**************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/SelectDates/SelectDates.jsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_components_SelectDates_SelectDates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/components/SelectDates/SelectDates */ "./src/components/SelectDates/SelectDates.jsx");

/* harmony default export */ __webpack_exports__["default"] = (original_banks_components_SelectDates_SelectDates__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/components/SelectDates/SelectDates.styl":
/*!***************************************************************************!*\
  !*** ../overrides/cozy-banks/src/components/SelectDates/SelectDates.styl ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"SelectDates":"SelectDates--25Har","prev-button":"prev-button--Hl0wb","next-button":"next-button--1OJ6n","SelectDatesColor_default":"SelectDatesColor_default--1g1nk","SelectDates__separator":"SelectDates__separator--3b4VO","SelectDates__chip":"SelectDates__chip--1R4GH","SelectDatesColor_inverted":"SelectDatesColor_inverted--BTjHP","SelectDatesButtonDisabled":"SelectDatesButtonDisabled--nFnBN","SelectDates__Button":"SelectDates__Button--25Axb","SelectDatesButtonColor":"SelectDatesButtonColor--2NXNY","SelectDates__Select":"SelectDates__Select--198Qc","SelectDates__month":"SelectDates__month--ZL64d","SelectDates__DateYearSelector":"SelectDates__DateYearSelector--eyup-","SelectDates__SelectYearContainer":"SelectDates__SelectYearContainer--2dpu3","SelectDates__SelectMonthContainer":"SelectDates__SelectMonthContainer--ETGhA","SelectDates__buttons":"SelectDates__buttons--32pws","SelectDates__Button--disabled":"SelectDates__Button--disabled--Ve6kK"};

/***/ }),

/***/ "../overrides/cozy-banks/src/doctypes.js":
/*!***********************************************!*\
  !*** ../overrides/cozy-banks/src/doctypes.js ***!
  \***********************************************/
/*! exports provided: RECIPIENT_DOCTYPE, ACCOUNT_DOCTYPE, GROUP_DOCTYPE, TRANSACTION_DOCTYPE, SETTINGS_DOCTYPE, BILLS_DOCTYPE, TRIGGER_DOCTYPE, JOBS_DOCTYPE, APP_DOCTYPE, KONNECTOR_DOCTYPE, COZY_ACCOUNT_DOCTYPE, PERMISSION_DOCTYPE, BANK_ACCOUNT_STATS_DOCTYPE, CONTACT_DOCTYPE, RECURRENCE_DOCTYPE, IDENTITIES_DOCTYPE, offlineDoctypes, HasManyReimbursements, schema, older30s, accountsConn, groupsConn, cronKonnectorTriggersConn, transactionsConn, makeBalanceTransactionsConn, appsConn, billsConn, settingsConn, recipientsConn, recurrenceConn, myselfConn, konnectorConn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/doctypes */ "./src/doctypes.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RECIPIENT_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["RECIPIENT_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ACCOUNT_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["ACCOUNT_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GROUP_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["GROUP_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TRANSACTION_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["TRANSACTION_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SETTINGS_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["SETTINGS_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BILLS_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["BILLS_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TRIGGER_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["TRIGGER_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JOBS_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["JOBS_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "APP_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["APP_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "KONNECTOR_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["KONNECTOR_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "COZY_ACCOUNT_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["COZY_ACCOUNT_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PERMISSION_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["PERMISSION_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BANK_ACCOUNT_STATS_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["BANK_ACCOUNT_STATS_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CONTACT_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["CONTACT_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RECURRENCE_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["RECURRENCE_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IDENTITIES_DOCTYPE", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["IDENTITIES_DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "offlineDoctypes", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["offlineDoctypes"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HasManyReimbursements", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["HasManyReimbursements"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "schema", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["schema"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "older30s", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["older30s"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "accountsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["accountsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "groupsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["groupsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cronKonnectorTriggersConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["cronKonnectorTriggersConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "transactionsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["transactionsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "makeBalanceTransactionsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["makeBalanceTransactionsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "appsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["appsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "billsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["billsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "settingsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["settingsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recipientsConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["recipientsConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recurrenceConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["recurrenceConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "myselfConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["myselfConn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "konnectorConn", function() { return original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["konnectorConn"]; });

 // io.cozy.accounts are necessary for cozy-harvest-lib
// Would be cool if the lib could add a schema to cozy-client
// so that the app is unaware of this

original_banks_doctypes__WEBPACK_IMPORTED_MODULE_0__["schema"].cozyAccounts = {
  doctype: 'io.cozy.accounts'
}; // Works since we have modified the original object



/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/analysis/AnalysisTabs.jsx":
/*!*******************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/analysis/AnalysisTabs.jsx ***!
  \*******************************************************************/
/*! exports provided: default, activeTab, tabNames, tabRoutes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! original-banks/ducks/analysis/AnalysisTabs */ "./src/ducks/analysis/AnalysisTabs.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "activeTab", function() { return original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["activeTab"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tabNames", function() { return original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["tabNames"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tabRoutes", function() { return original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["tabRoutes"]; });

/* harmony import */ var utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! utils/useHideBySelector */ "../overrides/cozy-banks/src/utils/useHideBySelector.jsx");
/* harmony import */ var components_NavHeader_SegmentedControlTabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/NavHeader/SegmentedControlTabs */ "../overrides/cozy-banks/src/components/NavHeader/SegmentedControlTabs.jsx");






var marginTopSelectedCategoryTabs = '48px';
var marginTopCategoryTabs = '119px';
var marginTopRecurrenceTabs = 0;
var tabs = original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["tabNames"].map(function (t) {
  return {
    label: t
  };
});

var AnalysisTabs = function AnalysisTabs(_ref) {
  var location = _ref.location;
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_2__["useHistory"])();
  var isSelectedCategory = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return !location.pathname.endsWith('/categories');
  }, [location.pathname]);
  var goTo = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (url) {
    return history.push(url);
  }, []);
  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (i) {
    var tabName = original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["tabNames"][i];
    goTo(original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["tabRoutes"][tabName]);
  }, []);
  var activeTab = Object(original_banks_ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_3__["activeTab"])(location);
  var isCategoriesActive = activeTab === 'categories';
  Object(utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_4__["default"])({
    selector: '#coz-bar'
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      marginTop: "".concat(isCategoriesActive ? isSelectedCategory ? marginTopSelectedCategoryTabs : marginTopCategoryTabs : marginTopRecurrenceTabs)
    }
  }, !isCategoriesActive && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-h-half",
    style: {
      backgroundColor: 'var(--secondaryColor)'
    }
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-mh-1 u-mt-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_NavHeader_SegmentedControlTabs__WEBPACK_IMPORTED_MODULE_5__["default"], {
    theme: "normal",
    items: tabs,
    handleChange: handleChange
  })));
};

AnalysisTabs.PropTypes = {
  location: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(AnalysisTabs));


/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/AccountRowCaption.jsx":
/*!***********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/AccountRowCaption.jsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var original_banks_ducks_balance_AccountRowCaption__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! original-banks/ducks/balance/AccountRowCaption */ "./src/ducks/balance/AccountRowCaption.jsx");
/* harmony import */ var _nestor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nestor */ "../overrides/cozy-banks/src/ducks/balance/nestor.js");





/**
 * @override Need to show specific text for accounts that have been imported through Nestor
 */

var AccountRowCaption = function AccountRowCaption(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  if (Object(_nestor__WEBPACK_IMPORTED_MODULE_4__["isNestorAccount"])(props.account)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
      variant: "caption",
      className: "u-error"
    }, t('extra.balances.reconnect-nestor-account'));
  } else {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_banks_ducks_balance_AccountRowCaption__WEBPACK_IMPORTED_MODULE_3__["default"], props);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (AccountRowCaption);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/AccountSwitchBalanceDetails.jsx":
/*!*********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/AccountSwitchBalanceDetails.jsx ***!
  \*********************************************************************************/
/*! exports provided: AccountSwitchBalanceDetails, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountSwitchBalanceDetails", function() { return AccountSwitchBalanceDetails; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_account__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/account */ "./src/ducks/account/index.js");


var AccountSwitchBalanceDetails = function AccountSwitchBalanceDetails(_ref) {
  var accountSwitchSize = _ref.accountSwitchSize;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_account__WEBPACK_IMPORTED_MODULE_1__["AccountSwitch"], {
    size: accountSwitchSize,
    insideBar: true,
    theme: "inverted"
  });
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(AccountSwitchBalanceDetails));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/Balance.jsx":
/*!*************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/Balance.jsx ***!
  \*************************************************************/
/*! exports provided: DumbBalance, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_balance_Balance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/balance/Balance */ "./src/ducks/balance/Balance.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DumbBalance", function() { return original_banks_ducks_balance_Balance__WEBPACK_IMPORTED_MODULE_1__["DumbBalance"]; });

/* harmony import */ var _HelpSpeedDial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HelpSpeedDial */ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/index.jsx");
/* harmony import */ var components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/ErrorBoundary/Error */ "../overrides/cozy-banks/src/components/ErrorBoundary/Error.jsx");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_4__);





original_banks_ducks_balance_Balance__WEBPACK_IMPORTED_MODULE_1__["DumbBalance"].defaultProps.delayContent = 300;

var MaifBalance = function MaifBalance() {
  if (cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('banks.error-page.debug')) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_3__["default"], null);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_banks_ducks_balance_Balance__WEBPACK_IMPORTED_MODULE_1__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HelpSpeedDial__WEBPACK_IMPORTED_MODULE_2__["default"], null));
};


/* harmony default export */ __webpack_exports__["default"] = (MaifBalance);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/BalancePanels.jsx":
/*!*******************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/BalancePanels.jsx ***!
  \*******************************************************************/
/*! exports provided: BalanceAddAccountButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/balance/BalancePanels */ "./src/ducks/balance/BalancePanels.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BalanceAddAccountButton", function() { return original_banks_ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_1__["BalanceAddAccountButton"]; });

/* harmony import */ var _NestorMigration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NestorMigration */ "../overrides/cozy-banks/src/ducks/balance/NestorMigration.jsx");



/**
 * @override MAIF wants the BalanceAddAccountButton to look like a primary button
 */

original_banks_ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_1__["BalanceAddAccountButton"].defaultProps = {
  theme: 'primary'
};
/**
 * @override Show Nestor migration modal
 */

var BalancePanels = function BalancePanels(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NestorMigration__WEBPACK_IMPORTED_MODULE_2__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_banks_ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_1__["default"], props));
};


/* harmony default export */ __webpack_exports__["default"] = (BalancePanels);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/HeaderTitle.jsx":
/*!*****************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/HeaderTitle.jsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/balance/HeaderTitle */ "./src/ducks/balance/HeaderTitle.jsx");

original_banks_ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps = {
  className: 'u-mt-2'
};
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/HelpSpeedDial.styl":
/*!**********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/HelpSpeedDial.styl ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"HelpSpeedDial__container":"HelpSpeedDial__container--QNt_4","HelpSpeedDial__icon":"HelpSpeedDial__icon--3pkj1","HelpSpeedDial__a":"HelpSpeedDial__a--OEZdj"};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/QuestionBubbleIcon.jsx":
/*!**************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/QuestionBubbleIcon.jsx ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}



function SvgBulleQuestion(props) {
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("svg", _extends({
    width: 25,
    height: 25
  }, props), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("g", {
    fill: "#FFF",
    fillRule: "evenodd"
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("path", {
    d: "M25 12.533a12.5 12.5 0 10-6.085 10.695L25 25l-1.772-6.085A12.373 12.373 0 0025 12.533zm-1.717 10.75l-4.042-1.177-.489-.142-.437.261a11.329 11.329 0 01-14.75-2.759A11.325 11.325 0 014.488 4.49a11.33 11.33 0 0117.737 13.825l-.261.438.142.489 1.177 4.04z"
  }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("path", {
    d: "M11 20h2v-3l-2 .313zm1.285-14.986c-.75 0-1.497.107-2.218.318-.727.21-1.422.52-2.067.917l.952 1.874a6.886 6.886 0 011.629-.743 5.65 5.65 0 011.628-.242 2.85 2.85 0 011.895.521c.44.449.66 1.072.6 1.7.069.7-.255 1.379-.838 1.759a5.572 5.572 0 01-2.742.502l.285 3.38h1.562l.171-1.66a4.67 4.67 0 002.876-1.276 3.875 3.875 0 00.972-2.781 4.097 4.097 0 00-1.19-3.188 5.06 5.06 0 00-3.515-1.081z"
  })));
}

/* harmony default export */ __webpack_exports__["default"] = (SvgBulleQuestion);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/WarningLightIcon.jsx":
/*!************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/WarningLightIcon.jsx ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}



function SvgPictoFilaireAssistance(props) {
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("svg", _extends({
    width: 26,
    height: 26
  }, props), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("defs", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("path", {
    d: "M16.085 6.5c1.585.001 2.896 1.246 2.995 2.843l.764 11.37v.156c.537.119.936.574.987 1.127l.292 3.536a.43.43 0 01-.107.329.418.418 0 01-.314.139H5.255a.415.415 0 01-.285-.154.429.429 0 01-.093-.314l.292-3.536c.045-.54.424-.992.944-1.127v-.156l.764-11.37c.1-1.597 1.41-2.842 2.995-2.843h6.213zm3.433 15.6H6.439l-.214 2.6h13.508l-.215-2.6zM16.085 7.8H9.872a1.722 1.722 0 00-1.716 1.63L7.4 20.8h11.157l-.755-11.37a1.725 1.725 0 00-1.717-1.63zm-5.06 1.138l-.023.026c.126-.023.252.044.321.17a.44.44 0 010 .417c-.07.126-.195.193-.321.17h-.61c-.19 0-.346.177-.354.4l-.49 8.22c-.011.195-.15.347-.316.346l-.062-.012a.318.318 0 01-.155-.116.42.42 0 01-.077-.272l.482-8.245c.04-.618.471-1.097.994-1.104h.611zm13.865 2.498a.35.35 0 010 .691h-2.655a.35.35 0 010-.691h2.655zm-21.125 0a.35.35 0 010 .691H1.11a.351.351 0 01-.298-.346.35.35 0 01.298-.345h2.655zm17.453-8.093a.524.524 0 01.596 0c.165.124.165.324 0 .448l-2.405 1.807a.513.513 0 01-.298.09.51.51 0 01-.298-.09.284.284 0 01-.125-.224c0-.084.045-.165.125-.224l2.405-1.807zm-17.032 0a.524.524 0 01.596 0L7.187 5.15c.08.059.125.14.125.224a.282.282 0 01-.125.224.546.546 0 01-.596 0L4.186 3.791c-.165-.124-.165-.324 0-.448zM13.406 0c.189 0 .341.15.341.333v2.584a.34.34 0 01-.34.333.337.337 0 01-.342-.333V.333c0-.184.153-.333.341-.333z",
    id: "picto_filaire_assistance_svg__a"
  })), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("use", {
    fill: "#D8D8D8",
    xlinkHref: "#picto_filaire_assistance_svg__a",
    fillRule: "evenodd"
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (SvgPictoFilaireAssistance);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/animation.json":
/*!******************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/animation.json ***!
  \******************************************************************************/
/*! exports provided: v, fr, ip, op, w, h, nm, ddd, assets, layers, markers, default */
/***/ (function(module) {

module.exports = {"v":"5.7.1","fr":25,"ip":0,"op":100,"w":135,"h":135,"nm":"démo","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Calque de forme 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[66,67.75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-29.5,30],[29.5,-29.25]],"c":false},"ix":2},"nm":"Tracé 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Contour 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Forme 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":28,"s":[50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":38,"s":[100]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[100]},{"t":70,"s":[50]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":28,"s":[50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":38,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[0]},{"t":70,"s":[50]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Réduire les tracés 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":100,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Calque de forme 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[66,67.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-29.5,30],[29.5,-29.25]],"c":false},"ix":2},"nm":"Tracé 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Contour 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Forme 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":28,"s":[50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":38,"s":[100]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[100]},{"t":70,"s":[50]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":28,"s":[50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":38,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[0]},{"t":70,"s":[50]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Réduire les tracés 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":100,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Rond interrogation","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":20,"s":[69.125,61,0],"to":[0,-4.875,0],"ti":[0,4.875,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.333,"y":0.333},"t":28,"s":[69.125,31.75,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":70,"s":[69.125,31.75,0],"to":[0,4.875,0],"ti":[0,-4.875,0]},{"t":78,"s":[69.125,61,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12.42,12.42],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Tracé d'ellipse 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-3.167,34.79],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":100,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Calque de forme 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[67.5,67.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-12.625,-5.625],[20.625,-1],[0,0],[0,0]],"o":[[0,0],[12.625,5.625],[0,0.125],[0,0],[0,0]],"v":[[-19.375,-22.5],[7,-26.5],[-1.5,4.125],[-1.5,4.125],[-1.625,16.5]],"c":false},"ix":2},"nm":"Tracé 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":8,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Contour 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Forme 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[0]},{"t":20,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":78,"s":[100]},{"t":88,"s":[0]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Réduire les tracés 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":100,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Cercle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[65.925,66.901,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[95,95,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[125.203,125.203],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Tracé d'ellipse 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Contour 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[1.102,0.102],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[101.657,101.657],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformer "}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":100,"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Réduire les tracés 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":100,"st":9,"bm":0}],"markers":[]};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/index.jsx":
/*!*************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/index.jsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/withBreakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/withBreakpoints.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var _QuestionBubbleIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./QuestionBubbleIcon */ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/QuestionBubbleIcon.jsx");
/* harmony import */ var _WarningLightIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WarningLightIcon */ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/WarningLightIcon.jsx");
/* harmony import */ var _material_ui_lab_SpeedDialAction__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/lab/SpeedDialAction */ "../node_modules/@material-ui/lab/esm/SpeedDialAction/index.js");
/* harmony import */ var _material_ui_lab_SpeedDial__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/lab/SpeedDial */ "../node_modules/@material-ui/lab/esm/SpeedDial/index.js");
/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lottie-web */ "../node_modules/lottie-web/build/player/lottie.js");
/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lottie_web__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _animation_json__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./animation.json */ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/animation.json");
var _animation_json__WEBPACK_IMPORTED_MODULE_10___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./animation.json */ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/animation.json", 1);
/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! utils/constants */ "../overrides/cozy-banks/src/utils/constants.js");
/* harmony import */ var ducks_balance_HelpSpeedDial_HelpSpeedDial_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/balance/HelpSpeedDial/HelpSpeedDial.styl */ "../overrides/cozy-banks/src/ducks/balance/HelpSpeedDial/HelpSpeedDial.styl");
/* harmony import */ var ducks_balance_HelpSpeedDial_HelpSpeedDial_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_HelpSpeedDial_HelpSpeedDial_styl__WEBPACK_IMPORTED_MODULE_12__);
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}















var speedDialIcon = function speedDialIcon(Component, size) {
  var Wrapped = function Wrapped() {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
      fill: "white",
      width: size,
      height: size
    });
  };

  Wrapped.displayName = "speedDialIcon(".concat(Component.displayName || Component.name, ")");
  return Wrapped;
};

var QuestionBubbleIcon = speedDialIcon(_QuestionBubbleIcon__WEBPACK_IMPORTED_MODULE_5__["default"], 25);
var WarningLightIcon = speedDialIcon(_WarningLightIcon__WEBPACK_IMPORTED_MODULE_6__["default"], 26);

var actions = function actions(t) {
  return [{
    name: t('HelpSpeedDial.faq'),
    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(QuestionBubbleIcon, null),
    FabProps: {
      color: 'secondary',
      component: 'a',
      target: '_blank',
      href: utils_constants__WEBPACK_IMPORTED_MODULE_11__["DEEP_LINK_FAQ"]
    }
  }, {
    name: t('HelpSpeedDial.help'),
    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WarningLightIcon, null),
    FabProps: {
      color: 'secondary',
      component: 'a',
      target: '_blank',
      href: utils_constants__WEBPACK_IMPORTED_MODULE_11__["DEEP_LINK_ASSISTANCE"]
    }
  }];
};

var SpeedDialControlIcon = /*#__PURE__*/function (_React$Component) {
  _inherits(SpeedDialControlIcon, _React$Component);

  function SpeedDialControlIcon() {
    _classCallCheck(this, SpeedDialControlIcon);

    return _possibleConstructorReturn(this, _getPrototypeOf(SpeedDialControlIcon).apply(this, arguments));
  }

  _createClass(SpeedDialControlIcon, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.animation = lottie_web__WEBPACK_IMPORTED_MODULE_9___default.a.loadAnimation({
        container: this.nodeRef,
        animationData: _animation_json__WEBPACK_IMPORTED_MODULE_10__,
        renderer: 'svg',
        loop: false,
        autoplay: false
      });
      this.animation.setSpeed(4);
      window.anim = this.animation;
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (this.props.open != prevProps.open) {
        if (this.props.open) {
          this.animation.playSegments([0, 50], true);
        } else {
          this.animation.playSegments([50, 100], true);
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_balance_HelpSpeedDial_HelpSpeedDial_styl__WEBPACK_IMPORTED_MODULE_12___default.a.HelpSpeedDial__icon,
        ref: function ref(_ref) {
          return _this.nodeRef = _ref;
        }
      });
    }
  }]);

  return SpeedDialControlIcon;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var BalanceSpeedDial_ = /*#__PURE__*/function (_React$Component2) {
  _inherits(BalanceSpeedDial_, _React$Component2);

  function BalanceSpeedDial_(props) {
    var _this2;

    _classCallCheck(this, BalanceSpeedDial_);

    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(BalanceSpeedDial_).call(this, props));

    _defineProperty(_assertThisInitialized(_this2), "handleClose", function () {
      _this2.setState({
        open: false
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "handleOpen", function () {
      _this2.setState({
        open: true
      });
    });

    _this2.handleOpen = _this2.handleOpen.bind(_assertThisInitialized(_this2));
    _this2.handleContainerRef = _this2.handleContainerRef.bind(_assertThisInitialized(_this2));
    _this2.handleClose = _this2.handleClose.bind(_assertThisInitialized(_this2));
    _this2.handleResize = lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(_this2.handleResize.bind(_assertThisInitialized(_this2)), 300);
    _this2.handleScroll = lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default()(_this2.handleScroll.bind(_assertThisInitialized(_this2)), 300);
    _this2.state = {
      hidden: false,
      open: false
    };
    return _this2;
  }

  _createClass(BalanceSpeedDial_, [{
    key: "updateScrollableParent",
    value: function updateScrollableParent() {
      var isMobile = this.props.breakpoints.isMobile;
      var sp = isMobile ? window : document.querySelector('[role="main"]');

      if (!this.scrollListener || this.scrollListener !== sp) {
        if (this.scrollListener) {
          this.scrollListener.removeEventListener('scroll', this.handleScroll);
        }

        this.scrollListener = sp;

        if (this.scrollListener) {
          this.scrollListener.addEventListener('scroll', this.handleScroll, {
            passive: true
          });
        }
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.updateScrollableParent();
      window.addEventListener('resize', this.handleResize, {
        passive: true
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.scrollListener) {
        this.scrollListener.removeEventListener('scroll', this.handleScroll);
      }

      window.removeEventListener('resize', this.handleResize);
    }
  }, {
    key: "handleResize",
    value: function handleResize() {
      this.updateScrollableParent();
    }
  }, {
    key: "handleScroll",
    value: function handleScroll() {
      var isMobile = this.props.breakpoints.isMobile;
      var scrollingElement = isMobile ? document.scrollingElement : this.scrollListener;
      var isHidden = scrollingElement.scrollTop !== 0;

      if (isHidden) {
        this.handleClose();
      }

      this.setState({
        hidden: isHidden
      });
    }
  }, {
    key: "handleContainerRef",
    value: function handleContainerRef(ref) {
      this.ref = ref;
    }
  }, {
    key: "render",
    value: function render() {
      var t = this.props.t;
      var _this$state = this.state,
          hidden = _this$state.hidden,
          open = _this$state.open;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_balance_HelpSpeedDial_HelpSpeedDial_styl__WEBPACK_IMPORTED_MODULE_12___default.a.HelpSpeedDial__container,
        ref: this.handleContainerRef
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_lab_SpeedDial__WEBPACK_IMPORTED_MODULE_8__["default"], {
        ariaLabel: "SpeedDial",
        hidden: hidden,
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SpeedDialControlIcon, {
          open: open
        }),
        onClose: this.handleClose,
        onOpen: this.handleOpen,
        open: open,
        direction: "up"
      }, actions(t).map(function (action) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_lab_SpeedDialAction__WEBPACK_IMPORTED_MODULE_7__["default"], {
          tooltipOpen: true,
          key: action.name,
          icon: action.icon,
          tooltipTitle: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            className: ducks_balance_HelpSpeedDial_HelpSpeedDial_styl__WEBPACK_IMPORTED_MODULE_12___default.a.HelpSpeedDial__a,
            href: action.FabProps.href,
            target: action.FabProps.target
          }, action.name),
          FabProps: action.FabProps
        });
      })));
    }
  }]);

  return BalanceSpeedDial_;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])()(BalanceSpeedDial_)));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/NestorMigration.jsx":
/*!*********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/NestorMigration.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/some */ "./node_modules/lodash/some.js");
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_some__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Text */ "./node_modules/cozy-ui/transpiled/react/Text/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var _nestor_migration_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./nestor-migration.png */ "../overrides/cozy-banks/src/ducks/balance/nestor-migration.png");
/* harmony import */ var _nestor_migration_png__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_nestor_migration_png__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _nestor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./nestor */ "../overrides/cozy-banks/src/ducks/balance/nestor.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_11__);
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}














var NestorModal = function NestorModal(_ref) {
  var dismissAction = _ref.dismissAction;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__["IllustrationDialog"], {
    open: true,
    onClose: dismissAction,
    actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
      extension: "full",
      variant: "primary",
      onClick: dismissAction,
      label: t('extra.nestor-migration-modal.cta')
    })),
    title: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "u-stack-s u-ta-center u-flex u-flex-column u-flex-justify-center u-flex-items-center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      height: 80,
      src: _nestor_migration_png__WEBPACK_IMPORTED_MODULE_9___default.a
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_6__["Text"], null, t('extra.nestor-migration-modal.content'))),
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "u-ta-center u-mt-1"
    }, t('extra.nestor-migration-modal.title')),
    size: "small"
  });
};
/**
 * Shows a help modal telling users that they need to reconnect their
 * Nestor bank accounts
 *
 * This modal is shown once and the result is stored in the io.cozy.bank.settings
 * global doc
 */


var NestorMigration = function NestorMigration() {
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useClient"])();
  var settingsCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_7__["settingsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_7__["settingsConn"]);

  var _useQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_7__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_7__["accountsConn"]),
      accounts = _useQuery.data;

  var globalSettingDoc = settingsCol.data !== null && Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_8__["getDefaultedSettingsFromCollection"])(settingsCol); // Set attribute in settings when the user dismisses the modal

  var handleDismissModal = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    client.save(_objectSpread({}, globalSettingDoc, {
      hasSeenNestorMigration: true
    }));
    setModalDisplayed(false);
  }, [client, setModalDisplayed, globalSettingDoc]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      modalDisplayed = _useState2[0],
      setModalDisplayed = _useState2[1];

  var hasSeenMigration = globalSettingDoc.hasSeenNestorMigration && !cozy_flags__WEBPACK_IMPORTED_MODULE_11___default()('banks.mock-has-not-seen-nestor-migration'); // Show the modal if the attribute is not set in settings

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (lodash_some__WEBPACK_IMPORTED_MODULE_1___default()(accounts, _nestor__WEBPACK_IMPORTED_MODULE_10__["isNestorAccount"]) && !hasSeenMigration) {
      setModalDisplayed(true);
    }
  }, []); // eslint-disable-line react-hooks/exhaustive-deps

  if (modalDisplayed) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NestorModal, {
      dismissAction: handleDismissModal
    });
  } else {
    return null;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (NestorMigration);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/NoAccount.jsx":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/NoAccount.jsx ***!
  \***************************************************************/
/*! exports provided: NoAccount, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/balance/NoAccount */ "./src/ducks/balance/NoAccount.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NoAccount", function() { return original_banks_ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_1__["NoAccount"]; });

/* harmony import */ var components_AnimatedBankLoading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/AnimatedBankLoading */ "../overrides/cozy-banks/src/components/AnimatedBankLoading/index.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");




original_banks_ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_1__["NoAccount"].defaultProps.buttonTheme = 'primary';
original_banks_ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_1__["NoAccount"].defaultProps.children = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_3__["default"], {
  className: "u-mt-3"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AnimatedBankLoading__WEBPACK_IMPORTED_MODULE_2__["default"], null));

/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/PageTitleBalanceHeader.jsx":
/*!****************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/PageTitleBalanceHeader.jsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_search_SearchIconLink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/search/SearchIconLink */ "./src/ducks/search/SearchIconLink.jsx");
/* harmony import */ var components_Title_Title__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/Title/Title */ "./src/components/Title/Title.jsx");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react */ "./node_modules/cozy-ui/transpiled/react/index.js");
/* harmony import */ var utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/useHideBySelector */ "../overrides/cozy-banks/src/utils/useHideBySelector.jsx");







var style = {
  marginTop: 4
};

var PageTitleBalanceHeader = function PageTitleBalanceHeader() {
  var _useI18n = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile; // TODO In the case of segmented control it is preferable to use a useRef


  Object(utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_6__["default"])({
    selector: '#segmented-control',
    topHide: 0,
    topShow: 48
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, isMobile && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_3__["BarCenter"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-flex u-flex-grow-1 u-flex-items-center u-flex-justify-between u-ph-half",
    style: style
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_Title__WEBPACK_IMPORTED_MODULE_2__["default"], null, t('Balance.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_SearchIconLink__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "u-pr-0"
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(PageTitleBalanceHeader));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/nestor-migration.png":
/*!**********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/nestor-migration.png ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/nestor-migration.png";

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/balance/nestor.js":
/*!***********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/balance/nestor.js ***!
  \***********************************************************/
/*! exports provided: isNestorAccount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNestorAccount", function() { return isNestorAccount; });
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_0__);

var isNestorAccount = function isNestorAccount(account) {
  if (cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('banks.mock-nestor-accounts')) {
    return true;
  }

  return account.metadata && account.metadata.vendor === 'nestor';
};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/bar/overrides.js":
/*!**********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/bar/overrides.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_ui_react_utils_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-ui/react/utils/color */ "./node_modules/cozy-ui/transpiled/react/utils/color.js");

/* harmony default export */ __webpack_exports__["default"] = ({
  primary: {
    primaryColor: Object(cozy_ui_react_utils_color__WEBPACK_IMPORTED_MODULE_0__["getCssVariableValue"])('primaryColor'),
    primaryContrastTextColor: '#fff'
  }
});

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/AddAccountButton.jsx":
/*!*************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/AddAccountButton.jsx ***!
  \*************************************************************************/
/*! exports provided: AddAccountButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/categories/AddAccountButton */ "./src/ducks/categories/AddAccountButton.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddAccountButton", function() { return original_banks_ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_0__["AddAccountButton"]; });


original_banks_ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_0__["AddAccountButton"].defaultProps.buttonTheme = 'primary';

/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/CategoriesChart.jsx":
/*!************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/CategoriesChart.jsx ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_categories_CategoriesChart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/categories/CategoriesChart */ "./src/ducks/categories/CategoriesChart.jsx");

/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_categories_CategoriesChart__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/CategoriesChart.styl":
/*!*************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/CategoriesChart.styl ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"CategoriesChart":"CategoriesChart--3gPiE","inverted":"inverted--3Bdvv","NoAccount":"NoAccount--2inAe","CategoriesChart__FigureBlockContainer":"CategoriesChart__FigureBlockContainer--3qn28","CategoriesChart__FigureBlock":"CategoriesChart__FigureBlock--38mDx","CategoriesChart__Figure":"CategoriesChart__Figure--19lzS"};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl":
/*!*******************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"CategoriesHeader":"CategoriesHeader--121sZ","NoAccount":"NoAccount--mH41C","NoAccount_container":"NoAccount_container--1Gtge","NoAccount_box":"NoAccount_box--1WepA","NoAccount_chart":"NoAccount_chart--3lX7j","SubcategoryChart":"SubcategoryChart--1FvlE","NoAccount_empty":"NoAccount_empty--37b6a","CategoriesHeader__Toggle":"CategoriesHeader__Toggle--3fCfW","normal":"normal--1nmg1","inverted":"inverted--f0dXR"};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/index.jsx":
/*!*******************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/index.jsx ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_categories_CategoriesHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/categories/CategoriesHeader */ "./src/ducks/categories/CategoriesHeader/index.jsx");
 // Change to null when issue 1701 will be resolved
// https://github.com/cozy/cozy-ui/issues/1701

original_banks_ducks_categories_CategoriesHeader__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps = {
  chartSize: 182,
  emptyIcon: {},
  classes: {
    header: 'u-mt-1',
    legalMention: ''
  }
};
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_categories_CategoriesHeader__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/CategoriesPage.jsx":
/*!***********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/CategoriesPage.jsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_categories_CategoriesPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/categories/CategoriesPage */ "./src/ducks/categories/CategoriesPage.jsx");

original_banks_ducks_categories_CategoriesPage__WEBPACK_IMPORTED_MODULE_0__["CategoriesPage"].defaultProps.delayContent = 300;
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_categories_CategoriesPage__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/CategoryAccountSwitch.jsx":
/*!******************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/CategoryAccountSwitch.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_categories_CategoryAccountSwitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/categories/CategoryAccountSwitch */ "./src/ducks/categories/CategoryAccountSwitch.jsx");
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}



/**
 * Override CategoryAccountSwitch
 *
 * @param selectedCategory
 * @param props
 * @returns {JSX.Element}
 *
 */

var CategoryAccountSwitch = function CategoryAccountSwitch(_ref) {
  var selectedCategory = _ref.selectedCategory,
      props = _objectWithoutProperties(_ref, ["selectedCategory"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_banks_ducks_categories_CategoryAccountSwitch__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    insideBar: !!selectedCategory,
    selectedCategory: selectedCategory
  }, props));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(CategoryAccountSwitch));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/DateSelectorHeader/index.jsx":
/*!*********************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/DateSelectorHeader/index.jsx ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/categories/CategoriesHeader/CategoriesHeader.styl */ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_categories_CategoryAccountSwitch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/categories/CategoryAccountSwitch */ "../overrides/cozy-banks/src/ducks/categories/CategoryAccountSwitch.jsx");
/* harmony import */ var components_Title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Title */ "./src/components/Title/index.js");
/* harmony import */ var utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! utils/useHideBySelector */ "../overrides/cozy-banks/src/utils/useHideBySelector.jsx");







var DateSelectorHeader = function DateSelectorHeader(_ref) {
  var dateSelector = _ref.dateSelector,
      selectedCategory = _ref.selectedCategory,
      breadcrumbItems = _ref.breadcrumbItems;

  var _useHideBySelector = Object(utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_5__["default"])({
    selector: '#coz-bar',
    topHide: -50,
    topShow: 0
  }),
      headerStyle = _useHideBySelector.style;

  var containerCategoryAccSwitch = selectedCategory ? null : 'u-mv-1-half u-ml-1';
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_1__["default"], {
    theme: "inverted",
    fixed: true,
    className: "".concat(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_2___default.a.CategoriesHeader),
    style: headerStyle
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title__WEBPACK_IMPORTED_MODULE_4__["PageTitle"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: containerCategoryAccSwitch
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryAccountSwitch__WEBPACK_IMPORTED_MODULE_3__["default"], {
    selectedCategory: selectedCategory,
    breadcrumbItems: breadcrumbItems
  })), dateSelector);
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(DateSelectorHeader));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/categories/colors.js":
/*!**************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/categories/colors.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_categories_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/categories/colors */ "./src/ducks/categories/colors.js");

/** @override Change category colors */

Object.assign(original_banks_ducks_categories_colors__WEBPACK_IMPORTED_MODULE_0__["default"], {
  incomeCat: '#809792',
  activities: '#F9CCCF',
  homeAndRealEstate: '#675C6B',
  dailyLife: '#E08D69',
  kids: '#9FB3CD',
  goingOutAndTravel: '#824E50',
  services: '#2E404F',
  health: '#DB9CBB',
  educationAndTraining: '#6EA6BE',
  excludeFromBudgetCat: '#CF535D',
  tax: '#AC464F',
  transportation: '#7C798E',
  uncategorized: '#3E5F6B'
});
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_categories_colors__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/client/manifest.js":
/*!************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/client/manifest.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _manifest_webapp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../manifest.webapp */ "../overrides/cozy-banks/manifest.webapp");
/* harmony import */ var _manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_manifest_webapp__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default.a);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/future/PlannedTransactionsPage.jsx":
/*!****************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/future/PlannedTransactionsPage.jsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_future_PlannedTransactionsPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/future/PlannedTransactionsPage */ "./src/ducks/future/PlannedTransactionsPage.jsx");
/* harmony import */ var assets_icons_recurrence_icon_group_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/icons/recurrence/icon-group.svg */ "../overrides/cozy-banks/src/assets/icons/recurrence/icon-group.svg");


original_banks_ducks_future_PlannedTransactionsPage__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps.emptyIcon = assets_icons_recurrence_icon_group_svg__WEBPACK_IMPORTED_MODULE_1__["default"];
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_future_PlannedTransactionsPage__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx":
/*!****************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");


/** This is a placeholder element that can be overrided */

var LegalMention = function LegalMention(_ref) {
  var className = _ref.className,
      style = _ref.style,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: className,
    style: style
  }, children, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__["default"], {
    variant: "caption",
    color: "textSecondary",
    align: "right"
  }, "Services ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "MAIF"), " Paiements"));
};

LegalMention.active = true;
/* harmony default export */ __webpack_exports__["default"] = (LegalMention);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/personal-info/PersonalInfoDialog.jsx":
/*!******************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/personal-info/PersonalInfoDialog.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_personal_info_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/personal-info/PersonalInfoDialog */ "./src/ducks/personal-info/PersonalInfoDialog.jsx");
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

 // Info that will be sent to Budget-Insight and partially shown in the personal
// info dialog comes from two different identities. One from the app (this identity
// will be updated with the information from the dialog), and the identity that is
// fetched from the konnector maif-epa (won't be updated from the information in the
// modal).

original_banks_ducks_personal_info_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_0__["PersonalInfoDialog"].defaultProps.sourceIdentitySelectors = [].concat(_toConsumableArray(original_banks_ducks_personal_info_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_0__["PersonalInfoDialog"].defaultProps.sourceIdentitySelectors), [{
  'cozyMetadata.createdByApp': 'maif-epa'
}]);
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_personal_info_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/recurrence/Bundles.jsx":
/*!****************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/recurrence/Bundles.jsx ***!
  \****************************************************************/
/*! exports provided: BundleRow, BundlesTableHead, BundleMobileWrapper, BundlesTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BundleMobileWrapper", function() { return BundleMobileWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/recurrence/Bundles */ "./src/ducks/recurrence/Bundles.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BundleRow", function() { return original_banks_ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_1__["BundleRow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BundlesTableHead", function() { return original_banks_ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_1__["BundlesTableHead"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BundlesTable", function() { return original_banks_ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_1__["BundlesTable"]; });




var BundleMobileWrapper = function BundleMobileWrapper(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, children);
};



/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/recurrence/RecurrencesPage.jsx":
/*!************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/recurrence/RecurrencesPage.jsx ***!
  \************************************************************************/
/*! exports provided: RecurrencesPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_recurrence_RecurrencesPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/recurrence/RecurrencesPage */ "./src/ducks/recurrence/RecurrencesPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecurrencesPage", function() { return original_banks_ducks_recurrence_RecurrencesPage__WEBPACK_IMPORTED_MODULE_0__["RecurrencesPage"]; });

/* harmony import */ var assets_icons_recurrence_icon_group_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/icons/recurrence/icon-group.svg */ "../overrides/cozy-banks/src/assets/icons/recurrence/icon-group.svg");


original_banks_ducks_recurrence_RecurrencesPage__WEBPACK_IMPORTED_MODULE_0__["RecurrencesPage"].defaultProps = {
  emptyIcon: assets_icons_recurrence_icon_group_svg__WEBPACK_IMPORTED_MODULE_1__["default"],
  showTitle: false
};

/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_recurrence_RecurrencesPage__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/recurrence/index.js":
/*!*************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/recurrence/index.js ***!
  \*************************************************************/
/*! exports provided: DebugRecurrencePage, RecurrencesPage, RecurrencePage, findAndUpdateRecurrences, getRulesFromConfig, defaultRulesConfig, nextDate, STATUS_FINISHED, STATUS_ONGOING */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_recurrence_DebugRecurrencePage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/recurrence/DebugRecurrencePage */ "./src/ducks/recurrence/DebugRecurrencePage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DebugRecurrencePage", function() { return original_banks_ducks_recurrence_DebugRecurrencePage__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _RecurrencesPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RecurrencesPage */ "../overrides/cozy-banks/src/ducks/recurrence/RecurrencesPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecurrencesPage", function() { return _RecurrencesPage__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var original_banks_ducks_recurrence_RecurrencePage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! original-banks/ducks/recurrence/RecurrencePage */ "./src/ducks/recurrence/RecurrencePage/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecurrencePage", function() { return original_banks_ducks_recurrence_RecurrencePage__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var original_banks_ducks_recurrence_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! original-banks/ducks/recurrence/search */ "./src/ducks/recurrence/search.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "findAndUpdateRecurrences", function() { return original_banks_ducks_recurrence_search__WEBPACK_IMPORTED_MODULE_3__["findAndUpdateRecurrences"]; });

/* harmony import */ var original_banks_ducks_recurrence_rules__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! original-banks/ducks/recurrence/rules */ "./src/ducks/recurrence/rules.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getRulesFromConfig", function() { return original_banks_ducks_recurrence_rules__WEBPACK_IMPORTED_MODULE_4__["getRulesFromConfig"]; });

/* harmony import */ var original_banks_ducks_recurrence_config_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! original-banks/ducks/recurrence/config.json */ "./src/ducks/recurrence/config.json");
var original_banks_ducks_recurrence_config_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! original-banks/ducks/recurrence/config.json */ "./src/ducks/recurrence/config.json", 1);
/* harmony reexport (default from named exports) */ __webpack_require__.d(__webpack_exports__, "defaultRulesConfig", function() { return original_banks_ducks_recurrence_config_json__WEBPACK_IMPORTED_MODULE_5__; });
/* harmony import */ var original_banks_ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! original-banks/ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "nextDate", function() { return original_banks_ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_6__["nextDate"]; });

/* harmony import */ var original_banks_ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! original-banks/ducks/recurrence/api */ "./src/ducks/recurrence/api.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "STATUS_FINISHED", function() { return original_banks_ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_7__["STATUS_FINISHED"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "STATUS_ONGOING", function() { return original_banks_ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_7__["STATUS_ONGOING"]; });










/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/settings/AddAccountLink.jsx":
/*!*********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/settings/AddAccountLink.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "../node_modules/react-router/es/index.js");
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}




var AddAccountLink = /*#__PURE__*/function (_React$Component) {
  _inherits(AddAccountLink, _React$Component);

  function AddAccountLink(props, context) {
    var _this;

    _classCallCheck(this, AddAccountLink);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddAccountLink).call(this, props, context));
    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(AddAccountLink, [{
    key: "handleClick",
    value: function handleClick() {
      // TODO react-router update
      this.props.router.push('/services/banking');
    }
  }, {
    key: "render",
    value: function render() {
      var children = this.props.children;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(children, {
        onClick: this.handleClick
      });
    }
  }]);

  return AddAccountLink;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_1__["withRouter"])(AddAccountLink));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/settings/AddRuleButton.jsx":
/*!********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/settings/AddRuleButton.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");


 // TODO find how to import stylus in overrides

var buttonStyle = {
  textTransform: 'none',
  fontWeight: 'normal',
  fontSize: '1rem',
  marginLeft: 8,
  color: 'var(--primaryTextColor)'
}; // TODO find why file-loader does not work correctly

var chevron = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABUCAYAAADeW1RFAAAAAXNSR0IArs4c6QAACVxJREFUeAHtXGlzU1cSbe16kizZ7LbxzmabZZLADBWopCpDpmb+1fwuZshUsVQC82EovGEMXmJjG7zJkp7WJ2nOaVkV1yTUxNJbwOhWwXvI0tM99/TtPt19ja+OIZ/R8H9GWBVqB/BxZ7zDcIfhY7YCHZM+ZoT+Ck6H4V8tyTF74bNjONgOgfVaTeqlklQLBbF2d6WG+/C5cxI6ebKdxzr62fYYrlalappS2diQ7PPnsv/kiZTX1x2dcLsPb51hsEuw+Vfzkp97iesrsbJZCfb0SDCZkkBPN67Jdudn++dbA4yMkuZczWQk95/nkn74UMpb7/W18IkTEojHJH5l/BgB1nX3iQA4962Vy4mVyeK+KCaY9oXD4o9EwTLAG1HxR6O2M9XqA1tj2OcTXwDbH8CCXV0S6u4WK70v1f19Kbx+I9V8XkKnTkmkr0/kzJljAJjLC9ABw5DoyLAktq9JrVwGy2l47LyU3r4Vc2ZWAtjDiWvXJZBIiC8YxCIFWiXGts+1xvDB1wdi2KuTV8UP4FZmX0rrG1KF46oVi5KbnQbTJn4WlcjggC7OJw/YFwqp6bIsFpuclEo6LfmFBSmtrUlle1vqlaoY0zMSPn1GjOFhiQwMNJYK1uHVaIthmjVZC6ZS0vXFF3BUEYC0pLy5KXXGaJh47sULfU3ufSdh7GmfH3v/kwVMmgCAXjjS369ASqurUt7ekjLECNVXEWwTfOR8P95zXoJQYSGELq9GewwfzJqsBeJxCZ89K4k/3NBX01BdlZ0d3dMlxOzciynxYa8nYQmfPGA1beznAEKUMTqG+CxSfvdOTbuaRYyGIyssLWoo0zAG06bD4x+3hy0MNyfN0BM6fVr3aQkmXYUYMRfmpbi8Ivx3rViQEOJyGH+ig0MSGPzUAR+YNk08fvmS1BGeqMQq2zt6LW1sSn5+/kBy1iV46qT4YRn09m4NWxluTprSMjoyCmdmSGV3T0rvNqUCrV3ZS0thcVGVmD8G0TIwKAGoNHp5t4YzgBGqmBPTe8cmxuG8tsWcm8NezgH0Hq4ZiQ4NQXr2i3Hhgjo8DVewDKeHI4B10oi1jMuJ8QlcwyLw1GUqsVJB43L+5UtcK9Jz756GNE04YBlOD+cAY+Z0YuH+PvEjXSwjHjMml9beSmlzoyFDkV6S5Rg8e+hsw5k5LUocBXw4XMWvXuUSyN7DR43cucJkwxJzdgYWEJLkn26rTHVabzsLmBCxn5lcqBMzwPS79whTi0gnM5pwFJaXNY8OdvdIdGxM002KGKeYDvwdA/NydDBVUODYo3WkkbxnuCq/Z5UERQSUiphqNt8ThPRUJ+bArBxnWOdMBwaPzXhrXLwIIVbXelhxZaURpyFB869fq5NjXA739oofKoz3djPtDuADpsga9TaBVCg9EZ+Lq3Bib9c02ciWS0LTZqUk1NsHRQbVBmuwc7gKmGwFITRYAYldvizWzp5iqSC7suCxLcToSG8/GD4nceTYwVRSWbcTtLuADzGtTiwclRpiMSslFuphBF1YXpL6DyjwI26HYA0hMK5Jht+eooEngJlDR9ChCKPQV4Q5E2RxZVn3NbMsKrMwkpAYvLZvuI79H4ETs2eq9jyllU1GGQlhEr90Wcu9rG1Xtra1GEjW6cR279+X1N07WjQI4L12DOfF64dmif3MvckCX+r2bTFGRjTZEJhuvWzBma3K/rOnUlxalrpl6aJ86FFHed07wEeZpY3v9RbwQeeChYJaoQhHVQWTQAf/xMQj2JUUH+M3rEFftAG4PRujlYnAC7O4x4JA9t/PUMee1To2UANsWGIQKN137kh8YlJbN1wEO4Y3gMEiOxU1tGQKALz7w7+0QECWA7E44nRcYnBmqW++0XKQnRURTwDXwWJxaUmYE+dmZrTgV0OLhsMYQevm2jWJX7/aKCJQY6tJ64/b/st1wDRjsstST/rxYwXNLgVzZz+SC3prMssYTFXG1+0c9j7t/8yM6knLt+uNZps5O6cigx+LQE5Gzg8I82aWep3KmNwDDI/MeFpG5TKHfpM5N6unBzQbYlKBykfy5k2tgUWHh2xntsmFO4DBLI9HMDnIzUzJ/qNHUvx5RefAimUQxyMSExOoevwRLA9q+6Y5QbuvrgCmKTMxKMGU82B3/8cfNSRp9gSwxtCwdh+7bt4Cs8yB7Yb5y/OcBXxgxlUciTCnpiTz9KlqZDouhhqmiQnE2dTduxp3hbmvg2AJ23HA9Mg8/GJOTcvO/X9INZdVdlm3CnWn0FCflBPf/0Ub506VdX7h10nAlI0Am4dzyqJzaEJgVM2cOi6Gn9iVK+gkfimx8SsNsDaHn8MgD987yjALdSbOcO09+KeUfl7T1qnGW7Rg4qh4nPjbX7W55uYpH0cAszLJYw+FN28kD43MQy5smRKsMTqq7RUekWAnUUuyhylw+N4RwEzgC4tvJPPTT2JCPrLbwCzIh4I7RUX3t99qGGJVw+1hK2AKCwsHW9hD4rGl7NQLLbxTC5NNqqn45ITEx3FKj2Bt1Mi/d+FsB1zZ2kLoWYCamtZjDhqCYMoEm4BsjENgsGLphkf+rUWwBTCFBc9mWSiok9Xs02daoiHjgXgCZzp6NK9Nfv01Ov+DjsnG3wL4v6/ZApitUB43ZGG9ediUJ/JYs+KZjkhfr6Z7KQBmJcPL0R5gKimVjVlIxmk9M60dfuhm7k8ecuGe7frqKzHGLmj7xCtTbi5y24DFQn6LY4c5HBDfe/CgkczDSwfQKWRikLhxA0rqez1HbWcHoQngqNe2AFexb1m5YI/XnH/VOKaEXweg2RoXL6iDMi5dwuGVU56bcnNh2gNs5tUbZx4/gchY0IyID9ZTtPDG3X/+TmI43EJxYWeZpjn5Vq6tAebepVbm4XCUZ0ob6wCb0zyW4ccYHoVGHgfYMf1VAK/37eGFaQ0wn4AUT9De5El4K72H324pNkwZzil565YmByGA/xj2rT2AUZbxoWltjI0g/n6JptgqGC+ruEhcv95oartwKucwmN9z3xrDCDk0U/7WShdSPDaxzZlpFOR2Jc4SKxSVP+xtvP0Q+NYA82kAzbyWGpnVC97zwBkPgrOS8bEOX1v/ywOdF/YyJSQdGO/ZvHYzvz3qwrYH+Kjf9hG839vuoQcL0AHswaK7+pUdhl1dbg++rMOwB4vu6ld2GHZ1uT34sg7DHiy6q1/52TH8X1U43/Q+cPW1AAAAAElFTkSuQmCC';

var AddRuleButton = function AddRuleButton(_ref) {
  var label = _ref.label,
      busy = _ref.busy,
      onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], {
    className: "u-ml-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    height: 18,
    src: chevron
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    style: buttonStyle,
    className: 'u-mb-0 u-mt-0',
    theme: "subtle",
    size: "small",
    label: label,
    busy: busy,
    onClick: onClick
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (AddRuleButton);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/settings/Settings.jsx":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/settings/Settings.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_settings_Settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/settings/Settings */ "./src/ducks/settings/Settings.jsx");

original_banks_ducks_settings_Settings__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps.delayContent = 300;
/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_settings_Settings__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/settings/Settings.styl":
/*!****************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/settings/Settings.styl ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Header--fixed":"Header--fixed--3-UtC","HeaderColor_normal":"HeaderColor_normal--rPiCM","HeaderColor_inverted":"HeaderColor_inverted--Lt_3p","Header--paper":"Header--paper--E2JJO","Settings__Content":"Settings__Content--22giP"};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/settings/TabsHeader/index.jsx":
/*!***********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/settings/TabsHeader/index.jsx ***!
  \***********************************************************************/
/*! exports provided: default, tabNames */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react */ "./node_modules/cozy-ui/transpiled/react/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Title */ "./src/components/Title/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiTabs */ "./node_modules/cozy-ui/transpiled/react/MuiTabs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Divider */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Divider/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var original_banks_ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! original-banks/ducks/settings/TabsHeader */ "./src/ducks/settings/TabsHeader/index.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tabNames", function() { return original_banks_ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_9__["tabNames"]; });

/* harmony import */ var utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! utils/useHideBySelector */ "../overrides/cozy-banks/src/utils/useHideBySelector.jsx");












var TabsHeader = function TabsHeader() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var location = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_8__["useLocation"])();
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_8__["useHistory"])();
  var defaultTab = location.pathname.replace('/settings/', '');
  if (original_banks_ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_9__["tabNames"].indexOf(defaultTab) === -1) defaultTab = 'configuration';
  var goTo = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (url) {
    return function () {
      return history.push(url);
    };
  }, [history]);

  var _useHideBySelector = Object(utils_useHideBySelector__WEBPACK_IMPORTED_MODULE_10__["default"])({
    selector: '#coz-bar',
    topHide: 0,
    topShow: 48
  }),
      headerStyle = _useHideBySelector.style;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: isMobile ? 'u-p-0' : 'u-pb-half'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title__WEBPACK_IMPORTED_MODULE_3__["PageTitle"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_5__["default"], {
    fixed: true,
    theme: isMobile ? 'inverted' : 'normal',
    style: headerStyle
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_6__["Tabs"], {
    value: original_banks_ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_9__["tabNames"].indexOf(defaultTab)
  }, original_banks_ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_9__["tabNames"].map(function (tabName, i) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_6__["Tab"], {
      disableRipple: true,
      classes: {
        root: i === 0 && !isMobile ? 'u-ml-2' : 0
      },
      key: tabName,
      name: tabName,
      onClick: goTo("/settings/".concat(tabName)),
      label: t("Settings.".concat(tabName))
    });
  })), isMobile ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_7__["default"], null)));
};

/* harmony default export */ __webpack_exports__["default"] = (TabsHeader);


/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/settings/constants.js":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/settings/constants.js ***!
  \***************************************************************/
/*! exports provided: DOCTYPE, COLLECTION_NAME, DEFAULTS_SETTINGS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_settings_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/settings/constants */ "./src/ducks/settings/constants.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE", function() { return original_banks_ducks_settings_constants__WEBPACK_IMPORTED_MODULE_1__["DOCTYPE"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "COLLECTION_NAME", function() { return original_banks_ducks_settings_constants__WEBPACK_IMPORTED_MODULE_1__["COLLECTION_NAME"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULTS_SETTINGS", function() { return original_banks_ducks_settings_constants__WEBPACK_IMPORTED_MODULE_1__["DEFAULTS_SETTINGS"]; });



lodash_merge__WEBPACK_IMPORTED_MODULE_0___default()(original_banks_ducks_settings_constants__WEBPACK_IMPORTED_MODULE_1__["DEFAULTS_SETTINGS"], {
  notifications: {
    transactionGreater: [{
      id: 0,
      value: 30,
      enabled: true
    }]
  }
});


/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/SearchField.jsx":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/SearchField.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Input */ "./node_modules/cozy-ui/transpiled/react/Input/index.js");
/* harmony import */ var cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/InputGroup */ "./node_modules/cozy-ui/transpiled/react/InputGroup/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Label__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Label */ "./node_modules/cozy-ui/transpiled/react/Label/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Magnifier */ "./node_modules/cozy-ui/transpiled/react/Icons/Magnifier.js");








/** Reproduces the SearchField behavior from the Store */

var SearchField = function SearchField(_ref) {
  var onChange = _ref.onChange,
      value = _ref.value;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    onChange(ev.target.value);
  }, [onChange]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      width: isMobile ? undefined : '90%'
    }
  }, !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Label__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "u-di u-mr-half",
    htmlFor: "store-search"
  }, t('Store.search-field.label')) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "u-mb-1",
    prepend: isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_7__["default"],
      className: "u-pl-1 u-coolGrey"
    }) : null
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_3__["default"], {
    id: "store-search",
    placeholder: t('Store.search-field.placeholder'),
    onChange: handleChange,
    type: "text",
    value: value
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (SearchField);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/SearchResults.jsx":
/*!*****************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/SearchResults.jsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/AppTile */ "../overrides/cozy-ui/transpiled/react/AppTile/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_I18n_withLocales__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n/withLocales */ "./node_modules/cozy-ui/transpiled/react/I18n/withLocales.js");
/* harmony import */ var _StoreKonnectorIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StoreKonnectorIcon */ "../overrides/cozy-banks/src/ducks/store/StoreKonnectorIcon.jsx");
/* harmony import */ var original_cozy_ui_react_AppSections_locales_en_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! original-cozy-ui/react/AppSections/locales/en.json */ "./node_modules/cozy-ui/react/AppSections/locales/en.json");
var original_cozy_ui_react_AppSections_locales_en_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! original-cozy-ui/react/AppSections/locales/en.json */ "./node_modules/cozy-ui/react/AppSections/locales/en.json", 1);
/* harmony import */ var original_cozy_ui_react_AppSections_locales_fr_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! original-cozy-ui/react/AppSections/locales/fr.json */ "./node_modules/cozy-ui/react/AppSections/locales/fr.json");
var original_cozy_ui_react_AppSections_locales_fr_json__WEBPACK_IMPORTED_MODULE_6___namespace = /*#__PURE__*/__webpack_require__.t(/*! original-cozy-ui/react/AppSections/locales/fr.json */ "./node_modules/cozy-ui/react/AppSections/locales/fr.json", 1);




 // We have to wrap AppTile ourselves
// See https://github.com/cozy/cozy-ui/issues/1569
// TODO directly import AppTile when issue is fixed
// original-cozy-ui is used instead of cozy-ui to bypass
// the alias cozy-ui/react -> cozy-ui/transpiled/react, as
// JSON files are not shipped in the transpiled version



var AppTile = Object(cozy_ui_transpiled_react_I18n_withLocales__WEBPACK_IMPORTED_MODULE_3__["default"])({
  en: original_cozy_ui_react_AppSections_locales_en_json__WEBPACK_IMPORTED_MODULE_5__,
  fr: original_cozy_ui_react_AppSections_locales_fr_json__WEBPACK_IMPORTED_MODULE_6__
})(cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_2__["default"]);

var SearchResults = function SearchResults(_ref) {
  var searchResults = _ref.searchResults,
      onAppClick = _ref.onAppClick;
  var sortedSortResults = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(searchResults, function (result) {
      return result.score;
    });
  }, [searchResults]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-mv-1 u-flex u-flex-wrap"
  }, sortedSortResults.map(function (result) {
    var app = result.item;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AppTile, {
      IconComponent: _StoreKonnectorIcon__WEBPACK_IMPORTED_MODULE_4__["default"],
      onClick: function onClick() {
        return onAppClick(app.slug);
      },
      namePrefix: app.name_prefix,
      name: app.name,
      key: app.slug,
      app: app
    });
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (SearchResults);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/Store.jsx":
/*!*********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/Store.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router */ "../node_modules/react-router/es/index.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_AppSections__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/AppSections */ "./node_modules/cozy-ui/transpiled/react/AppSections/index.js");
/* harmony import */ var cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-realtime */ "./node_modules/cozy-realtime/dist/index.js");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/KonnectorIcon */ "./node_modules/cozy-harvest-lib/dist/components/KonnectorIcon.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./data */ "../overrides/cozy-banks/src/ducks/store/data.js");
/* harmony import */ var _promises__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./promises */ "../overrides/cozy-banks/src/ducks/store/promises.js");
/* harmony import */ var _ls_plus__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ls-plus */ "../overrides/cozy-banks/src/ducks/store/ls-plus.js");
/* harmony import */ var _waitUntil__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./waitUntil */ "../overrides/cozy-banks/src/ducks/store/waitUntil.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var _transactions_actions_KonnectorAction_HarvestModal__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../transactions/actions/KonnectorAction/HarvestModal */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestModal.jsx");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var _SearchField__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./SearchField */ "../overrides/cozy-banks/src/ducks/store/SearchField.jsx");
/* harmony import */ var _SearchResults__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./SearchResults */ "../overrides/cozy-banks/src/ducks/store/SearchResults.jsx");
/* harmony import */ var _StoreKonnectorIcon__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./StoreKonnectorIcon */ "../overrides/cozy-banks/src/ducks/store/StoreKonnectorIcon.jsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./utils */ "../overrides/cozy-banks/src/ducks/store/utils.js");


function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}























 // TODO move those two components in cozy-ui








/**
 * Installs a konnector from the registry.
 * Returns the konnector from the user POV
 */

var _installKonnector = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, regKonn) {
    var registry, channel, source, userKonn;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            registry = new cozy_client__WEBPACK_IMPORTED_MODULE_12__["Registry"]({
              client: client
            }); // Launch installation

            channel = getRegistryChannel();
            source = "registry://".concat(regKonn.slug, "/").concat(channel);
            _context.next = 5;
            return registry.installApp(regKonn, source);

          case 5:
            _context.next = 7;
            return Object(_waitUntil__WEBPACK_IMPORTED_MODULE_22__["default"])(function () {
              return fetchKonnectorBySlug(client, regKonn.slug);
            }, 1000);

          case 7:
            userKonn = _context.sent;
            return _context.abrupt("return", userKonn);

          case 9:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function installKonnector(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var InstallationDialog = function InstallationDialog(_ref2) {
  var konn = _ref2.konn;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_9__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_10__["default"], {
    open: true,
    fullScreen: isMobile
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_10__["DialogTitle"], {
    className: "u-ph-3 u-ta-center"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_15__["default"], {
    konnectorSlug: konn.slug,
    className: "u-w-3 u-h-3"
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_17__["default"], {
    loadingType: "store.konnector-installation"
  }));
};

var getRegistryChannel = function getRegistryChannel() {
  return cozy_flags__WEBPACK_IMPORTED_MODULE_14___default()('registry.use-dev-channel') ? 'dev' : 'stable';
};

var fetchKonnectorBySlug = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, slug) {
    var _yield$client$collect, data;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return client.collection('io.cozy.konnectors').all();

          case 2:
            _yield$client$collect = _context2.sent;
            data = _yield$client$collect.data;
            return _context2.abrupt("return", data.find(function (x) {
              return x.attributes.slug === slug;
            }));

          case 5:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function fetchKonnectorBySlug(_x3, _x4) {
    return _ref3.apply(this, arguments);
  };
}();

var Store = /*#__PURE__*/function (_React$Component) {
  _inherits(Store, _React$Component);

  function Store(props, context) {
    var _this;

    _classCallCheck(this, Store);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Store).call(this, props, context));
    _this.state = {
      fetching: true,
      // While registry apps are being fetched
      installing: null,
      // App currently being installed
      configuring: null,
      // Konnector currently being configured
      konnectorNotFound: false,
      registryKonns: _ls_plus__WEBPACK_IMPORTED_MODULE_21__["default"].get('registryKonns', []),
      konnectors: [],
      filter: _this.getFilterFromLocation(),
      searchFieldValue: _this.getSearchFromLocation()
    };
    _this.handleAppClick = _this.handleAppClick.bind(_assertThisInitialized(_this));
    _this.handleRealtime = _this.handleRealtime.bind(_assertThisInitialized(_this));
    _this.handleHarvestModalDismiss = _this.handleHarvestModalDismiss.bind(_assertThisInitialized(_this));
    _this.handleKonnectorNotFoundModalDismiss = _this.handleKonnectorNotFoundModalDismiss.bind(_assertThisInitialized(_this));
    _this.handleFilterChange = _this.handleFilterChange.bind(_assertThisInitialized(_this));
    _this.handleChangeSearchFieldChange = _this.handleChangeSearchFieldChange.bind(_assertThisInitialized(_this));
    _this.updateSearchResults = lodash_debounce__WEBPACK_IMPORTED_MODULE_5___default()(_this.updateSearchResults, 300);
    return _this;
  }

  _createClass(Store, [{
    key: "getFilterFromLocation",
    value: function getFilterFromLocation() {
      // TODO update react-router
      var params = this.props.params;

      if (params && params.category) {
        return {
          category: params.category,
          type: 'konnector'
        };
      } else {
        return {};
      }
    }
  }, {
    key: "getSearchFromLocation",
    value: function getSearchFromLocation() {
      var params = this.props.params;

      if (params.search) {
        return params.search;
      } else {
        return '';
      }
    }
  }, {
    key: "handleFilterChange",
    value: function handleFilterChange(filter) {
      this.setState({
        filter: filter
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.promises = Object(_promises__WEBPACK_IMPORTED_MODULE_20__["promiseHolder"])();
      this.promises.save(this.fetchRegistryKonns());
      this.startRealtime();
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_16__["trackPage"])('ajout_de_banque:choix');

      if (this.state.searchFieldValue) {
        this.updateSearchResults(this.state.searchFieldValue);
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      this.checkToUpdateData(prevProps, prevState);
      this.checkToUpdateFilter(prevProps, prevState);
      this.checkToUpdateSearchResults(prevProps, prevState);
    }
    /** Updates state.search if location.pathnames changes */

  }, {
    key: "checkToUpdateFilter",
    value: function checkToUpdateFilter(prevProps) {
      if (prevProps.location.pathname !== this.props.location.pathname) {
        var search = this.getFilterFromLocation();
        this.setState({
          search: search
        });
      }
    }
    /** Update search results when registry konns change */

  }, {
    key: "checkToUpdateSearchResults",
    value: function checkToUpdateSearchResults(prevProps, prevState) {
      if (prevState.registryKonns !== this.state.registryKonns) {
        if (this.state.searchFieldValue) {
          this.updateSearchResults(this.state.searchFieldValue);
        }
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopRealtime();
      this.promises.cancelAll();
    }
  }, {
    key: "startRealtime",
    value: function startRealtime() {
      this.realtime = new cozy_realtime__WEBPACK_IMPORTED_MODULE_13___default.a({
        cozyClient: this.props.client
      });
      var _arr = [doctypes__WEBPACK_IMPORTED_MODULE_23__["KONNECTOR_DOCTYPE"]];

      for (var _i = 0; _i < _arr.length; _i++) {
        var doctype = _arr[_i];
        this.realtime.subscribe('created', doctype, this.handleRealtime);
        this.realtime.subscribe('updated', doctype, this.handleRealtime);
        this.realtime.subscribe('deleted', doctype, this.handleRealtime);
      }
    }
  }, {
    key: "stopRealtime",
    value: function stopRealtime() {
      var _arr2 = [doctypes__WEBPACK_IMPORTED_MODULE_23__["KONNECTOR_DOCTYPE"]];

      for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
        var doctype = _arr2[_i2];
        this.realtime.unsubscribe('created', doctype, this.handleRealtime);
        this.realtime.unsubscribe('updated', doctype, this.handleRealtime);
        this.realtime.unsubscribe('deleted', doctype, this.handleRealtime);
      }
    }
    /**
     * If either userKonnectors or registryKonnectors changes,
     * recomputes the merge of the two.
     */

  }, {
    key: "checkToUpdateData",
    value: function checkToUpdateData(prevProps, prevState) {
      var _this2 = this;

      var registryKonns = this.state.registryKonns;

      if (this.props.userKonns.data === prevProps.userKonns.data && this.state.registryKonns === prevState.registryKonns) {
        return;
      }

      var userKonns = this.props.userKonns.data || [];
      this.setState({
        konnectors: _data__WEBPACK_IMPORTED_MODULE_19__["default"].mergeData(userKonns, registryKonns)
      }, function () {
        _this2.setupFuse();
      });
    }
  }, {
    key: "handleRealtime",
    value: function handleRealtime() {
      this.props.userKonns.fetch();
    }
    /**
     * Fetch konnectors from registry and stores them in state
     *
     * Caches konnectors across page reload
     * Sets state.fetching while is fetching
     */

  }, {
    key: "fetchRegistryKonns",
    value: function () {
      var _fetchRegistryKonns = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
        var client, registry, registryKonns;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                this.setState({
                  fetching: true
                });
                _context3.prev = 1;
                client = this.props.client;
                registry = new cozy_client__WEBPACK_IMPORTED_MODULE_12__["Registry"]({
                  client: client
                });
                _context3.next = 6;
                return registry.fetchApps({
                  channel: getRegistryChannel(),
                  type: 'konnector'
                });

              case 6:
                _context3.t0 = function (x) {
                  return x.slug != 'maif-nestor';
                };

                registryKonns = _context3.sent.filter(_context3.t0);
                _ls_plus__WEBPACK_IMPORTED_MODULE_21__["default"].save('registryKonns', registryKonns);
                this.setState({
                  registryKonns: registryKonns,
                  fetchingError: null
                });
                _context3.next = 17;
                break;

              case 12:
                _context3.prev = 12;
                _context3.t1 = _context3["catch"](1); // eslint-disable-next-line no-console

                console.error('Error while fetching registry konnectors', _context3.t1);
                Object(lib_sentry__WEBPACK_IMPORTED_MODULE_18__["logException"])(_context3.t1);
                this.setState({
                  fetchingError: _context3.t1
                });

              case 17:
                _context3.prev = 17;
                this.setState({
                  fetching: false
                });
                return _context3.finish(17);

              case 20:
                if (!this.props.params.konnectorSlug) {
                  _context3.next = 23;
                  break;
                }

                _context3.next = 23;
                return this.setupKonnectorConfiguration(this.props.params.konnectorSlug);

              case 23:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[1, 12, 17, 20]]);
      }));

      function fetchRegistryKonns() {
        return _fetchRegistryKonns.apply(this, arguments);
      }

      return fetchRegistryKonns;
    }()
  }, {
    key: "handleAppClick",
    value: function () {
      var _handleAppClick = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(konnSlug) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this.setupKonnectorConfiguration(konnSlug);

              case 2:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function handleAppClick(_x5) {
        return _handleAppClick.apply(this, arguments);
      }

      return handleAppClick;
    }()
    /**
     * Checks if app is installed, installs if it is not, and opens
     * the configuration modal.
     *
     * @param  {string} konnSlug
     */

  }, {
    key: "setupKonnectorConfiguration",
    value: function () {
      var _setupKonnectorConfiguration = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(konnSlug) {
        var konnectors, konn, userKonn;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                konnectors = this.state.konnectors;
                konn = konnectors.find(function (konn) {
                  return konn.slug === konnSlug;
                });

                if (konn) {
                  _context5.next = 7;
                  break;
                }

                this.setState({
                  konnectorNotFound: true
                });
                return _context5.abrupt("return");

              case 7:
                if (konn.installed) {
                  _context5.next = 13;
                  break;
                }

                _context5.next = 10;
                return this.installKonnector(konn);

              case 10:
                userKonn = _context5.sent;
                _context5.next = 16;
                break;

              case 13:
                _context5.next = 15;
                return this.fetchUserKonnector(konn);

              case 15:
                userKonn = _context5.sent;

              case 16:
                this.configure(userKonn);

              case 17:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function setupKonnectorConfiguration(_x6) {
        return _setupKonnectorConfiguration.apply(this, arguments);
      }

      return setupKonnectorConfiguration;
    }()
    /**
     * Resolves with the konnector from the user
     */

  }, {
    key: "fetchUserKonnector",
    value: function () {
      var _fetchUserKonnector = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(regKonn) {
        var client, userKonn;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                client = this.props.client;
                this.setState({
                  fetchingKonnector: true
                });
                _context6.prev = 2;
                _context6.next = 5;
                return fetchKonnectorBySlug(client, regKonn.slug);

              case 5:
                userKonn = _context6.sent;
                return _context6.abrupt("return", userKonn);

              case 7:
                _context6.prev = 7;
                this.setState({
                  fetchingKonnector: false
                });
                return _context6.finish(7);

              case 10:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this, [[2,, 7, 10]]);
      }));

      function fetchUserKonnector(_x7) {
        return _fetchUserKonnector.apply(this, arguments);
      }

      return fetchUserKonnector;
    }()
    /**
     * Installs a konnector
     * Sets state.installing while installing
     *
     * Resolves with the user konnector
     *
     * @param  {RegistryKonnector} regKonn - Konnector to install
     * @return {UserKonnector} - Konnector that has been installed
     */

  }, {
    key: "installKonnector",
    value: function () {
      var _installKonnector2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(regKonn) {
        var client, userKonn;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                client = this.props.client;
                this.setState({
                  installing: regKonn
                });
                _context7.prev = 2;
                _context7.next = 5;
                return _installKonnector(client, regKonn);

              case 5:
                userKonn = _context7.sent;
                return _context7.abrupt("return", userKonn);

              case 9:
                _context7.prev = 9;
                _context7.t0 = _context7["catch"](2);
                cozy_ui_react_Alerter__WEBPACK_IMPORTED_MODULE_8__["default"].error("Impossible d'installer le service, veuillez réessayer plus tard.");
                Object(lib_sentry__WEBPACK_IMPORTED_MODULE_18__["logException"])(_context7.t0);

              case 13:
                _context7.prev = 13;
                this.setState({
                  installing: null
                });
                return _context7.finish(13);

              case 16:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this, [[2, 9, 13, 16]]);
      }));

      function installKonnector(_x8) {
        return _installKonnector2.apply(this, arguments);
      }

      return installKonnector;
    }()
  }, {
    key: "setupFuse",
    value: function setupFuse() {
      var lang = this.props.lang;
      var konnectors = this.state.konnectors;
      this.fuse = Object(_utils__WEBPACK_IMPORTED_MODULE_30__["setupFuse"])({
        lang: lang,
        konnectors: konnectors
      });
    }
  }, {
    key: "handleChangeSearchFieldChange",
    value: function handleChangeSearchFieldChange(searchFieldValue) {
      this.setState({
        searchFieldValue: searchFieldValue
      });
      this.updateSearchResults(searchFieldValue);
    }
    /** Performs the fuse search, is debounced in the constructor */

  }, {
    key: "updateSearchResults",
    value: function updateSearchResults(searchFieldValue) {
      var filter = Object(_utils__WEBPACK_IMPORTED_MODULE_30__["makeAppFilter"])(this.state.filter);
      var searchResults = searchFieldValue ? Object(_utils__WEBPACK_IMPORTED_MODULE_30__["searchFuse"])(this.fuse, searchFieldValue) : null;
      var filteredSearchResults = searchResults && searchResults.filter(function (fuseResult) {
        return filter(fuseResult.item);
      });
      this.setState({
        searchResults: filteredSearchResults
      });
    }
  }, {
    key: "configure",
    value: function configure(userKonn) {
      this.openHarvestModal(userKonn);
    }
  }, {
    key: "openHarvestModal",
    value: function openHarvestModal(konnector) {
      this.setState({
        configuring: konnector
      });
    }
  }, {
    key: "closeHarvestModal",
    value: function closeHarvestModal() {
      this.setState({
        configuring: null
      });
    }
  }, {
    key: "handleSuccessLogin",
    value: function handleSuccessLogin() {
      this.closeHarvestModal();
    }
  }, {
    key: "handleHarvestModalDismiss",
    value: function handleHarvestModalDismiss() {
      this.closeHarvestModal();
    }
  }, {
    key: "handleKonnectorNotFoundModalDismiss",
    value: function handleKonnectorNotFoundModalDismiss() {
      this.props.router.push('/services');
      this.setState({
        konnectorNotFound: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          params = _this$props.params,
          t = _this$props.t,
          onDone = _this$props.onDone;
      var _this$state = this.state,
          fetching = _this$state.fetching,
          fetchingError = _this$state.fetchingError,
          fetchingKonnector = _this$state.fetchingKonnector,
          installing = _this$state.installing,
          configuring = _this$state.configuring,
          konnectors = _this$state.konnectors,
          konnectorNotFound = _this$state.konnectorNotFound,
          searchFieldValue = _this$state.searchFieldValue,
          searchResults = _this$state.searchResults;

      if (fetching && !konnectors.length || fetching && params.konnectorSlug || fetchingKonnector) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_26__["default"], {
          theme: "primary"
        }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_17__["default"], {
          className: "u-mh-3",
          loadingType: "store.registry-loading"
        }));
      }

      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_26__["default"], {
        theme: "primary"
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_25__["default"], {
        to: "balances"
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SearchField__WEBPACK_IMPORTED_MODULE_27__["default"], {
        value: searchFieldValue,
        onChange: this.handleChangeSearchFieldChange
      }), searchResults ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SearchResults__WEBPACK_IMPORTED_MODULE_28__["default"], {
        searchResults: searchResults,
        onAppClick: this.handleAppClick
      }) : null, konnectors.length > 0 && !searchResults ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_AppSections__WEBPACK_IMPORTED_MODULE_7__["default"], {
        showFilterDropdown: false,
        showTitles: false,
        showSubTitles: false,
        showSubSubTitles: false,
        search: this.state.filter,
        onAppClick: this.handleAppClick,
        onSearchChange: this.handleFilterChange,
        apps: konnectors,
        IconComponent: _StoreKonnectorIcon__WEBPACK_IMPORTED_MODULE_29__["default"],
        displaySpecificMaintenanceStyle: true
      }) : null, fetchingError ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, t('Store.fetch-error')) : null, konnectorNotFound ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_10__["default"], {
        open: true
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_11__["DialogCloseButton"], {
        onClick: this.handleKonnectorNotFoundModalDismiss
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_10__["DialogContent"], null, t('Store.konnector-not-found'))) : null, installing ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(InstallationDialog, {
        konn: installing
      }) : null, configuring ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_transactions_actions_KonnectorAction_HarvestModal__WEBPACK_IMPORTED_MODULE_24__["default"], {
        konnector: configuring,
        onLoginSuccess: this.handleSuccessLogin,
        onDismiss: this.handleHarvestModalDismiss,
        onDone: onDone
      }) : null);
    }
  }]);

  return Store;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

Store.propTypes = {
  onDone: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  params: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default()(cozy_client__WEBPACK_IMPORTED_MODULE_12__["withClient"], react_router__WEBPACK_IMPORTED_MODULE_4__["withRouter"], Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["queryConnect"])({
  userKonns: {
    as: 'konnectors',
    query: function query() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["Q"])('io.cozy.konnectors');
    }
  }
}), Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])())(Store));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/StoreKonnectorIcon.jsx":
/*!**********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/StoreKonnectorIcon.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/KonnectorIcon */ "./node_modules/cozy-harvest-lib/dist/components/KonnectorIcon.js");



var StoreKonnectorIcon = function StoreKonnectorIcon(_ref) {
  var app = _ref.app;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    konnectorSlug: app.slug,
    className: "u-w-100 u-h-100"
  });
};

/* harmony default export */ __webpack_exports__["default"] = (StoreKonnectorIcon);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/StoreModal.jsx":
/*!**************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/StoreModal.jsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var _Store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Store */ "../overrides/cozy-banks/src/ducks/store/Store.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}








var useStyles = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__["makeStyles"])({
  dialogTitle: {
    '& h2': {
      fontSize: '1.25rem'
    }
  }
});

var StoreModal = function StoreModal(_ref) {
  var router = _ref.router,
      props = _objectWithoutProperties(_ref, ["router"]);

  var handleDismiss = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    router.goBack();
  }, [router]);

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_6__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var classes = useStyles();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["default"], {
    open: true,
    fullScreen: isMobile
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_1__["DialogCloseButton"], {
    onClick: handleDismiss
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["DialogTitle"], {
    className: classes.dialogTitle
  }, t('Store.modal.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["DialogContent"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Store__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({}, props, {
    onDone: handleDismiss
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (StoreModal);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/data.js":
/*!*******************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/data.js ***!
  \*******************************************************/
/*! exports provided: ensureHasIcon, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ensureHasIcon", function() { return ensureHasIcon; });
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}




var hasManifest = function hasManifest(registryApp) {
  return registryApp.latest_version && registryApp.latest_version.manifest;
};
/**
 * @param  {RegistryApp} app - App coming from the registry
 * @return {AppManifest} - Manifest than can be displayed
 */


var extractManifest = function extractManifest(app) {
  return app.latest_version.manifest;
};

var getAppIcon = function getAppIcon(app) {
  return "/registry/".concat(app.slug, "/").concat(app.version, "/icon");
};

var ensureHasIcon = function ensureHasIcon(app) {
  if (app && app.links && app.links.icon) {
    return app;
  } else {
    return lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()({}, app, {
      links: {
        icon: getAppIcon(app)
      }
    });
  }
};

var prepareRegistryApp = function prepareRegistryApp(registryApp) {
  var manifest = extractManifest(registryApp);
  var app = ensureHasIcon(manifest);
  return app;
};

var mergeData = function mergeData(userKonns, registryApps) {
  var konnsBySlug = lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default()(userKonns, 'slug');
  return registryApps.filter(hasManifest).map(function (registryApp) {
    return _objectSpread({}, prepareRegistryApp(registryApp), {
      installed: konnsBySlug[registryApp.slug],
      maintenance: registryApp.maintenance_activated
    });
  });
};

/* harmony default export */ __webpack_exports__["default"] = ({
  mergeData: mergeData,
  ensureHasIcon: ensureHasIcon
});

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/index.jsx":
/*!*********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/index.jsx ***!
  \*********************************************************/
/*! exports provided: StoreModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _StoreModal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StoreModal */ "../overrides/cozy-banks/src/ducks/store/StoreModal.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StoreModal", function() { return _StoreModal__WEBPACK_IMPORTED_MODULE_0__["default"]; });




/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/ls-plus.js":
/*!**********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/ls-plus.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// localStorage helper for marshalling and default value
var ls = {
  get: function get(key, defaultVal) {
    var saved = localStorage.getItem(key);

    try {
      if (saved) {
        return JSON.parse(saved);
      } else {
        return defaultVal;
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('Error while getting/parsing ' + key + ' from localStorage');
      return defaultVal;
    }
  },
  save: function save(key, val) {
    localStorage.setItem(key, JSON.stringify(val));
  }
};
/* harmony default export */ __webpack_exports__["default"] = (ls);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/promises.js":
/*!***********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/promises.js ***!
  \***********************************************************/
/*! exports provided: promiseHolder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "promiseHolder", function() { return promiseHolder; });
/**
 * Saves promises until they have resolved/reject
 *
 * Useful to cancel in-flight promises when unmounting a component
 */
var promiseHolder = function promiseHolder() {
  var promises = [];
  return {
    save: function save(p) {
      promises.push(p);

      var removePromise = function removePromise() {
        var i = promises.indexOf(p);

        if (i > -1) {
          promises.splice(i, 1);
        }
      };

      p.then(removePromise).catch(removePromise);
    },
    cancelAll: function cancelAll() {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = promises[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var p = _step.value;
          p.cancel && p.cancel();
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  };
};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/utils.js":
/*!********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/utils.js ***!
  \********************************************************/
/*! exports provided: makeAppFilter, setupFuse, searchFuse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeAppFilter", function() { return makeAppFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupFuse", function() { return setupFuse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "searchFuse", function() { return searchFuse; });
/* harmony import */ var fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fuse.js/dist/fuse.js */ "../node_modules/fuse.js/dist/fuse.js");
/* harmony import */ var fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__);
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}



var makeAppFilter = function makeAppFilter(options) {
  return function (app) {
    if (options) {
      var category = options.category,
          type = options.type;

      if (type && app.type !== type) {
        return false;
      } else if (category) {
        if (app.categories && !app.categories.includes(category)) {
          return false;
        } else if (app.category && app.category !== category) {
          return false;
        } else if (!app.category && !app.categories) {
          return false;
        }
      }
    }

    return true;
  };
};
/**
 * Setups a fuse suitable to search konnectors
 *
 * @param  {string} options.lang       - Current language
 * @param  {Array<Konnector>} options.konnectors - Konnectors manifest
 * @return {Array<Konnector|{ doctypes: Array<string> }>}
 */

var setupFuse = function setupFuse(_ref) {
  var lang = _ref.lang,
      konnectors = _ref.konnectors;
  var options = {
    includeScore: true,
    includeMatches: true,
    minMatchCharLength: 3,
    distance: 10,
    threshold: 0.2,
    ignoreLocation: true,
    keys: [{
      name: 'name',
      weight: 3
    }, 'categories', "locales.".concat(lang, ".short_description"), "locales.".concat(lang, ".long_description")]
  };
  var konnsForSearch = konnectors.map(function (konn) {
    return _objectSpread({}, konn, {
      doctypes: konn.permissions ? Object.values(konn.permissions).map(function (x) {
        return x.type;
      }) : null
    });
  });
  return new fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_0___default.a(konnsForSearch, options);
};
var searchFuse = function searchFuse(fuse, searchFieldValue) {
  var results = fuse.search(searchFieldValue);

  if (results.length === 0) {
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = searchFieldValue.split(/\s+/)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var word = _step.value;
        var partialResults = fuse.search(word);
        results = results.concat(partialResults);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    results = lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(results, function (x) {
      return -x.score;
    });
  }

  return results;
};

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/store/waitUntil.js":
/*!************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/store/waitUntil.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

var DEFAULT_TIMEOUT = 500 * 1000;
/**
 * Performs `check` repeatedly every `delay`ms until
 * either it
 *
 * - `return`s a truthy value and the returning promise is resolved
 * - `throw`s and the returning promise is rejected with the error
 *
 * After `timeout`ms, the promise is rejected
 *
 * @param  {Function} check - predicate that need to be fulfilled
 * @param  {Number} delay   - delay between retries
 * @param  {Number} timeout - after how many ms should the promise be rejected
 * @return {Promise}
 */

var waitUntil = function waitUntil(check, delay) {
  var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_TIMEOUT;
  var timeoutId;
  var intervalId;
  var reject;

  var clear = function clear() {
    intervalId && clearInterval(intervalId);
    timeoutId && clearTimeout(timeoutId);
  };

  var prom = new Promise(function (resolve, _reject) {
    reject = _reject;

    if (typeof delay === 'undefined') {
      throw new Error('You must specify a delay');
    }

    var _check = /*#__PURE__*/function () {
      var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var result;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return check();

              case 3:
                result = _context.sent;

                if (!result) {
                  _context.next = 8;
                  break;
                }

                clear();
                resolve(result);
                return _context.abrupt("return");

              case 8:
                _context.next = 14;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context["catch"](0);
                clear();
                reject(_context.t0);

              case 14:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 10]]);
      }));

      return function _check() {
        return _ref.apply(this, arguments);
      };
    }();

    _check();

    timeoutId = setTimeout(function () {
      reject(new Error('Timeout for waitUntil'));
    }, timeout);
    intervalId = setInterval(_check, delay);
  });
  var canceled = false;

  prom.cancel = function () {
    if (!canceled) {
      canceled = true;
      clear();
      reject('CancellationError');
    }
  };

  return prom;
};

/* harmony default export */ __webpack_exports__["default"] = (waitUntil);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/tracking/batch.js":
/*!***********************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/tracking/batch.js ***!
  \***********************************************************/
/*! exports provided: sendBatchEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sendBatchEvent", function() { return sendBatchEvent; });
/* harmony import */ var original_banks_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/logger */ "./src/logger.js");

/**
 * Batch is a tracking platform. The Batch SDK is in the native part of the
 * platform and we send tracking events to the native app, for them to be
 * forwarded to Batch
 */

var sendBatchEvent = function sendBatchEvent(event) {
  original_banks_logger__WEBPACK_IMPORTED_MODULE_0__["default"].info("Sending batch event ".concat(JSON.stringify(event)));

  try {
    if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.batchTrackEvent) {
      window.webkit.messageHandlers.batchTrackEvent.postMessage(JSON.stringify(event));
      return {
        ok: true
      };
    } else if (window.Android && window.Android.batchTrackEvent) {
      window.Android.batchTrackEvent(JSON.stringify(event));
      return {
        ok: true
      };
    } else {
      return {
        error: new Error("Cannot send batch event: neither window.Android.batchTrackEvent nor window.webkit.messageHandlers.batchTrackEvent is available.")
      };
    }
  } catch (e) {
    // eslint-disable-next-line no-console
    console.error('Could not send batch event', e);
    return {
      error: e
    };
  }
};



/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/tracking/tracker.js":
/*!*************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/tracking/tracker.js ***!
  \*************************************************************/
/*! exports provided: getMatomoTracker, trackerShim, getTracker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTracker", function() { return getTracker; });
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var original_banks_ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! original-banks/ducks/tracking/tracker */ "./src/ducks/tracking/tracker.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getMatomoTracker", function() { return original_banks_ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_2__["getMatomoTracker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trackerShim", function() { return original_banks_ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_2__["trackerShim"]; });

/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _batch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./batch */ "../overrides/cozy-banks/src/ducks/tracking/batch.js");
var _this = undefined;
/* global tc_vars, tc_events_global */







var tagCommanderPageToBatchEvents = {
  'moncompte:home': {
    event: 'VIEW_PFM_mescomptes'
  },
  'analyse:home': {
    event: 'VIEW_PFM_analyse'
  },
  'virement:choix_virement': {
    event: 'VIEW_PFM_virement'
  },
  'parametres:configuration': {
    event: 'VIEW_PFM_parametres'
  },
  'ajout_de_banque:choix': {
    event: 'CLIC_PFM_addbank'
  },
  'virements:information': {
    event: 'VIEW_PFM_virementinfo'
  },
  previsionnel: {
    event: 'VIEW_PFM_previsionnel'
  },
  'virements:succes': {
    event: 'STEP_PFM_virementsuccess'
  },
  recurrences: {
    event: 'VIEW_PFM_recurrences'
  }
};
var tagCommanderEventsToBatchEvents = {
  sauver: function sauver(event, lastPagePath) {
    if (lastPagePath === 'virements:information') {
      return {
        event: 'STEP_PFM_virementinfo'
      };
    }
  },
  compte_bancaire_supprime: function compte_bancaire_supprime(event) {
    return {
      event: 'STEP_PFM_bankunlinksuccess',
      data: {
        connectorSlug: event.connectorSlug
      }
    };
  }
};
var isTagCommanderAllowed = lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default()(function () {
  return window.location.search.indexOf('allow_tracking=true') > -1;
});
var getTagCommanderTracker = lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default()(function () {
  var lastPagePath = undefined;
  return {
    trackEvent: function trackEvent(event) {
      var name = event.name;
      var batchEvent = tagCommanderEventsToBatchEvents[name];

      if (batchEvent) {
        var ev = typeof batchEvent === 'function' ? batchEvent(event, lastPagePath) : batchEvent;
        ev && Object(_batch__WEBPACK_IMPORTED_MODULE_4__["sendBatchEvent"])(ev);
      }

      if (isTagCommanderAllowed()) {
        tc_events_global(window, 'click', {
          evt_click_name: name
        });
      }

      if (cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.show-tracking-alerts')) {
        cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_1__["default"].info("event ".concat(name));
      }
    },
    trackPage: function trackPage(pagePath) {
      try {
        lastPagePath = pagePath;
        var batchEvent = tagCommanderPageToBatchEvents[pagePath];

        if (batchEvent) {
          var ev = typeof batchEvent === 'function' ? batchEvent(lastPagePath) : batchEvent;
          ev && Object(_batch__WEBPACK_IMPORTED_MODULE_4__["sendBatchEvent"])(ev);
        } // if (flag('banks.show-tracking-alerts')) {
        //   Alerter.info(pagePath)
        // }


        var parts = pagePath.split(':');
        var categories = ['particuliers', 'pfm'].concat(parts.slice(0, -1));

        for (var i = 0; i < 7; i++) {
          tc_vars["page_cat".concat(i)] = categories[i] || '';
        }

        if (isTagCommanderAllowed()) {
          tc_events_global(_this, 'pageVirtuelle', {
            evt_page_name: parts[parts.length - 1]
          });
        }
      } catch (e) {
        // eslint-disable-next-line no-console
        console.warn('Could not track page', e);
      }
    }
  };
});

var getTracker = getTagCommanderTracker;

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/FileOpener.jsx":
/*!*********************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/FileOpener.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react */ "./node_modules/cozy-ui/transpiled/react/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Viewer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Viewer */ "./node_modules/cozy-ui/transpiled/react/Viewer/index.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}





 // can be grouped with the other imports once the viewer export is fixed — see https://github.com/cozy/cozy-ui/pull/977
// import styles from './styles.styl'

var styles = {};
/**
 * In original banks, since the app does not have permissions on files,
 * we use an intent to open files. In orange banks, we have access
 * to the files and we use the FileViewer directly from cozy-ui
 */

/**
 * Responsible for fetching the file, from a fileId and showing it in
 * a Viewer inside a modal.
 *
 * Shows a generic error if the file cannot be fetched.
 */

var _ModalFileOpener = /*#__PURE__*/function (_React$Component) {
  _inherits(_ModalFileOpener, _React$Component);

  function _ModalFileOpener(props) {
    var _this;

    _classCallCheck(this, _ModalFileOpener);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_ModalFileOpener).call(this, props));
    _this.state = {
      file: null,
      error: null
    };
    return _this;
  }

  _createClass(_ModalFileOpener, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.fetchFile();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.unmounted = true;
    }
  }, {
    key: "fetchFile",
    value: function () {
      var _fetchFile = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var _this$props, client, fileId, files, _yield$files$get, file;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _this$props = this.props, client = _this$props.client, fileId = _this$props.fileId;
                files = client.collection('io.cozy.files');
                _context.next = 5;
                return files.get(fileId);

              case 5:
                _yield$files$get = _context.sent;
                file = _yield$files$get.data;

                if (!this.unmounted) {
                  this.setState({
                    file: file,
                    error: null
                  });
                }

                _context.next = 13;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context["catch"](0);
                this.setState({
                  file: null,
                  error: _context.t0
                });

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 10]]);
      }));

      function fetchFile() {
        return _fetchFile.apply(this, arguments);
      }

      return fetchFile;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          file = _this$state.file,
          error = _this$state.error;
      var t = this.props.t;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_4__["Modal"], {
        into: "body",
        mobileFullscreen: true,
        closable: false,
        className: styles['modal-height']
      }, error && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, t('Loading.error')), file ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Viewer__WEBPACK_IMPORTED_MODULE_5__["default"], {
        onCloseRequest: this.props.onClose,
        files: [file]
      }) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_4__["Spinner"], null));
    }
  }]);

  return _ModalFileOpener;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

var ModalFileOpener = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["withClient"])(_ModalFileOpener));
/**
 * Implements the same API as the original FileOpener. The original
 * FileOpener clones its children to inject an onClick handler that
 * opens the file.
 */

var FileOpener = /*#__PURE__*/function (_React$Component2) {
  _inherits(FileOpener, _React$Component2);

  function FileOpener(props) {
    var _this2;

    _classCallCheck(this, FileOpener);

    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(FileOpener).call(this, props));
    _this2.handleOpen = _this2.handleOpen.bind(_assertThisInitialized(_this2));
    _this2.handleClose = _this2.handleClose.bind(_assertThisInitialized(_this2));
    _this2.state = {
      opened: false
    };
    return _this2;
  }

  _createClass(FileOpener, [{
    key: "handleOpen",
    value: function handleOpen() {
      this.setState({
        opened: true
      });
    }
  }, {
    key: "handleClose",
    value: function handleClose() {
      this.setState({
        opened: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          children = _this$props2.children,
          fileId = _this$props2.fileId;
      var opened = this.state.opened;
      var openerChildren = react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(children, {
        key: 'opener',
        onClick: this.handleOpen
      });
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, openerChildren, opened ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ModalFileOpener, {
        fileId: fileId,
        onClose: this.handleClose
      }) : null);
    }
  }]);

  return FileOpener;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (FileOpener);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionActionsProvider.jsx":
/*!*************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionActionsProvider.jsx ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_apps_withAppsUrls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/apps/withAppsUrls */ "./src/ducks/apps/withAppsUrls.jsx");
/* harmony import */ var ducks_brandDictionary_withBrands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/brandDictionary/withBrands */ "./src/ducks/brandDictionary/withBrands.jsx");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ducks_transactions_TransactionActionsContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/TransactionActionsContext */ "./src/ducks/transactions/TransactionActionsContext.jsx");





var TransactionActionsProvider = lodash_flowRight__WEBPACK_IMPORTED_MODULE_0___default()(ducks_apps_withAppsUrls__WEBPACK_IMPORTED_MODULE_1__["default"], Object(ducks_brandDictionary_withBrands__WEBPACK_IMPORTED_MODULE_2__["default"])(), Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["queryConnect"])({
  konnectors: {
    query: function query() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["Q"])('io.cozy.konnectors');
    },
    as: 'konnectors'
  }
}))(ducks_transactions_TransactionActionsContext__WEBPACK_IMPORTED_MODULE_4__["DumbTransactionActionsProvider"]);
/* harmony default export */ __webpack_exports__["default"] = (TransactionActionsProvider);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/NestorError.jsx":
/*!********************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/NestorError.jsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Infos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Infos */ "./node_modules/cozy-ui/transpiled/react/Infos/index.js");
/* harmony import */ var ducks_transactions_TransactionPageErrors_ReconnectTriggerButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/TransactionPageErrors/ReconnectTriggerButton */ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Warning */ "./node_modules/cozy-ui/transpiled/react/Icons/Warning.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");









var NestorError = function NestorError(_ref) {
  var index = _ref.index,
      className = _ref.className,
      count = _ref.count,
      error = _ref.error;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var errorTitle = t('extra.transactions.reconnect-nestor-account.title');
  var bankName = error.bankName;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Infos__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: 'u-bdrs-0 u-maw-none u-p-1-half ' + (className || ''),
    theme: "danger",
    actionButton: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionPageErrors_ReconnectTriggerButton__WEBPACK_IMPORTED_MODULE_2__["default"], {
      label: t('extra.transactions.reconnect-nestor-account.cta'),
      error: error
    }),
    description: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
      variant: "h6",
      className: "u-error u-mb-half"
    }, errorTitle + (count > 1 ? " (".concat(index + 1, "/").concat(count, ")") : '')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
      variant: "body1"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Media"], {
      align: "top"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Img"], {
      className: "u-mr-1"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_6__["default"],
      className: "u-w-1 u-h-1 u-flex-shrink-0"
    }), ' '), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Bd"], null, t('extra.transactions.reconnect-nestor-account.description', {
      bankName: bankName
    })))))
  });
};

/* harmony default export */ __webpack_exports__["default"] = (NestorError);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectNestorButton.jsx":
/*!******************************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectNestorButton.jsx ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Openwith */ "./node_modules/cozy-ui/transpiled/react/Icons/Openwith.js");






var cleanInstitutionLabel = function cleanInstitutionLabel(institutionLabel) {
  return institutionLabel.split(' - ')[0];
};

var ReconnectNestorButton = function ReconnectNestorButton(_ref) {
  var label = _ref.label,
      error = _ref.error;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var account = error.account;
  var search = cleanInstitutionLabel(account.institutionLabel);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["ButtonLink"], {
    theme: "secondary",
    extension: isMobile ? 'full' : 'narrow',
    className: "u-mh-0",
    label: label || t('Transactions.trigger-error.cta'),
    icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_4__["default"],
    href: "#/services/banking/search/".concat(search)
  });
};

/* harmony default export */ __webpack_exports__["default"] = (ReconnectNestorButton);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx":
/*!*******************************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_transactions_TransactionPageErrors_ReconnectTriggerButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton */ "./src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx");
/* harmony import */ var _ReconnectNestorButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReconnectNestorButton */ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectNestorButton.jsx");



/**
 * Supports Nestor errors
 *
 * When a nestor konnector needs to be reconnected, the error does not
 * contain a trigger but an account and a konnector, see errors.js in the
 * same folder. In this case, we do not open Harvest but open the
 * store.
 */

var MaifReconnectTriggerButton = function MaifReconnectTriggerButton(props) {
  var error = props.error;

  if (error.type === 'nestor') {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ReconnectNestorButton__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  } else {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_banks_ducks_transactions_TransactionPageErrors_ReconnectTriggerButton__WEBPACK_IMPORTED_MODULE_1__["default"], props);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (MaifReconnectTriggerButton);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/TransactionPageErrors.jsx":
/*!******************************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/TransactionPageErrors.jsx ***!
  \******************************************************************************************************/
/*! exports provided: TransactionPageErrors, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_transactions_TransactionPageErrors_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/transactions/TransactionPageErrors/TransactionPageErrors */ "./src/ducks/transactions/TransactionPageErrors/TransactionPageErrors.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TransactionPageErrors", function() { return original_banks_ducks_transactions_TransactionPageErrors_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_0__["TransactionPageErrors"]; });

/* harmony import */ var _NestorError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NestorError */ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/NestorError.jsx");


original_banks_ducks_transactions_TransactionPageErrors_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_0__["TransactionPageErrors"].errorTypeToComponent['nestor'] = _NestorError__WEBPACK_IMPORTED_MODULE_1__["default"];

/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_transactions_TransactionPageErrors_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/errors.js":
/*!**************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/errors.js ***!
  \**************************************************************************************/
/*! exports provided: getTransactionPageErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionPageErrors", function() { return getTransactionPageErrors; });
/* harmony import */ var original_banks_ducks_transactions_TransactionPageErrors_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/transactions/TransactionPageErrors/errors */ "./src/ducks/transactions/TransactionPageErrors/errors.js");
/* harmony import */ var ducks_balance_nestor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/balance/nestor */ "../overrides/cozy-banks/src/ducks/balance/nestor.js");


/**
 * Recognize an io.cozy.bank.accounts from MAIF Vie
 * Those accounts should not trigger a transaction page error
 * as the MAIF Vie banking connector does not exist.
 */

var isMAIFVieAccount = function isMAIFVieAccount(account) {
  return account.institutionLabel && account.institutionLabel.includes('MAIF Vie');
};
/**
 * @override Nestor accounts should yield errors
 */


var getTransactionPageErrors = function getTransactionPageErrors(_ref) {
  var accounts = _ref.accounts;
  var res = original_banks_ducks_transactions_TransactionPageErrors_errors__WEBPACK_IMPORTED_MODULE_0__["getTransactionPageErrors"].apply(this, arguments);
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = accounts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var account = _step.value;

      if (!Object(ducks_balance_nestor__WEBPACK_IMPORTED_MODULE_1__["isNestorAccount"])(account) || isMAIFVieAccount(account)) {
        continue;
      }

      res.push({
        type: 'nestor',
        account: account,
        accountId: account._id,
        konnectorSlug: account.cozyMetadata.createdByApp,
        bankName: account.institutionLabel,
        _id: account._id
      });
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return res;
};



/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/TransactionsPage.jsx":
/*!***************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/TransactionsPage.jsx ***!
  \***************************************************************************/
/*! exports provided: default, TransactionsPageWithBackButton, DumbTransactionsPage, UnpluggedTransactionsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsPageWithBackButton", function() { return TransactionsPageWithBackButton; });
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_banks_ducks_transactions_TransactionsPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-banks/ducks/transactions/TransactionsPage */ "./src/ducks/transactions/TransactionsPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DumbTransactionsPage", function() { return original_banks_ducks_transactions_TransactionsPage__WEBPACK_IMPORTED_MODULE_1__["DumbTransactionsPage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UnpluggedTransactionsPage", function() { return original_banks_ducks_transactions_TransactionsPage__WEBPACK_IMPORTED_MODULE_1__["UnpluggedTransactionsPage"]; });




var withKonnectors = Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["queryConnect"])({
  konnectors: {
    query: function query() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["Q"])('io.cozy.konnectors');
    },
    as: 'konnectors'
  }
});
/* harmony default export */ __webpack_exports__["default"] = (withKonnectors(original_banks_ducks_transactions_TransactionsPage__WEBPACK_IMPORTED_MODULE_1__["default"]));
var TransactionsPageWithBackButton = withKonnectors(original_banks_ducks_transactions_TransactionsPage__WEBPACK_IMPORTED_MODULE_1__["TransactionsPageWithBackButton"]);


/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/BrowserConfigurationModal.jsx":
/*!************************************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/BrowserConfigurationModal.jsx ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _HarvestModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HarvestModal */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestModal.jsx");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}



 // Should be exported by cozy-client

var getDocumentFromState = function getDocumentFromState(state, doctype, id) {
  var docsById = state.cozy.documents[doctype] || {};
  return docsById[id];
};

var BrowserConfigurationModal = /*#__PURE__*/function (_React$Component) {
  _inherits(BrowserConfigurationModal, _React$Component);

  function BrowserConfigurationModal() {
    _classCallCheck(this, BrowserConfigurationModal);

    return _possibleConstructorReturn(this, _getPrototypeOf(BrowserConfigurationModal).apply(this, arguments));
  }

  _createClass(BrowserConfigurationModal, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          slug = _this$props.slug,
          dismissAction = _this$props.dismissAction,
          client = _this$props.client,
          rest = _objectWithoutProperties(_this$props, ["slug", "dismissAction", "client"]);

      var store = client.store.getState();
      var konnector = getDocumentFromState(store, 'io.cozy.konnectors', "io.cozy.konnectors/".concat(slug));
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HarvestModal__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
        onDismiss: dismissAction,
        konnector: konnector
      }, rest));
    }
  }]);

  return BrowserConfigurationModal;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["withClient"])(BrowserConfigurationModal));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestModal.jsx":
/*!***********************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestModal.jsx ***!
  \***********************************************************************************************/
/*! exports provided: sendBatchEventForLoginSuccess, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sendBatchEventForLoginSuccess", function() { return sendBatchEventForLoginSuccess; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-harvest-lib */ "./node_modules/cozy-harvest-lib/dist/index.js");
/* harmony import */ var cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/KonnectorIcon */ "./node_modules/cozy-harvest-lib/dist/components/KonnectorIcon.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_tracking_batch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/tracking/batch */ "../overrides/cozy-banks/src/ducks/tracking/batch.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _HarvestSuccessMessage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./HarvestSuccessMessage */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestSuccessMessage.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");


function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}













var sendBatchEventForLoginSuccess = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, trigger) {
    var accountId, _yield$client$query, account;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            accountId = trigger.message.account;
            _context.next = 3;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_10__["Q"])('io.cozy.accounts').getById(accountId));

          case 3:
            _yield$client$query = _context.sent;
            account = _yield$client$query.data;
            Object(ducks_tracking_batch__WEBPACK_IMPORTED_MODULE_9__["sendBatchEvent"])({
              event: 'STEP_PFM_banksuccess',
              data: {
                connectorSlug: account.account_type
              }
            });

          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function sendBatchEventForLoginSuccess(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var HarvestModal = function HarvestModal(props) {
  var konnector = props.konnector,
      onDismiss = props.onDismiss,
      onDone = props.onDone;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_12__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      success = _useState2[0],
      setSuccess = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null),
      _useState4 = _slicedToArray(_useState3, 2),
      trigger = _useState4[0],
      setTrigger = _useState4[1];

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_10__["useClient"])();
  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["useTrackPage"])('ajout_de_banque:connexion');
  var handleSuccess = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (trigger) {
    setSuccess(true);
    setTrigger(trigger);
    sendBatchEventForLoginSuccess(client, trigger);
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["trackPage"])('ajout_de_banque:confirmation');
  }, [setTrigger, setSuccess, client]);
  var onDismissAction = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    if (success) {
      onDone();
    } else {
      onDismiss();
    }
  }, [success]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["default"], {
    open: true,
    fullScreen: isMobile
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_3__["DialogCloseButton"], {
    onClick: onDismissAction
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["DialogContent"], null, success ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_HarvestSuccessMessage__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onDone: onDismissAction,
    trigger: trigger
  }) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-ph-3 u-pt-1 u-ta-center"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_7__["default"], {
    konnectorSlug: konnector.slug,
    className: "u-w-3 u-h-3"
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["DialogContent"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3", {
    className: "u-ta-center"
  }, t('extra.harvest.form.title', _objectSpread({}, konnector))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_6__["TriggerManager"], {
    konnector: konnector,
    onLoginSuccess: handleSuccess,
    onSuccess: handleSuccess
  })))));
};

HarvestModal.propTypes = {
  konnector: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,
  onDismiss: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  onDone: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (HarvestModal);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestSuccessMessage.jsx":
/*!********************************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/HarvestSuccessMessage.jsx ***!
  \********************************************************************************************************/
/*! exports provided: HarvestSuccessMessage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HarvestSuccessMessage", function() { return HarvestSuccessMessage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_react_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_AnimatedCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/AnimatedCheck */ "../overrides/cozy-banks/src/components/AnimatedCheck/index.jsx");
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}






var HarvestSuccessMessage = /*#__PURE__*/function (_PureComponent) {
  _inherits(HarvestSuccessMessage, _PureComponent);

  function HarvestSuccessMessage(props, context) {
    var _this;

    _classCallCheck(this, HarvestSuccessMessage);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(HarvestSuccessMessage).call(this, props, context));
    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(HarvestSuccessMessage, [{
    key: "handleClick",
    value: function handleClick() {
      this.props.onDone();
    }
  }, {
    key: "render",
    value: function render() {
      var t = this.props.t;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "u-pv-2 u-ta-center"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AnimatedCheck__WEBPACK_IMPORTED_MODULE_4__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, t('extra.harvest.success.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('extra.harvest.success.message')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_react_Button__WEBPACK_IMPORTED_MODULE_2__["default"], {
        label: t('extra.harvest.success.button.label'),
        onClick: this.handleClick
      }));
    }
  }]);

  return HarvestSuccessMessage;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);
HarvestSuccessMessage.propTypes = {
  onDone: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(HarvestSuccessMessage));

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/MobileConfigurationModal.js":
/*!**********************************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/MobileConfigurationModal.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _BrowserConfigurationModal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BrowserConfigurationModal */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/BrowserConfigurationModal.jsx");

/* harmony default export */ __webpack_exports__["default"] = (_BrowserConfigurationModal__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/index.jsx":
/*!****************************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/index.jsx ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_ducks_transactions_actions_KonnectorAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/ducks/transactions/actions/KonnectorAction */ "./src/ducks/transactions/actions/KonnectorAction/index.jsx");

/** @override Deactivate this action on MAIF Banks since no konnectors are available */

original_banks_ducks_transactions_actions_KonnectorAction__WEBPACK_IMPORTED_MODULE_0__["default"].match = function () {
  return false;
};

/* harmony default export */ __webpack_exports__["default"] = (original_banks_ducks_transactions_actions_KonnectorAction__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transfers/steps/TransferDoneImg.jsx":
/*!*****************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transfers/steps/TransferDoneImg.jsx ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_AnimatedCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/AnimatedCheck */ "../overrides/cozy-banks/src/components/AnimatedCheck/index.jsx");


/**
 * @override Use an animated check circle instead of an img
 */

var TransferDoneImg = function TransferDoneImg() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AnimatedCheck__WEBPACK_IMPORTED_MODULE_1__["default"], null);
};

/* harmony default export */ __webpack_exports__["default"] = (TransferDoneImg);

/***/ }),

/***/ "../overrides/cozy-banks/src/ducks/transfers/steps/TransferErrorImg.jsx":
/*!******************************************************************************!*\
  !*** ../overrides/cozy-banks/src/ducks/transfers/steps/TransferErrorImg.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_transfer_error_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/transfer-error.svg */ "../overrides/cozy-banks/src/assets/transfer-error.svg");
/* harmony import */ var assets_transfer_error_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(assets_transfer_error_svg__WEBPACK_IMPORTED_MODULE_1__);



var TransferErrorImg = function TransferErrorImg() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    style: {
      maxHeight: '7.5rem'
    },
    className: "u-mb-1-half",
    src: assets_transfer_error_svg__WEBPACK_IMPORTED_MODULE_1___default.a
  });
};

/* harmony default export */ __webpack_exports__["default"] = (TransferErrorImg);

/***/ }),

/***/ "../overrides/cozy-banks/src/locales sync recursive ^\\.\\/.*$":
/*!*********************************************************!*\
  !*** ../overrides/cozy-banks/src/locales sync ^\.\/.*$ ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en": "../overrides/cozy-banks/src/locales/en.json",
	"./en.extra": "../overrides/cozy-banks/src/locales/en.extra.json",
	"./en.extra.json": "../overrides/cozy-banks/src/locales/en.extra.json",
	"./en.json": "../overrides/cozy-banks/src/locales/en.json",
	"./fr": "../overrides/cozy-banks/src/locales/fr.json",
	"./fr.extra": "../overrides/cozy-banks/src/locales/fr.extra.json",
	"./fr.extra.json": "../overrides/cozy-banks/src/locales/fr.extra.json",
	"./fr.json": "../overrides/cozy-banks/src/locales/fr.json"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "../overrides/cozy-banks/src/locales sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "../overrides/cozy-banks/src/locales/en.extra.json":
/*!*********************************************************!*\
  !*** ../overrides/cozy-banks/src/locales/en.extra.json ***!
  \*********************************************************/
/*! exports provided: extra, AccountSettings, Notifications, Transactions, Reimbursements, PersonalInfo, Recurrence, Store, Error, Transfer, HelpSpeedDial, default */
/***/ (function(module) {

module.exports = {"extra":{"balances":{"reconnect-nestor-account":"Reconnect your account"},"transactions":{"reconnect-nestor-account":{"title":"Reconnection to your bank is necessary","cta":"Reconnect your account","description":"You need to reconnect your bank %{bankName} to your My Budget service for your personal data to be updated."}},"nestor-migration-modal":{"title":"We've fetched all your account data","content":"Connect to each of your banks to reactivate them.","cta":"OK, understood"},"harvest":{"form":{"title":"Connect your %{name} account"},"success":{"folderLinkLabel":"See collected documents","title":"Successful configuration!","message":"Your data will be available in your assistant in a few minutes, and the next ones will follow shortly.","button":{"label":"Go back to my Budget"}}},"configuration":{"title":"Feature preview","credit":"Apply for a loan"}},"AccountSettings":{"confirm-deletion":{"description":"This action will delete your transactions in the MAIF Personal Space app along with the links set up with your bills. Remove your bank synchronisation from the menu, if you do not wish to reimport your banking data at the next scheduled synchronization."}},"Notifications":{"description":"Choose the notifications that you'll receive on your mobile.","health_section":{"description":"This requires to connect your My Budget service to your medical insurance."},"delayed-debit":{"notification":{"title":"My Budget: Outstanding card alert at delayed debit","content":"The outstanding card of the account %{account} generates a negative balance on its associated current account"}},"konnectorAlerts":{"push":{"content-single":"Log in to your My Budget service to solve the problem"}},"if-balance-lower":{"notification":{"one":{"title":"My Budget: Low balance alert","content":"Low balance: %{accountBalance}%{currency}"},"several":{"title":"My Budget: Low balance alert on accounts"}}},"if-transaction-greater":{"notification":{"one":{"title":"My Budget: %{number} Transaction greater than %{threshold}%{currency}"},"several":{"title":"My Budget: %{number} Transactions greater than %{threshold}%{currency}"}}},"category-budgets":{"notification":{"one":{"title":"My Budget: Budget alert","content":"Monthly budget of %{amount} %{category} exceeded"},"several":{"title":"My Budget: Budget alert on categories","content":"%{category}"}}}},"Transactions":{"actions":{"informativeModal":{"health":{"description":"Connect your %{brandName} account to your My Budget service to automatically fetch your reimbursements."},"generic":{"description":"Connect your %{brandName} account to your My Budget service to automatically fetch your bills."},"caption":"Your My Budget service is totally private: nobody but you can access its content."}}},"Reimbursements":{"noReimbursed":{"healthExpenses":"Edit your transactions reimbursement status to easily follow your reimbursements."}},"PersonalInfo":{"info":{"description":"To prevent money laundering and terrorism financing, MAIF has enforced strict rules on who is able to transfer money."}},"Recurrence":{"no-recurrences":{"text":"Find here the transactions detected as recurring, you can also manually indicate an transaction as recurring. After setting a transaction as recurrent, similar transactions will be detected automatically in the future."}},"Store":{"search-field":{"label":"Search:","placeholder":"Search your bank"},"fetch-error":"Could not load the services from the registry, are you connected to the Internet?","konnector-not-found":"The requested service was not found in the registry.","modal":{"title":"Select your bank"}},"Error":{"contact":"If the problem persist, #{LINK}our FAQ#{/LINK} can maybe help you."},"Transfer":{"user-blocked":{"title":"Transfers blocked","description":"Transfers are blocked on your My Budget service. Please contact the support."}},"HelpSpeedDial":{"faq":"Frequently asked questions","help":"App help"}};

/***/ }),

/***/ "../overrides/cozy-banks/src/locales/en.json":
/*!***************************************************!*\
  !*** ../overrides/cozy-banks/src/locales/en.json ***!
  \***************************************************/
/*! exports provided: General, Loading, Nav, Error, AccountSwitch, Search, Balance, SelectDates, Accounts, Groups, Data, Categories, Transactions, Notifications, Settings, TOS, BalanceHistory, LogoutModal, AdvancedFeaturesSettings, KonnectorUpdateInfo, Pin, Reimbursements, KonnectorChip, PersonalInfo, Transfer, ReimbursementStatusModal, LoanProgress, LoanDetails, AccountGroupChoice, Confirmation, EditionModal, Recurrence, Harvest, EstimatedBudget, JobsContext, DeletingAccount, Categorization, SelectionBar, Migration, extra, AccountSettings, Store, HelpSpeedDial, default */
/***/ (function(module) {

module.exports = {"General":{"delete":"Delete","deleting":"Deleting...","cancel":"Cancel","confirm":"Confirm","back":"Back","choose":"Choose","reload":"Reload"},"Loading":{"loading":"Loading...","error":"An error occured while loading the data. Please try again later."},"Nav":{"analysis":"Analysis","categories":"Categories","settings":"Settings","savings":"Savings","projections":"Forecasts","my-accounts":"My accounts","recurrence":"Recurring"},"Error":{"more-information":"More information","less-information":"Less information","title":"We failed to display your bank data","retry":"You can try again by reloading the page. If the problem persists consult our FAQ.","reload-page":"Reload page","consult-faq":"Consult our FAQ","fetch-error":"Connection lost. Try again later or verify your connection and reload the page.","contact":"If the problem persist, #{LINK}our FAQ#{/LINK} can maybe help you."},"AccountSwitch":{"title":"Choose account or group","account-counter":"%{smart_count} account |||| %{smart_count} accounts","all-accounts":"All accounts","some-accounts":"%{count}/%{smart_count} account |||| %{count}/%{smart_count} accounts","groups":"Groups","accounts":"Accounts"},"Search":{"title":"Search","title-results":"%{smart_count} result |||| %{smart_count} results","no-transactions-found":"No transaction could be found with this search.","input-placeholder":"Hairdresser, transfer...","type-a-search":"Type something to search a transaction","since":"Since %{date}","suggestions":"Salary, Bakery, Transfer...","search-older-transactions":"Search in older transactions"},"Balance":{"bank-name":"Bank","subtitle":{"all":"Total of all your accounts","group":"Total group %{label}","account":"Total account %{label}"},"nb-accounts":"%{nbCheckedAccounts}/%{smart_count} account |||| %{nbCheckedAccounts}/%{smart_count} accounts","title":"My accounts","solde":"Balance","account-number":"Account number","account-name":"Account name","manage-accounts":"Manage my accounts","updated-at":{"yesterday":"Yesterday","today":"Today","n-days-ago":"%{nbDays} days ago","unknown":"NC"},"delay":"This may take a few minutes…","import-accounts":"Import accounts","importing-accounts-error":"Failed to import","in-progress":"In progress","error":"Click to restart","trigger-problem":"Problem with the connection","no-accounts-in-group":{"description":"You don't have any accounts associated to this group.","button":"Edit the group"},"reimbursements-caption":"Last 6 months","import-in-progress":"Import in progress"},"SelectDates":{"all-year":"All year","year":"Year","month":"Month","previous-month":"Previous month","next-month":"Next month"},"Accounts":{"account":"Account","add-bank":"Add a bank","no-account":"No account","no-accounts":"You do not have any account yet.","shared-accounts":"Accounts shared to me","no-shared-accounts":"You do not have any shared account yet.","my-accounts":"My accounts","shared":"Shared","add-account":"Add an account","type":"Type","bank":"Bank","label":"Label","manage-accounts":"Manage my accounts","owner":"Owner"},"Groups":{"edit-group":"Edit Group","edit":"edit","manage-groups":"Manage my groups","create":"Create a group","new-group":"New Group","label":"Label","banks":"Banks","bank":"Bank","accounts":"Accounts","groups":"Groups","delete":"remove","no-groups":"Using groups, you can easily gather several accounts, feel free to create one.","back-to-groups":"Back to groups","rename":"Rename","save":"Save","included":"Included","account-number":"Account number","total-balance":"Total","toggle-account-error":"An error occured while adding/removing account from group, please try again later.","deletion-error":"An error occurred while group deletion.","no-account":"No account in this group","name-placeholder":"My group"},"Data":{"accountTypes":{"Business":"Business accounts","Checkings":"Checking accounts","CreditCard":"Credit card accounts","Joint":"Joint accounts","Loan":"Loan accounts","LongTermSavings":"Long term savings","Other":"Other accounts","Reimbursements":"Pending reimbursements","Savings":"Saving accounts"},"categories":{"uncategorized":"To be categorized","incomeCat":"Earnings","dailyLife":"Everyday life","transportation":"Transportation, vehicles","services":"Services","kids":"Children","tax":"Taxes","health":"Health","activities":"Leisure, sports","goingOutAndTravel":"Outings, trips","educationAndTraining":"Education, training","homeAndRealEstate":"Housing, real estate","excludeFromBudgetCat":"Out of budget"},"subcategories":{"potentialTransfer":"Potential transfers","check":"Checks","atm":"Cash withdrawal","activityIncome":"Activity income","replacementIncome":"Replacement income","interests":"Interests","dividends":"Dividends","donationsReceived":"Donations received","allocations":"Allocations","rentalIncome":"Rental income","additionalIncome":"Additional income","retirement":"Retirement","supermarket":"Supermarket","consumerLoan":"Consumer loan","dressing":"Dressing","pets":"Pets","telecom":"Telecom","snaksAndworkMeals":"Snacks and work meals","charity":"Charity","giftsOffered":"Gifts offered","personalCare":"Personal care","tobaccoPress":"Tobacco press","shoppingECommerce":"Shopping and E-commerce","vehiculePurchase":"Vehicule purchase","vehiculeLoan":"Vehicule loan","vehiculeRental":"Vehicule rental","vehiculeInsurance":"Vehicule insurance","vehiculeMaintenance":"Vehicule maintenance","vehiculeGas":"Vehicule gas","privateParking":"Private parking","parkingAndToll":"Parking and toll","publicTransportation":"Public transportation","taxi":"Taxi","post":"Post service","legalCounsel":"Legal counseling","homeAssistance":"Home assistance","bankFees":"Bank fees","financialAdvisor":"Financial advisor","kidsAllowance":"Kids allowance","schoolRestaurant":"School restaurant","childCare":"Child care","schoolInsurance":"School insurance","toysAndGifts":"Toys and gifts","pensionPaid":"Pension paid","kidsActivities":"Kids activities","incomeTax":"Income tax","socialTax":"Social tax","wealthTax":"Wealth tax","realEstateTax":"Real estate tax","healthExpenses":"Health expenses","healthInsurance":"Health insurance","activityFees":"Activity fees","activityEquipments":"Activity equipments","activityLessons":"Activity lessons","electronicsAndMultimedia":"Electronics and multimedia","booksMoviesMusic":"Books, movies, music","hobbyAndPassion":"Hobby and passion","restaurantsAndBars":"Restaurants and bars","goingOutEntertainment":"Going out entertainment","goingOutCulture":"Going out culture","travel":"Travel","journey":"Plane/train/boat...","tuition":"Tuition","eduBooksAndSupplies":"Edu books and supplies","studentLoan":"Student loan","eduLessons":"Edu lessons","realEstateLoan":"Real estate loan","rent":"Rent","homeCharges":"Home charges","homeInsurance":"Home insurance","homeImprovement":"Home improvement","homeHardware":"Home hardware","water":"Water","power":"Power","internalTransfer":"Internal transfer","creditCardPayment":"Credit card payment","loanCredit":"Loan credit","professionalExpenses":"Professional expenses","investmentBuySell":"Investment buy sell","friendBorrowing":"Friend borrowing","savings":"Savings","kids":"Others : Children","dailyLife":"Others : Everyday life","educationAndTraining":"Others : Education, training","health":"Others : Health","homeAndRealEstate":"Others : Housing, real estate","incomeCat":"Others : Earning","activities":"Others : Leisure, sports","excludeFromBudgetCat":"Others : Out of budget","services":"Others : Services","tax":"Others : Taxes","transportation":"Others : Transportation, vehicles","goingOutAndTravel":"Others : Outings, trips","uncategorized":"Others : To be categorized","awaiting":"Categorization in progress"},"virtualAccounts":{"healthReimbursements":"Health reimb","professionalReimbursements":"Professional expenses reimb","othersReimbursements":"Other reimbursements"}},"Categories":{"choice":{"title":"Update category","select-all":"Select all"},"filter":{"credit":"earnings","total":"Total","debit":"Total excl. earnings","includeIncome":"Include incomes"},"headers":{"transactions":{"single":"transaction","plural":"transactions"},"credit":"Credit","total":"Total","categories":"Category","subcategories":"Subcategory","debit":"Debit","movements":"Movements"},"board":{"debit-header":"Spent","credit-header":"Earnings","total-header":"Total"},"title":{"empty-text":"There is no transaction to analyze on this period","total":"On the period","general":"Categorization"},"noAccount":"No account","search":{"title":"Categories search","no-category":"No category found"}},"Transactions":{"title":"Movements","no-movements":"No movements to display","total":"Total","transactions":"Transactions","trigger-error":{"title":"Connection unavailable","description":"Your %{bankName} data is no longer updated.","cta":"Verify the connection"},"will-be-debited-on":"Will be debited on %{date}","debit":"Debit","credit":"Credit","header":{"date":"Date","description":"Description","amount":"Amount","action":"Action"},"actions":{"refund":"Check your refunds","comment":"Comment - available soon","app":"%{appName}","bill":"1 invoice","alert":"Create an alert","attach":"Attach a document","konnector":{"health":"My reimbursements","generic":"My invoices"},"attachedDocs":{"billWithVendor":"%{vendorName} invoice","billWithoutVendor":"Invoice"},"more":"More","healthExpenseProcessed":{"single":"1 reimbursement","plural":"%{nbReimbursements} reimbursements"},"healthExpensePending":"No reimbursement yet","healthExpenseBill":"%{vendor} Statement","vendorsGlue":"and","informativeModal":{"health":{"title":"Automatic tracking of your reimbursements","description":"Connect your %{brandName} account to your My Budget service to automatically fetch your reimbursements."},"generic":{"title":"Automatic fetching of my bills","description":"Connect your %{brandName} account to your My Budget service to automatically fetch your bills."},"caption":"Your My Budget service is totally private: nobody but you can access its content.","cancel":"Cancel","confirm":"Connect"},"reimbursementStatus":{"pending":"No reimbursement yet","reimbursed":"Reimbursed","no-reimbursement":"No expected reimbursement","late":"Late reimbursement","modal":{"title":"Reimbursement"}}},"infos":{"modal-label":"Transaction infos","account":"Account","institution":"Bank","originalBankLabel":"Original label","date":"Date","assignedToPeriod":"Assigned to %{date}","chooseApplicationDate":"Assign to month","chooseRecurrence":"Recurrence","applicationDateChangedAlert":"Operation assigned to %{applicationDate} in the analysis tab","delete-transaction":{"row-label":"Delete transaction","confirm-modal":{"title":"Are you sure ?","content":"This removes the transaction from your history. This action cannot be undone.","confirm":"Delete the transaction","cancel":"Cancel"},"deleting-success":"Transaction deleted","deleting-error":"Cannot delete the transaction at the moment, try again later or contact the support."}},"see-more":"See more...","reimbursementStatus":{"pending":"I am waiting for a reimbursement","reimbursed":"I have already been reimbursed","no-reimbursement":"I am not waiting for a reimbursement"},"reimbursementStatusUpdateError":"An error occured while updating the reimbursement status"},"Notifications":{"title":"Notifications","description":"Choose the notifications that you'll receive on your mobile.","editModal":{"title":"Configure notification"},"if-balance-lower":{"description":"You will receive a notification if your balance goes under *%{value}€* on any account","descriptionWithAccountGroup":"You will receive a notification if your balance goes under *%{value}€* on *%{accountOrGroupLabel}*","settingTitle":"Low balances","fieldLabels":{"value":"Warn me when my balance goes under","accountOrGroup":"On account/group"},"email":{"innerTitle":"Low balances notification","access-accounts":"Access my accounts"},"notification":{"one":{"title":"My Budget: Low balance alert","content":"Low balance: %{accountBalance}%{currency}"},"several":{"title":"My Budget: Low balance alert on accounts"},"several-multi-rule":{"title":"%{accountsLength} accounts are below their threshold amount"}}},"if-transaction-greater":{"description":"You will receive a notification if a movement is greater than *%{value}€*","descriptionWithAccountGroup":"You will receive a notification if a movement is greater than *%{value}€* on *%{accountOrGroupLabel}*","settingTitle":"Transactions","email":{"innerTitle":"Transaction notification"},"fieldLabels":{"value":"Warn me for expenses greater than","accountOrGroup":"On account/group"},"notification":{"debit":{"title":"Debit of %{amount}%{currency}"},"credit":{"title":"Credit of %{amount}%{currency}"},"others":{"title":"%{transactionsLength} transactions greater than %{maxAmount}€"},"others-multi":{"title":"%{transactionsLength} transactions greater than %{matchingRulesLength} thresholds"},"one":{"title":"My Budget: %{number} Transaction greater than %{threshold}%{currency}"},"several":{"title":"My Budget: %{number} Transactions greater than %{threshold}%{currency}"}}},"when-health-bill-linked":{"settingTitle":"Detected","email":{"innerTitle":"New medical expenses coverage"},"description":"You will be notified when a reimbursement is found for a medical expense.","notification":{"title":"New medical expenses coverage","content":{"title":"Health reimbursement notification","treated-by":"Treated by"}}},"when-late-health-reimbursement":{"settingTitle":"Late","description":"You will be notified when no reimbursement have been found for one of your health expenses since *%{value} days*.","unit":"days","email":{"innerTitle":"Late health reimbursement notification","accessReimbursements":"Access my reimbursements"},"fieldLabels":{"value":"Warn me when a health expense has not been reimbursed in"},"notification":{"title":"Late health reimbursements","content":{"title":"Late health reimbursements","message":"%{smart_count} late health reimbursement |||| %{smart_count} late health reimbursements"}}},"health-section":{"title":"Health reimbursement","description":"This requires to connect your Cozy to your medical insurance."},"delayed-debit":{"settingTitle":"Delayed debit alert","settingDescription":"You need a \"credit card\" account for this functionality","description":"You will receive a notification when the outstanding card account *%{creditCardLabel}* generates a negative balance on its associated current account *%{checkingsLabel}*, *%{value} days* before the end of the month.","fieldLabels":{"creditCardAccount":"Credit card","checkingsAccount":"Associated checking account","days":"Warn before the end of the month"},"unit":"days","email":{"innerTitle":"Delayed debit notification","accessAccounts":"Access my accounts"},"notification":{"title":"My Budget: Outstanding card alert at delayed debit","content":"The outstanding card of the account %{account} generates a negative balance on its associated current account"}},"categoryBudgets":{"email":{"title-multi":"%{alertCount} budgets have exceeded their limit","title-single":"%{categoryLabel} budget has exceeded its limit","innerTitle":"Category budget notification","budgetOutOf":"out of"}},"konnectorAlerts":{"email":{"title-multi":"%{alertCount} connectors no longer sync your data","title-single":"%{konnectorName} no longer syncs your data","innerTitle":"Connector sync"},"push":{"content-single":"Log in to your My Budget service to solve the problem","content-multi":"%{konnectorNames}"}},"health_section":{"description":"This requires to connect your My Budget service to your medical insurance."},"category-budgets":{"notification":{"one":{"title":"My Budget: Budget alert","content":"Monthly budget of %{amount} %{category} exceeded"},"several":{"title":"My Budget: Budget alert on categories","content":"%{category}"}}}},"Settings":{"title":"Settings","accounts":"Accounts","groups":"Groups","configuration":"Config.","debug":"Debug","personal-info":{"title":"Personal information","edit":"Edit personal info"},"security":{"title":"Security","amount-blur":{"title":"Hide amounts","description":"Navigate the app with hidden amounts"}},"rules":{"create":"Create alert","remove-modal":{"title":"Remove alert ?","desc":"Please confirm you want to remove the alert."},"saving-error":"Could not save alert, please try again later"},"budget-category-alerts":{"pane-title":"Category budget","pane-description":"Configure monthly budget notification per category","budget-inferior-to":"Monthly budget of *%{threshold}€*","for-category":"in *%{categoryName}*","for-account":"for account *%{accountOrGroupLabel}*","for-group":"for group *%{accountOrGroupLabel}*","for-all-accounts":"for all accounts","edit":{"modal-title":"Edit alert","category-label":"Category","threshold-label":"Monthly budget","account-group-label":"Account or group","create-ok":"Create alert","update-ok":"Update alert","all-category":"All « %{categoryName} »","cancel":"Cancel"}},"accounts-tab":{"import-in-progress":"Import in progress","in-maintenance":"In maintenance"}},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"BalanceHistory":{"all-accounts":"All accounts","checked-accounts":"%{nbCheckedAccounts}/%{nbAccounts} accounts"},"LogoutModal":{"message":"Logout in progress..."},"AdvancedFeaturesSettings":{"title":"Advanced features","automatic-categorization":{"title":"Automatic categorization","local-model-override":{"description":"Learn from my manual categorizations"}},"balance-history":{"title":"Balance history chart","show-chart":{"description":"Build my balance history chart"}}},"KonnectorUpdateInfo":{"title":"Update of your banking connections","content":"A latest version of our banking connection has been released. You need to sign the new terms of service. <a href='https://support.cozy.io/article/302-budget' target='_blank'>Learn more</a>.","cta":"Update my banks"},"Pin":{"enter-pin-restricted-area":"Please enter pin to enter restricted area","please-choose-pin":"Please choose a security code","please-enter-your-pin":"Please enter your security code","please-repeat-pin":"Please repeat the security code","errors":{"different-pins":"The two codes are different, please retry."},"logout":"Logout","successfully-changed":"Pin successfully changed","error-save":"Could not save pin, are you connected to internet ?","configure-button":"Configure PIN","attempt-count":"%{current}/%{max} attempts","settings":{"toggle-title":"Lock app","toggle-description":"Lock my app with a pin code or a fingerprint. Unlocking will be required after 1 minute of inactivity."},"fingerprint-text":"Or your fingerprint","use-fingerprint":{"yes":"Use my fingerprint","no":"No, thanks","title":"Activate fingerprint unlocking","description":"Do you want to use your smartphone's fingerprint security to unlock the app?"}},"Reimbursements":{"title":{"healthExpenses":"Health reimbursements","professionalExpenses":"Professional reimbursements","othersExpenses":"Others reimbursements","group":"All awaiting reimbursements"},"pending":"Pending reimbursements: ","alreadyReimbursed":"Already reimbursed","noPending":{"generic":"No awaiting reimbursement for expenses in %{period}","healthExpenses":"No awaiting reimbursement for health expenses in %{period}","professionalExpenses":"No awaiting reimbursement for professional expenses in %{period}"},"noReimbursed":{"generic":"Manually add some pending reimbursements on expenses to follow their reimbursements","healthExpenses":"Edit your transactions reimbursement status to easily follow your reimbursements.","professionalExpenses":"Categorize some expenses to « professional expense » to follow their reimbursements","group":"Manually add an awaiting reimbursement on expenses to follow their reimbursement, or categorize it with \"out of budget / professional expenses\" or \"health expenses\" to have an automatic tracking"}},"KonnectorChip":{"health":"My reimbursements","generic":"My invoices"},"PersonalInfo":{"birthcity":"Birth city","birthcity-placeholder":"City where you were born","birthcountry":"Birth country","birthcountry-placeholder":"Country where you were born","nationality":"Nationality","save-cta":"Save information","modal-title":"Edit personal information","info-saved-successfully":"Your personal info has been updated","info":{"title":"Why is this information necessary?","description":"To prevent money laundering and terrorism financing, MAIF has enforced strict rules on who is able to transfer money."},"validation-error":"All fields are mandatory"},"Transfer":{"nav":"Transfers","page-title":"Transfer","amount":{"page-title":"Amount","field-label":"Transfer amount","title":"How much do you want to send ?","confirm":"Confirm the amount","errors":{"too-high":"Choose an amount lower than %{maximum}€","too-low":"Choose an amount greater than %{minimum}€","incorrect-number":"%{value} is an incorrect amount."}},"category":{"page-title":"Beneficiary","title":"Where do you want to send this transfer ?","internal":"On one of your accounts","external":"On another account"},"beneficiary":{"page-title":"Beneficiary","add-beneficiary":"Add a recipient","help-add-beneficiary-title":"Adding recipients","help-add-beneficiary":"To add recipients, add them directly on the website of your bank.","help-add-beneficiary-action":"Understood !","title":"To which account do you want to send this transfer"},"sender":{"page-title":"Émetteur","title":"From which account do you want to transfer ?"},"summary":{"page-title":"Summary","send":"Send","from":"from","to":"to","for":"for","for-placeholder":"reason (optional)","confirm":"Confirm transfer","on":"on"},"password":{"page-title":"Password","title":"Enter your bank password to confirm the transfer","confirm":"Confirm the transfer","field-label":"Your bank password or pin code","field-placeholder":"******","date-placeholder":"Transfer date"},"success":{"title":"Your transfer request has been sent","description":"Your bank will execute the transfer within a business day, provided you have sufficient funds."},"error":{"title":"Your transfer request could not be sent","description":"You can retry later or contact our support.","description-login-failed":"Your password seems incorrect, please check and try again"},"no-bank":{"title":"Add a bank to be able to send money","add-bank":"Add your first bank"},"no-recipients":{"title":"No recipients found","description":"We could not find any recipients, your bank might be unsupported. See below the supported banks."},"exit":"Finish","retry":"Retry","user-blocked":{"title":"Transfers blocked","description":"Transfers are blocked on your My Budget service. Please contact the support."}},"ReimbursementStatusModal":{"contact":{"actions":{"sendCareSheet":"Send my care sheet","contactComplementary":"Contact my complementary"},"phoneCallPrice":" + call price","phoneCallFree":"Not surcharged call","openApp":{"title":"Open the application","caption":"On my phone"}}},"LoanProgress":{"reimbursedAmount":"Reimbursed amount","borrowedAmount":"Borrowed amount"},"LoanDetails":{"dateGlue":"on","keyInfos":{"title":"Key information","borrowedAmount":"Borrowed amount:","remainingCapital":"Remaining capital:","interestRate":"Interest rate:"},"payments":{"title":"Payments","lastPayment":"Last payment made:","nextPayment":"Next scheduled payment:"},"characteristics":{"title":"Loan characteristics","subscriptionDate":"Subscription date:","maturityDate":"Repayment date:","nbPaymentsLeft":"No payments left:","nbPaymentsDone":"No payments done:"},"creditReserve":{"title":"Credit reserve","totalUsedAmount":"Total used amount:","availableAmount":"Available amount:"}},"AccountGroupChoice":{"nothing-selected":"Select an account","all-accounts":"All accounts"},"Confirmation":{"cancel":"Cancel","ok":"OK"},"EditionModal":{"ok":"OK","cancel":"Cancel","remove":"Remove"},"Recurrence":{"see-transaction-history":"Go to history","display-error":"We are sorry, an error happened during the display of this page. You can go to the debug page to reset the recurrences and reload the page to try to solve this problem.","go-to-debug-page":"Go to debug page","no-recurrences":{"title":"No recurring transactions","text":"Find here the transactions detected as recurring, you can also manually indicate an transaction as recurring. After setting a transaction as recurrent, similar transactions will be detected automatically in the future."},"no-transactions":{"title":"No transactions","text":"This recurrence does not contain any transactions, you may want to delete it."},"table":{"frequency":"Frequency","label":"Label","amount":"Amount","last-occurence":"Last occurrence"},"status":{"ongoing":"Ongoing","finished":"Finished","save-success":"Status changed"},"description-amount":"%{amount}","description-amounts":"between %{minAmount} and %{maxAmount}","delete-success":"Recurrence has been deleted","delete-error":"Recurrence could not be deleted, please try again later","title":"Recurring payments","choice":{"not-recurrent":"Occasional transaction","recurrent":"Recurrent transaction","new-recurrence":"New recurrence"},"action-menu":{"open-button":"Act on recurrence","rename":"Rename","delete":"Delete","delete-caption":"Transactions will be redefined as occasional.","ongoing":"Ongoing","ongoing-caption":"A transaction will be expected in your previsional transactions.","finished":"Finished"},"rename":{"modal-title":"Rename recurrence","save":"Save","cancel":"Cancel","save-success":"Saved!","save-error":"Could not rename, try again later"},"freq-info-word":{"weekly":"every week","monthly":"every month","yearly":"every year"},"freq-info":"every %{frequency} days","deprecated-bundles-help":"Payments below will not be considered for 30-day balance since their last occurence happened more than  4 months ago."},"Harvest":{"modal-title":"Configure accounts","disconnected-account":"Disconnected account"},"EstimatedBudget":{"no-planned-transactions":{"title":"No planned transactions in the next 30 days","text":"You can set any operation as \"recurrent\" to help the prediction."},"30-day-balance":"30-day balance","page-title":"Planned transactions","numberEstimatedTransactions":"%{smart_count} planned transaction |||| %{smart_count} planned transactions"},"JobsContext":{"alerter-success":"Connector import successful","alerter-errored":"An error occurred during the import"},"DeletingAccount":{"related-data":{"deleting":"Deleting associated data, do not close the window...","successfully-deleted":"All associated data has been deleted"}},"Categorization":{"error":"Could not categorize some operations, please try again.","success":"%{smart_count} operation has been recategorized |||| %{smart_count} operations have been recategorized"},"SelectionBar":{"selected_count":"item selected |||| items selected","close":"Close","categorize":"Categorize","selectAll":"Select all","unselectAll":"Unselect all"},"Migration":{"title":"Fresh download of your data is required","content":"Cozy Banks needs to refresh its data in order to improve its navigation performances. You only need a steady network and be patient for 1 minute (and up to several minutes in case of high volume of data) during which you cannot use your app. No data will be lost.","confirm":"Ok, let's do it!","cancel":"No, not now"},"extra":{"balances":{"reconnect-nestor-account":"Reconnect your account"},"transactions":{"reconnect-nestor-account":{"title":"Reconnection to your bank is necessary","cta":"Reconnect your account","description":"You need to reconnect your bank %{bankName} to your My Budget service for your personal data to be updated."}},"nestor-migration-modal":{"title":"We've fetched all your account data","content":"Connect to each of your banks to reactivate them.","cta":"OK, understood"},"harvest":{"form":{"title":"Connect your %{name} account"},"success":{"folderLinkLabel":"See collected documents","title":"Successful configuration!","message":"Your data will be available in your assistant in a few minutes, and the next ones will follow shortly.","button":{"label":"Go back to my Budget"}}},"configuration":{"title":"Feature preview","credit":"Apply for a loan"}},"AccountSettings":{"confirm-deletion":{"description":"This action will delete your transactions in the MAIF Personal Space app along with the links set up with your bills. Remove your bank synchronisation from the menu, if you do not wish to reimport your banking data at the next scheduled synchronization."}},"Store":{"search-field":{"label":"Search:","placeholder":"Search your bank"},"fetch-error":"Could not load the services from the registry, are you connected to the Internet?","konnector-not-found":"The requested service was not found in the registry.","modal":{"title":"Select your bank"}},"HelpSpeedDial":{"faq":"Frequently asked questions","help":"App help"}};

/***/ }),

/***/ "../overrides/cozy-banks/src/locales/fr.extra.json":
/*!*********************************************************!*\
  !*** ../overrides/cozy-banks/src/locales/fr.extra.json ***!
  \*********************************************************/
/*! exports provided: extra, AccountSettings, Notifications, Transactions, Reimbursements, PersonalInfo, Recurrence, Store, Error, Transfer, HelpSpeedDial, default */
/***/ (function(module) {

module.exports = {"extra":{"balances":{"reconnect-nestor-account":"Reconnectez votre compte"},"transactions":{"reconnect-nestor-account":{"title":"La reconnexion à votre banque est nécessaire","cta":"Reconnecter votre compte","description":"Vous devez reconnecter votre banque %{bankName} à votre service Mon Budget pour que vos données continuent à être mises à jour."}},"nestor-migration-modal":{"title":"Nous avons récupéré l'intégralité de vos comptes","content":"Connectez-vous à chacune de vos banques pour les réactiver.","cta":"OK, bien compris"},"harvest":{"form":{"title":"Connectez votre compte %{name}"},"success":{"folderLinkLabel":"Voir les documents collectés","title":"Configuration réussie !","message":"Vos données existantes seront disponibles dans votre service Mon Budget dans quelques minutes et les prochaines suivront automatiquement.","button":{"label":"Revenir à mon Budget"}}},"configuration":{"title":"En avant-première…","credit":"Demander un crédit"}},"AccountSettings":{"confirm-deletion":{"description":"Cette action supprimera les mouvements déjà présents dans le service Mon Budget, ainsi que les liens avec vos factures. Supprimez également votre synchronisation depuis le menu, si vous ne souhaitez pas réimporter vos données à la prochaine synchronisation."}},"Notifications":{"description":"Choisissez les notifications et alertes que vous souhaitez recevoir sur votre mobile.","health_section":{"description":"Cela nécessite d'avoir connecté une assurance santé à votre service Mon Budget."},"delayed-debit":{"notification":{"title":"Mon Budget: Alerte encours carte à débit différé","content":"L'encours carte du compte %{account} engendre un solde négatif sur son compte courant associé"}},"categoryBudgets":{"email":{"title-multi":"%{alertCount} budgets ont dépassé leur limite","title-single":"Le budget %{categoryLabel} a dépassé sa limite","innerTitle":"Notification d'alerte par catégorie","budgetOutOf":"sur"}},"konnectorAlerts":{"push":{"content-single":"Connectez-vous à votre service Mon Budget pour régler le problème"}},"if-balance-lower":{"notification":{"one":{"title":"Mon Budget: Alerte solde bas","content":"Solde bas: %{accountBalance}%{currency}"},"several":{"title":"Mon Budget: Alerte solde bas sur les comptes"}}},"if-transaction-greater":{"notification":{"one":{"title":"Mon Budget: %{number} mouvement de plus de %{threshold}%{currency}"},"several":{"title":"Mon Budget: %{number} mouvements de plus de %{threshold}%{currency}"}}},"category-budgets":{"notification":{"one":{"title":"Mon Budget: Alerte de Budget","content":"Budget mensuel de %{threshold}%{currency} %{category} dépassé"},"several":{"title":"Mon Budget: Alerte de Budget sur les catégories","content":"%{categories}"}}}},"Transactions":{"actions":{"informativeModal":{"health":{"description":"Connectez votre compte %{brandName} à votre service Mon Budget pour récupérer vos remboursements automatiquement."},"generic":{"description":"Connectez votre compte %{brandName} à votre service Mon Budget pour récupérer vos factures automatiquement."},"caption":"Votre service Mon Budget est totalement privé : personne d'autre que vous ne peut accéder à son contenu."}}},"Reimbursements":{"noReimbursed":{"healthExpenses":"Editez le statut de remboursement de vos dépenses pour faciliter le suivi de vos remboursements."}},"PersonalInfo":{"info":{"description":"Afin de prévenir le blanchiment d'argent et le financement du terrorisme, la MAIF s'est dotée de règles strictes"}},"Recurrence":{"no-recurrences":{"text":"Retrouvez ici les opérations détectées comme récurrentes, vous pouvez également indiquer manuellement une opération comme récurrente. (les suivantes seront détectées automatiquement.)"}},"Store":{"search-field":{"label":"Rechercher :","placeholder":"Recherchez votre banque"},"fetch-error":"Impossible de charger les services, êtes-vous connecté à Internet ?","konnector-not-found":"Le service demandé n'a pas été trouvé sur le registre.","modal":{"title":"Sélectionnez votre banque"}},"Error":{"contact":"Si le problème persiste, #{LINK}notre FAQ#{/LINK} peut peut-être vous aider."},"Transfer":{"user-blocked":{"description":"Les virements sont bloqués. Merci de contacter le support."}},"HelpSpeedDial":{"faq":"Questions fréquentes","help":"Assistance de l'app"}};

/***/ }),

/***/ "../overrides/cozy-banks/src/locales/fr.json":
/*!***************************************************!*\
  !*** ../overrides/cozy-banks/src/locales/fr.json ***!
  \***************************************************/
/*! exports provided: General, Loading, Error, AccountSwitch, Search, Nav, Accounts, Balance, Transactions, Categories, Data, Groups, SelectDates, Notifications, Settings, TOS, BalanceHistory, LogoutModal, AdvancedFeaturesSettings, KonnectorUpdateInfo, Pin, Reimbursements, KonnectorChip, PersonalInfo, Transfer, ReimbursementStatusModal, LoanProgress, LoanDetails, AccountGroupChoice, Confirmation, EditionModal, Recurrence, Harvest, EstimatedBudget, JobsContext, DeletingAccount, Categorization, SelectionBar, Migration, extra, AccountSettings, Store, HelpSpeedDial, default */
/***/ (function(module) {

module.exports = {"General":{"delete":"Supprimer","deleting":"Suppression...","cancel":"Annuler","confirm":"Confirmer","back":"Revenir","choose":"Choisir","reload":"Recharger"},"Loading":{"loading":"Chargement...","error":"Il y a eu une erreur pendant le chargement des données. Merci de réessayer plus tard."},"Error":{"more-information":"More information","less-information":"Less information","title":"L'affichage de vos données bancaires a échoué","retry":"Vous pouvez essayer de nouveau en rechargeant la page. Si le problème persiste consultez notre FAQ.","reload-page":"Recharger la page","consult-faq":"Consulter notre FAQ","fetch-error":"Connexion perdue. Réessayez plus tard ou vérifiez votre connexion et rechargez la page.","contact":"Si le problème persiste, #{LINK}notre FAQ#{/LINK} peut peut-être vous aider."},"AccountSwitch":{"title":"Choisir un compte / groupe","some-accounts":"%{count}/%{smart_count} compte |||| %{count}/%{smart_count} comptes","all-accounts":"Tous les comptes","accounts":"Comptes","groups":"Groupes","account-counter":"%{smart_count} compte |||| %{smart_count} comptes"},"Search":{"title":"Recherche","title-results":"%{smart_count} résultat |||| %{smart_count} résultats","no-transactions-found":"Aucune opération n'a pu être trouvée avec cette recherche.","input-placeholder":"Rechercher...","type-a-search":"Saisir du texte pour lancer une recherche","since":"Depuis le %{date}","suggestions":"Salaire, EDF, Virement...","search-older-transactions":"Chercher dans les transactions plus anciennes"},"Nav":{"my-accounts":"Mes comptes","analysis":"Analyse","categories":"Catégorisation","projections":"Prévisions","savings":"Economiser","settings":"Paramètres","recurrence":"Récurrences"},"Accounts":{"account":"Compte ","add-account":"Ajouter un compte","add-bank":"Ajouter une banque","no-account":"Aucun compte","bank":"Banque","label":"Libellé","my-accounts":"Mes comptes","no-accounts":"Vous n'avez pas encore de compte.","no-shared-accounts":"Vous n'avez pas encore de compte partagé.","shared":"Partagé","shared-accounts":"Comptes que l'on m'a partagé","type":"Type","manage-accounts":"Gérer mes comptes","owner":"Titulaire"},"Balance":{"title":"Mes comptes","nb-accounts":"%{nbCheckedAccounts}/%{smart_count} compte |||| %{nbCheckedAccounts}/%{smart_count} comptes","subtitle":{"all":"Total de tous vos comptes","group":"Total du groupe %{label}","account":"Total du compte %{label}"},"account-name":"Nom du compte","solde":"Solde","bank-name":"Nom de la banque","account-number":"Numéro du compte","manage-accounts":"Organiser mes comptes","updated-at":{"yesterday":"Hier","today":"Aujourd'hui","n-days-ago":"Il y a %{nbDays} jours","unknown":"NC"},"delay":"Cela peut prendre quelques minutes…","import-accounts":"Import des comptes","importing-accounts-error":"Échec de l'import","in-progress":"En cours","error":"Cliquez pour relancer","trigger-problem":"Problème avec la connexion","no-accounts-in-group":{"description":"Vous n'avez pas de compte associé à ce groupe.","button":"Éditer le groupe"},"reimbursements-caption":"6 derniers mois","import-in-progress":"Import en cours"},"Transactions":{"title":"Mouvements","no-movements":"Pas de mouvements à afficher","total":"Total","trigger-error":{"title":"Connexion impossible","description":"Vos données %{bankName} ne sont plus mises à jour.","cta":"Régler la connexion"},"transactions":"Opérations","will-be-debited-on":"Sera débitée le %{date}","debit":"Débit","credit":"Crédit","header":{"date":"Date","description":"Libellé","amount":"Montant","action":"Action"},"actions":{"more":"Plus","bill":"1 facture","app":"Application %{appName}","refund":"Vérifier vos remboursements","attach":"Attacher un document","konnector":{"health":"Mes remboursements","generic":"Mes factures"},"alert":"Ajouter une alerte","comment":"Commentaire - Bientôt disponible","attachedDocs":{"billWithVendor":"Facture %{vendorName}","billWithoutVendor":"Facture"},"healthExpenseProcessed":{"single":"1 remboursement","plural":"%{nbReimbursements} remboursements"},"healthExpensePending":"Remboursements en attente","healthExpenseBill":"Relevé %{vendor}","vendorsGlue":"et","informativeModal":{"health":{"title":"Suivi automatique de mes remboursements","description":"Connectez votre compte %{brandName} à votre service Mon Budget pour récupérer vos remboursements automatiquement."},"generic":{"title":"Récupération automatique de mes factures","description":"Connectez votre compte %{brandName} à votre service Mon Budget pour récupérer vos factures automatiquement."},"caption":"Votre service Mon Budget est totalement privé : personne d'autre que vous ne peut accéder à son contenu.","cancel":"Annuler","confirm":"Connecter"},"reimbursementStatus":{"pending":"Remboursement en attente","reimbursed":"Remboursé","no-reimbursement":"Aucun remboursement attendu","late":"Rembours. en retard","modal":{"title":"Remboursement"}}},"infos":{"modal-label":"Détails de la transaction","account":"Compte","institution":"Banque","originalBankLabel":"Libellé original","date":"Date","assignedToPeriod":"Affectée à %{date}","chooseApplicationDate":"Affecter au mois","applicationDateChangedAlert":"Operation affectée à %{applicationDate} dans l'onglet Analyse","chooseRecurrence":"Récurrence","delete-transaction":{"row-label":"Supprimer l'opération","confirm-modal":{"title":"Êtes-vous sûr(e) ?","content":"La transaction va être supprimée de votre historique. Cette opération ne peut pas être annulée.","confirm":"Supprimer l'opération","cancel":"Annuler"},"deleting-success":"Opération supprimée","deleting-error":"Impossible de supprimer l'opération pour le moment, réessayez plus tard ou contactez le support."}},"see-more":"Voir plus...","reimbursementStatus":{"pending":"J'attends un remboursement","reimbursed":"J'ai déjà été remboursé","no-reimbursement":"Je n'attends pas de remboursement"},"reimbursementStatusUpdateError":"Une erreur est survenue lors de la mise à jour du statut de remboursement"},"Categories":{"choice":{"title":"Modifier la catégorie","select-all":"Sélectionner tout"},"board":{"debit-header":"Dépense","credit-header":"Revenu","total-header":"Total"},"filter":{"debit":"Total hors categ. revenus","credit":"Revenus","total":"Total","includeIncome":"Inclure les revenus"},"title":{"general":"Catégorisation","total":"Sur la période","empty-text":"Aucun mouvement à analyser sur cette période"},"headers":{"categories":"Catégorie","subcategories":"Sous-catégorie","transactions":{"single":"opération","plural":"opérations"},"debit":"Débit","credit":"Crédit","total":"Total","movements":"Mouvements"},"noAccount":"Aucun compte","search":{"title":"Recherche de catégories","no-category":"Aucune catégorie trouvée"}},"Data":{"accountTypes":{"Business":"Comptes professionnels","Checkings":"Comptes courants","CreditCard":"Cartes de crédit","Joint":"Comptes joints","Loan":"Emprunts","LongTermSavings":"Épargne long terme","Other":"Autres comptes","Reimbursements":"Remboursements en attente","Savings":"Épargne"},"categories":{"uncategorized":"A catégoriser","incomeCat":"Revenus","dailyLife":"Dépenses vie courante","transportation":"Transports, véhicules","services":"Services","kids":"Enfants","tax":"Impôts","health":"Santé, prévoyance","activities":"Sports, loisirs","goingOutAndTravel":"Sorties, voyages","educationAndTraining":"Education, formation","homeAndRealEstate":"Logement, immobilier","excludeFromBudgetCat":"Hors budget"},"subcategories":{"potentialTransfer":"Virements à catégoriser","check":"Chèques","atm":"Retraits d'espèces","activityIncome":"Salaire/Revenus d'activité","replacementIncome":"Revenus de remplacement","interests":"Intérêts","dividends":"Dividendes","donationsReceived":"Cadeaux, dons reçus","allocations":"Aides et allocations","rentalIncome":"Revenus locatifs","additionalIncome":"Revenus complémentaires","retirement":"Retraite","supermarket":"Alimentation, supermarché","consumerLoan":"Remb. prêt conso","dressing":"Habillement","pets":"Animaux","telecom":"Internet, TV, télécom","snaksAndworkMeals":"Snacks, repas au travail","charity":"Dons caritatifs","giftsOffered":"Cadeaux offerts","personalCare":"Coiffeur, esthétique, cosmétique, soins","tobaccoPress":"Tabac/Presse","shoppingECommerce":"Shopping/e-Commerce","vehiculePurchase":"Achat véhicule","vehiculeLoan":"Remb. prêt véhicule","vehiculeRental":"Location véhicule","vehiculeInsurance":"Assurance véhicule","vehiculeMaintenance":"Entretien, équipements véhicules","vehiculeGas":"Carburant","privateParking":"Garage, parking privé","parkingAndToll":"Parking, péages, PV","publicTransportation":"Transports en commun","taxi":"Taxi et VTC","post":"Poste, courrier","legalCounsel":"Conseil juridique","homeAssistance":"Aide-à-domicile","bankFees":"Frais bancaires","financialAdvisor":"Conseil financier","kidsAllowance":"Argent de poche","schoolRestaurant":"Restauration scolaire","childCare":"Garde d'enfants","schoolInsurance":"Assurance scolaire","toysAndGifts":"Jouets, cadeaux","pensionPaid":"Pension versée","kidsActivities":"Activités enfants","incomeTax":"Impôts sur le revenu","socialTax":"Contributions sociales","wealthTax":"ISF","realEstateTax":"Taxes foncières, d'habitation","healthExpenses":"Frais, remb santé","healthInsurance":"Cotis mutuelle, prévoyance","activityFees":"Cotis. sports, loisirs","activityEquipments":"Equipement sports, loisirs","activityLessons":"Cours sports, loisirs","electronicsAndMultimedia":"Electronique, multimédia","booksMoviesMusic":"Musique, livres, films","hobbyAndPassion":"Passion, hobby","restaurantsAndBars":"Restaurants, soirées","goingOutEntertainment":"Sorties détente","goingOutCulture":"Sorties culturelles","travel":"Voyages","journey":"Avion/train/bateau...","tuition":"Inscription, scolarité","eduBooksAndSupplies":"Livres, fournitures (éducation)","studentLoan":"Remb. prêt étudiant","eduLessons":"Cours, soutien scolaire","realEstateLoan":"Remb. prêt immobilier","rent":"Loyer","homeCharges":"Charges logement","homeInsurance":"Assurance logement","homeImprovement":"Travaux, déco, jardin","homeHardware":"Meubles, équipement","water":"Eau","power":"Electricité, gaz, chauffage","internalTransfer":"Virements internes","creditCardPayment":"Prél. carte débit différé","loanCredit":"Déblocage prêt, crédits, réserves","professionalExpenses":"Notes de frais (+/-)","investmentBuySell":"Achats, ventes de titres","friendBorrowing":"Avances, remboursements","savings":"Virements d'épargne","kids":"Autres : Enfants","dailyLife":"Autres : Dépenses vie courante","educationAndTraining":"Autres : Education, formation","health":"Autres : Santé, prévoyance","homeAndRealEstate":"Autres : Logement, immobilier","incomeCat":"Autres : Revenus","activities":"Autres : Sports, loisirs","excludeFromBudgetCat":"Autres : Hors budget","services":"Autres : Services","tax":"Autres : Impôts","transportation":"Autres : Transports, véhicules","goingOutAndTravel":"Autres : Sorties, voyages","uncategorized":"Autres : A catégoriser","awaiting":"Catégorisation en cours"},"virtualAccounts":{"healthReimbursements":"Remb santé","professionalReimbursements":"Remb notes de frais","othersReimbursements":"Autres remboursements"}},"Groups":{"groups":"Groupes","label":"Libellé","banks":"Banques","bank":"Banque","accounts":"Comptes","new-group":"Nouveau groupe","create":"Créer un groupe","edit":"éditer","manage-groups":"Gérer mes groupes","delete":"supprimer","edit-group":"Editer le groupe","no-groups":"Avec les groupes, vous pouvez facilement rassembler plusieurs comptes, n'hésitez pas à en créer un !","back-to-groups":"Revenir aux groupes","rename":"Renommer","save":"Sauvegarder","included":"Inclus","account-number":"Numéro du compte","total-balance":"Total","toggle-account-error":"Impossible d'ajouter/supprimer le compte au groupe, merci de réessayer plus tard","deletion-error":"Une erreur est survenue lors de la suppression du groupe.","no-account":"Aucun compte n'est présent dans ce groupe","name-placeholder":"Mon groupe"},"SelectDates":{"all-year":"Toute l'année","year":"Année","month":"Mois","previous-month":"Mois précédent","next-month":"Mois suivant"},"Notifications":{"title":"Notifications","description":"Choisissez les notifications et alertes que vous souhaitez recevoir sur votre mobile.","editModal":{"title":"Configurer la notification"},"if-balance-lower":{"settingTitle":"Solde bas","fieldLabels":{"value":"Me prévenir quand mon solde passe sous","accountOrGroup":"sur"},"email":{"innerTitle":"Notification de solde bas","access-accounts":"Accéder à mes comptes"},"description":"Vous recevrez une notification si votre solde est inférieur à *%{value}*€ sur l'un de vos comptes","descriptionWithAccountGroup":"Vous recevrez une notification si votre solde est inférieur à *%{value}*€ sur *%{accountOrGroupLabel}*","notification":{"one":{"title":"Mon Budget: Alerte solde bas","content":"Solde bas: %{accountBalance}%{currency}"},"several":{"title":"Mon Budget: Alerte solde bas sur les comptes"},"several-multi-rule":{"title":"%{accountsLength} comptes sont en dessous de leur seuil limite"}}},"if-transaction-greater":{"settingTitle":"Mouvements","description":"Vous recevrez une notification si un mouvement est supérieur à *%{value}*€","descriptionWithAccountGroup":"Vous recevrez une notification si un mouvement est supérieur à *%{value}*€ sur *%{accountOrGroupLabel}*","email":{"innerTitle":"Notification de mouvement"},"fieldLabels":{"value":"Me prévenir pour les dépenses dépassant","accountOrGroup":"sur"},"notification":{"debit":{"title":"Dépense de %{amount}%{currency}"},"credit":{"title":"Versement de %{amount}%{currency}"},"others":{"title":"%{transactionsLength} mouvements de plus de %{maxAmount}€"},"others-multi":{"title":"%{transactionsLength} mouvements au dessus de %{matchingRulesLength} seuils"},"one":{"title":"Mon Budget: %{number} mouvement de plus de %{threshold}%{currency}"},"several":{"title":"Mon Budget: %{number} mouvements de plus de %{threshold}%{currency}"}}},"when-health-bill-linked":{"settingTitle":"Detecté","description":"Vous recevrez une notification lorsqu'un remboursement a été trouvé pour une de vos dépenses de santé","email":{"innerTitle":"Remboursements de santé"},"notification":{"title":"Nouveaux remboursements de santé","content":{"title":"Remboursement de santé","treated-by":"Traité par"}}},"when-late-health-reimbursement":{"settingTitle":"En retard","description":"Vous recevrez une notification lorsqu'un remboursement n'a pas été trouvé pour une de vos dépenses de santé depuis *%{value}* jours.","unit":"jours","email":{"innerTitle":"Notification de remboursement(s) en retard","accessReimbursements":"Accéder à mes remboursements"},"fieldLabels":{"value":"Me prévenir quand une dépense de santé n'est pas remboursée depuis"},"notification":{"title":"Remboursements de santé en retard","content":{"title":"Remboursements de santé en retard","message":"%{smart_count} remboursement de santé en retard |||| %{smart_count} remboursements de santé en retard"}}},"health-section":{"title":"Remboursement de santé","description":"Cela nécessite d'avoir connecté une assurance santé à votre Cozy."},"delayed-debit":{"settingTitle":"Paiement de l'encours carte à débit différé","settingDescription":"Cela nécessite d'avoir connecté un compte de type \"carte de crédit\"","fieldLabels":{"creditCardAccount":"Carte de crédit","checkingsAccount":"Compte courant de l'encours","days":"Me prévenir avant la fin du mois"},"description":"Vous recevrez une notification lorque l'encours carte du compte *%{creditCardLabel}* engendre un solde négatif sur son compte courant associé *%{checkingsLabel}*, *%{value}* jour(s) avant la fin du mois","unit":"jours","email":{"innerTitle":"Notification de paiement de l'encours carte à débit différé","accessAccounts":"Accéder à mes comptes"},"notification":{"title":"Mon Budget: Alerte encours carte à débit différé","content":"L'encours carte du compte %{account} engendre un solde négatif sur son compte courant associé"}},"categoryBudgets":{"email":{"title-multi":"%{alertCount} budgets ont dépassé leur limite","title-single":"Le budget %{categoryLabel} a dépassé sa limite","innerTitle":"Notification d'alerte par catégorie","budgetOutOf":"sur"}},"konnectorAlerts":{"email":{"title-multi":"%{alertCount} connecteurs ne synchronisent plus vos données","title-single":"Le connecteur %{konnectorName} ne synchronise plus vos données","innerTitle":"Synchronisation des connecteurs"},"push":{"content-single":"Connectez-vous à votre service Mon Budget pour régler le problème","content-multi":"%{konnectorNames}"}},"health_section":{"description":"Cela nécessite d'avoir connecté une assurance santé à votre service Mon Budget."},"category-budgets":{"notification":{"one":{"title":"Mon Budget: Alerte de Budget","content":"Budget mensuel de %{threshold}%{currency} %{category} dépassé"},"several":{"title":"Mon Budget: Alerte de Budget sur les catégories","content":"%{categories}"}}}},"Settings":{"title":"Paramètres","accounts":"Comptes","groups":"Groupes","configuration":"Config.","debug":"Debug","personal-info":{"title":"Informations personnelles","edit":"Compléter mes informations personnelles"},"security":{"title":"Sécurité","amount-blur":{"title":"Masquer les montants","description":"Naviguer dans l'app avec les montants cachés"}},"rules":{"create":"Créer une alerte","remove-modal":{"title":"Supprimer l'alerte ?","desc":"Merci de confirmer vouloir supprimer l'alerte."},"saving-error":"Impossible de sauvegarder l'alerte, merci de réessayer plus tard."},"budget-category-alerts":{"pane-title":"Budget par catégorie","pane-description":"Configurer les alertes de budget par catégorie","budget-inferior-to":"Budget mensuel de *%{threshold}€*","for-account":"pour le compte *%{accountOrGroupLabel}*","for-group":"pour le groupe *%{accountOrGroupLabel}*","for-all-accounts":"pour tous les comptes","for-category":"en *%{categoryName}*","edit":{"modal-title":"Configurer la notification","category-label":"Catégorie","threshold-label":"Budget mensuel","account-group-label":"Compte ou groupe","create-ok":"Créer","update-ok":"Mettre à jour","all-category":"Tout « %{categoryName} »","cancel":"Annuler"}},"accounts-tab":{"import-in-progress":"Import en cours","in-maintenance":"En maintenance"}},"TOS":{"updated":{"title":"Du nouveau avec le RGPD !","detail":"Dans le cadre du Règlement Général de la Protection des Données (RGPD), [nos CGU sont actualisées](%{link}) et s’appliquent pour vous à partir du 25 mai 2018.","cta":"Accepter les CGU et continuer","disconnect":"Refuser et se déconnecter","error":"Une erreur est survenue, merci de réessayer plus tard"}},"BalanceHistory":{"all-accounts":"Tous les comptes","checked-accounts":"%{nbCheckedAccounts}/%{nbAccounts} comptes"},"LogoutModal":{"message":"Déconnexion en cours..."},"AdvancedFeaturesSettings":{"title":"Fonctions avancées","automatic-categorization":{"title":"Catégorisation automatique","local-model-override":{"description":"Apprendre de mes catégorisations manuelles"}},"balance-history":{"title":"Courbe d'historique de soldes","show-chart":{"description":"Voir mon historique de soldes"}}},"KonnectorUpdateInfo":{"title":"Nouveaux connecteurs bancaires","content":"De nouvelles versions des connecteurs sont disponibles et nécessitent une mise à jour de leurs CGUs. <a href='https://support.cozy.io/article/302-budget' target='_blank'>En savoir plus</a>.","cta":"Mettre à jour mes banques"},"Pin":{"enter-pin-restricted-area":"Merci d'entrer votre code pin courant pour accéder à cette fonctionnalité","please-choose-pin":"Choisir un code de sécurité","please-enter-your-pin":"Entrez votre code de sécurité","please-repeat-pin":"Confirmez le code de sécurité","errors":{"different-pins":"Les deux codes sont différents, merci de recommencer."},"logout":"Quitter","successfully-changed":"Code changé avec succès","error-save":"Erreur de la sauvegarde du pin, êtes vous connecté à internet ?","configure-button":"Configurer un code PIN","attempt-count":"%{current}/%{max} essais","settings":{"toggle-title":"Verrouillage de l'application","toggle-description":"Verrouiller mon app par code pin ou empreinte digitale. Le déverrouillage sera demandé après 30 secondes d'inactivité dans l'application."},"fingerprint-text":"Ou votre empreinte digitale","use-fingerprint":{"yes":"Utiliser mon empreinte","no":"Non, merci","title":"Activer le déverrouillage par empreinte digitale","description":"Souhaitez vous utiliser la sécurité par empreinte proposée par votre téléphone ?"}},"Reimbursements":{"title":{"healthExpenses":"Rembours. santé","professionalExpenses":"Rembours. notes de frais","othersExpenses":"Autres remboursements","group":"Tous les remb. en attente"},"pending":"Remboursements en attente : ","alreadyReimbursed":"Déjà remboursés","noPending":{"generic":"Aucun remboursement attendu pour des dépenses en %{period}.","healthExpenses":"Aucun remboursement attendu pour des dépenses de santé en %{period}","professionalExpenses":"Aucun remboursement attendu pour des notes de frais en %{period}"},"noReimbursed":{"generic":"Ajoutez un remboursement en attente manuellement sur des dépenses pour suivre leur remboursement.","healthExpenses":"Editez le statut de remboursement de vos dépenses pour faciliter le suivi de vos remboursements.","professionalExpenses":"Categorisez des dépenses en « note de frais » pour suivre leur remboursement.","group":"Ajoutez un remboursement en attente manuellement sur des dépenses pour suivre leur remboursement, ou catégorizez les en \"hors budget / notes de frais\" ou \"frais de santé\" pour avoir un suivi automatique."}},"KonnectorChip":{"health":"Mes remboursements","generic":"Mes factures"},"PersonalInfo":{"birthcity":"Commune de naissance","birthcity-placeholder":"Ville où vous êtes né(e)","birthcountry":"Pays de naissance","birthcountry-placeholder":"Pays où vous êtes né(e)","nationality":"Nationalité","save-cta":"Sauvegarder","modal-title":"Modifier mes infos personnelles","info-saved-successfully":"Vos informations ont bien été mises à jour","info":{"title":"Pourquoi ces informations vous sont demandées ?","description":"Afin de prévenir le blanchiment d'argent et le financement du terrorisme, la MAIF s'est dotée de règles strictes"},"validation-error":"Tous les champs sont obligatoires"},"Transfer":{"nav":"Virements","page-title":"Virement","amount":{"page-title":"Montant","field-label":"Montant du virement","title":"Quel montant souhaitez-vous envoyer ?","confirm":"Confirmer le montant","errors":{"too-high":"Choisissez un montant inférieur à %{maximum}€","too-low":"Choisissez un montant supérieur à %{minimum}€","incorrect-number":"%{value} est un montant incorrect."}},"category":{"page-title":"Virement","title":"A qui souhaitez-vous envoyer ce virement ?","internal":"L'un de mes comptes","external":"Un compte tiers"},"beneficiary":{"page-title":"Bénéficiaire","add-beneficiary":"Ajouter un bénéficiaire","help-add-beneficiary-title":"Ajout de bénéficiaires","help-add-beneficiary-action":"Compris !","help-add-beneficiary":"Pour rajouter des bénéficiaires, ajoutez les directement depuis le site de votre banque.","title":"Vers quel compte souhaitez-vous effectuer un virement ?"},"sender":{"page-title":"Émetteur","title":"Depuis quel compte ?"},"summary":{"page-title":"Récapitulatif","send":"Envoyer","from":"depuis","to":"à","for":"pour","for-placeholder":"motif (facultatif)","confirm":"Confirmer le virement","on":"le"},"password":{"page-title":"Mot de passe","title":"Merci de ressaisir le mot de passe de la banque émettrice du virement.","confirm":"Confirmer le virement","field-label":"Votre mot de passe bancaire","field-placeholder":"******","date-placeholder":"Date du virement"},"success":{"title":"Votre demande de virement a été prise en compte","description":"Votre banque procédera au virement sous 1 jour ouvré, sous réserve de solde suffisant."},"error":{"title":"Votre demande de virement n'a pas été prise en compte","description":"Votre demande de virement n'a pas pu être envoyée, merci de réessayer plus tard ou contactez notre support.","description-login-failed":"Votre mot de passe semble incorrect, merci de réessayer."},"no-bank":{"title":"Ajoutez une banque pour pouvoir effectuer un virement","add-bank":"Ajouter une banque"},"no-recipients":{"title":"Pas de bénéficiaires trouvés","description":"Nous n'avons pas pu trouver de bénéficiaires, il se peut que votre banque ne soit pas supportée pour les virements. Ci-dessous la liste des banques supportées pour les virements."},"exit":"Terminer","retry":"Réessayer","user-blocked":{"title":"Virements bloqués","description":"Les virements sont bloqués. Merci de contacter le support."}},"ReimbursementStatusModal":{"contact":{"actions":{"sendCareSheet":"Envoyer ma feuile de soin","contactComplementary":"Contacter ma complémentaire"},"phoneCallPrice":" + prix appel","phoneCallFree":"Appel non surtaxé","openApp":{"title":"Ouvrir l'application","caption":"Depuis mon téléphone"}}},"LoanProgress":{"reimbursedAmount":"Montant remboursé","borrowedAmount":"Montant emprunté"},"LoanDetails":{"dateGlue":"le","keyInfos":{"title":"Informations clées","borrowedAmount":"Montant emprunté :","remainingCapital":"Capital restant dû :","interestRate":"Taux d'intérêt :"},"payments":{"title":"Paiements","lastPayment":"Dernier paiement effectué :","nextPayment":"Prochain paiement prévu :"},"characteristics":{"title":"Caractéristiques du prêt","subscriptionDate":"Date de souscription :","maturityDate":"Date de remboursement :","nbPaymentsLeft":"Nb d'échéances encore prévues :","nbPaymentsDone":"Nb d'échéances payées :"},"creditReserve":{"title":"Réserve crédit","totalUsedAmount":"Montant total utilisé :","availableAmount":"Réserve disponible :"}},"AccountGroupChoice":{"nothing-selected":"Sélectionner un compte","all-accounts":"Tous les comptes"},"Confirmation":{"cancel":"Annuler","ok":"OK"},"EditionModal":{"ok":"OK","cancel":"Annuler","remove":"Supprimer"},"Recurrence":{"see-transaction-history":"Voir l'historique","display-error":"Nous sommes désolés, une erreur a empêché l'affichage de cette page. Vous pouvez aller sur la page de debug pour réinitialiser les récurrences, et rechargez la page pour essayer de résoudre le problème.","go-to-debug-page":"Aller sur la page de debug","no-recurrences":{"title":"Aucune opération récurrente","text":"Retrouvez ici les opérations détectées comme récurrentes, vous pouvez également indiquer manuellement une opération comme récurrente. (les suivantes seront détectées automatiquement.)"},"no-transactions":{"title":"Aucune opération","text":"Cette récurrence ne contient aucune opération, vous pouvez la supprimer."},"table":{"frequency":"Fréquence","label":"Libellé","amount":"Montant","last-occurence":"Dernière occurence"},"status":{"ongoing":"En cours","finished":"Terminé","save-success":"Statut changé"},"description-amount":"%{amount}","description-amounts":"entre %{minAmount} et %{maxAmount}","delete-success":"La récurrence a bien été supprimée","delete-error":"La récurrence n'a pas pu été supprimée, merci de réessayer plus tard","title":"Paiements récurrents","choice":{"not-recurrent":"Opération occasionelle","recurrent":"Opération récurrente","new-recurrence":"Nouvelle récurrence"},"action-menu":{"open-button":"Actions sur la récurrence","rename":"Renommer","delete":"Supprimer","delete-caption":"Les opérations seront redéfinies en opérations occasionnelles.","ongoing":"En cours","ongoing-caption":"Une transaction sera attendue dans votre budget prévisionnel","finished":"Terminé"},"rename":{"modal-title":"Renommer le groupe de récurrence","save":"Sauvegarder","cancel":"Annuler","save-success":"Groupe de récurrence correctement sauvé","save-error":"Impossible de renommer, merci de réessayer plus tard"},"freq-info-word":{"weekly":"toutes les semaines","monthly":"tous les mois","yearly":"tous les ans"},"freq-info":"tous les %{frequency} jours","deprecated-bundles-help":"Les paiements ci-dessous ne sont pas comptées dans le solde à venir car leur dernière occurence date de plus de 4 mois."},"Harvest":{"modal-title":"Configurer les comptes","disconnected-account":"Compte déconnecté"},"EstimatedBudget":{"no-planned-transactions":{"title":"Pas d'opérations prévues à 30 jours","text":"Vous pouvez désigner toute opération d'un compte comme \"récurrente\" pour aider la prévision"},"30-day-balance":"Solde à 30 jours","page-title":"Dépenses prévues","numberEstimatedTransactions":"%{smart_count} opération prévue |||| %{smart_count} opérations prévues"},"JobsContext":{"alerter-success":"Import du connecteur réussi","alerter-errored":"Une erreur s'est produite lors de l'import"},"DeletingAccount":{"related-data":{"deleting":"Suppression des données associées, ne pas fermer la fenêtre...","successfully-deleted":"Toutes les données associées ont bien été supprimées"}},"Categorization":{"error":"Impossible de catégoriser certaines opérations, merci de réessayer plus tard.","success":"%{smart_count} operation a été recatégorisée |||| %{smart_count} operations ont été recatégorisées"},"SelectionBar":{"selected_count":"élément sélectionné |||| éléments sélectionnés","close":"Fermer","categorize":"Catégorisation","selectAll":"Tout sélectionner","unselectAll":"Tout désélectionner"},"Migration":{"title":"Rechargement des données nécessaire","content":"Vos données vont être re-téléchargées dans votre application afin d'améliorer les performances de navigation. Cela nécessite une connexion réseau stable et de patienter environ une minute (parfois plus si vous avez un historique très important). Aucune donnée ne sera supprimée. Merci de patienter jusqu'à ce que l'app ait retéléchargée toutes vos données.","confirm":"Ok, c'est parti !","cancel":"Non, pas maintenant"},"extra":{"balances":{"reconnect-nestor-account":"Reconnectez votre compte"},"transactions":{"reconnect-nestor-account":{"title":"La reconnexion à votre banque est nécessaire","cta":"Reconnecter votre compte","description":"Vous devez reconnecter votre banque %{bankName} à votre service Mon Budget pour que vos données continuent à être mises à jour."}},"nestor-migration-modal":{"title":"Nous avons récupéré l'intégralité de vos comptes","content":"Connectez-vous à chacune de vos banques pour les réactiver.","cta":"OK, bien compris"},"harvest":{"form":{"title":"Connectez votre compte %{name}"},"success":{"folderLinkLabel":"Voir les documents collectés","title":"Configuration réussie !","message":"Vos données existantes seront disponibles dans votre service Mon Budget dans quelques minutes et les prochaines suivront automatiquement.","button":{"label":"Revenir à mon Budget"}}},"configuration":{"title":"En avant-première…","credit":"Demander un crédit"}},"AccountSettings":{"confirm-deletion":{"description":"Cette action supprimera les mouvements déjà présents dans le service Mon Budget, ainsi que les liens avec vos factures. Supprimez également votre synchronisation depuis le menu, si vous ne souhaitez pas réimporter vos données à la prochaine synchronisation."}},"Store":{"search-field":{"label":"Rechercher :","placeholder":"Recherchez votre banque"},"fetch-error":"Impossible de charger les services, êtes-vous connecté à Internet ?","konnector-not-found":"Le service demandé n'a pas été trouvé sur le registre.","modal":{"title":"Sélectionnez votre banque"}},"HelpSpeedDial":{"faq":"Questions fréquentes","help":"Assistance de l'app"}};

/***/ }),

/***/ "../overrides/cozy-banks/src/utils/constants.js":
/*!******************************************************!*\
  !*** ../overrides/cozy-banks/src/utils/constants.js ***!
  \******************************************************/
/*! exports provided: DEEP_LINK_FAQ, DEEP_LINK_ASSISTANCE */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEEP_LINK_FAQ", function() { return DEEP_LINK_FAQ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEEP_LINK_ASSISTANCE", function() { return DEEP_LINK_ASSISTANCE; });
var DEEP_LINK_FAQ = 'applicationmobilemaif://maif/faq#mon-budget';
var DEEP_LINK_ASSISTANCE = 'applicationmobilemaif://assistance/signaler-un-probleme';

/***/ }),

/***/ "../overrides/cozy-banks/src/utils/flag.js":
/*!*************************************************!*\
  !*** ../overrides/cozy-banks/src/utils/flag.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_banks_utils_flag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-banks/utils/flag */ "./src/utils/flag.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _harvest_overrides__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./harvest-overrides */ "../overrides/cozy-banks/src/utils/harvest-overrides.js");



cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.recurrence', true);
cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.transfers.need-personal-information', true);
cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.health-reimbursements.deactivated', true);
cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.future-balance', true);
cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.transaction-actions.deactivated', true);
cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.show-nav-header', true);

/***/ }),

/***/ "../overrides/cozy-banks/src/utils/harvest-overrides.js":
/*!**************************************************************!*\
  !*** ../overrides/cozy-banks/src/utils/harvest-overrides.js ***!
  \**************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_harvest_lib_dist_models_getRelatedAppsSlugs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-harvest-lib/dist/models/getRelatedAppsSlugs */ "./node_modules/cozy-harvest-lib/dist/models/getRelatedAppsSlugs.js");

var banksConfig = original_cozy_harvest_lib_dist_models_getRelatedAppsSlugs__WEBPACK_IMPORTED_MODULE_0__["relatedAppsConfiguration"].find(function (app) {
  return app.slug === 'banks';
});

if (banksConfig) {
  banksConfig.slug = 'maif';
}

/***/ }),

/***/ "../overrides/cozy-banks/src/utils/useHideBySelector.jsx":
/*!***************************************************************!*\
  !*** ../overrides/cozy-banks/src/utils/useHideBySelector.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}



/**
 * Allows to hide a dom element from a selector
 *
 * @param selector - allows to retrieve a specified element
 * @param topShow - sets the top property in the case
 * where item is displayed
 * @param topHide - sets the top property in the case
 * where item is hidden
 * @param yOffsetThreshold - sets the threshold value that shows or hides the item
 * @returns {{show: boolean, style: {top: number}}}
 */

var useHideBySelector = function useHideBySelector(_ref) {
  var selector = _ref.selector,
      _ref$topShow = _ref.topShow,
      topShow = _ref$topShow === void 0 ? 0 : _ref$topShow,
      topHide = _ref.topHide,
      _ref$yOffsetThreshold = _ref.yOffsetThreshold,
      yOffsetThreshold = _ref$yOffsetThreshold === void 0 ? 20 : _ref$yOffsetThreshold;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(true),
      _useState2 = _slicedToArray(_useState, 2),
      show = _useState2[0],
      setShow = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    top: topShow
  }),
      _useState4 = _slicedToArray(_useState3, 2),
      style = _useState4[0],
      setStyle = _useState4[1];

  var selectorElt = document.querySelector(selector);
  var onScroll = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    var currentScrollPos = window.pageYOffset;

    if (currentScrollPos > yOffsetThreshold) {
      if (selectorElt) {
        selectorElt.style.display = 'none';
        setShow(false);
        setStyle({
          top: topHide
        });
      }
    } else {
      if (selectorElt) {
        selectorElt.style.display = 'block';
        setShow(true);
        setStyle({
          top: topShow
        });
      }
    }
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var throttleOnScroll = lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default()(onScroll, 200);

    if (typeof window !== 'undefined') {
      window.addEventListener('scroll', throttleOnScroll);
      return function () {
        if (selectorElt) {
          selectorElt.style.display = 'block';
        }

        window.removeEventListener('scroll', throttleOnScroll);
      };
    }
  }, []);
  return {
    show: show,
    style: style
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useHideBySelector);

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/AppLinker/index.jsx":
/*!*****************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/AppLinker/index.jsx ***!
  \*****************************************************************/
/*! exports provided: default, NATIVE_APP_INFOS, getUniversalLinkDomain, generateUniversalLink, generateWebLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/AppLinker */ "./node_modules/cozy-ui/transpiled/react/AppLinker/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NATIVE_APP_INFOS", function() { return original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["NATIVE_APP_INFOS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getUniversalLinkDomain", function() { return original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["getUniversalLinkDomain"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generateUniversalLink", function() { return original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["generateUniversalLink"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "generateWebLink", function() { return original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["generateWebLink"]; });

var _this = undefined;



original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["AppLinker"].getOnClickHref = function (props) {
  var slug = props.slug,
      nativePath = props.nativePath,
      onAppSwitch = props.onAppSwitch,
      href = props.href;
  var hrefToReturn = Object(original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["generateUniversalLink"])({
    slug: slug,
    nativePath: nativePath,
    fallbackUrl: href
  });
  var onClick = original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["AppLinker"].onAppSwitch.bind(_this, onAppSwitch);
  return {
    href: hrefToReturn,
    onClick: onClick
  };
};

/* harmony default export */ __webpack_exports__["default"] = (original_cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/AppLinker/native.config.js":
/*!************************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/AppLinker/native.config.js ***!
  \************************************************************************/
/*! exports provided: NATIVE_APP_INFOS, UNIVERSAL_LINK_URL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NATIVE_APP_INFOS", function() { return NATIVE_APP_INFOS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNIVERSAL_LINK_URL", function() { return UNIVERSAL_LINK_URL; });
var NATIVE_APP_INFOS = {
  banks: {
    appId: 'fr.maif.banks',
    uri: 'maifcozybanks://',
    name: 'MAIF Banks'
  }
}; // TODO Need to change this when we need universal links

var UNIVERSAL_LINK_URL = 'https://links.cozymaif.cloud';

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/AppTile/index.jsx":
/*!***************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/AppTile/index.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/AppTile */ "./node_modules/cozy-ui/transpiled/react/AppTile/index.js");

original_cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps = original_cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps || {};
original_cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps.showDeveloper = false;
original_cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_0__["default"].defaultProps.showStatus = ['maintenance'];
/* harmony default export */ __webpack_exports__["default"] = (original_cozy_ui_transpiled_react_AppTile__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/Button/index.jsx":
/*!**************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/Button/index.jsx ***!
  \**************************************************************/
/*! exports provided: Button, ButtonLink, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return Button; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ButtonLink", function() { return ButtonLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var original_cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/Button */ "./node_modules/cozy-ui/transpiled/react/Button/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./overrides-styles.styl */ "../overrides/cozy-ui/transpiled/react/Button/overrides-styles.styl");
/* harmony import */ var _overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3__);
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}





/**
 * @override Custom primary/secondary buttons
 *
 * MAIF buttons have styles that are not possible to achieve only via
 * cozy-ui's CSS variables override. This is why we use custom classes
 * for primary / secondary theme.
 */

var MaifButton = function MaifButton(_ref) {
  var theme = _ref.theme,
      className = _ref.className,
      props = _objectWithoutProperties(_ref, ["theme", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({}, props, {
    theme: theme,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, _overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a["Button--".concat(theme)])
  }));
};

var Button = MaifButton;

var ButtonLink = function ButtonLink(_ref2) {
  var props = _extends({}, _ref2);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MaifButton, props);
};

ButtonLink.defaultProps = {
  tag: 'a'
};

/* harmony default export */ __webpack_exports__["default"] = (MaifButton);

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/Button/overrides-styles.styl":
/*!**************************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/Button/overrides-styles.styl ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Button--primary":"Button--primary--29b5x","Button--secondary":"Button--secondary--8hZXQ","Button--highlight":"Button--highlight--3USGZ","Button--danger":"Button--danger--28gz4"};

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/MuiCozyTheme/theme.js":
/*!*******************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/MuiCozyTheme/theme.js ***!
  \*******************************************************************/
/*! exports provided: getTheme, normalTheme, invertedTheme, defaultValues */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/MuiCozyTheme/theme */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/theme.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getTheme", function() { return original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["getTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "normalTheme", function() { return original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "invertedTheme", function() { return original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["invertedTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultValues", function() { return original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["defaultValues"]; });

/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/utils/color */ "./node_modules/cozy-ui/transpiled/react/utils/color.js");



var secondaryColor = Object(cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_2__["getCssVariableValue"])('secondaryColor');
lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].overrides, {
  /**
   * @override MuiSwitch are colored with secondary color
   */
  MuiSwitch: {
    root: {
      fontSize: '2rem'
    },
    track: {
      backgroundColor: secondaryColor
    },
    colorPrimary: {
      '&$checked + $track$track': {
        backgroundColor: secondaryColor
      },
      '&:not($checked) + $track$track': {
        opacity: 0.38
      }
    }
  },

  /**
   * @override MuiFab are colored with secondary color
   */
  MuiFab: {
    primary: {
      backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.main,
      '&:hover': {
        backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.dark,
        '@media (hover: none)': {
          backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.dark
        }
      }
    },
    root: {
      position: 'relative',
      // Extend the hover area so that SpeedDial do not close if we hover on the tooltip
      '&:before': {
        display: 'block',
        // Magic value, it would be difficult to make the click area in function of the
        // text content of the tooltips
        width: 300,
        height: 48,
        position: 'absolute',
        right: 0
      }
    }
  },
  MuiSpeedDialAction: {
    fab: {
      backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.main,
      '&:hover': {
        backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.dark,
        '@media (hover: none)': {
          backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.dark
        }
      }
    },
    staticTooltipLabel: {
      minWidth: 'max-content',
      textAlign: 'right',
      backgroundColor: original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["normalTheme"].palette.secondary.main,
      color: 'white'
    }
  },
  MuiTooltip: {
    tooltip: {
      backgroundColor: 'red',
      color: '#000',
      fontSize: '0.6875rem',
      fontWeight: 'bold',
      boxShadow: '2px 2px 4px rgba(0, 0, 0, 0.25)',
      padding: '0.75rem',
      minWidth: 300
    },
    popper: {
      opacity: 1
    }
  }
});
lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(original_cozy_ui_transpiled_react_MuiCozyTheme_theme__WEBPACK_IMPORTED_MODULE_0__["invertedTheme"].overrides, {
  MuiTabs: {
    root: {
      background: 'secondaryColor'
    }
  }
});


/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/Radio/index.jsx":
/*!*************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/Radio/index.jsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var original_cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/Radio */ "./node_modules/cozy-ui/transpiled/react/Radio/index.js");
/* harmony import */ var _overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./overrides-styles.styl */ "../overrides/cozy-ui/transpiled/react/Radio/overrides-styles.styl");
/* harmony import */ var _overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3__);
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}






var MaifRadio = function MaifRadio(_ref) {
  var className = _ref.className,
      props = _objectWithoutProperties(_ref, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(original_cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(className, _overrides_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['c-input-radio'])
  }, props));
};

/* harmony default export */ __webpack_exports__["default"] = (MaifRadio);

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/Radio/overrides-styles.styl":
/*!*************************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/Radio/overrides-styles.styl ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"c-input-radio":"c-input-radio--w1YoV"};

/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/SelectBox/SelectBox.js":
/*!********************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/SelectBox/SelectBox.js ***!
  \********************************************************************/
/*! exports provided: default, Option, CheckboxOption, ActionsOption, computedMenuListHeightStyles, reactSelectControl, components, SelectBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/SelectBox/SelectBox */ "./node_modules/cozy-ui/transpiled/react/SelectBox/SelectBox.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Option", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["Option"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckboxOption", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["CheckboxOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ActionsOption", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["ActionsOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "computedMenuListHeightStyles", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["computedMenuListHeightStyles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reactSelectControl", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["reactSelectControl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["components"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectBox", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["SelectBox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/**
 * Disable search in SelectBox by default as it brings the keyboard up and messes
 * with the mobile layout
 */
 // TODO remove this if isSearchable false becomes the new default.
// See https://github.com/cozy/cozy-ui/issues/1085

original_cozy_ui_transpiled_react_SelectBox_SelectBox__WEBPACK_IMPORTED_MODULE_0__["SelectBox"].defaultProps.isSearchable = false;



/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/SelectBox/index.js":
/*!****************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/SelectBox/index.js ***!
  \****************************************************************/
/*! exports provided: default, Option, SelectBox, CheckboxOption, ActionsOption, reactSelectControl, SelectBoxWithFixedOptions, ControlDefault, createFilter, defaultTheme, mergeStyles, components, NonceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/SelectBox */ "./node_modules/cozy-ui/transpiled/react/SelectBox/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectBoxWithFixedOptions", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["SelectBoxWithFixedOptions"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ControlDefault", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["ControlDefault"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createFilter", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["createFilter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTheme", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["defaultTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeStyles", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["mergeStyles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["components"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NonceProvider", function() { return original_cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_0__["NonceProvider"]; });

/* harmony import */ var _SelectBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SelectBox */ "../overrides/cozy-ui/transpiled/react/SelectBox/SelectBox.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _SelectBox__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Option", function() { return _SelectBox__WEBPACK_IMPORTED_MODULE_1__["Option"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectBox", function() { return _SelectBox__WEBPACK_IMPORTED_MODULE_1__["SelectBox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CheckboxOption", function() { return _SelectBox__WEBPACK_IMPORTED_MODULE_1__["CheckboxOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ActionsOption", function() { return _SelectBox__WEBPACK_IMPORTED_MODULE_1__["ActionsOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reactSelectControl", function() { return _SelectBox__WEBPACK_IMPORTED_MODULE_1__["reactSelectControl"]; });

/**
 * Copy pasted cozy-ui/transpiled/react/SelectBox/index.js to be
 * able to override cozy-ui/transpiled/react/SelectBox/SelectBox.js
 */



/***/ }),

/***/ "../overrides/cozy-ui/transpiled/react/helpers/breakpoints.js":
/*!********************************************************************!*\
  !*** ../overrides/cozy-ui/transpiled/react/helpers/breakpoints.js ***!
  \********************************************************************/
/*! exports provided: getBreakpointsStatus, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var original_cozy_ui_transpiled_react_helpers_breakpoints__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! original-cozy-ui/transpiled/react/helpers/breakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/breakpoints.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getBreakpointsStatus", function() { return original_cozy_ui_transpiled_react_helpers_breakpoints__WEBPACK_IMPORTED_MODULE_0__["getBreakpointsStatus"]; });

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}


var medium = original_cozy_ui_transpiled_react_helpers_breakpoints__WEBPACK_IMPORTED_MODULE_0__["default"].isMedium[1];

var breakpoints = _objectSpread({}, original_cozy_ui_transpiled_react_helpers_breakpoints__WEBPACK_IMPORTED_MODULE_0__["default"], {
  isMedium: [medium + 1],
  isDesktop: [medium + 1],
  isTablet: [medium],
  isMobile: [0, medium]
});


/* harmony default export */ __webpack_exports__["default"] = (breakpoints);

/***/ }),

/***/ "./node_modules/cozy-client/dist/models/document/locales sync recursive ^\\.\\/.*\\.json$":
/*!***********************************************************************************!*\
  !*** ./node_modules/cozy-client/dist/models/document/locales sync ^\.\/.*\.json$ ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en.json": "./node_modules/cozy-client/dist/models/document/locales/en.json",
	"./fr.json": "./node_modules/cozy-client/dist/models/document/locales/fr.json"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/cozy-client/dist/models/document/locales sync recursive ^\\.\\/.*\\.json$";

/***/ }),

/***/ "./node_modules/cozy-harvest-lib/dist/locales sync recursive ^\\.\\/.*\\.json$":
/*!************************************************************************!*\
  !*** ./node_modules/cozy-harvest-lib/dist/locales sync ^\.\/.*\.json$ ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en.json": "./node_modules/cozy-harvest-lib/dist/locales/en.json",
	"./fr.json": "./node_modules/cozy-harvest-lib/dist/locales/fr.json"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/cozy-harvest-lib/dist/locales sync recursive ^\\.\\/.*\\.json$";

/***/ }),

/***/ "./node_modules/date-fns/locale sync recursive (en|fr|es)\\/index\\.js":
/*!*****************************************************************!*\
  !*** ./node_modules/date-fns/locale sync (en|fr|es)\/index\.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en/index.js": "./node_modules/date-fns/locale/en/index.js",
	"./es/index.js": "./node_modules/date-fns/locale/es/index.js",
	"./fr/index.js": "./node_modules/date-fns/locale/fr/index.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/date-fns/locale sync recursive (en|fr|es)\\/index\\.js";

/***/ }),

/***/ "./src/AppContainer.jsx":
/*!******************************!*\
  !*** ./src/AppContainer.jsx ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_context_JobsContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/context/JobsContext */ "./src/ducks/context/JobsContext.jsx");
/* harmony import */ var ducks_context_BanksContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/context/BanksContext */ "./src/ducks/context/BanksContext.jsx");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* global __TARGET__ */















var jobsProviderOptions = function jobsProviderOptions(t) {
  return {
    onSuccess: function onSuccess() {
      return cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].success(t('JobsContext.alerter-success'));
    },
    onError: function onError() {
      return cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_12__["default"].error(t('JobsContext.alerter-errored'));
    }
  };
};

var initT = function initT(lang, dictRequire) {
  var polyglot = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["initTranslation"])(lang, dictRequire);
  var t = polyglot.t.bind(polyglot);
  return {
    t: t
  };
};
/*
With MUI V4, it is possible to generate deterministic class names.
In the case of multiple react roots, it is necessary to disable this
feature. Since we have the cozy-bar root, we need to disable the
feature.

https://material-ui.com/styles/api/#stylesprovider
*/


var generateClassName = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__["createGenerateClassName"])({
  disableGlobal: true,
  productionPrefix: 'c'
});

var AppContainer = function AppContainer(_ref) {
  var store = _ref.store,
      lang = _ref.lang,
      history = _ref.history,
      client = _ref.client;

  var AppRoute = __webpack_require__(/*! components/AppRoute */ "../overrides/cozy-banks/src/components/AppRoute.jsx").default;

  var Router =  false || cozy_flags__WEBPACK_IMPORTED_MODULE_7___default()('authentication') ? __webpack_require__(/*! ducks/mobile/MobileRouter */ "./src/ducks/mobile/MobileRouter.jsx").default : __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js").Router;

  var dictRequire = function dictRequire(lang) {
    return __webpack_require__("../overrides/cozy-banks/src/locales sync recursive ^\\.\\/.*$")("./".concat(lang));
  };

  var _useMemo = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return initT(lang, dictRequire);
  }, [lang]),
      t = _useMemo.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__["BreakpointsProvider"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["TrackerProvider"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__["Provider"], {
    store: store
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__["StylesProvider"], {
    generateClassName: generateClassName
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_4__["CozyProvider"], {
    client: client
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["default"], {
    lang: lang,
    dictRequire: function dictRequire(lang) {
      return __webpack_require__("../overrides/cozy-banks/src/locales sync recursive ^\\.\\/.*$")("./".concat(lang));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_context_JobsContext__WEBPACK_IMPORTED_MODULE_9__["default"], {
    client: client,
    options: jobsProviderOptions(t)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_context_BanksContext__WEBPACK_IMPORTED_MODULE_10__["default"], {
    client: client
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_11__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_3__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Router, {
    history: history,
    routes: AppRoute()
  })))))))))));
};

/* harmony default export */ __webpack_exports__["default"] = (AppContainer);

/***/ }),

/***/ "./src/actions/accounts.js":
/*!*********************************!*\
  !*** ./src/actions/accounts.js ***!
  \*********************************/
/*! exports provided: DESTROY_ACCOUNT, deleteOrphanOperations, removeStats, updateRecurrences, onAccountDelete, onGroupDelete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESTROY_ACCOUNT", function() { return DESTROY_ACCOUNT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteOrphanOperations", function() { return deleteOrphanOperations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeStats", function() { return removeStats; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateRecurrences", function() { return updateRecurrences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onAccountDelete", function() { return onAccountDelete; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onGroupDelete", function() { return onGroupDelete; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var utils_lang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/lang */ "./src/utils/lang.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}









var DESTROY_ACCOUNT = 'DESTROY_ACCOUNT';
var STACK_FIND_LIMIT = 100;

var removeAccountFromGroup = function removeAccountFromGroup(group, account) {
  return _objectSpread({}, group, {
    accounts: group.accounts.filter(function (accountId) {
      return accountId !== account.id;
    })
  });
};

var deleteOrphanOperations = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, account) {
    var transactionCollection, count, res, _yield$transactionCol, orphanOperations;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            // We use a collection here instead of using the client because
            // we want to directly target the stack and bypass the pouch link
            // on mobile.
            transactionCollection = client.stackClient.collection(doctypes__WEBPACK_IMPORTED_MODULE_5__["TRANSACTION_DOCTYPE"]);
            res = [];

          case 2:
            if (!(count === undefined || count === STACK_FIND_LIMIT)) {
              _context.next = 14;
              break;
            }

            _context.next = 5;
            return transactionCollection.find({
              account: account._id
            });

          case 5:
            _yield$transactionCol = _context.sent;
            orphanOperations = _yield$transactionCol.data;
            count = orphanOperations.length;

            if (!(count > 0)) {
              _context.next = 12;
              break;
            }

            _context.next = 11;
            return transactionCollection.destroyAll(orphanOperations);

          case 11:
            res.push.apply(res, orphanOperations);

          case 12:
            _context.next = 2;
            break;

          case 14:
            return _context.abrupt("return", res);

          case 15:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function deleteOrphanOperations(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var removeAccountFromGroups = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, account) {
    var groups, ugroups;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["GROUP_DOCTYPE"]));

          case 2:
            groups = _context2.sent.data;
            ugroups = groups.map(function (group) {
              return removeAccountFromGroup(group, account);
            });
            _context2.next = 6;
            return client.saveAll(ugroups);

          case 6:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function removeAccountFromGroups(_x3, _x4) {
    return _ref2.apply(this, arguments);
  };
}();

var removeStats = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, account) {
    var statsResponse, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, accountStats;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["BANK_ACCOUNT_STATS_DOCTYPE"]).where({
              'relationships.account.data._id': account._id
            }));

          case 2:
            statsResponse = _context3.sent;
            _iteratorNormalCompletion = true;
            _didIteratorError = false;
            _iteratorError = undefined;
            _context3.prev = 6;
            _iterator = statsResponse.data[Symbol.iterator]();

          case 8:
            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
              _context3.next = 15;
              break;
            }

            accountStats = _step.value;
            _context3.next = 12;
            return client.destroy(accountStats);

          case 12:
            _iteratorNormalCompletion = true;
            _context3.next = 8;
            break;

          case 15:
            _context3.next = 21;
            break;

          case 17:
            _context3.prev = 17;
            _context3.t0 = _context3["catch"](6);
            _didIteratorError = true;
            _iteratorError = _context3.t0;

          case 21:
            _context3.prev = 21;
            _context3.prev = 22;

            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }

          case 24:
            _context3.prev = 24;

            if (!_didIteratorError) {
              _context3.next = 27;
              break;
            }

            throw _iteratorError;

          case 27:
            return _context3.finish(24);

          case 28:
            return _context3.finish(21);

          case 29:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[6, 17, 21, 29], [22,, 24, 28]]);
  }));

  return function removeStats(_x5, _x6) {
    return _ref3.apply(this, arguments);
  };
}();
var updateRecurrences = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, account, deletedOps) {
    var impactedRecurrenceIds, _yield$client$query, recurrences, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, recurrence;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            impactedRecurrenceIds = lodash_uniq__WEBPACK_IMPORTED_MODULE_3___default()(deletedOps.map(function (op) {
              return lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(op, 'relationships.recurrence.data._id');
            })).filter(Boolean);
            _context4.next = 3;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["RECURRENCE_DOCTYPE"]).getByIds(impactedRecurrenceIds));

          case 3:
            _yield$client$query = _context4.sent;
            recurrences = _yield$client$query.data;
            _iteratorNormalCompletion2 = true;
            _didIteratorError2 = false;
            _iteratorError2 = undefined;
            _context4.prev = 8;
            _iterator2 = recurrences[Symbol.iterator]();

          case 10:
            if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
              _context4.next = 17;
              break;
            }

            recurrence = _step2.value;
            _context4.next = 14;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_6__["destroyRecurrenceIfEmpty"])(client, recurrence);

          case 14:
            _iteratorNormalCompletion2 = true;
            _context4.next = 10;
            break;

          case 17:
            _context4.next = 23;
            break;

          case 19:
            _context4.prev = 19;
            _context4.t0 = _context4["catch"](8);
            _didIteratorError2 = true;
            _iteratorError2 = _context4.t0;

          case 23:
            _context4.prev = 23;
            _context4.prev = 24;

            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
              _iterator2.return();
            }

          case 26:
            _context4.prev = 26;

            if (!_didIteratorError2) {
              _context4.next = 29;
              break;
            }

            throw _iteratorError2;

          case 29:
            return _context4.finish(26);

          case 30:
            return _context4.finish(23);

          case 31:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4, null, [[8, 19, 23, 31], [24,, 26, 30]]);
  }));

  return function updateRecurrences(_x7, _x8, _x9) {
    return _ref4.apply(this, arguments);
  };
}();
var onAccountDelete = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(client, account) {
    var t, notif, deletedOps;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            t = Object(utils_lang__WEBPACK_IMPORTED_MODULE_8__["getT"])();
            notif = cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].info(t('DeletingAccount.related-data.deleting'), {
              duration: Infinity
            });
            _context5.next = 4;
            return deleteOrphanOperations(client, account);

          case 4:
            deletedOps = _context5.sent;
            _context5.next = 7;
            return removeAccountFromGroups(client, account);

          case 7:
            _context5.next = 9;
            return removeStats(client, account);

          case 9:
            _context5.next = 11;
            return updateRecurrences(client, account, deletedOps);

          case 11:
            _context5.next = 13;
            return Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_7__["disableOutdatedNotifications"])(client);

          case 13:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].removeNotification(notif);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].success(t('DeletingAccount.related-data.successfully-deleted'));

          case 15:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function onAccountDelete(_x10, _x11) {
    return _ref5.apply(this, arguments);
  };
}();
var onGroupDelete = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(client, account) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return deleteOrphanOperations(client, account);

          case 2:
            _context6.next = 4;
            return removeStats(client, account);

          case 4:
            _context6.next = 6;
            return Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_7__["disableOutdatedNotifications"])(client);

          case 6:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function onGroupDelete(_x12, _x13) {
    return _ref6.apply(this, arguments);
  };
}();
window.onAccountDelete = onAccountDelete;
cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a.registerHook(doctypes__WEBPACK_IMPORTED_MODULE_5__["ACCOUNT_DOCTYPE"], 'before:destroy', onAccountDelete);
cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a.registerHook(doctypes__WEBPACK_IMPORTED_MODULE_5__["GROUP_DOCTYPE"], 'before:destroy', onGroupDelete);

/***/ }),

/***/ "./src/assets/icons/actions/icon-link-out.svg":
/*!****************************************************!*\
  !*** ./src/assets/icons/actions/icon-link-out.svg ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-link-out_51f66518fb596ade772c1b52743c1466",
  "use": "icon-link-out_51f66518fb596ade772c1b52743c1466-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-link-out_51f66518fb596ade772c1b52743c1466\">\n  <g fill-rule=\"evenodd\" transform=\"translate(-128 -160)\">\n    <path d=\"M137,160 L137,162 L140.5,162 L134,168.5 L135.5,170 L142,163.5 L142,167 L144,167 L144,161.002929 C144,160.449027 143.562119,160 142.997071,160 L137,160 Z M135,162 L135,160 L129.002929,160 C128.449027,160 128,160.444631 128,161.000872 L128,174.999128 C128,175.551894 128.444631,176 129.000872,176 L142.999128,176 C143.551894,176 144,175.562119 144,174.997071 L144,169 L142,169 L142,174 L130,174 L130,162 L135,162 Z\" />\n  </g>\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-arrow-left.svg":
/*!**********************************************!*\
  !*** ./src/assets/icons/icon-arrow-left.svg ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-arrow-left_b6e94c0b579a94bcd0c25a895615d579",
  "use": "icon-arrow-left_b6e94c0b579a94bcd0c25a895615d579-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-arrow-left_b6e94c0b579a94bcd0c25a895615d579\"><g fill-rule=\"evenodd\" transform=\"translate(-224 -160)\"><path d=\"M227.414214,167 L238.993155,167 C239.54922,167 240,167.443865 240,168 C240,168.552285 239.550051,169 238.993155,169 L227.414214,169 L232.707107,174.292893 C233.097631,174.683418 233.097631,175.316582 232.707107,175.707107 C232.316582,176.097631 231.683418,176.097631 231.292893,175.707107 L224.292893,168.707107 C223.902369,168.316582 223.902369,167.683418 224.292893,167.292893 L231.292893,160.292893 C231.683418,159.902369 232.316582,159.902369 232.707107,160.292893 C233.097631,160.683418 233.097631,161.316582 232.707107,161.707107 L227.414214,167 Z\" /></g></symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-attachment.svg":
/*!**********************************************!*\
  !*** ./src/assets/icons/icon-attachment.svg ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-attachment_8d1da11c29668bec4b096389651af092",
  "use": "icon-attachment_8d1da11c29668bec4b096389651af092-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-attachment_8d1da11c29668bec4b096389651af092\">\n    <path fill-rule=\"evenodd\" d=\"M2.43 14.43C.457 12.457.337 9.385 2.16 7.56l6.3-6.3c1.327-1.325 3.563-1.237 4.997.197 1.434 1.434 1.522 3.67.196 4.996l-5.1 5.1c-.828.828-2.227.773-3.123-.123-.895-.895-.95-2.294-.122-3.122l4.5-4.5 1.298 1.298L6.552 9.66c-.33.33.319.979.649.649l5.154-5.154c.66-.66.616-1.784-.098-2.498-.714-.714-1.838-.758-2.498-.098l-6.3 6.3c-1.158 1.158-1.081 3.119.171 4.371 1.253 1.253 3.214 1.33 4.372.172l5.7-5.7L15 9l-5.7 5.7c-1.824 1.824-4.897 1.703-6.87-.27z\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-back-text.svg":
/*!*********************************************!*\
  !*** ./src/assets/icons/icon-back-text.svg ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-back-text_118c27a5d6152c1511428c95e82bb690",
  "use": "icon-back-text_118c27a5d6152c1511428c95e82bb690-usage",
  "viewBox": "0 0 48 48",
  "content": "<symbol viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-back-text_118c27a5d6152c1511428c95e82bb690\">\n    <g id=\"icon-back-text_118c27a5d6152c1511428c95e82bb690_back-text\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"nonzero\">\n        <path d=\"M16.5079289,12 L38,12 C39.1045695,12 40,12.8954305 40,14 L40,34 C40,35.1045695 39.1045695,36 38,36 L16.5079289,36 C15.967702,35.9999616 15.450467,35.7813811 15.0739254,35.3939965 L5.35392887,25.394 C4.59945188,24.6177967 4.59945188,23.3822033 5.35392544,22.6060035 L15.0739289,12.606 C15.450467,12.2186189 15.967702,12.0000384 16.5079289,12 Z M38,34 L38,13.9999965 L16.508,14 L6.78807456,24.0000035 L16.5080711,34 L38,34 Z\" id=\"icon-back-text_118c27a5d6152c1511428c95e82bb690_Path\" fill-rule=\"nonzero\" />\n        <path d=\"M21.0157864,20.43 L22.43,19.0157864 L31.0142136,27.6 L29.6,29.0142136 L21.0157864,20.43 Z M29.57,19.0157864 L30.9842136,20.43 L22.4,29.0142136 L20.9857864,27.6 L29.57,19.0157864 Z\" id=\"icon-back-text_118c27a5d6152c1511428c95e82bb690_Shape\" fill-rule=\"nonzero\" />\n    </g>\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-broken.svg":
/*!******************************************!*\
  !*** ./src/assets/icons/icon-broken.svg ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-broken_89ece596f98cf4aa0cdaa622ec29c28b",
  "use": "icon-broken_89ece596f98cf4aa0cdaa622ec29c28b-usage",
  "viewBox": "0 0 64 64",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 64 64\" id=\"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b\">\n  <defs>\n    <polygon id=\"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_a\" points=\"0 .003 64 .003 64 26.8 0 26.8\" />\n    <polygon id=\"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_c\" points=\"0 0 64 0 64 26.795 0 26.795\" />\n  </defs>\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 10)\">\n    <g transform=\"translate(0 17.2)\">\n      <mask id=\"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_b\" fill=\"white\">\n        <use xlink:href=\"#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_a\" />\n      </mask>\n      <path fill=\"#FFB3B3\" d=\"M47.84 14L16.04 0 0 7.78v15.04a4 4 0 0 0 4 3.98h56c2.22 0 4-1.78 4-3.98V6.1L47.84 14z\" mask=\"url(#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_b)\" />\n    </g>\n    <mask id=\"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_d\" fill=\"white\">\n      <use xlink:href=\"#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_c\" />\n    </mask>\n    <path fill=\"#FFB3B3\" d=\"M15.96 12.8l31.8 14L64 18.86V3.98A4 4 0 0 0 60 0H4C1.78 0 0 1.78 0 3.98v16.56l15.96-7.74z\" mask=\"url(#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_d)\" />\n    <polygon fill=\"#FFF2F2\" points=\"15.96 12.797 47.756 26.795 60 20.812 60 4 4 4 4 18.596\" />\n    <polygon fill=\"#FFF2F2\" points=\"47.844 31.205 16.04 17.203 4 23.041 4 40 60 40 60 25.264\" />\n    <path fill=\"#FFB3B3\" d=\"M49.47 25.96L53.45 24a4 4 0 1 0-3.98 1.94m-7.7-1.8A10.01 10.01 0 0 0 32 12a9.99 9.99 0 0 0-8.18 4.26l17.94 7.9zM14.37 18l-3.73 1.8A3.98 3.98 0 0 0 14 26a4 4 0 0 0 .38-8m7.84 1.92a10 10 0 0 0 17.92 7.89l-17.92-7.89z\" />\n  </g>\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-collect-account.svg":
/*!***************************************************!*\
  !*** ./src/assets/icons/icon-collect-account.svg ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-collect-account_5a578bc1cccf26c7239b38203942b771",
  "use": "icon-collect-account_5a578bc1cccf26c7239b38203942b771-usage",
  "viewBox": "0 0 192 112",
  "content": "<symbol viewBox=\"0 0 192 112\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771\"><!--Generator: Sketch 50.2 (55047) - http://www.bohemiancoding.com/sketch--><title>Group 5</title><desc>Created with Sketch.</desc><defs><polygon id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_path-1\" points=\"0 0.000275226654 45.5542014 0.000275226654 45.5542014 45.8257088 0 45.8257088\" /></defs><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_📱fusion-app-connecteur---1---201806\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_430-mobile---interapp-1-connecteur---pedagogic-modal\" transform=\"translate(-69.000000, -102.000000)\"><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-5\" transform=\"translate(69.000000, 102.000000)\"><path d=\"M82.7643965,30.251519 C82.1849776,28.1337009 80.5777198,23.0381732 80.4912269,22.7954891 C80.1729663,21.9129249 79.5616374,21.7424581 79.1417686,21.8734572 C78.6295286,22.0271292 78.3305821,22.577997 78.4615811,23.1297046 L78.4615811,23.1305444 C78.6177723,23.7855397 78.7622072,24.4413747 78.9091613,25.0988892 C78.9603852,25.3306568 79.0107695,25.5615847 79.0628332,25.7925125 C76.2387957,22.1505706 71.0038717,20.8095097 69.2185896,20.446743 C68.8768164,20.3770448 68.5316842,20.315744 68.2176224,20.2670392 C67.6113318,20.1217646 67.0042016,20.0000026 66.4155455,19.905952 C64.1012287,19.5364675 61.7894312,19.5196727 59.4751144,19.8639652 C57.8166327,20.110848 55.2982597,20.4786531 54.6961678,22.443639 C54.6054762,22.8542707 54.6869307,23.2203963 54.9119804,23.4219333 C55.0614537,23.5546118 55.2638304,23.595759 55.4930788,23.5176634 C55.9137873,23.374908 56.8987995,23.0373335 58.0400029,22.834117 C61.3704021,22.2337046 64.7100385,22.2916465 67.9631819,23.0087824 C70.1389419,23.4874328 72.2273693,24.2499145 74.173881,25.2718752 C75.1588932,25.7899933 76.4613262,26.5264431 77.6369588,27.5013785 C76.6939335,27.0504394 75.7307545,26.5860645 74.801165,26.0964975 C74.3132775,25.8386981 73.8245502,25.8252623 73.4651425,26.0620683 C73.1678754,26.2560476 73.0066458,26.5902632 73.0318379,26.9547093 C73.0671069,27.4459558 73.4164377,27.8817796 73.991658,28.1513354 C74.2931238,28.293251 74.5937498,28.4393653 74.8926964,28.5846399 C75.5350956,28.8970223 76.1993281,29.2194816 76.8333299,29.4789605 C78.3944021,30.3623644 80.0243328,31.0148405 81.8415249,31.7151817 C81.9775624,31.7689249 82.1211575,31.7790017 82.2555155,31.7504506 C82.375598,31.7252585 82.4872831,31.6681563 82.580494,31.5841826 C82.782031,31.4002801 82.9785296,31.0207187 82.7643965,30.251519\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-52\" fill=\"#3281EE\" transform=\"translate(68.758519, 25.691435) rotate(-16.000000) translate(-68.758519, -25.691435) \" /><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-14\" transform=\"translate(0.000000, 14.000000)\"><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-49-Copy\"><mask id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_mask-2\" fill=\"white\"><use xlink:href=\"#icon-collect-account_5a578bc1cccf26c7239b38203942b771_path-1\" /></mask><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Clip-48\"></g><path d=\"M0.604571429,28.8104571 C2.10121429,34.7469214 6.45971429,40.0944214 10.07975,42.3492429 C19.9705714,48.4992786 34.3578929,46.4194214 40.92275,36.6666 C47.5442857,26.8423143 48.6351429,11.3945286 33.5906786,2.74488571 C20.7878929,-4.61757857 4.93432143,3.70595714 0.924107143,17.3309929 C-0.156892857,20.9822429 -0.323642857,25.1140286 0.604571429,28.8104571\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-47\" fill=\"#BBD9FD\" mask=\"url(#icon-collect-account_5a578bc1cccf26c7239b38203942b771_mask-2)\" /></g><path d=\"M12,29.2502068 C12,27.8748966 14.7497932,23.7506203 17.4995865,23.7506203 C20.2502068,23.7506203 18.8748966,25.1251034 23,25.1251034 C27.1251034,25.1251034 25.7497932,23.7506203 28.4995865,23.7506203 C31.2493797,23.7506203 34,27.8748966 34,29.2502068 C34,30.6246899 34,32 32.6246899,32 L13.3753101,32 C12,32 12,30.6246899 12,29.2502068 M23,22.3753101 C19.9624088,22.3753101 17.4995865,19.6048417 17.4995865,16.1876551 C17.4995865,12.7704684 19.9624088,10 23,10 C26.0375912,10 28.4995865,12.7704684 28.4995865,16.1876551 C28.4995865,19.6048417 26.0375912,22.3753101 23,22.3753101\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-50-Copy\" fill=\"#3281EE\" /></g><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-4\" transform=\"translate(91.000000, 0.000000)\"><path d=\"M13.9534046,107.867231 C16.3139069,109.402272 22.3658957,110.734935 27.2414121,111.269008 C40.5529322,112.729312 59.1606773,111.964311 67.0416145,109.304862 C74.9872115,106.626099 75.340741,102.561769 55.1383343,100.527085 C37.9388291,98.7930272 17.8674214,101.219029 13.5763624,104.855093 C12.4242424,105.828349 12.489742,106.914129 13.9534046,107.867231\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-1\" fill=\"#BBD9FD\" /><path d=\"M27.1218334,69.2778467 C26.9648025,69.2560135 26.84472,69.2954812 26.7397528,69.3551025 C25.7900096,69.2518148 24.7940808,69.6019854 24.022362,70.4408832 C22.5796928,72.0011157 22.7165701,74.7235449 24.4203976,75.98735 C26.0007838,77.1571044 28.8365776,76.1939254 29.8157116,74.4917773 C31.1282214,72.2169282 29.3160677,69.5952675 27.1218334,69.2778467\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-3\" fill=\"#FF9300\" /><path d=\"M62.8615688,15.1517211 C62.4123092,12.6148739 61.766551,10.1754362 60.5699249,8.19533496 C58.4521067,4.71126373 54.6724479,4.42827216 50.6005603,5.18235651 C48.7447403,5.46786729 46.8931189,6.05232465 45.2942585,6.51502006 C37.5602754,8.75460019 9.57602049,16.4827052 8.42809922,16.9386827 C4.18994364,18.6710613 3.95481712,21.8914549 4.87097082,25.5611082 C4.95830353,26.1514437 17.1000692,77.0168682 17.9305697,79.705708 C19.059177,83.3484896 20.9208752,86.6377417 24.3957093,87.0021878 C27.8772614,87.3809095 70.2630158,75.7874924 72.230521,75.0989076 C74.6405678,74.2516124 75.7179511,72.8845196 75.9849877,71.2445121 C76.3527928,70.3661466 76.2142361,69.3643396 76.0261348,68.1097717 C75.5382473,64.8121222 65.1204629,20.9912562 62.8615688,15.1517211\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-5\" fill=\"#FFB15C\" /><path d=\"M70.8218612,43.1492439 C68.6696137,37.4541436 66.7894413,31.6733901 65.1460749,25.8296562 C63.7202004,21.5050077 62.4555556,17.1282954 61.3899286,12.6902823 C60.6383635,9.98632727 59.9766503,7.25885961 59.436699,4.49528322 C59.1318743,4.06953627 58.7859024,3.75211546 58.3702323,3.64378932 C58.0267796,3.54805923 57.7001217,3.59088585 57.3810214,3.66982118 C57.3331564,3.67318013 57.2852913,3.65806485 57.2340674,3.67653908 C57.1047478,3.73364124 56.9939024,3.77898707 56.8629033,3.82769185 C56.6890777,3.89235164 56.5076943,3.95533196 56.3271508,4.00067779 C56.2893626,4.01579306 56.259132,4.06701706 56.2230233,4.0947284 C47.5594507,7.65185679 26.0630083,14.2782261 16.8359718,18.1065897 C16.3825135,18.3257612 15.891267,18.4811127 15.5301798,18.9337312 C15.0045041,19.4568877 14.6736475,20.2621961 14.7928902,21.4806553 C14.9028958,22.6856787 15.3462773,23.830241 15.6687365,24.9882392 C15.702326,25.1032832 15.7644666,25.1906159 15.8123316,25.2880255 C20.9775575,41.8216187 26.1511808,58.3501736 31.3273232,74.8720105 C31.3667909,75.0055288 31.4247328,75.0895025 31.4734376,75.1927903 C31.4734376,75.1927903 31.4742773,75.1961492 31.4734376,75.2028671 C31.5943598,75.6244154 31.7169614,76.0409252 31.8521592,76.4465185 C32.16958,77.5281005 32.5483017,78.5441829 33.081535,79.2974276 C33.2469633,79.5963741 33.4283466,79.8835644 33.6332426,80.1245691 C34.60146,81.2548559 35.9693926,81.0256075 37.0551733,80.4806178 C46.0176925,76.7362279 66.1067346,67.2564304 74.876954,63.5666234 C75.8099024,63.3096637 76.7881967,62.7831483 77.1946297,61.5621698 C77.4767815,60.6980799 77.4339549,59.744138 77.2441742,58.7641642 C74.6317506,53.7509308 72.7473794,48.2372139 70.8218612,43.1492439\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-7\" fill=\"#BBD9FD\" /><path d=\"M20.0210124,8.10413946 C19.8421483,9.20587516 20.0999478,11.5512622 20.1175823,12.6605556 C20.1226207,12.7730804 20.1562102,12.8713297 20.1780434,12.9662201 C20.8775448,27.491161 21.5778859,42.0186212 22.2899834,56.5444019 C22.3605213,58.006385 23.0163564,64.6881769 23.2833929,66.3256652 C23.2850724,66.3315434 23.2909506,66.3399408 23.2943095,66.3500176 C23.3102645,66.4801769 23.3514117,66.6170542 23.4672955,66.7396559 C24.2675654,67.6180214 24.8385869,68.6660139 25.7337472,69.4503288 C25.9755916,70.0347861 27.0479365,70.0171516 27.1772561,69.2210804 C27.3040565,68.4342463 27.6718615,67.7288667 28.0438653,67.0243269 C28.1060059,67.017609 28.1765438,67.0050129 28.2428831,66.9957758 C28.7055785,67.6121432 29.1573573,68.2352285 29.7426544,68.7483082 C29.9777809,69.3336052 31.056004,69.3109323 31.1811249,68.5148611 C31.3096047,67.7557383 31.6538972,67.0747112 32.0091062,66.3945237 C32.0561315,66.3886455 32.0997978,66.3810879 32.1426244,66.37437 C32.591884,66.9731029 33.0285476,67.574355 33.5987294,68.0714797 C33.8355354,68.6534178 34.9129187,68.6349436 35.0397191,67.8388724 C35.1598016,67.0957046 35.4973761,66.4197158 35.8492261,65.7512847 C35.9063283,65.7437271 35.9592317,65.7353297 36.0188531,65.7202144 C36.4630743,66.3122294 36.8972186,66.9034047 37.4564838,67.3912922 C37.6932898,67.9799483 38.7664745,67.9581151 38.8966338,67.1586849 C39.017556,66.4272735 39.3492524,65.7588424 39.6943845,65.0971291 C39.782557,65.0786549 39.8707294,65.0652191 39.9597416,65.0501038 C40.3964051,65.6328817 40.8271905,66.2156596 41.382257,66.7018677 C41.6232617,67.2880045 42.6964464,67.2678508 42.8257659,66.4692604 C42.9450087,65.7386887 43.2725063,65.0727768 43.619318,64.4119033 C43.6722214,64.4043456 43.7259646,64.3942688 43.7797078,64.3833522 C44.2188906,64.9661301 44.6488362,65.5497477 45.1988644,66.0309173 C45.4407088,66.6220926 46.5138934,66.5943813 46.6415335,65.7999895 C46.7599365,65.0702575 47.0907931,64.4077046 47.4317266,63.7468311 C47.5501296,63.7258377 47.6710518,63.7031648 47.7902945,63.68637 C48.2244389,64.2641095 48.6543845,64.8452079 49.2077716,65.328057 C49.4420584,65.9150336 50.515243,65.8932004 50.6479215,65.0946099 C50.7654848,64.3707561 51.091303,63.7065237 51.4364351,63.0523681 C51.5069731,63.0422913 51.5791905,63.0254965 51.6488887,63.0145799 C52.086392,63.5956784 52.5104595,64.1725781 53.0621671,64.649549 C53.2998128,65.2365256 54.3721577,65.2163719 54.5031568,64.4203007 C54.6223995,63.6998058 54.9456985,63.0397721 55.2824332,62.3931741 C55.3622083,62.3746999 55.4436629,62.3663025 55.5158803,62.352027 C55.9466657,62.924728 56.3724126,63.4991085 56.9174023,63.971041 C57.1558878,64.5588574 58.2307519,64.5370242 58.3609112,63.740953 C58.476795,63.0322144 58.7916966,62.3856165 59.1217135,61.7507749 C59.2325588,61.7264225 59.353481,61.7096277 59.4710443,61.6903138 C59.8909131,62.2512585 60.3107819,62.8164019 60.8465345,63.2807768 C61.0808212,63.8669136 62.1573648,63.8484394 62.2908831,63.0523681 C62.4017285,62.3705012 62.6939571,61.7457365 63.0155766,61.1285293 C63.142377,61.1041769 63.2674979,61.0915809 63.3900996,61.068908 C63.8024107,61.6138977 64.204645,62.1521694 64.7202439,62.6039483 C64.9604089,63.1892454 66.0361127,63.1682519 66.1620734,62.3721807 C66.3526938,61.2234197 67.0538747,60.2358883 67.5165701,59.1954534 C67.9733873,58.3632735 67.2461746,57.295967 66.9396704,55.3880832 C66.2107781,50.8241095 65.6918203,46.1602069 65.222407,41.759982 C64.6245138,36.1589323 64.291138,30.5570429 64.1794529,24.9417177 C63.9149356,20.7413503 63.8024107,16.5359445 63.884705,12.3145837 C63.8427182,9.71979456 63.884705,7.1308836 64.0476141,4.52937657 C64.0249412,4.46807573 63.9879928,4.42189016 63.9636404,4.36898669 C63.9376085,4.30264742 63.9191343,4.23126973 63.8679103,4.16493046 C63.8460771,4.13805886 63.8343208,4.11286673 63.8124876,4.09103355 C63.7679815,4.01041874 63.718437,3.93316289 63.6655335,3.86514414 C63.0659609,2.98761837 62.6057847,2.02611884 61.8693348,1.24600262 C61.6879515,0.638872352 60.6181258,0.554058857 60.4098709,1.33501481 C60.1898597,2.16635501 59.6994529,2.88349091 59.2317191,3.60398575 C58.7950555,2.89860619 58.3919815,2.16887423 57.814242,1.56174396 C57.6328587,0.950414995 56.5638728,0.873159138 56.3572973,1.6499164 C56.1482027,2.43255183 55.7014623,3.11357901 55.2564014,3.79460619 C54.8466094,3.12113664 54.4578109,2.44178894 53.9094623,1.85901106 C53.7339571,1.25356026 52.659093,1.17462493 52.4525176,1.95558088 C52.2434229,2.73485736 51.798362,3.41420506 51.3549806,4.09607198 C50.9451886,3.41756401 50.5513517,2.74073552 50.0046825,2.16635501 C49.8258184,1.55502605 48.7559928,1.47441125 48.5477378,2.25704667 C48.3344445,3.06319475 47.8658709,3.76017694 47.4124126,4.45547966 C46.9908644,3.76521537 46.5936685,3.06319475 46.0327238,2.46950028 C45.8513405,1.86488922 44.7798353,1.78259494 44.5732599,2.56103168 C44.3708831,3.33191078 43.9333798,4.00286111 43.4908381,4.67045248 C43.0902833,4.00538032 42.700645,3.34282737 42.1657322,2.77348529 C41.9877078,2.16131659 40.9153629,2.08238126 40.710467,2.86333721 C40.4887763,3.6921582 39.9958503,4.4092941 39.5272767,5.13062868 C39.0914529,4.41853121 38.6875391,3.6921582 38.1123189,3.08334845 C37.9334548,2.47705792 36.8602702,2.39728285 36.6545345,3.17320037 C36.4496385,3.95751528 35.9961802,4.63938219 35.5536385,5.3187299 C35.1438465,4.64274114 34.7525288,3.96003449 34.2058597,3.38733346 C34.0269956,2.77852371 32.9571699,2.6979089 32.7514342,3.4755059 C32.5431793,4.25562212 32.0964389,4.94000825 31.6505382,5.61683674 C31.2432655,4.9433672 30.8494286,4.26401949 30.3027594,3.68628004 C30.1272542,3.08082924 29.0540696,2.99601575 28.8466544,3.78117038 C28.6375598,4.58563899 28.1639478,5.28346092 27.7079703,5.98212259 C27.2881015,5.28765961 26.8867069,4.59067741 26.3308006,3.99446373 C26.1510968,3.38733346 25.0762327,3.30419944 24.8738559,4.0876746 C24.7260621,4.63182455 24.464064,5.12559025 24.1693161,5.60592015 C23.9123564,5.19948716 23.6428006,4.80565023 23.3102645,4.4496015 C23.1305607,3.84834939 22.0582158,3.7635359 21.8508006,4.53777395 C21.5560527,5.66470178 20.7633405,6.58253496 20.1973573,7.57594452 C20.1906394,7.59777769 20.1914792,7.61037376 20.1780434,7.62968772 C20.1125438,7.73549466 20.0537622,7.87825005 20.0210124,8.10413946\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-9\" fill=\"#FFE2A1\" /><path d=\"M77.3995256,22.0245533 C77.6329727,19.7169545 77.6699211,17.4379067 77.1182136,15.4443696 C76.1424385,11.9099142 72.9405191,10.7267239 69.2263598,10.384111 C67.5426859,10.1716574 65.8035894,10.2287595 64.3063373,10.2354774 C56.9359605,10.2766246 30.6555331,10.13135 29.8132764,10.2254006 C25.7212351,10.6838973 24.7236269,13.4164034 24.6228584,16.8165008 C24.5556794,17.3539329 22.5932126,64.3859554 22.6570327,66.9160847 C22.7468846,70.3472525 23.5479943,73.6482609 26.4677618,74.8280922 C29.3850102,75.9986864 68.9366503,76.3572544 70.8210214,76.2438898 C73.1025884,76.0994549 74.3773101,75.180782 75.0012351,73.8229263 C75.5420261,73.1460978 75.6612689,72.2542965 75.81746,71.1223303 C76.2003804,68.1446208 77.9277206,27.6298017 77.3995256,22.0245533\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-11\" fill=\"#B7F6F7\" /><path d=\"M80.0171556,57.6641919 C80.1489944,51.5760945 80.566344,45.5115097 81.225538,39.4788349 C81.5211256,34.9341751 81.9838211,30.3995921 82.6556111,25.8851629 C82.9688332,23.0972341 83.372747,20.3185425 83.9068201,17.5558058 C83.7808595,17.0477646 83.5784827,16.6228574 83.2341903,16.3684169 C82.950359,16.1509248 82.6329382,16.0669511 82.3079598,16.022445 C82.2617742,16.0081694 82.2231463,15.9754197 82.1694031,15.9737402 C82.0274874,15.9779389 81.9074049,15.9754197 81.769688,15.9754197 C81.5815868,15.9695415 81.3926458,15.9619839 81.2070638,15.9367918 C81.1650769,15.9325931 81.1188913,15.9720607 81.0743853,15.9812978 C71.7079523,16.0425987 49.292837,14.1548686 39.3058379,14.2564769 C38.8036749,14.2909061 38.288076,14.249759 37.7842334,14.53443 C37.1023665,14.82246 36.4943965,15.4480645 36.1492644,16.6228574 C35.7999335,17.7808555 35.7806196,19.0085518 35.6504602,20.2018189 C35.6378642,20.3193822 35.6630563,20.4251891 35.6697742,20.5335153 C34.278329,37.7993597 32.9011594,55.0635246 31.5273487,72.3226512 C31.5122334,72.4612079 31.5332269,72.5619764 31.542464,72.6761807 C31.542464,72.6761807 31.542464,72.6786999 31.5382653,72.6812191 C31.4920797,73.1204019 31.4500928,73.5537065 31.4215418,73.9828124 C31.3148951,75.1021826 31.2846645,76.1846043 31.4987976,77.081444 C31.542464,77.4223775 31.6020853,77.7565931 31.7028539,78.0563794 C32.1764659,79.465459 33.5301228,79.7660851 34.7418642,79.6653166 C44.4551088,79.5443944 66.6300591,78.2612754 76.1451256,78.1168405 C77.1057854,78.2285256 78.2108801,78.1050842 79.0422203,77.1234309 C79.6291969,76.4298077 79.9449382,75.5270898 80.1372381,74.5462763 C79.5863703,68.918355 79.8995924,63.1031723 80.0171556,57.6641919\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-13\" fill=\"#FF8E8E\" /><path d=\"M72.3783148,28.3316544 C72.2280017,25.7419037 71.871953,23.2302485 70.9079343,21.1141098 C69.2041067,17.3848352 65.4681142,16.6576225 61.3105734,16.9271783 C59.4203241,16.9918381 57.5057225,17.3579636 55.8522792,17.6317181 C47.7286578,18.9778174 18.7216025,23.4435419 17.8054488,23.6870658 C17.2848115,23.8323404 15.8287065,24.3034332 15.4096775,24.5007715 C12.2564629,25.9770302 12.8132089,28.5499861 13.2397956,31.8761867 C13.2549108,32.4782785 19.3740786,84.7049177 19.8846391,87.4894875 C20.5874994,91.2599093 22.054521,94.7607753 25.48149,95.539212 C28.915177,96.3302448 72.6117618,89.7534201 74.6548434,89.3016412 C77.1597806,88.7373376 78.3983935,87.4995644 78.8585697,85.8914669 C79.3338612,85.059287 79.3078293,84.0432045 79.2700411,82.7726815 C79.174311,79.4170902 73.9461048,34.4281492 72.3783148,28.3316544\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-15\" fill=\"#FEC267\" /><path d=\"M22.8985412,70.0126171 C20.4204756,55.2836199 17.7165206,40.4992 15.6180164,25.724857 C15.5961832,25.5459929 15.4903763,24.9287858 15.404723,24.8011456 C15.4290754,24.3476873 13.9939639,24.9615355 12.6596209,24.841453 C12.6184737,24.841453 12.096157,24.7725946 12.0550098,24.7725946 C11.6183463,24.6877811 11.1900801,24.5954099 10.7441794,24.4366995 C8.57849622,23.6523846 7.71020756,21.8343528 7.73623943,19.8147839 C7.76395077,18.0043097 9.18310728,17.206559 9.12852434,16.7237098 C9.09913352,16.4633912 7.53218319,17.2728982 7.35079988,17.3350388 C7.10475676,17.4139741 5.44375583,18.4871588 4.68715226,19.8114249 C3.92635002,21.1457679 4.16567523,23.0385365 4.20934158,24.7154924 C4.35797513,30.3686058 9.08905667,65.2504652 10.0043706,72.5469451 C9.98841562,72.6384765 10.2227024,74.4346752 10.3377465,75.2374643 C10.5678346,77.0059516 10.8071598,78.7761185 11.0574016,80.5437661 C11.2513809,81.9276536 12.0650867,89.7775205 12.2330342,90.1394474 C14.2996284,94.6244858 20.089619,96.1544877 24.7333678,95.830349 C24.9970454,95.846304 25.2523256,95.8202722 25.6612779,95.7690482 C26.176037,95.7035486 26.8948524,95.7892019 27.7043594,95.625453 C27.6153472,94.1273612 24.0850904,77.0571756 22.8985412,70.0126171\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-17\" fill=\"#FF9300\" /><path d=\"M45.7650154,62.336072 C45.6776827,62.0791123 45.8153997,61.8339089 46.095872,61.7826849 L55.8267511,59.999922 C56.0979864,59.9478583 56.329754,60.1367993 56.329754,60.4055153 C56.329754,60.4055153 56.8117633,65.3566081 51.9429648,66.2509286 C47.0716471,67.1402107 45.7650154,62.336072 45.7650154,62.336072\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-19\" fill=\"#3281EE\" /><path d=\"M45.1892913,43.7716574 C42.9648265,39.855961 38.1976362,37.7011944 34.0048265,39.3764709 C33.0189746,39.5956424 32.112058,40.0482609 31.3478968,40.6747052 C31.2765191,40.7192112 31.2135388,40.7796724 31.1463598,40.8283771 C31.0867384,40.8804409 31.0254376,40.9325046 30.9700149,40.9828888 C30.1999755,41.5665065 29.5827684,42.3138729 29.1351883,43.2392637 C29.049535,43.3870575 28.9605228,43.5331719 28.8857862,43.6851644 C28.8681517,43.7372281 28.8278443,43.7682984 28.8135688,43.8195224 C28.7589858,43.9614381 28.7354732,44.1016742 28.6859286,44.2461091 C28.441565,44.8700341 28.2794957,45.5183115 28.2072782,46.2035374 C27.9645941,47.6646808 27.9956644,49.1275037 28.492789,50.6952937 C29.3652764,53.4445946 32.6805603,54.8209245 35.2358818,55.2441522 C37.1017787,55.5514962 39.2263148,55.1114737 41.0535838,54.3204409 C43.6660074,53.1859554 44.4721555,51.7180941 45.1557018,49.7682234 C45.8543635,47.7730069 46.3011039,45.7257267 45.1892913,43.7716574\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-21\" fill=\"#BBD9FD\" /><path d=\"M69.7861288,39.8157376 C68.7507324,37.7902905 67.0947699,36.5147291 65.0961944,35.7816382 C65.0516883,35.7522474 65.023977,35.7169784 64.9752722,35.6833889 C63.7341401,34.7991453 62.0462675,34.4649297 60.4658814,34.6832615 C56.7643182,34.9259456 53.3961307,38.1219869 52.2843182,41.7756851 C51.7200145,43.6373833 51.7871935,45.9357451 52.7402957,47.6622455 C54.1686893,50.2519963 56.5426274,51.523359 59.3582675,52.1128547 C64.0599583,53.1037451 69.219306,49.8673964 70.3899002,45.2765511 C70.8433585,43.5055445 70.6216677,41.4423093 69.7861288,39.8157376\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-23\" fill=\"#BBD9FD\" /><path d=\"M40.0229738,49.9015738 C39.1462878,49.9998231 38.355255,49.3649814 38.2561659,48.4840967 C38.1654743,47.7904735 37.7657592,46.6257575 36.1601809,46.8046216 C34.4093281,46.995242 34.4328407,48.4580649 34.479866,48.9006066 C34.5781153,49.7831708 33.9441135,50.5708446 33.0665877,50.6699336 C32.1882222,50.764824 31.3963496,50.1341811 31.2981003,49.2524566 C31.0747301,47.2152532 32.0908126,44.035167 35.8100104,43.6211764 C39.5275286,43.2139037 41.2137217,46.0975625 41.4362522,48.1314069 C41.5353412,49.0114519 40.9038585,49.8050039 40.0229738,49.9015738\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-25\" fill=\"#3281EE\" /><path d=\"M64.8534263,46.3277346 C63.9717018,46.4268236 63.1831883,45.7928217 63.0874582,44.9127768 C62.9934076,44.220833 62.5945322,43.0569567 60.9881142,43.2333016 C59.2372614,43.4289604 59.260774,44.8884244 59.3077993,45.3318058 C59.4035294,46.2093316 58.7728865,47.0012041 57.8920017,47.0986137 C57.0169952,47.1918246 56.2242829,46.5603419 56.1268734,45.6811366 C55.9026634,43.648132 56.9162267,40.4646868 60.6362642,40.0548948 C64.3563017,39.6400645 66.0408152,42.5262425 66.2667047,44.5617664 C66.364954,45.4426512 65.7309521,46.2311648 64.8534263,46.3277346\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-27\" fill=\"#3281EE\" /><path d=\"M44.4357108,44.073459 C44.3777689,44.0650617 44.3307436,44.0835359 44.2921157,44.112087 C43.9251504,44.0944525 43.5523069,44.2540026 43.276873,44.5932566 C42.7671523,45.2280982 42.8889142,46.2676933 43.5691017,46.7043569 C44.2031035,47.1133091 45.2645318,46.6732866 45.5953884,45.9964581 C46.0404494,45.0979389 45.2838458,44.1406381 44.4357108,44.073459\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-29\" fill=\"#FF9300\" /><path d=\"M53.609676,42.8753215 C53.5525738,42.870283 53.507228,42.8853983 53.4727988,42.9156289 C53.1016347,42.8971546 52.7313105,43.0575445 52.4558765,43.3976382 C51.9444764,44.0324799 52.0653986,45.0678763 52.7472655,45.5062193 C53.3812674,45.9151715 54.4426957,45.4768285 54.7735523,44.8 C55.2169337,43.8989616 54.4628494,42.9433402 53.609676,42.8753215\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-31\" fill=\"#FF9300\" /><path d=\"M54.4026402,43.3402842 C53.8442147,41.3114782 51.120106,40.1081342 49.190389,40.2416525 C46.8962259,40.4045616 43.9563047,42.3720667 43.5372756,44.7829533 C43.3105465,46.0845466 45.4888257,46.3028784 45.7029588,45.0684641 C46.1799298,42.3435157 51.1226252,41.0377237 52.2243609,43.8474857 C52.2461941,44.0649777 52.3620779,44.2824697 52.6358323,44.4588146 C52.6492681,44.4730902 52.6669026,44.4798081 52.6794987,44.4890452 C53.5393899,45.0499899 54.684792,44.3664435 54.4026402,43.3402842\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-33\" fill=\"#FFB15C\" /><path d=\"M22.499162,32.7402767 C22.3228171,32.7058474 22.1825809,32.7436356 22.0624985,32.8057762 C20.9884741,32.6395082 19.8388734,32.9905185 18.9168415,33.900794 C17.2004179,35.5987434 17.2214113,38.7015738 19.0889877,40.2214988 C20.8264047,41.6314182 24.0929839,40.681675 25.2938087,38.7981436 C26.9002267,36.2806103 24.9755481,33.2122092 22.499162,32.7402767\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-35\" fill=\"#FF9300\" /><path d=\"M24.6862585,51.5991033 C24.5317468,51.5705522 24.4091451,51.6016225 24.3024985,51.6562054 C23.3577937,51.5100911 22.3475894,51.8191145 21.5380823,52.6210639 C20.0282342,54.1132776 20.0441892,56.8390658 21.6883954,58.179287 C23.2150383,59.4195794 26.08946,58.5848802 27.1450102,56.9263985 C28.5582885,54.7120105 26.867057,52.0130939 24.6862585,51.5991033\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-37\" fill=\"#FF9300\" /><path d=\"M27.6862585,69.5991033 C27.5317468,69.5705522 27.4091451,69.6016225 27.3024985,69.6562054 C26.3577937,69.5100911 25.3475894,69.8191145 24.5380823,70.6210639 C23.0282342,72.1132776 23.0441892,74.8390658 24.6883954,76.179287 C26.2150383,77.4195794 29.08946,76.5848802 30.1450102,74.9263985 C31.5582885,72.7120105 29.867057,70.0130939 27.6862585,69.5991033\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-37\" fill=\"#FF9300\" /><path d=\"M17.5665435,37.2374073 C17.324699,40.8507981 12.2661198,41.0934823 9.17084711,40.1588544 C8.91472715,40.0631243 8.65692771,39.9665545 8.42096145,39.8506707 C8.16904017,39.7272292 7.8768115,39.5450062 7.5753457,39.3199565 C7.52580119,39.2838478 6.96905517,38.8177934 6.88424167,38.7388581 C6.22168872,38.1250099 5.62631478,37.3742845 5.41218169,36.6470718 C5.26186867,35.3841065 5.1174338,34.1564101 4.98895395,33.0227644 C4.41961187,33.1655198 3.8662248,33.3981271 3.38589491,33.7163876 C2.52936257,34.28489 2.0003279,34.8987381 1.61656782,35.8551993 C1.56282462,35.9853586 1.5401517,36.1213961 1.5132801,36.2599528 C1.31090334,36.630277 1.17570559,37.0358703 1.17402612,37.4565788 C0.229321337,40.8827082 2.75861093,43.4371899 6.4022323,44.7127513 C6.38375808,44.5649575 6.36612359,44.4230418 6.34764936,44.2760877 C6.35268779,44.2786069 6.35856595,44.2828056 6.36444411,44.2853248 C6.37620044,44.4272405 6.38375808,44.5649575 6.4022323,44.7127513 C12.8169877,46.9607288 22.6956606,45.2359078 23.2305734,37.2374073 C23.4522642,33.9515142 17.7873944,33.9515142 17.5665435,37.2374073\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-39\" fill=\"#BBD9FD\" /><path d=\"M22.8370724,52.7938819 L22.6027856,52.7913627 C20.5681015,52.7569335 19.6586657,54.3532746 19.8996704,55.7589953 C19.4008662,57.6089372 15.7975523,58.2454583 14.3019796,58.5318088 C12.2740134,58.9197676 10.5206413,58.6166223 9.46509116,57.4980918 C9.45837326,57.4896945 9.45081562,57.4804574 9.44325798,57.4712202 C9.33577157,57.3553365 9.2425607,57.2226579 9.15018957,57.0899794 C8.56237326,56.2124536 8.1366263,55.2803449 7.63614271,54.3717488 C7.51018207,53.395134 7.38422143,52.4176795 7.25490184,51.4200712 C6.61754102,51.4267891 2.72115864,51.9868941 2.74215208,54.5195426 C2.77994027,59.0264142 5.24876876,61.8093046 8.75971159,62.9899756 C8.75383343,62.9437901 8.74795526,62.8942455 8.74123736,62.84806 C8.75047448,62.8505792 8.75719238,62.8530984 8.76642949,62.8564574 L8.75971159,62.9899756 C10.2930724,63.5047348 12.0363676,63.7180281 13.8972261,63.6264967 C18.4267706,63.404806 25.7904295,60.9460544 25.6291999,55.3634789 C25.5855335,53.8611884 24.2940171,52.8173946 22.8370724,52.7938819\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-41\" fill=\"#BBD9FD\" /><path d=\"M10.0040347,72.5466092 C9.98807973,72.6381406 10.2232062,74.4343393 10.3374106,75.2371284 C10.5683384,77.0064555 10.8068239,78.7757826 11.0579054,80.5434302 C11.0830975,80.7256532 11.120046,81.0262793 11.1645521,81.4024817 C11.420672,81.4713402 11.6784715,81.5443974 11.9362709,81.6006598 C17.9890994,82.9517976 26.4074687,80.2201312 28.2859616,73.6920112 C29.1298979,70.7529297 24.7884546,69.5210347 23.2408182,71.5389241 C21.2590376,73.3687123 19.3561922,74.1446298 16.7043009,74.5770947 C15.2935418,74.8071828 10.8605671,75.2925511 10.5288707,73.9666054 L10.0040347,72.5466092 Z\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-43\" fill=\"#BBD9FD\" /><path d=\"M10.3377465,75.2372124 C10.2227024,74.4344232 9.98841562,72.6382246 10.0043706,72.5466932 C9.91787766,71.8522302 9.79527598,70.9066857 9.64580269,69.7612836 C8.77583455,69.1877428 7.60440062,69.0416285 6.65381768,69.6663933 C4.19926473,71.2778497 3.44266117,73.4729237 4.50157026,76.2692499 C5.59238938,79.1461908 8.34756838,80.6434429 11.1640482,81.4025657 C11.1203819,81.0263633 11.0834334,80.7257372 11.0574016,80.5435142 C10.8071598,78.7758665 10.5678346,77.0056997 10.3377465,75.2372124\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-45\" fill=\"#BBD9FD\" /><path d=\"M67.8116823,88.9652829 C68.8924245,93.2605406 72.0464789,97.1300514 74.6681396,98.7608218 C81.8235436,103.21311 92.2320909,101.707461 96.9833261,94.651146 C101.77151,87.5410879 102.560863,76.3675397 91.6778641,70.1098152 C82.4130393,64.78252 70.9481021,70.8042782 68.0417704,80.6619577 C67.2624939,83.3062913 67.1398922,86.2923981 67.8116823,88.9652829\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-54\" fill=\"#CBF7D8\" /><g id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-3\" transform=\"translate(74.302405, 75.051546)\" fill=\"#35CE68\"><path d=\"M18.4040816,8.2676346 C18.4211347,8.18792612 18.4398932,8.1090656 18.4398932,8.02342139 L18.4398932,3.43933599 C18.4398932,2.80590799 17.9240359,2.29289066 17.2871014,2.29289066 C16.7678335,2.29289066 16.3449158,2.64140326 16.2016695,3.1111745 C14.4852718,1.19986697 11.9784613,0 9.22011711,0 C5.60058975,0 2.32468301,2.07581226 0.80098563,5.25227987 C0.527282855,5.82380661 0.770289992,6.50811236 1.34498056,6.78030833 C1.91967112,7.0525043 2.60776501,6.81083498 2.88146779,6.23930824 C4.02488032,3.85738152 6.49332124,2.29289066 9.22011711,2.29289066 C10.9927902,2.29289066 12.6264803,2.95006162 13.8696537,4.03121383 C13.5260331,4.01934236 13.1815598,4.14144896 12.9453739,4.42466844 C12.5369514,4.91055097 12.6026059,5.633863 13.0928835,6.03834112 L16.5495534,8.90360649 C16.55808,8.91123815 16.5683119,8.91378204 16.5759858,8.92056574 C16.6007128,8.93922091 16.6288505,8.95109239 16.6544302,8.96720368 C16.7490751,9.0299529 16.8454253,9.07828677 16.9468914,9.10966138 C16.9767344,9.11983693 17.0057247,9.12662063 17.037273,9.13340433 C17.1643189,9.16223506 17.290512,9.17156265 17.4158526,9.15714728 C17.4260844,9.15629932 17.434611,9.16053913 17.4448429,9.15884321 C17.4482535,9.15884321 17.4508115,9.15629932 17.4542221,9.15629932 C17.5889419,9.13510026 17.7168403,9.08761436 17.8370649,9.0231692 C17.8677606,9.00536199 17.8941929,8.98670682 17.9231833,8.96720368 C18.0161228,8.90615038 18.0988305,8.8332256 18.1713063,8.74673342 C18.1849488,8.72977417 18.202002,8.71535881 18.2147918,8.69839956 C18.2940889,8.59070832 18.3563328,8.47029764 18.3938497,8.33377567 C18.400671,8.31257661 18.3989656,8.28883366 18.4040816,8.2676346\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-19\" /><path d=\"M17.0667749,11.6047911 C16.495495,11.3249635 15.8048431,11.5581532 15.5234665,12.1262881 C14.3510636,14.4912555 11.8979705,16.0464188 9.22062871,16.0464188 C7.51446281,16.0464188 5.9106157,15.3909438 4.66658969,14.3174232 C4.9769567,14.3030079 5.28050246,14.1707257 5.49537193,13.914641 C5.90294179,13.4279105 5.83728723,12.7054465 5.34786233,12.3001204 L1.89033973,9.43485501 C1.87840254,9.42467946 1.86305472,9.42128761 1.85026487,9.41111206 C1.82127454,9.38906503 1.78972625,9.37380171 1.75903061,9.35514653 C1.66609104,9.29663712 1.57229881,9.25254307 1.4742433,9.22371234 C1.44354766,9.21523272 1.41455734,9.20675309 1.38215638,9.19996939 C1.10504298,9.14400386 0.82537161,9.19233773 0.587480412,9.32631581 C0.556784774,9.34412302 0.528647105,9.36193023 0.498804124,9.38312929 C0.402453925,9.44927037 0.31548295,9.52813089 0.243007137,9.62140676 C0.234480571,9.63327824 0.222543378,9.64175786 0.214016812,9.65278138 C0.137277716,9.76132058 0.0792970658,9.88427515 0.0434854877,10.0199491 C0.0349589215,10.0496278 0.0358115781,10.0810025 0.0306956384,10.1115291 C0.0187584457,10.1785181 0,10.2438113 0,10.3150401 L0,14.8999735 C0,15.5334015 0.516709913,16.0464188 1.15279175,16.0464188 C1.7001973,16.0464188 2.13590484,15.6597479 2.25442411,15.1526663 C3.98361174,17.0987403 6.49468549,18.3384615 9.22062871,18.3384615 C12.785586,18.3384615 16.0350604,16.2796085 17.5903061,13.1396033 C17.8716828,12.5723163 17.6380549,11.8846187 17.0667749,11.6047911\" id=\"icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-21\" /></g></g></g></g></g></symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-email.svg":
/*!*****************************************!*\
  !*** ./src/assets/icons/icon-email.svg ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-email_34447bf58052b702a1d7e744c198299f",
  "use": "icon-email_34447bf58052b702a1d7e744c198299f-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-email_34447bf58052b702a1d7e744c198299f\">\n    <path fill-rule=\"evenodd\" d=\"M0 2.999A.998.998 0 0 1 1 2h14c.552 0 1 .443 1 .999V5L8 8 0 5V2.999zM0 7l8 3 8-3v7.003c0 .55-.445.997-1 .997H1c-.552 0-1-.453-1-.997V7z\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-fingerprint.svg":
/*!***********************************************!*\
  !*** ./src/assets/icons/icon-fingerprint.svg ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-fingerprint_22982de7e0b569c80a6682bc75f94823",
  "use": "icon-fingerprint_22982de7e0b569c80a6682bc75f94823-usage",
  "viewBox": "0 0 24 24",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" id=\"icon-fingerprint_22982de7e0b569c80a6682bc75f94823\">\n    <path fill=\"#FFF\" fill-rule=\"evenodd\" d=\"M23.856 5.933a.77.77 0 0 1-.184 1.08.768.768 0 0 1-1.081-.186 12.312 12.312 0 0 0-4.438-3.85C14.4 1.056 9.566 1.06 5.835 2.992A12.436 12.436 0 0 0 1.382 6.87c-.113.198-.34.322-.606.322a.8.8 0 0 1-.444-.136.756.756 0 0 1-.32-.494.788.788 0 0 1 .131-.59 13.78 13.78 0 0 1 4.995-4.354c4.17-2.152 9.558-2.155 13.723-.013a13.811 13.811 0 0 1 4.995 4.329zM11.954 3.137c6.072 0 11.011 4.69 11.011 10.458 0 2.202-1.876 3.994-4.18 3.994-2.306 0-4.18-1.792-4.18-3.994 0-1.353-1.184-2.453-2.638-2.453-1.453 0-2.637 1.1-2.637 2.453a8.22 8.22 0 0 0 2.438 5.877c1.246 1.233 2.443 1.912 4.272 2.416a.758.758 0 0 1 .462.353.776.776 0 0 1 .078.59.748.748 0 0 1-.728.586.87.87 0 0 1-.2-.03c-2.116-.585-3.508-1.373-4.966-2.804a9.762 9.762 0 0 1-2.9-6.976c0-2.202 1.876-3.996 4.181-3.996 2.306 0 4.18 1.794 4.18 3.996 0 1.351 1.184 2.451 2.638 2.451 1.455 0 2.637-1.1 2.637-2.451 0-4.914-4.248-8.912-9.468-8.912-3.719 0-7.107 2.064-8.633 5.26-.51 1.061-.77 2.29-.77 3.652 0 1.026.092 2.631.88 4.73a.761.761 0 0 1-.02.6.738.738 0 0 1-.432.39.75.75 0 0 1-.588-.022.762.762 0 0 1-.399-.429c-.652-1.746-.97-3.47-.97-5.27 0-1.597.306-3.055.909-4.328 1.779-3.73 5.712-6.141 10.023-6.141zM7.176 18.639c.825 1.482 1.4 2.133 2.427 3.174a.794.794 0 0 1 .001 1.092.847.847 0 0 1-.57.234.731.731 0 0 1-.546-.237c-1.147-1.146-1.774-1.888-2.668-3.508-.918-1.634-1.403-3.635-1.403-5.787 0-3.989 3.405-7.233 7.59-7.233 4.185 0 7.59 3.244 7.59 7.233a.764.764 0 0 1-.772.772.765.765 0 0 1-.773-.772c0-3.137-2.712-5.688-6.045-5.688-3.333 0-6.045 2.551-6.045 5.688 0 1.884.419 3.625 1.214 5.032zm12.687.368c.2-.036.402.006.57.123a.788.788 0 0 1 .326.507.775.775 0 0 1-.635.897 9.036 9.036 0 0 1-1.617.16c-1.603 0-3.001-.401-4.16-1.195-1.997-1.356-3.193-3.558-3.193-5.892 0-.433.34-.772.773-.772s.772.339.772.772c0 1.83.94 3.554 2.514 4.611.915.62 1.994.92 3.294.92.28 0 .803-.035 1.356-.13z\" opacity=\".64\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-lock-open.svg":
/*!*********************************************!*\
  !*** ./src/assets/icons/icon-lock-open.svg ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-lock-open_8830998405aee7494c6b1a87f5c94aad",
  "use": "icon-lock-open_8830998405aee7494c6b1a87f5c94aad-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" id=\"icon-lock-open_8830998405aee7494c6b1a87f5c94aad\">\n    <path d=\"M4,4.5 L4,4 C4,1.794 5.794,0 8,0 C10.205,0 12,1.794 12,4 L12,6 L13,6 C13.2647557,5.99866955 13.5191242,6.10291197 13.7068057,6.28965507 C13.8944872,6.47639816 14.0000033,6.730241 14,6.995 L14,15.005 C14,15.544 13.551,16 12.998,16 L3.002,16 C2.456,16 2,15.555 2,15.005 L2,6.995 C2,6.456 2.448,6 3,6 L4,6 L8,6 L10,6 L10,4.5 C10,3.122 9.103,2 8,2 C6.897,2 6,3.122 6,4.5 L4,4.5 Z M8,8.5 C7.17157288,8.5 6.5,9.17157288 6.5,10 C6.50116442,10.5332239 6.78718422,11.025178 7.25,11.29 L7.25,13.75 C7.27062026,14.1491765 7.60029122,14.4622573 8,14.4622573 C8.39970878,14.4622573 8.72937974,14.1491765 8.75,13.75 L8.75,11.29 C9.195,11.032 9.5,10.552 9.5,10 C9.5,9.172 8.826,8.5 8,8.5 Z\" id=\"icon-lock-open_8830998405aee7494c6b1a87f5c94aad_Shape\" fill-rule=\"evenodd\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-phone.svg":
/*!*****************************************!*\
  !*** ./src/assets/icons/icon-phone.svg ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-phone_0f84b3b6efce03e58119635034f3a660",
  "use": "icon-phone_0f84b3b6efce03e58119635034f3a660-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-phone_0f84b3b6efce03e58119635034f3a660\">\n    <path fill-rule=\"evenodd\" d=\"M5.88 4.655a1.68 1.68 0 0 0 .001-2.377L4.097.492a1.685 1.685 0 0 0-2.38 0l-.98.979A2.521 2.521 0 0 0 .42 4.646 39.038 39.038 0 0 0 11.356 15.58c.999.662 2.328.53 3.175-.316l.979-.979a1.681 1.681 0 0 0 0-2.379l-1.785-1.784a1.679 1.679 0 0 0-2.379 0l-.594.593A40.017 40.017 0 0 1 5.285 5.25l.595-.595z\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-recurrence.svg":
/*!**********************************************!*\
  !*** ./src/assets/icons/icon-recurrence.svg ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-recurrence_86d379638c1a28ffca1ec4d8ceeeaa16",
  "use": "icon-recurrence_86d379638c1a28ffca1ec4d8ceeeaa16-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-recurrence_86d379638c1a28ffca1ec4d8ceeeaa16\">\n    <path fill-rule=\"evenodd\" d=\"M8 0C3.589 0 0 3.589 0 8s3.589 8 8 8c3.073 0 5.911-1.794 7.229-4.571.237-.499.025-1.095-.474-1.332-.497-.237-1.096-.025-1.332.474C12.434 12.654 10.305 14 8 14c-3.309 0-6-2.691-6-6s2.691-6 6-6c1.482 0 2.866.571 3.938 1.507-.265.016-.523.133-.706.353-.354.424-.296 1.055.128 1.408l3 2.5c.651.543 1.64.08 1.64-.768V3c0-.552-.448-1-1-1-.481 0-.865.348-.96.801C12.548 1.08 10.364 0 8 0z\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-reimbursement-detailed.svg":
/*!**********************************************************!*\
  !*** ./src/assets/icons/icon-reimbursement-detailed.svg ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-reimbursement-detailed_1a5fe0d389c12c280ec1cb51c130648e",
  "use": "icon-reimbursement-detailed_1a5fe0d389c12c280ec1cb51c130648e-usage",
  "viewBox": "0 0 56 56",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\" id=\"icon-reimbursement-detailed_1a5fe0d389c12c280ec1cb51c130648e\">\n    <g fill-rule=\"evenodd\">\n        <path d=\"M28 0C18.59 0 9.81 4.809 4.667 12.523V9.667a2.331 2.331 0 0 0-2.334-2.333A2.331 2.331 0 0 0 0 9.667v14.667a2.334 2.334 0 0 0 3.829 1.792l10.997-9.165a2.337 2.337 0 0 0 .299-3.29 2.34 2.34 0 0 0-3.288-.299l-4.368 3.645C11.508 9.497 19.418 4.667 28 4.667c12.866 0 23.333 10.467 23.333 23.333 0 12.866-10.467 23.333-23.333 23.333-8.941 0-17.21-5.215-21.065-13.286-.56-1.162-1.953-1.661-3.11-1.101a2.332 2.332 0 0 0-1.102 3.11C7.348 49.742 17.269 56 28 56c15.44 0 28-12.56 28-28S43.44 0 28 0\" />\n        <path d=\"M30.333 37.333c-3.441 0-6.416-1.892-8.033-4.666h8.033v-3.5H21.12C21.068 28.779 21 28.399 21 28s.068-.78.119-1.167h9.214v-3.5H22.3c1.617-2.774 4.592-4.666 8.033-4.666 2.492 0 4.837.97 6.599 2.734l3.3-3.299A13.889 13.889 0 0 0 30.332 14c-6.08 0-11.253 3.906-13.183 9.333h-5.483v3.5h4.725c-.03.385-.059.773-.059 1.167s.028.782.059 1.167h-4.725v3.5h5.483C19.08 38.094 24.253 42 30.333 42c3.743 0 7.257-1.456 9.898-4.102l-3.299-3.3a9.266 9.266 0 0 1-6.599 2.735\" />\n    </g>\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-reimbursement.svg":
/*!*************************************************!*\
  !*** ./src/assets/icons/icon-reimbursement.svg ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-reimbursement_3488ccda8085fd99199a0849237c3a74",
  "use": "icon-reimbursement_3488ccda8085fd99199a0849237c3a74-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" id=\"icon-reimbursement_3488ccda8085fd99199a0849237c3a74\">\n    <defs>\n        <path id=\"icon-reimbursement_3488ccda8085fd99199a0849237c3a74_a\" d=\"M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8a8.039 8.039 0 0 1-7.229-4.571 1 1 0 1 1 1.806-.858A6.031 6.031 0 0 0 8 14c3.309 0 6-2.691 6-6s-2.691-6-6-6c-1.482 0-2.866.571-3.938 1.507a.989.989 0 0 1 .706.353 1 1 0 0 1-.128 1.408l-3 2.5A1 1 0 0 1 0 7V3a1 1 0 0 1 1-1c.481 0 .865.348.96.801C3.452 1.08 5.636 0 8 0zm1 10c.551 0 1.052-.225 1.413-.586l1.415 1.415A3.987 3.987 0 0 1 5.142 9H4V7h1.142a3.99 3.99 0 0 1 6.686-1.829l-1.414 1.415A1.996 1.996 0 0 0 9 6c-.737 0-1.375.405-1.722 1H9v2H7.278c.347.595.985 1 1.722 1z\" />\n    </defs>\n    <use xlink:href=\"#icon-reimbursement_3488ccda8085fd99199a0849237c3a74_a\" />\n</symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/icons/icon-tos.svg":
/*!***************************************!*\
  !*** ./src/assets/icons/icon-tos.svg ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/svg-baker-runtime/browser-symbol.js */ "./node_modules/svg-baker-runtime/browser-symbol.js");
/* harmony import */ var _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js */ "./node_modules/svg-sprite-loader/runtime/browser-sprite.build.js");
/* harmony import */ var _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new _node_modules_svg_baker_runtime_browser_symbol_js__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-tos_24b00cf17712f9567ddbfa3324804ca1",
  "use": "icon-tos_24b00cf17712f9567ddbfa3324804ca1-usage",
  "viewBox": "0 0 70.58 66.63",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 70.58 66.63\" id=\"icon-tos_24b00cf17712f9567ddbfa3324804ca1\"><path d=\"M41.2 9.05a15 15 0 0 0-2.69-4.68c-2-2.2-4.82-1.85-7.64-.7a30.66 30.66 0 0 0-3.63 1.75C21.9 8.23 2.75 18 2.17 18.42c-2.8 1.87-2.5 4.23-1.28 6.74.11.42 16.46 35.33 17.45 37.14 1.36 2.47 3.19 4.56 5.75 4.31s31.44-14.89 32.76-15.69C58.46 50 59 48.81 59 47.59a4.3 4.3 0 0 0-.43-2.27C57.71 43 43.69 12.93 41.2 9.05z\" style=\"fill:#cbf7d8\" /><path d=\"M51.46 8.47a14.84 14.84 0 0 0-1.83-5.07C48 .87 45.21.74 42.22 1.38a32.44 32.44 0 0 0-3.88 1.09C32.6 4.31 12 10.64 11.4 10.92c-3.09 1.36-3.19 3.73-2.4 6.42C9 17.77 19 55 19.71 57c.9 2.66 2.34 5 4.91 5.24s33.55-9.21 35-9.76c1.75-.68 2.52-1.71 2.68-2.92a4.43 4.43 0 0 0 0-2.31c-.47-2.47-9.06-34.53-10.84-38.78z\" style=\"fill:#35ce68\" /><path d=\"M61.21 8.6a15 15 0 0 0-.93-5.31C59.11.52 56.39-.1 53.34 0a30.7 30.7 0 0 0-4 .41c-6 .81-27.32 3.47-28 3.64-3.27.8-3.79 3.12-3.51 5.89 0 .45 3.38 38.83 3.7 40.88.43 2.78 1.43 5.37 3.93 6s34.63-3.22 36.14-3.51c1.84-.36 2.78-1.24 3.14-2.41a4.32 4.32 0 0 0 .37-2.28c0-2.46-2.88-35.52-3.9-40.02z\" style=\"fill:#cbf7d8\" /><path d=\"M32.25 24.76l.41 5-5 .41-.41-5 5-.42m.46-1.54h-.08l-6 .49a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.08l6-.49a1 1 0 0 0 .92-1.08l-.5-6a1 1 0 0 0-1-.92z\" style=\"fill:#35ce68\" /><path d=\"M39.93 29.64a3 3 0 0 1-.25-6l16.2-1.34a3 3 0 1 1 .49 6l-16.19 1.33zM38.94 17.68a3 3 0 0 1-.24-6l16.19-1.34a3 3 0 1 1 .49 6l-16.19 1.33z\" style=\"fill:#9fe6a2\" /><path d=\"M31.51 15.79l.16 2-5 .41-.41-5 2-.17-.12-1.49-2.49.2a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.09l6-.5a1 1 0 0 0 .91-1.08L33 15.67z\" style=\"fill:#35ce68\" /><path d=\"M28.89 16.92l-1.81-1.54.97-1.14.67.57 3.03-3.58 1.15.97-4.01 4.72z\" style=\"fill:#35ce68\" /><path d=\"M62.58 64.44c1.78 4.51 1.34-.48 1.77-3.67 1.72.7 8 3.26 4.38.41s-5.29-8.49-6.41-10.42c-.32-.53-.36-1.2-1-1.27a4.57 4.57 0 0 0-2.8.61c-.86.47-1.74 1.17-2.87.75a.55.55 0 0 0-.8.31 1.24 1.24 0 0 0-.1 1.73c2.4 3.42 6.04 7.04 7.83 11.55z\" style=\"fill:#288afc\" /><path d=\"M59.53 52.89a1.23 1.23 0 0 0-.09-1.73.56.56 0 0 0-.81-.31c-1.12.42-2-.28-2.87-.75a4.52 4.52 0 0 0-2.76-.61c-.62.07-.67.74-1 1.27-1.12 1.93-2.76 7.57-6.42 10.42s2.67.29 4.38-.41c.44 3.19 0 8.18 1.78 3.67s5.41-8.13 7.79-11.55z\" style=\"fill:#288afc\" /><path d=\"M69.62 44.36a3 3 0 0 0 .42-4 2.55 2.55 0 0 0-1.42-1.13c-1.86-.4-2.4-1.8-3-3.62s-2.8-1.16-3.94-.62c-2.69 1.28-2.11-3-4.7-2.35a5.92 5.92 0 0 0-2.14 1.66c-.26.25-2-1.3-2.48-1.55-1.46-.78-2.27 2-2.5 3.07-.32 1.49-3.18.38-4.18 2.21-.87 1.59 0 3.69.52 5.56-1.31 1.9-3.15 2.27-2.67 5.48a4.22 4.22 0 0 0 1.12 2.7c.79 1.11 3-.21 3 2.26 0 2.07.87 3.28 2.45 3.53 1.18.18 3.5-2.35 4.46-1 .6.86 1 2 2.07 2.06 2.44.21 3.17-2.48 5.74-1.49 1.65.63 2.47-.17 3.23-2.06.65-1.59.29-2.36 2-2.9a2.88 2.88 0 0 0 1.76-1.74c1.41-2.66-2.36-3.98.26-6.07z\" fill=\"#bbd9fd\" /><path d=\"M49.34 48.9a9.15 9.15 0 0 0 4 4.78c3.93 2 9.27.72 11.42-3.17s2.07-9.77-3.88-12.51c-5.07-2.34-10.75 1.32-11.81 6.58a8.38 8.38 0 0 0 .27 4.32z\" style=\"fill:#288afc\" /><path d=\"M64.07 46.84a3.21 3.21 0 0 0-.87-1.9 3.49 3.49 0 0 0-2.13-1.13 3.41 3.41 0 0 0-2.51-2.89 2.84 2.84 0 0 0-.81-.12 2.84 2.84 0 0 0-.81.12 3.4 3.4 0 0 0-2.51 2.89 3.49 3.49 0 0 0-2.13 1.13 3.21 3.21 0 0 0-.87 1.9 2.56 2.56 0 0 0 0 .73 3.75 3.75 0 0 0 .41 1.19 3.56 3.56 0 0 0 2.72 1.59 16.81 16.81 0 0 0 3.09.18h.12a16.81 16.81 0 0 0 3.09-.18 3.56 3.56 0 0 0 2.72-1.59 3.75 3.75 0 0 0 .42-1.19 2.56 2.56 0 0 0 .07-.73z\" fill=\"#fff\" /><path d=\"M57.75 50.83h-.06a17.17 17.17 0 0 1-3.14-.19 3.51 3.51 0 0 1-3.37-3 3.15 3.15 0 0 1 0-.81 3.47 3.47 0 0 1 1-2.07 3.85 3.85 0 0 1 2.08-1.19 3.69 3.69 0 0 1 2.69-2.92 5 5 0 0 1 .86-.13h.06a4.71 4.71 0 0 1 .85.13 3.69 3.69 0 0 1 2.7 2.92 3.85 3.85 0 0 1 2.08 1.19 3.47 3.47 0 0 1 1 2.07 3.15 3.15 0 0 1 0 .81 3.51 3.51 0 0 1-3.37 3 17.17 17.17 0 0 1-3.14.19h-.06zm0-9.74a2.93 2.93 0 0 0-.73.11 3.1 3.1 0 0 0-2.3 2.65.3.3 0 0 1-.27.25 3.2 3.2 0 0 0-1.93 1 2.89 2.89 0 0 0-.8 1.72 2.1 2.1 0 0 0 0 .66 2.93 2.93 0 0 0 2.89 2.53 15.15 15.15 0 0 0 3 .18h.12a15.3 15.3 0 0 0 3-.18 2.93 2.93 0 0 0 2.89-2.53 2.1 2.1 0 0 0 0-.66 2.89 2.89 0 0 0-.8-1.72 3.2 3.2 0 0 0-1.93-1 .3.3 0 0 1-.27-.25 3.1 3.1 0 0 0-2.3-2.65 2.93 2.93 0 0 0-.57-.11zm0-.3z\" style=\"fill:#288afc\" /><path d=\"M60 47c-.13-.09-.29-.29-.28-.38a.25.25 0 0 0-.12-.24.3.3 0 0 0-.29 0 .29.29 0 0 0-.15.23.76.76 0 0 0 .1.37 3.15 3.15 0 0 1-3-.06.7.7 0 0 0 .07-.39.3.3 0 0 0-.32-.25.24.24 0 0 0-.22.28c0 .17-.12.28-.3.42a.29.29 0 0 0-.11.26.27.27 0 0 0 .16.22.15.15 0 0 0 .09 0 .3.3 0 0 0 .16-.05l.15-.12a3.6 3.6 0 0 0 1.86.5 3.64 3.64 0 0 0 1.75-.44l.12.11a.3.3 0 0 0 .16 0 .24.24 0 0 0 .2-.11A.29.29 0 0 0 60 47z\" style=\"fill:#288afc\" /></symbol>"
});
var result = _node_modules_svg_sprite_loader_runtime_browser_sprite_build_js__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "./src/assets/search-illu.svg":
/*!************************************!*\
  !*** ./src/assets/search-illu.svg ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/search-illu.svg";

/***/ }),

/***/ "./src/assets/veepee-info.png":
/*!************************************!*\
  !*** ./src/assets/veepee-info.png ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/veepee-info.png";

/***/ }),

/***/ "./src/assets/veepee-info@2x.png":
/*!***************************************!*\
  !*** ./src/assets/veepee-info@2x.png ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/veepee-info@2x.png";

/***/ }),

/***/ "./src/assets/veepee.png":
/*!*******************************!*\
  !*** ./src/assets/veepee.png ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/veepee.png";

/***/ }),

/***/ "./src/components/AccountIcon/index.jsx":
/*!**********************************************!*\
  !*** ./src/components/AccountIcon/index.jsx ***!
  \**********************************************/
/*! exports provided: AccountIconContainer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountIconContainer", function() { return AccountIconContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/KonnectorIcon */ "./node_modules/cozy-harvest-lib/dist/components/KonnectorIcon.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./styles.styl */ "./src/components/AccountIcon/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var AccountIconContainer = function AccountIconContainer(_ref) {
  var _cx;

  var size = _ref.size,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a.AccountIconContainer, (_cx = {}, _defineProperty(_cx, _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['AccountIconContainer--small'], size === 'small'), _defineProperty(_cx, _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['AccountIconContainer--large'], size === 'large'), _cx))
  }, children);
};
/** Displays a konnector icon for an io.cozy.bank.accounts */

var _AccountIcon = function _AccountIcon(_ref2) {
  var account = _ref2.account,
      className = _ref2.className,
      size = _ref2.size;
  var institutionSlug = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__["getAccountInstitutionSlug"])(account);

  if (!institutionSlug) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountIconContainer, {
    size: size
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    konnectorSlug: institutionSlug,
    className: className
  }));
};

var AccountIcon = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_AccountIcon);
/* harmony default export */ __webpack_exports__["default"] = (AccountIcon);

/***/ }),

/***/ "./src/components/AccountIcon/styles.styl":
/*!************************************************!*\
  !*** ./src/components/AccountIcon/styles.styl ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"AccountIconContainer":"AccountIconContainer--_dX2T","AccountIconContainer--large":"AccountIconContainer--large--19VGC","AccountIconContainer--small":"AccountIconContainer--small--3hWAf"};

/***/ }),

/***/ "./src/components/AccountSharingStatus/AccountSharingStatus.jsx":
/*!**********************************************************************!*\
  !*** ./src/components/AccountSharingStatus/AccountSharingStatus.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_SharingIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/SharingIcon */ "./src/components/SharingIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var components_AccountSharingStatus_AccountSharingStatus_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/AccountSharingStatus/AccountSharingStatus.styl */ "./src/components/AccountSharingStatus/AccountSharingStatus.styl");
/* harmony import */ var components_AccountSharingStatus_AccountSharingStatus_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_AccountSharingStatus_AccountSharingStatus_styl__WEBPACK_IMPORTED_MODULE_3__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





var ownerRx = /\((.*)\)/; // find the word in parenthesis

var getOwner = function getOwner(account) {
  if (!account) {
    return;
  }

  var match = ownerRx.exec(account.label);
  return match ? match[1] : account.label.split(' ').slice(-1)[0];
};

var AccountSharingStatus = /*#__PURE__*/function (_Component) {
  _inherits(AccountSharingStatus, _Component);

  function AccountSharingStatus() {
    _classCallCheck(this, AccountSharingStatus);

    return _possibleConstructorReturn(this, _getPrototypeOf(AccountSharingStatus).apply(this, arguments));
  }

  _createClass(AccountSharingStatus, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          sharingInfo = _this$props.sharingInfo,
          withText = _this$props.withText,
          tooltip = _this$props.tooltip;
      var info = sharingInfo && sharingInfo.info || {};
      var isShared = info.recipients && info.recipients.length > 0;
      var iconProps = {};

      if (info.owner) {
        iconProps.to = true;
      } else if (info.recipients && info.recipients.length) {
        iconProps.from = true;
      }

      var owner = getOwner(info.account);
      var rhProps = tooltip ? {
        'data-rh-cls': components_AccountSharingStatus_AccountSharingStatus_styl__WEBPACK_IMPORTED_MODULE_3___default.a['account-sharing-tooltip'],
        'data-rh-at': 'top',
        'data-rh': "Partag\xE9 par ".concat(owner)
      } : {};
      return isShared ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], rhProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_SharingIcon__WEBPACK_IMPORTED_MODULE_1__["default"], iconProps)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, withText && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Partag\xE9 par ", owner))) : null;
    }
  }]);

  return AccountSharingStatus;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (AccountSharingStatus);

/***/ }),

/***/ "./src/components/AccountSharingStatus/AccountSharingStatus.styl":
/*!***********************************************************************!*\
  !*** ./src/components/AccountSharingStatus/AccountSharingStatus.styl ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"account-sharing-tooltip":"account-sharing-tooltip--1cDuW"};

/***/ }),

/***/ "./src/components/AccountSharingStatus/index.js":
/*!******************************************************!*\
  !*** ./src/components/AccountSharingStatus/index.js ***!
  \******************************************************/
/*! exports provided: AccountSharingStatus, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _AccountSharingStatus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccountSharingStatus */ "./src/components/AccountSharingStatus/AccountSharingStatus.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccountSharingStatus", function() { return _AccountSharingStatus__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (_AccountSharingStatus__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/ActionMenuHelper/index.jsx":
/*!***************************************************!*\
  !*** ./src/components/ActionMenuHelper/index.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_useToggle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/useToggle */ "./src/components/useToggle.js");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles.styl */ "./src/components/ActionMenuHelper/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_2__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }





var ActionMenuHelper = function ActionMenuHelper(_ref) {
  var opener = _ref.opener,
      menu = _ref.menu;

  var _useToggle = Object(components_useToggle__WEBPACK_IMPORTED_MODULE_1__["default"])(false),
      _useToggle2 = _slicedToArray(_useToggle, 3),
      opened = _useToggle2[0],
      openMenu = _useToggle2[1],
      closeMenu = _useToggle2[2];

  var openerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-inline-flex"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(opener, {
    onClick: openMenu,
    ref: openerRef
  }), opened ? react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(menu, {
    autoclose: true,
    onClose: closeMenu,
    placement: 'bottom-end',
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a['ActionMenuHelper__menu']
  }) : null);
};

/* harmony default export */ __webpack_exports__["default"] = (ActionMenuHelper);

/***/ }),

/***/ "./src/components/ActionMenuHelper/styles.styl":
/*!*****************************************************!*\
  !*** ./src/components/ActionMenuHelper/styles.styl ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ActionMenuHelper__menu":"ActionMenuHelper__menu--EZMib"};

/***/ }),

/***/ "./src/components/App.jsx":
/*!********************************!*\
  !*** ./src/components/App.jsx ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Layout */ "./node_modules/cozy-ui/transpiled/react/Layout/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Sidebar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Sidebar */ "./node_modules/cozy-ui/transpiled/react/Sidebar/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_commons_Nav__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/commons/Nav */ "./src/ducks/commons/Nav.jsx");
/* harmony import */ var ducks_warnings__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/warnings */ "./src/ducks/warnings/index.js");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var ducks_pin__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/pin */ "./src/ducks/pin/index.browser.jsx");
/* harmony import */ var components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/ErrorBoundary */ "./src/components/ErrorBoundary/index.js");
/* harmony import */ var components_ReactHint__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/ReactHint */ "./src/components/ReactHint.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_AppSearchBar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! components/AppSearchBar */ "./src/components/AppSearchBar.jsx");
/* harmony import */ var components_useKeyboardState__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! components/useKeyboardState */ "./src/components/useKeyboardState.jsx");
/* harmony import */ var ducks_client_links__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/client/links */ "./src/ducks/client/links.js");
/* harmony import */ var ducks_devtools_banksPanels__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/devtools/banksPanels */ "./src/ducks/devtools/banksPanels.js");
/* harmony import */ var components_utils__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! components/utils */ "./src/components/utils.jsx");
/* harmony import */ var components_App_styl__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! components/App.styl */ "./src/components/App.styl");
/* harmony import */ var components_App_styl__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(components_App_styl__WEBPACK_IMPORTED_MODULE_24__);


























var KeyboardAwareSidebar = function KeyboardAwareSidebar(_ref) {
  var children = _ref.children;
  var showing = Object(components_useKeyboardState__WEBPACK_IMPORTED_MODULE_20__["default"])();
  return showing ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Sidebar__WEBPACK_IMPORTED_MODULE_9__["default"], null, children);
};

var WAIT_THROTTLE = 30 * 1000;

var App = function App(props) {
  var showBottomNav = props.showBottomNav,
      settingsCollection = props.settingsCollection;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useClient"])();
  var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_14__["getDefaultedSettingsFromCollection"])(settingsCollection);

  var showAlert = function showAlert() {
    cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__["default"].info(t('Error.fetch-error'), {
      buttonText: t('General.reload'),
      buttonAction: function buttonAction() {
        return window.location.reload();
      }
    });
  };

  var showAlertThrottled = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_throttle__WEBPACK_IMPORTED_MODULE_3___default()(showAlert, WAIT_THROTTLE, {
      trailing: false
    });
  }, [] // eslint-disable-line react-hooks/exhaustive-deps
  );
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var onError = function onError(e) {
      if (!Object(ducks_client_links__WEBPACK_IMPORTED_MODULE_21__["isActivatePouch"])() && Object(components_utils__WEBPACK_IMPORTED_MODULE_23__["hasFetchFailedError"])(e)) {
        showAlertThrottled();
      }
    };

    client.setOnError(onError);
  }, []); // eslint-disable-line react-hooks/exhaustive-deps

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('local-model-override', settings.community.localModelOverride.enabled);
  }, [settings.community.localModelOverride.enabled]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_RouterContext__WEBPACK_IMPORTED_MODULE_18__["default"].Provider, {
    value: props.router
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AppSearchBar__WEBPACK_IMPORTED_MODULE_19__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_8__["Layout"], null, showBottomNav && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(KeyboardAwareSidebar, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_commons_Nav__WEBPACK_IMPORTED_MODULE_12__["default"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_8__["Main"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_8__["Content"], {
    className: components_App_styl__WEBPACK_IMPORTED_MODULE_24___default.a.Main
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_16__["default"], null, props.children))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ReactHint__WEBPACK_IMPORTED_MODULE_17__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_warnings__WEBPACK_IMPORTED_MODULE_13__["Warnings"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__["default"], null)), cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('debug') ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_6___default.a, {
    panels: ducks_devtools_banksPanels__WEBPACK_IMPORTED_MODULE_22__["default"]
  }) : null);
};

App.defaultProps = {
  showBottomNav: true
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(Object(ducks_pin__WEBPACK_IMPORTED_MODULE_15__["pinGuarded"])({
  timeout: cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('pin.debug') ? 10 * 1000 : undefined,
  showTimeout: cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('pin.debug')
}), Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["queryConnect"])({
  settingsCollection: doctypes__WEBPACK_IMPORTED_MODULE_11__["settingsConn"]
}), react_router__WEBPACK_IMPORTED_MODULE_1__["withRouter"])(App));

/***/ }),

/***/ "./src/components/App.styl":
/*!*********************************!*\
  !*** ./src/components/App.styl ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Main":"Main--1_ywi"};

/***/ }),

/***/ "./src/components/AppRoute.jsx":
/*!*************************************!*\
  !*** ./src/components/AppRoute.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var components_App__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/App */ "../overrides/cozy-banks/src/components/App.jsx");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ducks_categories__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories */ "./src/ducks/categories/index.js");
/* harmony import */ var ducks_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings */ "./src/ducks/settings/index.js");
/* harmony import */ var ducks_balance__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/balance */ "./src/ducks/balance/index.js");
/* harmony import */ var ducks_recurrence__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/recurrence */ "../overrides/cozy-banks/src/ducks/recurrence/index.js");
/* harmony import */ var ducks_transfers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/transfers */ "./src/ducks/transfers/index.js");
/* harmony import */ var ducks_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/search */ "./src/ducks/search/index.jsx");
/* harmony import */ var ducks_analysis__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/analysis */ "./src/ducks/analysis/index.jsx");
/* harmony import */ var components_UserActionRequired__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/UserActionRequired */ "./src/components/UserActionRequired/index.jsx");
/* harmony import */ var components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! components/scrollToTopOnMount */ "./src/components/scrollToTopOnMount.jsx");
/* harmony import */ var ducks_future_PlannedTransactionsPage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/future/PlannedTransactionsPage */ "../overrides/cozy-banks/src/ducks/future/PlannedTransactionsPage.jsx");
/* harmony import */ var ducks_balance_SetFilterAndRedirect__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/balance/SetFilterAndRedirect */ "./src/ducks/balance/SetFilterAndRedirect.jsx");














 // Use a function to delay instantation and have access to AppRoute.renderExtraRoutes

var AppRoute = function AppRoute() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    component: components_UserActionRequired__WEBPACK_IMPORTED_MODULE_11__["default"]
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    component: components_App__WEBPACK_IMPORTED_MODULE_2__["default"]
  }, Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__["isWebApp"])() && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
    from: "/",
    to: "balances"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "balances"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["IndexRoute"], {
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_balance__WEBPACK_IMPORTED_MODULE_6__["Balance"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "details",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_balance__WEBPACK_IMPORTED_MODULE_6__["BalanceDetailsPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "future",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_future_PlannedTransactionsPage__WEBPACK_IMPORTED_MODULE_13__["default"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: ":accountOrGroupId/:page",
    component: ducks_balance_SetFilterAndRedirect__WEBPACK_IMPORTED_MODULE_14__["default"]
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "categories"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
    from: "*",
    to: "analysis/categories"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "recurrence"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
    from: "*",
    to: "analysis/recurrence"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "analysis",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_analysis__WEBPACK_IMPORTED_MODULE_10__["AnalysisPage"])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "categories"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["IndexRoute"], {
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_categories__WEBPACK_IMPORTED_MODULE_4__["CategoriesPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: ":categoryName/:subcategoryName",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_categories__WEBPACK_IMPORTED_MODULE_4__["CategoriesPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: ":categoryName",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_categories__WEBPACK_IMPORTED_MODULE_4__["CategoriesPage"])
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "recurrence"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["IndexRoute"], {
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_recurrence__WEBPACK_IMPORTED_MODULE_7__["RecurrencesPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: ":bundleId",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_recurrence__WEBPACK_IMPORTED_MODULE_7__["RecurrencePage"])
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "settings"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "groups/new",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_settings__WEBPACK_IMPORTED_MODULE_5__["NewGroupSettings"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "groups/:groupId",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_settings__WEBPACK_IMPORTED_MODULE_5__["ExistingGroupSettings"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
    from: "accounts/:accountId",
    to: "accounts"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_settings__WEBPACK_IMPORTED_MODULE_5__["Settings"])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["IndexRoute"], {
    component: ducks_settings__WEBPACK_IMPORTED_MODULE_5__["Configuration"]
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "accounts",
    component: ducks_settings__WEBPACK_IMPORTED_MODULE_5__["AccountsSettings"]
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "groups",
    component: ducks_settings__WEBPACK_IMPORTED_MODULE_5__["GroupsSettings"]
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "configuration",
    component: ducks_settings__WEBPACK_IMPORTED_MODULE_5__["Configuration"]
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "transfers",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_transfers__WEBPACK_IMPORTED_MODULE_8__["TransferPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "search",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_search__WEBPACK_IMPORTED_MODULE_9__["SearchPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "search/:search",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_search__WEBPACK_IMPORTED_MODULE_9__["SearchPage"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
    path: "recurrencedebug",
    component: Object(components_scrollToTopOnMount__WEBPACK_IMPORTED_MODULE_12__["default"])(ducks_recurrence__WEBPACK_IMPORTED_MODULE_7__["DebugRecurrencePage"])
  }), AppRoute.renderExtraRoutes(), Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__["isWebApp"])() && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
    from: "*",
    to: "balances"
  })));
}; // Ability to overrides easily


AppRoute.renderExtraRoutes = function () {
  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (AppRoute);

/***/ }),

/***/ "./src/components/AppSearchBar.jsx":
/*!*****************************************!*\
  !*** ./src/components/AppSearchBar.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var components_BarSearchInput__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/BarSearchInput */ "./src/components/BarSearchInput/index.jsx");






/** On desktop, shows a search input that when clicked brings to the search page */

var AppSearchBar = function AppSearchBar() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useHistory"])();
  var location = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useLocation"])();
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    history.push('/search');
  }, [history]);
  return isMobile || location.pathname === '/search' ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_4__["BarSearch"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BarSearchInput__WEBPACK_IMPORTED_MODULE_5__["default"], {
    placeholder: t('Search.input-placeholder'),
    onClick: handleClick
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (AppSearchBar);

/***/ }),

/***/ "./src/components/BackButton/index.jsx":
/*!*********************************************!*\
  !*** ./src/components/BackButton/index.jsx ***!
  \*********************************************/
/*! exports provided: BackIcon, BackButton, BarBackButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackIcon", function() { return BackIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackButton", function() { return BackButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarBackButton", function() { return BarBackButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_BackButton_style_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/BackButton/style.styl */ "./src/components/BackButton/style.styl");
/* harmony import */ var components_BackButton_style_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(components_BackButton_style_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var utils_backSwipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/backSwipe */ "./src/utils/backSwipe.jsx");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var assets_icons_icon_arrow_left_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! assets/icons/icon-arrow-left.svg */ "./src/assets/icons/icon-arrow-left.svg");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }













var BackIcon = function BackIcon() {
  var theme = Object(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_7__["useCozyTheme"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()(theme ? components_BackButton_style_styl__WEBPACK_IMPORTED_MODULE_2___default.a["BackIcon--".concat(theme)] : null, components_BackButton_style_styl__WEBPACK_IMPORTED_MODULE_2___default.a.BackIcon),
    icon: assets_icons_icon_arrow_left_svg__WEBPACK_IMPORTED_MODULE_8__["default"]
  });
};
var BackButton = function BackButton(_ref) {
  var className = _ref.className,
      onClick = _ref.onClick,
      props = _objectWithoutProperties(_ref, ["className", "onClick"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()(components_BackButton_style_styl__WEBPACK_IMPORTED_MODULE_2___default.a.BackArrow, className),
    onClick: onClick
  }, props), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BackIcon, null));
};
var BarBackButton = function BarBackButton(_ref2) {
  var onClick = _ref2.onClick;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_10__["BarLeft"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-pl-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BackButton, {
    onClick: onClick
  }))) : null;
};
/**
 * Display a BackButton on mobile. When it is displayed,
 * a right swipe on the screen or a click will bring
 * the user back to `to`.
 *
 * ```jsx
 * <BackButton onClick={ console.log('back button' )} />
 * <BackButton to={ '/settings' } />
 * ```
 */

var MobileAwareBackButton = function MobileAwareBackButton(_ref3) {
  var onClick = _ref3.onClick,
      to = _ref3.to,
      _ref3$arrow = _ref3.arrow,
      arrow = _ref3$arrow === void 0 ? false : _ref3$arrow;
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_11__["useRouter"])();

  var _useBreakpoints2 = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__["default"])(),
      isMobile = _useBreakpoints2.isMobile;

  var location = router.getCurrentLocation();

  if (!onClick && !to) {
    to = location.pathname.split('/').slice(0, -1).join('/');
  }

  var handleClick = onClick = onClick || function () {
    return to && router.push(to);
  };

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarBackButton, {
    onClick: handleClick
  }) : arrow && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BackButton, {
    onClick: handleClick
  });
};

MobileAwareBackButton.propTypes = {
  /** Location to go when clicking on the button. Uses react-router. */
  to: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,

  /** onClick handler. Mutually exclusive with `to` */
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,

  /** Provided by `withRouter` in `withBackSwipe` */
  router: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (Object(utils_backSwipe__WEBPACK_IMPORTED_MODULE_3__["default"])({
  getLocation: function getLocation(ownProps) {
    return ownProps.to;
  }
})(MobileAwareBackButton));

/***/ }),

/***/ "./src/components/BackButton/style.styl":
/*!**********************************************!*\
  !*** ./src/components/BackButton/style.styl ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"BackArrow":"BackArrow--2OXj1","BackIcon":"BackIcon--3EuLu","BackIcon--primary":"BackIcon--primary--i2oSh","BackIcon--inverted":"BackIcon--inverted--2bqoQ"};

/***/ }),

/***/ "./src/components/Bar.jsx":
/*!********************************!*\
  !*** ./src/components/Bar.jsx ***!
  \********************************/
/*! exports provided: BarCenter, BarRight, BarLeft, BarSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarCenter", function() { return BarCenter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarRight", function() { return BarRight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarLeft", function() { return BarLeft; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarSearch", function() { return BarSearch; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var utils_cozyBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/cozyBar */ "./src/utils/cozyBar.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");






var wrap = function wrap(Component, className) {
  var WrappedBarComponent = function WrappedBarComponent(_ref) {
    var children = _ref.children;

    var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
        isMobile = _useBreakpoints.isMobile;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_1__["default"], {
      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('u-flex u-flex-items-center', className),
      variant: isMobile ? 'inverted' : 'normal'
    }, children));
  };

  return WrappedBarComponent;
};

var BarCenter = wrap(utils_cozyBar__WEBPACK_IMPORTED_MODULE_3__["default"].BarCenter, 'u-ellipsis');
var BarRight = wrap(utils_cozyBar__WEBPACK_IMPORTED_MODULE_3__["default"].BarRight);
var BarLeft = wrap(utils_cozyBar__WEBPACK_IMPORTED_MODULE_3__["default"].BarLeft);
var BarSearch = wrap(utils_cozyBar__WEBPACK_IMPORTED_MODULE_3__["default"].BarSearch, 'u-flex-grow');

/***/ }),

/***/ "./src/components/BarItem/index.jsx":
/*!******************************************!*\
  !*** ./src/components/BarItem/index.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_BarItem_styles_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/BarItem/styles.styl */ "./src/components/BarItem/styles.styl");
/* harmony import */ var components_BarItem_styles_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(components_BarItem_styles_styl__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);




var BarItem = function BarItem(_ref) {
  var children = _ref.children,
      className = _ref.className,
      style = _ref.style;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_BarItem_styles_styl__WEBPACK_IMPORTED_MODULE_0___default.a.BarItem, className),
    style: style
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (BarItem);

/***/ }),

/***/ "./src/components/BarItem/styles.styl":
/*!********************************************!*\
  !*** ./src/components/BarItem/styles.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"BarItem":"BarItem--1Q0X_"};

/***/ }),

/***/ "./src/components/BarSearchInput/index.jsx":
/*!*************************************************!*\
  !*** ./src/components/BarSearchInput/index.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles.styl */ "./src/components/BarSearchInput/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Magnifier */ "./node_modules/cozy-ui/transpiled/react/Icons/Magnifier.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_CrossCircle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/CrossCircle */ "./node_modules/cozy-ui/transpiled/react/Icons/CrossCircle.js");








var BarSearchIcon = function BarSearchIcon(_ref) {
  var onClick = _ref.onClick,
      children = _ref.children,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.Icon, className),
    onClick: onClick
  }, children);
};

var BarSearchInput = function BarSearchInput(_ref2) {
  var onChange = _ref2.onChange,
      onClick = _ref2.onClick,
      placeholder = _ref2.placeholder,
      value = _ref2.value,
      defaultValue = _ref2.defaultValue,
      autofocus = _ref2.autofocus,
      onReset = _ref2.onReset;
  var inputRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var handleReset = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    onReset && onReset(inputRef.current);
  }, [onReset]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    onClick: onClick,
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.InputWrapper
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarSearchIcon, {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.SearchIcon
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-ml-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_5__["default"]
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    ref: inputRef,
    type: "text",
    onChange: onChange,
    placeholder: placeholder,
    value: value,
    defaultValue: value === undefined && defaultValue ? defaultValue : undefined,
    autoFocus: autofocus
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarSearchIcon, {
    onClick: handleReset,
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.ResetIcon
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: cozy_ui_transpiled_react_Icons_CrossCircle__WEBPACK_IMPORTED_MODULE_6__["default"]
  })));
};

BarSearchInput.defaultProps = {
  defaultValue: ''
};
/* harmony default export */ __webpack_exports__["default"] = (BarSearchInput);

/***/ }),

/***/ "./src/components/BarSearchInput/styles.styl":
/*!***************************************************!*\
  !*** ./src/components/BarSearchInput/styles.styl ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"InputWrapper":"InputWrapper--r-Zkf","Icon":"Icon--37VGp","ResetIcon":"ResetIcon--1dL1n","SearchIcon":"SearchIcon--i3SUe"};

/***/ }),

/***/ "./src/components/Bottom/index.jsx":
/*!*****************************************!*\
  !*** ./src/components/Bottom/index.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Portal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Portal */ "./node_modules/cozy-ui/transpiled/react/Portal/index.js");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles.styl */ "./src/components/Bottom/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





/** Displays children just above the bar, in Portal */

var Bottom = function Bottom(_ref) {
  var children = _ref.children,
      className = _ref.className,
      restProps = _objectWithoutProperties(_ref, ["children", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Portal__WEBPACK_IMPORTED_MODULE_1__["default"], {
    into: "body"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a.Bottom, className)
  }, restProps), children));
};

/* harmony default export */ __webpack_exports__["default"] = (Bottom);

/***/ }),

/***/ "./src/components/Bottom/styles.styl":
/*!*******************************************!*\
  !*** ./src/components/Bottom/styles.styl ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Bottom":"Bottom--3G61R"};

/***/ }),

/***/ "./src/components/BottomButton.jsx":
/*!*****************************************!*\
  !*** ./src/components/BottomButton.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var components_Bottom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/Bottom */ "./src/components/Bottom/index.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var buttonStyle = {
  transition: 'transform 0.5s ease'
};
var styles = {
  invisibleWrapper: {
    pointerEvents: 'none'
  },
  visibleButton: _objectSpread({}, buttonStyle, {
    opacity: 1,
    transform: "translateY(0px)"
  }),
  invisibleButton: _objectSpread({}, buttonStyle, {
    opacity: 0,
    transform: "translateY(100px)"
  })
};
/** Button displayed at the bottom of the view on mobile, appears from the bottom */

var _BottomButtonMobile = function _BottomButtonMobile(_ref) {
  var visible = _ref.visible,
      buttonProps = _objectWithoutProperties(_ref, ["visible"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bottom__WEBPACK_IMPORTED_MODULE_2__["default"], {
    style: !visible ? styles.invisibleWrapper : null
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_3__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    extension: "full",
    theme: "primary",
    style: visible ? styles.visibleButton : styles.invisibleButton
  }, buttonProps))));
}; // eslint-disable-next-line no-unused-vars


var _BottomButtonDesktop = function _BottomButtonDesktop(_ref2) {
  var visible = _ref2.visible,
      props = _objectWithoutProperties(_ref2, ["visible"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    className: "u-mh-0 u-db",
    theme: "primary"
  }, props));
};

var BottomButtonDesktop = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_BottomButtonDesktop);
var BottomButtonMobile = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_BottomButtonMobile);
BottomButtonMobile.defaultProps = {
  visible: true
};

var BottomButton = function BottomButton(props) {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BottomButtonMobile, props) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BottomButtonDesktop, props);
};

/* harmony default export */ __webpack_exports__["default"] = (BottomButton);

/***/ }),

/***/ "./src/components/Carrousel.jsx":
/*!**************************************!*\
  !*** ./src/components/Carrousel.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_swipeable_views__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-swipeable-views */ "./node_modules/react-swipeable-views/lib/index.js");
/* harmony import */ var react_swipeable_views__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_swipeable_views__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var lodash_range__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/range */ "./node_modules/lodash/range.js");
/* harmony import */ var lodash_range__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_Left__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Left */ "./node_modules/cozy-ui/transpiled/react/Icons/Left.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }









var hidden = {
  visibility: 'hidden'
};

var useCounter = function useCounter(min, max) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(min),
      _useState2 = _slicedToArray(_useState, 2),
      index = _useState2[0],
      setIndex = _useState2[1];

  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (i) {
    setIndex(i);
  }, [setIndex]);
  var handlePrev = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    setIndex(Math.max(min, index - 1));
  }, [index, min]);
  var handleNext = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    setIndex(Math.min(max - 1, index + 1));
  }, [max, index]);
  return [index, handleChange, handlePrev, handleNext];
};

var Carrousel = function Carrousel(props) {
  var children = props.children,
      className = props.className;

  var _useCounter = useCounter(0, children.length),
      _useCounter2 = _slicedToArray(_useCounter, 4),
      index = _useCounter2[0],
      handleChange = _useCounter2[1],
      handlePrev = _useCounter2[2],
      handleNext = _useCounter2[3];

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], {
    className: className
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    style: index === 0 ? hidden : null,
    className: "u-c-pointer u-slateGrey",
    onClick: handlePrev,
    "data-testid": "carrousel-previous"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: isMobile ? 'u-mh-half' : 'u-mh-1',
    icon: cozy_ui_transpiled_react_Icons_Left__WEBPACK_IMPORTED_MODULE_6__["default"]
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_swipeable_views__WEBPACK_IMPORTED_MODULE_1___default.a, {
    animateHeight: true,
    disabled: true,
    index: index
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(children, function (child, i) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, {
      active: i === index
    });
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-ta-center u-slateGrey u-c-pointer"
  }, lodash_range__WEBPACK_IMPORTED_MODULE_5___default()(children.length).map(function (x, i) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      key: i,
      onClick: function onClick() {
        return handleChange(i);
      }
    }, i === index ? '●' : '○');
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    style: index === children.length - 1 ? hidden : null,
    className: "u-c-pointer u-slateGrey",
    onClick: handleNext,
    "data-testid": "carrousel-next"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: isMobile ? 'u-mh-half' : 'u-mh-1',
    icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_7__["default"]
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Carrousel));

/***/ }),

/***/ "./src/components/Chart/LineChart.jsx":
/*!********************************************!*\
  !*** ./src/components/Chart/LineChart.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var utils_d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/d3 */ "./src/utils/d3.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_minBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/minBy */ "./node_modules/lodash/minBy.js");
/* harmony import */ var lodash_minBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_minBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/max */ "./node_modules/lodash/max.js");
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_max__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var components_Chart_LineChart_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/Chart/LineChart.styl */ "./src/components/Chart/LineChart.styl");
/* harmony import */ var components_Chart_LineChart_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(components_Chart_LineChart_styl__WEBPACK_IMPORTED_MODULE_7__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }








 // TODO replace by import { getCSSVariableValue } from 'cozy-ui/transpiled/utils/colors'
// when https://github.com/cozy/cozy-ui/issues/1153 is solved

var getCSSPropertyValue = lodash_memoize__WEBPACK_IMPORTED_MODULE_3___default()(function (varName) {
  var computedStyle = getComputedStyle(document.body);
  return computedStyle.getPropertyValue(varName);
});

var makeDownwardTriangle = function makeDownwardTriangle(centerTop, size) {
  var _centerTop = _slicedToArray(centerTop, 2),
      x = _centerTop[0],
      y = _centerTop[1];

  return [[x - size / 2, y], [x + size / 2, y], [x, y + Math.sqrt(Math.pow(size, 2) - Math.pow(size / 2, 2))] // 0.75 is approx
  ];
};

var tooltipDimensions = {
  arrowSize: 5,
  bgHeight: 20,
  bgPadding: [5, 5],
  fontSize: 11
};
var getDataByDate = lodash_memoize__WEBPACK_IMPORTED_MODULE_3___default()(function (data) {
  return lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default()(data, function (i) {
    return i.x.getTime();
  });
});

var LineChart = /*#__PURE__*/function (_Component) {
  _inherits(LineChart, _Component);

  function LineChart(props) {
    var _this;

    _classCallCheck(this, LineChart);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(LineChart).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "getSelectedItem", function () {
      var data = _this.props.data;
      var itemKey = _this.state.itemKey;
      var dataByDate = getDataByDate(data);
      return dataByDate[itemKey];
    });

    _defineProperty(_assertThisInitialized(_this), "onLineClick", function () {
      var _d3$mouse = utils_d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](_this.clickLine.node()),
          _d3$mouse2 = _slicedToArray(_d3$mouse, 1),
          mouseX = _d3$mouse2[0];

      _this.setItemFromMouseX(mouseX);
    });

    _defineProperty(_assertThisInitialized(_this), "startPointDrag", function () {
      _this.dragging = true;
    });

    _defineProperty(_assertThisInitialized(_this), "pointDrag", function () {
      if (!_this.dragging) {
        return;
      }

      var _d3$mouse3 = utils_d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](_this.svg.node()),
          _d3$mouse4 = _slicedToArray(_d3$mouse3, 1),
          mouseX = _d3$mouse4[0];

      _this.setItemFromMouseX(mouseX);
    });

    _defineProperty(_assertThisInitialized(_this), "setItemFromMouseX", function (mouseX) {
      var x = Math.min(mouseX, _this.getInnerWidth() - 1);

      var itemKey = _this.getItemAt(x).x.getTime();

      _this.setState({
        itemKey: itemKey
      });
    });

    _defineProperty(_assertThisInitialized(_this), "stopPointDrag", function () {
      _this.dragging = false;
    });

    _this.createScales();

    _this.updateDomains();

    _this.dragging = false;
    _this.state = {
      itemKey: null,
      // Currently "selected" point
      prevData: null
    };
    return _this;
  }

  _createClass(LineChart, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.createElements();

      if (this.props.animation) {
        this.enterAnimation();
      }

      this.updateElements();
      this.movePointToItem();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var itemKeyUpdate = this.state.itemKey !== prevState.itemKey;
      var widthUpdate = this.props.width !== prevProps.width;
      var marginUpdate = this.props.margin !== prevProps.margin;
      var dataUpdate = this.props.data !== prevProps.data;

      if (marginUpdate) {
        this.updateRoot();
      }

      if (widthUpdate || dataUpdate) {
        this.updateScales();
        this.updateGradient();
        this.updateAxis();
        this.updateLine();
        this.movePointToItem();
      } else if (itemKeyUpdate) {
        this.movePointToItem();
      }
    }
    /**
     * Create all graph elements
     */

  }, {
    key: "createElements",
    value: function createElements() {
      this.createRoot();
      this.createGradient();
      this.createPointLine();
      this.createLine();
      this.createPoint();
      this.createTooltip();
      this.createAxis();
    }
  }, {
    key: "updateElements",
    value: function updateElements() {
      this.updateRoot();
      this.updateScales();
      this.updateGradient();
      this.updateAxis();
      this.updateLine();
      this.updateTooltip();
    }
    /**
     * Creates the x and y scales used to transform values to pixels
     */

  }, {
    key: "createScales",
    value: function createScales() {
      var _this$props = this.props,
          xScale = _this$props.xScale,
          yScale = _this$props.yScale;
      this.x = xScale().range([0, this.getInnerWidth()]);
      this.y = yScale().range([this.getInnerHeight(), 0]);
    }
  }, {
    key: "updateScales",
    value: function updateScales() {
      this.x.range([0, this.getInnerWidth()]);
      this.y.range([this.getInnerHeight(), 0]);
      this.updateDomains();
    }
    /**
     * Returns the width in which the chart will be drawn
     */

  }, {
    key: "getInnerWidth",
    value: function getInnerWidth() {
      var _this$props2 = this.props,
          width = _this$props2.width,
          margin = _this$props2.margin;
      return width - margin.left - margin.right;
    }
    /**
     * Returns the height in which the chart will be drawn
     */

  }, {
    key: "getInnerHeight",
    value: function getInnerHeight() {
      var _this$props3 = this.props,
          height = _this$props3.height,
          margin = _this$props3.margin;
      return height - margin.top - margin.bottom;
    }
    /**
     * Update the scales domains
     */

  }, {
    key: "updateDomains",
    value: function updateDomains() {
      var data = this.props.data;
      this.x.domain(utils_d3__WEBPACK_IMPORTED_MODULE_2__["extent"](data, function (d) {
        return d.x;
      }));
      var yDomain = utils_d3__WEBPACK_IMPORTED_MODULE_2__["extent"](data, function (d) {
        return d.y;
      }); // If min === max, the line will be drawn on the bottom, like
      // all values are the min. We want to opposite, so we set the
      // min to 0. This way the line will be drawn on the top

      if (yDomain[0] === yDomain[1]) {
        yDomain[0] = 0;
      }

      this.y.domain(yDomain);
    }
    /**
     * Creates the element that will contains all others.
     * It is used to apply a translation on the whole chart content according to the margins we want to apply to it
     */

  }, {
    key: "createRoot",
    value: function createRoot() {
      this.svg = utils_d3__WEBPACK_IMPORTED_MODULE_2__["select"](this.root).append('g');
    }
  }, {
    key: "updateRoot",
    value: function updateRoot() {
      var margin = this.props.margin;
      this.svg.attr('transform', "translate(".concat(margin.left, ", ").concat(margin.top, ")"));
    }
    /**
     * Create the gradient element
     */

  }, {
    key: "createGradient",
    value: function createGradient() {
      var _this2 = this;

      var gradient = this.props.gradient;

      if (!gradient) {
        return;
      }

      this.areaGenerator = utils_d3__WEBPACK_IMPORTED_MODULE_2__["area"]().x(function (d) {
        return _this2.x(d.x);
      }).y1(function (d) {
        return _this2.y(d.y);
      });
      this.mask = this.svg.append('mask').attr('id', 'maskurl').append('path').attr('fill', 'white');
      this.rect = this.svg.append('rect').attr('id', 'gradient-rect').attr('x', 0).attr('y', 0).attr('mask', 'url(#maskurl)').attr('fill', 'url(#gradient)');
    }
  }, {
    key: "updateGradient",
    value: function updateGradient() {
      var _this3 = this;

      if (this.rect) {
        var _this$props4 = this.props,
            data = _this$props4.data,
            showAxis = _this$props4.showAxis,
            margin = _this$props4.margin;
        var minY = this.getDataMin();
        var innerHeight = this.getInnerHeight();
        this.areaGenerator.y0(function () {
          var min = _this3.y(minY.y);

          if (min === 0) {
            min += innerHeight;
          }

          if (!showAxis) {
            min += margin.bottom;
          }

          return min;
        });
        var height = innerHeight + (showAxis ? 0 : margin.bottom);
        this.rect.attr('width', this.getInnerWidth()).attr('height', height);
        this.mask.datum(data).attr('d', this.areaGenerator);
      }
    }
    /**
     * Generate the data line
     */

  }, {
    key: "createLine",
    value: function createLine() {
      var _this4 = this;

      var _this$props5 = this.props,
          lineColor = _this$props5.lineColor,
          lineWidth = _this$props5.lineWidth;
      this.lineGenerator = utils_d3__WEBPACK_IMPORTED_MODULE_2__["line"]().x(function (d) {
        return _this4.x(d.x);
      }).y(function (d) {
        return _this4.y(d.y);
      });
      this.line = this.svg.append('path').attr('id', 'line').attr('stroke', lineColor).attr('fill', 'none').attr('stroke-width', lineWidth);
      this.clickLine = this.svg.append('path').attr('id', 'clickLine').attr('stroke', 'transparent').attr('stroke-width', 64).style('cursor', 'pointer').attr('fill', 'none').on('click', this.onLineClick);
      this.updateLine();
    }
  }, {
    key: "updateLine",
    value: function updateLine() {
      var data = this.props.data;
      this.line.datum(data).attr('d', this.lineGenerator);
      this.clickLine.datum(data).attr('d', this.lineGenerator);
    }
    /**
     * Generate the selected point
     */

  }, {
    key: "createPoint",
    value: function createPoint() {
      var _this$props6 = this.props,
          pointRadius = _this$props6.pointRadius,
          pointFillColor = _this$props6.pointFillColor,
          pointStrokeColor = _this$props6.pointStrokeColor,
          pointStrokeWidth = _this$props6.pointStrokeWidth;
      var drag = utils_d3__WEBPACK_IMPORTED_MODULE_2__["drag"]();
      this.point = this.svg.append('circle').attr('r', pointRadius).attr('fill', pointFillColor).attr('stroke-width', pointStrokeWidth).attr('stroke', pointStrokeColor); // We set a radius of 24 so the point will have a diameter of 48,
      // respecting the standard dimensions for a touchable element

      var CLICK_POINT_RADIUS = 24;
      this.clickPoint = this.svg.append('circle').attr('r', CLICK_POINT_RADIUS).attr('fill', 'transparent').call(drag.on('start', this.startPointDrag)).call(drag.on('drag', this.pointDrag)).call(drag.on('end', this.stopPointDrag));
    }
  }, {
    key: "createTooltip",
    value: function createTooltip() {
      var bgHeight = tooltipDimensions.bgHeight,
          arrowSize = tooltipDimensions.arrowSize,
          fontSize = tooltipDimensions.fontSize; // The tooltip group oriign will be positionned at the x,y-arrowSize
      // of the point on the curve

      this.tooltip = this.svg.append('g'); // The width of the background will be automatically updated based on the
      // width of the text

      this.tooltipBg = this.tooltip.append('rect').attr('fill', getCSSPropertyValue('--historyTooltipBackgroundColor')).attr('y', -bgHeight).attr('height', bgHeight);
      var trianglePoints = makeDownwardTriangle([0, 0], arrowSize).map(function (p) {
        return p.join(',');
      }).join(' ');
      this.tooltipArrow = this.tooltip.append('polygon').attr('points', trianglePoints).attr('fill', getCSSPropertyValue('--historyTooltipBackgroundColor'));
      this.tooltipText = this.tooltip.append('text').attr('fill', getCSSPropertyValue('--historyTooltipTextColor')).attr('style', "font-size: ".concat(fontSize, "px; font-family: Lato")).attr('x', 0).attr('y', -fontSize / 2); // half the font-size
    }
  }, {
    key: "updateTooltip",
    value: function updateTooltip() {
      var _this5 = this;

      var bgPadding = tooltipDimensions.bgPadding,
          arrowSize = tooltipDimensions.arrowSize;
      var item = this.getSelectedItem();

      if (!item) {
        return;
      }

      var x = this.x(item.x);
      var y = -arrowSize;
      this.tooltip.attr('transform', "translate(".concat(x, ", ").concat(y, ")"));
      var tspans = this.props.getTooltipContent(item);
      this.tooltipText.selectAll('*').remove();
      tspans.forEach(function (tspan) {
        _this5.tooltipText.append('tspan').text(tspan.content + ' ').attr('style', tspan.style);
      });
      var tl = this.tooltipText.node().getComputedTextLength();
      var switchOrientation = x < tl;

      var _bgPadding = _slicedToArray(bgPadding, 1),
          paddingH = _bgPadding[0];

      this.tooltipBg.attr('x', switchOrientation ? -paddingH : -tl - paddingH).attr('width', tl + paddingH * 2);
      this.tooltipText.attr('text-anchor', switchOrientation ? 'start' : 'end');
    }
  }, {
    key: "updatePoint",
    value: function updatePoint() {
      var item = this.getSelectedItem();

      if (!item) {
        return;
      }

      var x = this.x(item.x);
      var y = this.y(item.y);
      this.point.attr('cx', x).attr('cy', y);
      this.clickPoint.attr('cx', x).attr('cy', y);
    }
    /**
     * Generate the vertical line that follows the point
     */

  }, {
    key: "createPointLine",
    value: function createPointLine() {
      this.pointLine = this.svg.append('line').attr('stroke-width', 1).attr('stroke', this.props.lineColor).attr('stroke-dasharray', '3,2');
    }
  }, {
    key: "updatePointLine",
    value: function updatePointLine() {
      var item = this.getSelectedItem();

      if (!item) {
        return;
      }

      var _this$props7 = this.props,
          height = _this$props7.height,
          margin = _this$props7.margin,
          tickPadding = _this$props7.tickPadding,
          showAxis = _this$props7.showAxis;
      var x = this.x(item.x);
      var y2 = height - margin.top + tickPadding;

      if (showAxis) {
        y2 -= margin.bottom;
      }

      this.pointLine.attr('x1', x).attr('y1', 0).attr('x2', x).attr('y2', y2);
    }
    /**
     * Generate the horizontal axis
     */

  }, {
    key: "createAxis",
    value: function createAxis() {
      var _this$props8 = this.props,
          tickSizeOuter = _this$props8.tickSizeOuter,
          tickSizeInner = _this$props8.tickSizeInner,
          tickPadding = _this$props8.tickPadding,
          nbTicks = _this$props8.nbTicks,
          tickFormat = _this$props8.tickFormat,
          showAxis = _this$props8.showAxis;
      this.xAxisGenerator = utils_d3__WEBPACK_IMPORTED_MODULE_2__["axisBottom"](this.x).tickSizeOuter(tickSizeOuter).tickSizeInner(tickSizeInner).tickPadding(tickPadding);

      if (nbTicks !== undefined) {
        this.xAxisGenerator.ticks(nbTicks);
      }

      if (tickFormat) {
        this.xAxisGenerator.tickFormat(tickFormat);
      }

      if (showAxis) {
        this.axis = this.svg.append('g');
      }
    }
  }, {
    key: "updateAxis",
    value: function updateAxis() {
      var _this$props9 = this.props,
          axisColor = _this$props9.axisColor,
          labelsColor = _this$props9.labelsColor,
          showAxis = _this$props9.showAxis,
          axisMargin = _this$props9.axisMargin;

      if (showAxis) {
        this.axis.attr('transform', "translate(0, ".concat(this.getInnerHeight() + axisMargin, ")"));
        this.axis.call(this.xAxisGenerator);
        this.axis.selectAll('.domain').attr('stroke', axisColor);
        this.axis.selectAll('.tick line').attr('stroke', axisColor);
        this.axis.selectAll('.tick text').attr('fill', labelsColor).attr('font-family', 'Lato, sans-serif').attr('font-size', '0.75rem').attr('style', 'text-transform: uppercase');
      }
    }
    /**
     * Get the minimum y value in data
     */

  }, {
    key: "getDataMin",
    value: function getDataMin() {
      return lodash_minBy__WEBPACK_IMPORTED_MODULE_5___default()(this.props.data, function (d) {
        return d.y;
      });
    }
  }, {
    key: "enterAnimation",
    value: function enterAnimation() {
      var _this6 = this;

      var lineTotalLength = this.line.node().getTotalLength();
      this.tooltip.attr('style', 'opacity: 0');
      this.point.attr('r', 0).attr('stroke-width', 0);
      this.pointLine.attr('opacity', 0);

      if (this.mask) {
        this.mask.attr('opacity', 0);
      } // We do not know where exactly this comes from but without it a bit of the end
      // of the line is visible just before the animation as if the line was too offsetted.
      // This is why we need to remove a bit of the offset.


      var OFFSET = -60;
      this.line.attr('stroke-dasharray', lineTotalLength).attr('stroke-dashoffset', lineTotalLength + OFFSET).transition().duration(this.props.enterAnimationDuration).ease(utils_d3__WEBPACK_IMPORTED_MODULE_2__["easeExpInOut"]).attr('stroke-dashoffset', 0).on('end', function () {
        if (_this6.mask) {
          _this6.mask.transition().duration(250).ease(utils_d3__WEBPACK_IMPORTED_MODULE_2__["easeLinear"]).attr('opacity', 1);

          _this6.point.transition().duration(200).ease(utils_d3__WEBPACK_IMPORTED_MODULE_2__["easeLinear"]).attr('r', _this6.props.pointRadius).attr('stroke-width', _this6.props.pointStrokeWidth);

          _this6.pointLine.transition().duration(400).ease(utils_d3__WEBPACK_IMPORTED_MODULE_2__["easeExpIn"]).attr('opacity', 1);

          _this6.tooltip.transition().duration(200).ease(utils_d3__WEBPACK_IMPORTED_MODULE_2__["easeLinear"]).style('opacity', 1);
        }

        _this6.line.attr('stroke-dasharray', null);
      });
    }
  }, {
    key: "getItemAt",
    value: function getItemAt(x) {
      var data = this.props.data;
      var date = this.x.invert(x);
      var bisectX = utils_d3__WEBPACK_IMPORTED_MODULE_2__["bisector"](function (d) {
        return d.x;
      }).right;
      var nearestIndex = bisectX(data, date);
      return data[nearestIndex];
    }
  }, {
    key: "movePointToItem",
    value: function movePointToItem() {
      if (!this.point) {
        return;
      }

      this.updatePoint();
      this.updatePointLine();
      this.updateTooltip();
    }
  }, {
    key: "render",
    value: function render() {
      var _this7 = this;

      var _this$props10 = this.props,
          width = _this$props10.width,
          height = _this$props10.height,
          gradient = _this$props10.gradient;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: components_Chart_LineChart_styl__WEBPACK_IMPORTED_MODULE_7___default.a.LineChart
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", {
        ref: function ref(node) {
          return _this7.root = node;
        },
        width: width,
        height: height,
        className: components_Chart_LineChart_styl__WEBPACK_IMPORTED_MODULE_7___default.a.LineChartSVG
      }, gradient && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("defs", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("linearGradient", {
        id: "gradient",
        x2: "0%",
        y2: "100%"
      }, Object.entries(gradient).map(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
            offset = _ref2[0],
            color = _ref2[1];

        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("stop", {
          key: offset,
          offset: offset,
          stopColor: color
        });
      })))));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      var data = props.data; // If currently displayed data changes, we recompute selected itemkey

      if (!state || state.prevData !== data) {
        var dataByDate = getDataByDate(data);
        var itemKey = lodash_max__WEBPACK_IMPORTED_MODULE_6___default()(Object.keys(dataByDate)); // Have to keep prevData in derivedState to access it in later calls
        // of getDerivedStateFromProps. See https://github.com/facebook/react/issues/12188

        return {
          prevData: data,
          itemKey: itemKey
        };
      }

      return null;
    }
  }]);

  return LineChart;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

LineChart.propTypes = {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    x: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
    y: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any
  })).isRequired,
  width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  margin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    top: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    bottom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    left: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    right: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
  }),
  lineWidth: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  lineColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  nbTicks: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  tickFormat: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  tickPadding: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  xScale: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  yScale: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  axisColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  axisMargin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  gradient: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
  enterAnimationDuration: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  showAxis: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  pointRadius: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  pointFillColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  pointStrokeWidth: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  pointStrokeColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  getTooltipContent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
LineChart.defaultProps = {
  margin: {
    top: 0,
    bottom: 0,
    left: 0,
    right: 0
  },
  lineWidth: 2,
  lineColor: 'black',
  xScale: utils_d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"],
  yScale: utils_d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"],
  axisColor: 'black',
  labelsColor: 'black',
  axisMargin: 0,
  enterAnimationDuration: 1000,
  showAxis: false,
  tickPadding: 8,
  tickSizeOuter: 0,
  tickSizeInner: 5,
  pointRadius: 4,
  pointFillColor: 'black',
  pointStrokeWidth: 10,
  pointStrokeColor: 'rgba(0, 0, 0, 0.3)',
  animation: true
};
/* harmony default export */ __webpack_exports__["default"] = (LineChart);

/***/ }),

/***/ "./src/components/Chart/LineChart.styl":
/*!*********************************************!*\
  !*** ./src/components/Chart/LineChart.styl ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"LineChart":"LineChart--1fuYI","LineChartSVG":"LineChartSVG--3_UIb"};

/***/ }),

/***/ "./src/components/Delayed.jsx":
/*!************************************!*\
  !*** ./src/components/Delayed.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var useDelay = function useDelay(delay) {
  // ok is true when delay has elapsed
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(delay === 0),
      _useState2 = _slicedToArray(_useState, 2),
      ok = _useState2[0],
      setOK = _useState2[1]; // Pass empty dep list to useEffect to have a behavior similar to
  // componentDid{Mount,Unmount}
  // https://fr.reactjs.org/docs/hooks-effect.html#tip-optimizing-performance-by-skipping-effects


  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    function setOKToTrue() {
      setOK(true);
    }

    var timeout = delay === 0 ? null : setTimeout(setOKToTrue, delay);
    return function () {
      clearTimeout(timeout);
    };
  }, // eslint-disable-next-line react-hooks/exhaustive-deps
  []);
  return ok;
};
/**
 * Delays rendering of its children
 * @param  {Element} options.fallback - Simple component used while delay has not elapsed
 * @param  {Element} options.children - Will be rendered after <delay>ms have passed
 * @param  {Number} options.delay    - Delay to render children in ms
 */


var Delayed = function Delayed(_ref) {
  var fallback = _ref.fallback,
      children = _ref.children,
      delay = _ref.delay;
  var ok = useDelay(delay);

  if (ok) {
    return children;
  } else {
    return fallback;
  }
};

Delayed.defaultProps = {
  fallback: null
};
Delayed.propTypes = {
  fallback: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.element
};
/* harmony default export */ __webpack_exports__["default"] = (Delayed);

/***/ }),

/***/ "./src/components/DialogSections/index.jsx":
/*!*************************************************!*\
  !*** ./src/components/DialogSections/index.jsx ***!
  \*************************************************/
/*! exports provided: DialogSection, DialogSections, DialogListItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSection", function() { return DialogSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSections", function() { return DialogSections; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogListItem", function() { return DialogListItem; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemSecondaryAction */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemSecondaryAction/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Radio */ "../overrides/cozy-ui/transpiled/react/Radio/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }















var DialogSection = function DialogSection(_ref) {
  var children = _ref.children,
      label = _ref.label;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, label && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["DialogContent"], {
    className: "u-pv-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_10__["default"], {
    variant: "h6",
    className: "u-mb-half"
  }, label)), children);
};
var DialogSections = function DialogSections(_ref2) {
  var children = _ref2.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_9__["default"], {
    spacing: "m"
  }, children);
};
var DialogListItem = function DialogListItem(_ref3) {
  var hasRadio = _ref3.hasRadio,
      label = _ref3.label,
      isSelected = _ref3.isSelected,
      onClick = _ref3.onClick,
      icon = _ref3.icon,
      hasArrow = _ref3.hasArrow,
      divider = _ref3.divider;

  var _useCozyDialog = Object(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_7__["useCozyDialog"])({
    size: 'm'
  }),
      listItemProps = _useCozyDialog.listItemProps;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, listItemProps, {
    button: true,
    onClick: onClick,
    selected: isSelected,
    divider: divider
  }), icon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_4__["default"], null, icon) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__["default"], {
    primary: label
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: "u-flex u-flex-row"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: isMobile ? 'u-mr-1' : 'u-mr-2'
  }, hasRadio ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_8__["default"], {
    defaultChecked: isSelected,
    onClick: onClick,
    className: "u-mr-half"
  }) : null, hasArrow ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_12__["default"],
    className: "u-coolGrey"
  }) : null)));
};
DialogListItem.propTypes = {
  icon: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,
  divider: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  hasRadio: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  hasArrow: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  label: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,
  isSelected: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};

/***/ }),

/***/ "./src/components/EditionModal/AccountOrGroupSection.jsx":
/*!***************************************************************!*\
  !*** ./src/components/EditionModal/AccountOrGroupSection.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var components_DialogSections__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/DialogSections */ "./src/components/DialogSections/index.jsx");
/* harmony import */ var ducks_settings_CategoryAlerts_AccountOrGroupLabel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/CategoryAlerts/AccountOrGroupLabel */ "./src/ducks/settings/CategoryAlerts/AccountOrGroupLabel.jsx");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");










var AccountOrGroupSection = function AccountOrGroupSection(_ref) {
  var label = _ref.label,
      value = _ref.value,
      onClick = _ref.onClick,
      chooserProps = _ref.chooserProps;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var accountsById = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useSelector"])(selectors__WEBPACK_IMPORTED_MODULE_4__["getAccountsById"]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_5__["DialogSection"], {
    label: label
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_2__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_5__["DialogListItem"], {
    icon: value && value._type === doctypes__WEBPACK_IMPORTED_MODULE_8__["ACCOUNT_DOCTYPE"] && accountsById[value._id] ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_7__["default"], {
      key: value._id,
      account: accountsById[value._id]
    }) : null,
    label: value ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_CategoryAlerts_AccountOrGroupLabel__WEBPACK_IMPORTED_MODULE_6__["default"], {
      doc: value
    }) : chooserProps && !chooserProps.canSelectAll ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, t('AccountGroupChoice.nothing-selected')) : t('AccountGroupChoice.all-accounts'),
    onClick: onClick,
    hasArrow: true
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (AccountOrGroupSection);

/***/ }),

/***/ "./src/components/EditionModal/CategorySection.jsx":
/*!*********************************************************!*\
  !*** ./src/components/EditionModal/CategorySection.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_DialogSections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/DialogSections */ "./src/components/DialogSections/index.jsx");
/* harmony import */ var ducks_categories__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/categories */ "./src/ducks/categories/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");






var DumbCategorySection = function DumbCategorySection(_ref) {
  var value = _ref.value,
      label = _ref.label,
      onClick = _ref.onClick;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var categoryName = Object(ducks_categories__WEBPACK_IMPORTED_MODULE_3__["getCategoryName"])(value.id);
  var translatedCategoryName = t("Data.".concat(value.isParent ? 'categories' : 'subcategories', ".").concat(categoryName));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_2__["DialogSection"], {
    label: label
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_4__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_2__["DialogListItem"], {
    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories__WEBPACK_IMPORTED_MODULE_3__["CategoryIcon"], {
      categoryId: value.id
    }),
    label: value.isParent ? t('Settings.budget-category-alerts.edit.all-category', {
      categoryName: translatedCategoryName
    }) : translatedCategoryName,
    onClick: onClick,
    hasArrow: true
  })));
};

var CategorySection = DumbCategorySection;
/* harmony default export */ __webpack_exports__["default"] = (CategorySection);

/***/ }),

/***/ "./src/components/EditionModal/EditionModal.jsx":
/*!******************************************************!*\
  !*** ./src/components/EditionModal/EditionModal.jsx ***!
  \******************************************************/
/*! exports provided: CHOOSING_TYPES, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CHOOSING_TYPES", function() { return CHOOSING_TYPES; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var components_Stepper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Stepper */ "./src/components/Stepper/index.js");
/* harmony import */ var components_DialogSections__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/DialogSections */ "./src/components/DialogSections/index.jsx");
/* harmony import */ var components_useConfirmation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/useConfirmation */ "./src/components/useConfirmation.jsx");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var ducks_categories__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/categories */ "./src/ducks/categories/index.js");
/* harmony import */ var ducks_settings_CategoryAlerts_AccountGroupChoice__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/settings/CategoryAlerts/AccountGroupChoice */ "./src/ducks/settings/CategoryAlerts/AccountGroupChoice.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var _AccountOrGroupSection__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./AccountOrGroupSection */ "./src/components/EditionModal/AccountOrGroupSection.jsx");
/* harmony import */ var _CategorySection__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CategorySection */ "./src/components/EditionModal/CategorySection.jsx");
/* harmony import */ var _ThresholdSection__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ThresholdSection */ "./src/components/EditionModal/ThresholdSection.jsx");
/* harmony import */ var _NumberSection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./NumberSection */ "./src/components/EditionModal/NumberSection.jsx");
/* harmony import */ var utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! utils/resultWithArgs */ "./src/utils/resultWithArgs.js");
var _SectionsPerType;

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



















var CHOOSING_TYPES = {
  category: 'category',
  accountOrGroup: 'accountOrGroup',
  account: 'account',
  threshold: 'threshold',
  number: 'number'
};
var TYPES_WITH_SELECTOR = {
  category: true,
  accountOrGroup: true,
  account: true
};
var style = {
  marginLeft: '-0.5rem',
  marginRight: '0.5rem'
};
var iconButtonProps = {
  edge: 'start',
  style: style,
  className: 'u-coolGrey'
};

var DialogBackButton = function DialogBackButton(_ref) {
  var onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_9__["BackButton"], _extends({}, iconButtonProps, {
    onClick: onClick,
    style: style
  }));
};

var SectionsPerType = (_SectionsPerType = {}, _defineProperty(_SectionsPerType, CHOOSING_TYPES.category, _CategorySection__WEBPACK_IMPORTED_MODULE_14__["default"]), _defineProperty(_SectionsPerType, CHOOSING_TYPES.accountOrGroup, _AccountOrGroupSection__WEBPACK_IMPORTED_MODULE_13__["default"]), _defineProperty(_SectionsPerType, CHOOSING_TYPES.account, _AccountOrGroupSection__WEBPACK_IMPORTED_MODULE_13__["default"]), _defineProperty(_SectionsPerType, CHOOSING_TYPES.threshold, _ThresholdSection__WEBPACK_IMPORTED_MODULE_15__["default"]), _defineProperty(_SectionsPerType, CHOOSING_TYPES.number, _NumberSection__WEBPACK_IMPORTED_MODULE_16__["default"]), _SectionsPerType);

var ChoosingSwitch = function ChoosingSwitch(_ref2) {
  var choosing = _ref2.choosing;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, choosing.type === CHOOSING_TYPES.category ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories__WEBPACK_IMPORTED_MODULE_10__["CategoryChoice"], _extends({
    modal: false,
    canSelectParent: true,
    categoryId: choosing.value.id,
    categoryIsParent: choosing.value.isParent,
    onSelect: choosing.onSelect,
    onCancel: choosing.onCancel
  }, choosing.chooserProps)) : null, choosing.type === CHOOSING_TYPES.accountOrGroup || choosing.type === CHOOSING_TYPES.account ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_CategoryAlerts_AccountGroupChoice__WEBPACK_IMPORTED_MODULE_11__["default"], _extends({
    current: choosing.value,
    onSelect: choosing.onSelect,
    onCancel: choosing.onCancel
  }, choosing.chooserProps)) : null);
};

var InfoSlide = function InfoSlide(_ref3) {
  var doc = _ref3.doc,
      fieldSpecs = _ref3.fieldSpecs,
      fieldOrder = _ref3.fieldOrder,
      fieldLabels = _ref3.fieldLabels,
      onRequestChooseField = _ref3.onRequestChooseField,
      onChangeField = _ref3.onChangeField;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_7__["DialogSections"], null, fieldOrder.map(function (fieldName) {
    var fieldSpec = fieldSpecs[fieldName];
    var FieldSection = SectionsPerType[fieldSpec.type];
    var fieldLabel = fieldLabels[fieldName];
    var chooserProps = Object(utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_17__["default"])(fieldSpec, 'chooserProps', [doc]);
    var sectionProps = Object(utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_17__["default"])(fieldSpec, 'sectionProps', [doc]);
    var hasSelector = TYPES_WITH_SELECTOR[fieldSpec.type];
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldSection, _extends({
      key: fieldName,
      label: t(fieldLabel),
      value: fieldSpec.getValue(doc),
      onClick: hasSelector ? function () {
        return onRequestChooseField(fieldName);
      } : undefined,
      onChange: hasSelector ? undefined : function (value) {
        onChangeField(fieldName, value);
      }
    }, sectionProps, {
      chooserProps: chooserProps
    }));
  }));
};

var INFO_SLIDE_INDEX = 0;
var CHOOSING_SLIDE_INDEX = 1;

var EditionModalFooter = function EditionModalFooter(props) {
  var canBeRemoved = props.canBeRemoved,
      doc = props.doc,
      onEdit = props.onEdit,
      onRemove = props.onRemove,
      removeModalTitle = props.removeModalTitle,
      removeModalDescription = props.removeModalDescription,
      removeButtonLabel = props.removeButtonLabel,
      cancelButtonLabel = props.cancelButtonLabel,
      onDismiss = props.onDismiss,
      okButtonLabel = props.okButtonLabel;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var tracker = Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["useTracker"])();

  var handleConfirmEdit = function handleConfirmEdit() {
    onEdit(doc);
    tracker.trackEvent({
      name: 'ok'
    });
  };

  var handleRemove = function handleRemove() {
    onRemove(doc);
    onDismiss();
    tracker.trackEvent({
      name: 'supprimer'
    });
  };

  var handleCancel = function handleCancel() {
    onDismiss();
    tracker.trackEvent({
      name: 'annuler'
    });
  };

  var _useConfirmation = Object(components_useConfirmation__WEBPACK_IMPORTED_MODULE_8__["default"])({
    title: removeModalTitle,
    description: removeModalDescription,
    onConfirm: handleRemove
  }),
      removalConfirmation = _useConfirmation.component,
      onRemovalRequest = _useConfirmation.requestOpen;

  var removalButton = canBeRemoved && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    theme: "danger-outline",
    label: removeButtonLabel(props, doc),
    onClick: onRemovalRequest
  }), removalConfirmation);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_4__["DialogActions"], null, canBeRemoved && !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, removalButton, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-media-grow"
  })) : null, !canBeRemoved || canBeRemoved && !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    theme: "secondary",
    onClick: handleCancel,
    label: cancelButtonLabel(props, doc)
  }) : null, canBeRemoved && isMobile ? removalButton : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    onClick: handleConfirmEdit,
    label: okButtonLabel(doc)
  }));
};

var ChoosingSlide = function ChoosingSlide(_ref4) {
  var choosing = _ref4.choosing;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, choosing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChoosingSwitch, {
    choosing: choosing
  }) : null);
};

var dialogTitleMobileStyle = {
  maxHeight: 48,
  boxSizing: 'border-box'
};

var EditionModal = function EditionModal(props) {
  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n2.t;

  var _useBreakpoints2 = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints2.isMobile;

  var fieldSpecs = props.fieldSpecs,
      fieldLabels = props.fieldLabels,
      fieldOrder = props.fieldOrder,
      initialDoc = props.initialDoc,
      modalTitle = props.modalTitle,
      okButtonLabel = props.okButtonLabel,
      cancelButtonLabel = props.cancelButtonLabel,
      removeButtonLabel = props.removeButtonLabel,
      onEdit = props.onEdit,
      onDismiss = props.onDismiss,
      onRemove = props.onRemove,
      removeModalTitle = props.removeModalTitle,
      removeModalDescription = props.removeModalDescription,
      canBeRemoved = props.canBeRemoved,
      trackPageName = props.trackPageName;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(initialDoc),
      _useState2 = _slicedToArray(_useState, 2),
      doc = _useState2[0],
      setDoc = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null),
      _useState4 = _slicedToArray(_useState3, 2),
      choosing = _useState4[0],
      setChoosing = _useState4[1];

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["useTrackPage"])(trackPageName);

  var handleDismiss = function handleDismiss() {
    onDismiss.apply(this, arguments); // :/ We need to set a timeout otherwise we fire the track page too soon
    // and one of the event (for example clicking on "Annuler") might be wrongly
    // included in the parent page, this is why we delay a bit the hit to the
    // parent page.

    setTimeout(function () {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["trackParentPage"])();
    }, 100);
  };

  var handleEdit = function handleEdit() {
    onEdit.apply(this, arguments); // :/ We need to set a timeout otherwise we fire the track page too soon
    // and one of the event (for example clicking on "Annuler") might be wrongly
    // included in the parent page, this is why we delay a bit the hit to the
    // parent page.

    setTimeout(function () {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["trackParentPage"])();
    }, 100);
  };

  var handleChoosingCancel = function handleChoosingCancel() {
    setChoosing(null);
  };

  var handleChangeField = function handleChangeField(name, val) {
    var updater = fieldSpecs[name].updater;
    var updatedDoc = updater(doc, val);
    setDoc(updatedDoc);
  };

  var handleRequestChooseField = function handleRequestChooseField(name) {
    var fieldSpec = fieldSpecs[name];
    setChoosing({
      type: fieldSpec.type,
      value: fieldSpec.getValue(doc),
      chooserProps: fieldSpec.chooserProps,
      onSelect: function onSelect(val) {
        setChoosing(null);
        handleChangeField(name, val);
      },
      onCancel: handleChoosingCancel
    });
  };

  var _useCozyDialog = Object(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_5__["useCozyDialog"])({
    size: 'm',
    open: true
  }),
      dialogProps = _useCozyDialog.dialogProps,
      dialogTitleProps = _useCozyDialog.dialogTitleProps;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, dialogProps, {
    onClose: handleDismiss
  }), !choosing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_5__["DialogCloseButton"], {
    onClick: handleDismiss
  }) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_4__["DialogTitle"], _extends({}, dialogTitleProps, {
    className: "u-flex u-flex-row u-flex-items-center",
    style: isMobile ? dialogTitleMobileStyle : null
  }), choosing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DialogBackButton, {
    onClick: function onClick() {
      return setChoosing(null);
    }
  }) : null, t(modalTitle)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Stepper__WEBPACK_IMPORTED_MODULE_6__["default"], {
    showPercentage: false,
    currentIndex: choosing ? CHOOSING_SLIDE_INDEX : INFO_SLIDE_INDEX,
    onBack: function onBack() {
      return setChoosing(null);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InfoSlide, {
    doc: doc,
    fieldOrder: fieldOrder,
    fieldSpecs: fieldSpecs,
    fieldLabels: fieldLabels,
    onRequestChooseField: handleRequestChooseField,
    onChangeField: handleChangeField
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChoosingSlide, {
    choosing: choosing
  })), choosing ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditionModalFooter, {
    canBeRemoved: canBeRemoved,
    doc: doc,
    onEdit: handleEdit,
    onDismiss: handleDismiss,
    onRemove: onRemove,
    removeModalTitle: removeModalTitle,
    removeModalDescription: removeModalDescription,
    removeButtonLabel: removeButtonLabel,
    cancelButtonLabel: cancelButtonLabel,
    okButtonLabel: okButtonLabel
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (EditionModal);

/***/ }),

/***/ "./src/components/EditionModal/NumberSection.jsx":
/*!*******************************************************!*\
  !*** ./src/components/EditionModal/NumberSection.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/InputGroup */ "./node_modules/cozy-ui/transpiled/react/InputGroup/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Input */ "./node_modules/cozy-ui/transpiled/react/Input/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_DialogSections__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/DialogSections */ "./src/components/DialogSections/index.jsx");







var NumberSection = function NumberSection(_ref) {
  var label = _ref.label,
      value = _ref.value,
      onChange = _ref.onChange,
      unit = _ref.unit,
      unitKey = _ref.unitKey;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var handleChange = function handleChange(ev) {
    onChange(parseInt(ev.target.value, 10));
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_5__["DialogSection"], {
    label: label
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_1__["DialogContent"], {
    className: "u-pv-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_2__["default"], {
    append: unit || unitKey ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_2__["default"].Unit, null, unit || t(unitKey)) : undefined
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_3__["default"], {
    type: "text",
    onChange: handleChange,
    defaultValue: value
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (NumberSection);

/***/ }),

/***/ "./src/components/EditionModal/SpecEditionModal.jsx":
/*!**********************************************************!*\
  !*** ./src/components/EditionModal/SpecEditionModal.jsx ***!
  \**********************************************************/
/*! exports provided: makeEditionModalFromSpec */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeEditionModalFromSpec", function() { return makeEditionModalFromSpec; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _EditionModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditionModal */ "./src/components/EditionModal/EditionModal.jsx");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");



var makeEditionModalFromSpec = function makeEditionModalFromSpec(spec) {
  return function (_ref) {
    var initialDoc = _ref.initialDoc,
        onDismiss = _ref.onDismiss,
        onEdit = _ref.onEdit,
        trackPageName = _ref.trackPageName;

    var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
        t = _useI18n.t;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EditionModal__WEBPACK_IMPORTED_MODULE_1__["default"], {
      modalTitle: spec.modalTitle,
      fieldOrder: spec.fieldOrder,
      fieldLabels: spec.fieldLabels,
      fieldSpecs: spec.fieldSpecs,
      initialDoc: initialDoc,
      onEdit: onEdit,
      onDismiss: onDismiss,
      okButtonLabel: function okButtonLabel() {
        return t('EditionModal.ok');
      },
      cancelButtonLabel: function cancelButtonLabel() {
        return t('EditionModal.cancel');
      },
      trackPageName: trackPageName
    });
  };
};

/***/ }),

/***/ "./src/components/EditionModal/ThresholdSection.jsx":
/*!**********************************************************!*\
  !*** ./src/components/EditionModal/ThresholdSection.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _NumberSection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NumberSection */ "./src/components/EditionModal/NumberSection.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var ThresholdSection = function ThresholdSection(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NumberSection__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    unit: "\u20AC"
  }, props));
};

/* harmony default export */ __webpack_exports__["default"] = (ThresholdSection);

/***/ }),

/***/ "./src/components/EditionModal/index.jsx":
/*!***********************************************!*\
  !*** ./src/components/EditionModal/index.jsx ***!
  \***********************************************/
/*! exports provided: default, CHOOSING_TYPES, makeEditionModalFromSpec */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _EditionModal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditionModal */ "./src/components/EditionModal/EditionModal.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _EditionModal__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CHOOSING_TYPES", function() { return _EditionModal__WEBPACK_IMPORTED_MODULE_0__["CHOOSING_TYPES"]; });

/* harmony import */ var _SpecEditionModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SpecEditionModal */ "./src/components/EditionModal/SpecEditionModal.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "makeEditionModalFromSpec", function() { return _SpecEditionModal__WEBPACK_IMPORTED_MODULE_1__["makeEditionModalFromSpec"]; });




/***/ }),

/***/ "./src/components/Elevated.jsx":
/*!*************************************!*\
  !*** ./src/components/Elevated.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



var Elevated = function Elevated(_ref) {
  var elevation = _ref.elevation,
      radius = _ref.radius,
      children = _ref.children,
      className = _ref.className,
      rest = _objectWithoutProperties(_ref, ["elevation", "radius", "children", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    className: "".concat(className || '', " u-c-pointer u-elevation-").concat(elevation, " u-bdrs-").concat(radius)
  }, rest), children);
};

Elevated.defaultProps = {
  elevation: 1,
  radius: 4
};
/* harmony default export */ __webpack_exports__["default"] = (Elevated);

/***/ }),

/***/ "./src/components/ErrorBoundary/Error.jsx":
/*!************************************************!*\
  !*** ./src/components/ErrorBoundary/Error.jsx ***!
  \************************************************/
/*! exports provided: Error, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return Error; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var assets_icons_icon_broken_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! assets/icons/icon-broken.svg */ "./src/assets/icons/icon-broken.svg");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_ErrorBoundary_Error_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/ErrorBoundary/Error.styl */ "./src/components/ErrorBoundary/Error.styl");
/* harmony import */ var components_ErrorBoundary_Error_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(components_ErrorBoundary_Error_styl__WEBPACK_IMPORTED_MODULE_9__);










var Error = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {
  var faqURL = _ref.faqURL,
      emptyIcon = _ref.emptyIcon;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t,
      lang = _useI18n.lang;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_8__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var supportURL = faqURL || "https://cozy.io/".concat(lang === 'fr' ? 'fr' : 'en', "/support/");

  var onReloadPage = function onReloadPage() {
    return window.location.reload(true);
  };

  var buttonsClassName = isMobile ? 'u-pos-fixed u-bottom-xxl u-left-0 u-right-0 u-stack-s u-mr-1-half u-ml-1 u-mb-2' : "u-stack-s ".concat(components_ErrorBoundary_Error_styl__WEBPACK_IMPORTED_MODULE_9___default.a['Error--buttons']);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "u-flex u-flex-column u-flex-items-center u-mt-3"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_3__["default"], {
    layout: false,
    icon: emptyIcon,
    className: "u-p-0",
    title: t('Error.title'),
    text: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
      component: "span",
      variant: "body1",
      className: "u-mt-1 u-ta-center"
    }, t('Error.retry'))
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: buttonsClassName
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__["Button"], {
    className: "u-w-100",
    onClick: onReloadPage,
    theme: "primary",
    label: t('Error.reload-page')
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__["ButtonLink"], {
    className: "u-w-100",
    href: supportURL,
    target: "_blank",
    theme: "secondary",
    label: t('Error.consult-faq'),
    "data-testid": "consult-button"
  })));
});
Error.displayName = 'Error';
Error.propTypes = {
  emptyIcon: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
};
Error.defaultProps = {
  emptyIcon: assets_icons_icon_broken_svg__WEBPACK_IMPORTED_MODULE_4__["default"]
};
/* harmony default export */ __webpack_exports__["default"] = (Error);

/***/ }),

/***/ "./src/components/ErrorBoundary/Error.styl":
/*!*************************************************!*\
  !*** ./src/components/ErrorBoundary/Error.styl ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Error--buttons":"Error--buttons--UPjgw"};

/***/ }),

/***/ "./src/components/ErrorBoundary/ErrorBoundary.jsx":
/*!********************************************************!*\
  !*** ./src/components/ErrorBoundary/ErrorBoundary.jsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/ErrorBoundary/Error */ "../overrides/cozy-banks/src/components/ErrorBoundary/Error.jsx");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var getPathname = function getPathname(children) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(children, 'props.location.pathname');
};

var ErrorBoundary = /*#__PURE__*/function (_React$Component) {
  _inherits(ErrorBoundary, _React$Component);

  function ErrorBoundary(props) {
    var _this;

    _classCallCheck(this, ErrorBoundary);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));
    _this.state = {
      hasError: false
    };
    return _this;
  }

  _createClass(ErrorBoundary, [{
    key: "componentDidCatch",
    value: function componentDidCatch(error, info) {
      Object(lib_sentry__WEBPACK_IMPORTED_MODULE_1__["logException"])({
        error: error,
        info: info
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevPathname = getPathname(prevProps.children);
      var pathname = getPathname(this.props.children);

      if (this.state.hasError && prevPathname !== pathname) {
        this.setState({
          hasError: false
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.hasError) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ErrorBoundary_Error__WEBPACK_IMPORTED_MODULE_2__["default"], null);
      }

      return this.props.children;
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError() {
      return {
        hasError: true
      };
    }
  }]);

  return ErrorBoundary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ErrorBoundary);

/***/ }),

/***/ "./src/components/ErrorBoundary/index.js":
/*!***********************************************!*\
  !*** ./src/components/ErrorBoundary/index.js ***!
  \***********************************************/
/*! exports provided: default, Error */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ErrorBoundary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ErrorBoundary */ "./src/components/ErrorBoundary/ErrorBoundary.jsx");
/* harmony import */ var _Error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Error */ "./src/components/ErrorBoundary/Error.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return _Error__WEBPACK_IMPORTED_MODULE_1__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (_ErrorBoundary__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "./src/components/Header/Header.jsx":
/*!******************************************!*\
  !*** ./src/components/Header/Header.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_Header_Header_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Header/Header.styl */ "../overrides/cozy-banks/src/components/Header/Header.styl");
/* harmony import */ var components_Header_Header_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Header_Header_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var Header = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(Header, _React$PureComponent);

  function Header() {
    _classCallCheck(this, Header);

    return _possibleConstructorReturn(this, _getPrototypeOf(Header).apply(this, arguments));
  }

  _createClass(Header, [{
    key: "render",
    value: function render() {
      var _cx;

      var _this$props = this.props,
          children = _this$props.children,
          className = _this$props.className,
          theme = _this$props.theme,
          fixed = _this$props.fixed,
          paper = _this$props.paper,
          style = _this$props.style;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_4__["default"], {
        variant: theme
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        role: "header",
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_Header_Header_styl__WEBPACK_IMPORTED_MODULE_3___default.a["HeaderColor_".concat(theme)], (_cx = {}, _defineProperty(_cx, components_Header_Header_styl__WEBPACK_IMPORTED_MODULE_3___default.a['Header--fixed'], fixed), _defineProperty(_cx, components_Header_Header_styl__WEBPACK_IMPORTED_MODULE_3___default.a['Header--paper'], paper), _cx), className),
        style: style
      }, children));
    }
  }]);

  return Header;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

Header.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  theme: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['normal', 'inverted'])
};
Header.defaultProps = {
  theme: 'normal',
  fixed: false,
  paper: true
};
/* harmony default export */ __webpack_exports__["default"] = (Header);

/***/ }),

/***/ "./src/components/Header/index.js":
/*!****************************************!*\
  !*** ./src/components/Header/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_Header_Header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/Header/Header */ "../overrides/cozy-banks/src/components/Header/Header.jsx");

/* harmony default export */ __webpack_exports__["default"] = (components_Header_Header__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/HeaderLoadingProgress.jsx":
/*!**************************************************!*\
  !*** ./src/components/HeaderLoadingProgress.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_LinearProgress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/LinearProgress */ "./node_modules/cozy-ui/transpiled/react/LinearProgress/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Box */ "./node_modules/cozy-ui/transpiled/react/Box/index.js");





var HeaderLoadingProgress = function HeaderLoadingProgress(_ref) {
  var isFetching = _ref.isFetching;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_3__["default"], {
    minHeight: "8px",
    marginBottom: -1
  }, isFetching ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_LinearProgress__WEBPACK_IMPORTED_MODULE_2__["default"], null) : null);
};

HeaderLoadingProgress.propTypes = {
  isFetching: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (HeaderLoadingProgress);

/***/ }),

/***/ "./src/components/IconCalendar.jsx":
/*!*****************************************!*\
  !*** ./src/components/IconCalendar.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



function SvgIconCalendar(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", _extends({
    width: 16,
    height: 16
  }, props), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    d: "M13 1h3v2H0V1h3V0h2v1h6V0h2v1zM0 4h16v10.998A1 1 0 0115 16H1c-.552 0-1-.456-1-1.002V4zm2 2v8h12V6H2zm6 3h5v4H8V9z"
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (SvgIconCalendar);

/***/ }),

/***/ "./src/components/IconCredit.jsx":
/*!***************************************!*\
  !*** ./src/components/IconCredit.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



function SvgIconCredit(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", _extends({
    width: 16,
    height: 16
  }, props), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
    fill: "#32363F",
    fillRule: "evenodd"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    fillRule: "nonzero",
    d: "M3.414 10H11a1 1 0 010 2H3.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 1.414L3.414 10z",
    opacity: 0.5
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    d: "M12.586 4l-1.293-1.293a1 1 0 111.414-1.414l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L12.586 6H5a1 1 0 110-2h7.586z"
  })));
}

/* harmony default export */ __webpack_exports__["default"] = (SvgIconCredit);

/***/ }),

/***/ "./src/components/IconRecurrence.jsx":
/*!*******************************************!*\
  !*** ./src/components/IconRecurrence.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



function SvgIconRecurrence(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", _extends({
    width: 16,
    height: 16
  }, props), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
    fillRule: "evenodd",
    d: "M8 0C3.589 0 0 3.589 0 8s3.589 8 8 8a8.039 8.039 0 007.229-4.571 1 1 0 10-1.806-.858A6.031 6.031 0 018 14c-3.309 0-6-2.691-6-6s2.691-6 6-6c1.482 0 2.866.571 3.938 1.507a.989.989 0 00-.706.353 1 1 0 00.128 1.408l3 2.5A1 1 0 0016 7V3a1 1 0 00-1-1 .987.987 0 00-.96.801C12.548 1.08 10.364 0 8 0z"
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (SvgIconRecurrence);

/***/ }),

/***/ "./src/components/KonnectorUpdateInfo/index.jsx":
/*!******************************************************!*\
  !*** ./src/components/KonnectorUpdateInfo/index.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Infos__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Infos */ "./node_modules/cozy-ui/transpiled/react/Infos/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Openwith */ "./node_modules/cozy-ui/transpiled/react/Icons/Openwith.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! hooks/useFullyLoadedQuery */ "./src/hooks/useFullyLoadedQuery.jsx");
/* harmony import */ var components_KonnectorUpdateInfo_styles_styl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/KonnectorUpdateInfo/styles.styl */ "./src/components/KonnectorUpdateInfo/styles.styl");
/* harmony import */ var components_KonnectorUpdateInfo_styles_styl__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(components_KonnectorUpdateInfo_styles_styl__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var hooks_useRedirectionURL__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! hooks/useRedirectionURL */ "./src/hooks/useRedirectionURL.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }














 // Utilities on konnectors

var konnectors = {
  hasCategory: function hasCategory(category) {
    return function (konnector) {
      return konnector.categories && konnector.categories.includes(category);
    };
  }
};
var APP_DOCTYPE = 'io.cozy.apps';
var redirectionOptions = {
  type: 'konnector',
  category: 'banking',
  pendingUpdate: true
};
var outdatedKonnectorsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_9__["KONNECTOR_DOCTYPE"]).where({
      available_version: {
        $exists: true
      }
    });
  },
  fetchPolicy: cozy_client__WEBPACK_IMPORTED_MODULE_8___default.a.fetchPolicies.olderThan(30 * 1000),
  as: 'outdatedKonnectors'
};

var KonnectorUpdateInfo = function KonnectorUpdateInfo() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useRedirectionURL = Object(hooks_useRedirectionURL__WEBPACK_IMPORTED_MODULE_13__["default"])(APP_DOCTYPE, redirectionOptions),
      _useRedirectionURL2 = _slicedToArray(_useRedirectionURL, 1),
      url = _useRedirectionURL2[0];

  var outdatedKonnectors = Object(hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_10__["default"])(outdatedKonnectorsConn.query, outdatedKonnectorsConn);

  if (!url || Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__["isQueryLoading"])(outdatedKonnectors)) {
    return null;
  }

  var bankingKonnectors = outdatedKonnectors.data.filter(konnectors.hasCategory('banking'));

  if (bankingKonnectors.length === 0) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: components_KonnectorUpdateInfo_styles_styl__WEBPACK_IMPORTED_MODULE_11___default.a.KonnectorUpdateInfo
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Infos__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "u-ta-left",
    action: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["ButtonLink"], {
      theme: "secondary",
      extension: isMobile ? 'full' : 'narrow',
      className: "u-mh-0",
      label: t('KonnectorUpdateInfo.cta'),
      icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_6__["default"],
      href: url
    }),
    description: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
      variant: "h5",
      className: "u-error",
      gutterBottom: true
    }, t('KonnectorUpdateInfo.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
      variant: "body1"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      dangerouslySetInnerHTML: {
        __html: t('KonnectorUpdateInfo.content')
      }
    }))),
    isImportant: true
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(KonnectorUpdateInfo));

/***/ }),

/***/ "./src/components/KonnectorUpdateInfo/styles.styl":
/*!********************************************************!*\
  !*** ./src/components/KonnectorUpdateInfo/styles.styl ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"KonnectorUpdateInfo":"KonnectorUpdateInfo--2s0z7"};

/***/ }),

/***/ "./src/components/List/List.styl":
/*!***************************************!*\
  !*** ./src/components/List/List.styl ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"List--papered":"List--papered--2-UzE","List--bordered":"List--bordered--1cu1L","List--bordered-v":"List--bordered-v--1af1m","List--bordered-h":"List--bordered-h--1wjiV","c-list-row":"c-list-row--Vws4v","Radio":"Radio--1X3Fx"};

/***/ }),

/***/ "./src/components/List/index.jsx":
/*!***************************************!*\
  !*** ./src/components/List/index.jsx ***!
  \***************************************/
/*! exports provided: Radio, List, Row */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Radio", function() { return Radio; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "List", function() { return List; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Row", function() { return Row; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_List_List_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/List/List.styl */ "./src/components/List/List.styl");
/* harmony import */ var components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(components_List_List_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Radio */ "../overrides/cozy-ui/transpiled/react/Radio/index.jsx");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var Radio = function Radio(_ref) {
  var className = _ref.className,
      props = _objectWithoutProperties(_ref, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default.a.Radio, className)
  }));
};

var _List = function _List(props) {
  var _cx;

  var className = props.className,
      border = props.border,
      paper = props.paper,
      rest = _objectWithoutProperties(props, ["className", "border", "paper"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()((_cx = {}, _defineProperty(_cx, components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default.a['List--bordered'], border === true), _defineProperty(_cx, components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default.a['List--papered'], paper === true), _defineProperty(_cx, components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default.a['List--bordered-h'], border === 'horizontal'), _defineProperty(_cx, components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default.a['List--bordered-v'], border === 'vertical'), _cx), className)
  }, rest));
};

var List = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_List);
List.propTypes = {
  border: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf([true, 'horizontal', 'vertical']),
  paper: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};

var _Row = function _Row(_ref2) {
  var className = _ref2.className,
      onRef = _ref2.onRef,
      rest = _objectWithoutProperties(_ref2, ["className", "onRef"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    ref: onRef,
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(components_List_List_styl__WEBPACK_IMPORTED_MODULE_2___default.a['c-list-row'], className)
  }, rest));
};

var Row = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_Row);

/***/ }),

/***/ "./src/components/ListItemArrow.jsx":
/*!******************************************!*\
  !*** ./src/components/ListItemArrow.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");




var RowArrow = function RowArrow(_ref) {
  var className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: className,
    icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_2__["default"],
    color: "var(--coolGrey)"
  });
};

/* harmony default export */ __webpack_exports__["default"] = (RowArrow);

/***/ }),

/***/ "./src/components/Loading/Loading.jsx":
/*!********************************************!*\
  !*** ./src/components/Loading/Loading.jsx ***!
  \********************************************/
/*! exports provided: Loading, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Loading", function() { return Loading; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_Loading_Loading_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Loading/Loading.styl */ "./src/components/Loading/Loading.styl");
/* harmony import */ var components_Loading_Loading_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Loading_Loading_styl__WEBPACK_IMPORTED_MODULE_3__);




/**
 * Use it for the loading of page/section
 */

var Loading = function Loading(_ref) {
  var color = _ref.color,
      loadingType = _ref.loadingType,
      noMargin = _ref.noMargin,
      spinnerSize = _ref.spinnerSize;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: components_Loading_Loading_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bnk-loading']
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: spinnerSize,
    noMargin: noMargin,
    color: color
  }), loadingType && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('Loading.loading')));
};
Loading.defaultProps = {
  spinnerSize: 'xxlarge'
};
/* harmony default export */ __webpack_exports__["default"] = (Loading);

/***/ }),

/***/ "./src/components/Loading/Loading.styl":
/*!*********************************************!*\
  !*** ./src/components/Loading/Loading.styl ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"bnk-loading":"bnk-loading--2OIRM"};

/***/ }),

/***/ "./src/components/LogoutModal/LogoutModal.jsx":
/*!****************************************************!*\
  !*** ./src/components/LogoutModal/LogoutModal.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");






function LogoutModal() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_1__["Dialog"], {
    open: true,
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "u-ta-center u-pt-3"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_2__["default"], {
      size: "xxlarge"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
      variant: "body1"
    }, t('LogoutModal.message')))
  });
}

/* harmony default export */ __webpack_exports__["default"] = (LogoutModal);

/***/ }),

/***/ "./src/components/LogoutModal/index.js":
/*!*********************************************!*\
  !*** ./src/components/LogoutModal/index.js ***!
  \*********************************************/
/*! exports provided: LogoutModal, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_LogoutModal_LogoutModal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/LogoutModal/LogoutModal */ "./src/components/LogoutModal/LogoutModal.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LogoutModal", function() { return components_LogoutModal_LogoutModal__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (components_LogoutModal_LogoutModal__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/MigrateAdapterDialog/MigrateAdapterDialog.jsx":
/*!**********************************************************************!*\
  !*** ./src/components/MigrateAdapterDialog/MigrateAdapterDialog.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }






var MigrateAdapterDialog = function MigrateAdapterDialog(_ref) {
  var handleMigrateModaleAnswer = _ref.handleMigrateModaleAnswer;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var onClose = function onClose() {
    handleMigrateModaleAnswer(false);
  };

  var onConfirm = /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              handleMigrateModaleAnswer(true);

            case 1:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function onConfirm() {
      return _ref2.apply(this, arguments);
    };
  }();

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__["ConfirmDialog"], {
    open: true,
    onClose: onClose,
    title: t('Migration.title'),
    content: t('Migration.content'),
    actions: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["Button"], {
      theme: "primary",
      label: t('Migration.confirm'),
      onClick: onConfirm
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["Button"], {
      theme: "secondary",
      label: t('Migration.cancel'),
      onClick: onClose
    }))
  });
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(MigrateAdapterDialog));

/***/ }),

/***/ "./src/components/MigrateAdapterDialog/index.js":
/*!******************************************************!*\
  !*** ./src/components/MigrateAdapterDialog/index.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MigrateAdapterDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MigrateAdapterDialog */ "./src/components/MigrateAdapterDialog/MigrateAdapterDialog.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _MigrateAdapterDialog__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/components/OptionalInput/index.jsx":
/*!************************************************!*\
  !*** ./src/components/OptionalInput/index.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles.styl */ "./src/components/OptionalInput/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Input */ "./node_modules/cozy-ui/transpiled/react/Input/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var OptionalInput = function OptionalInput(_ref) {
  var className = _ref.className,
      props = _objectWithoutProperties(_ref, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({}, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a.OptionalInput, className)
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (OptionalInput);

/***/ }),

/***/ "./src/components/OptionalInput/styles.styl":
/*!**************************************************!*\
  !*** ./src/components/OptionalInput/styles.styl ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"OptionalInput":"OptionalInput--37jSI"};

/***/ }),

/***/ "./src/components/Padded/Padded.jsx":
/*!******************************************!*\
  !*** ./src/components/Padded/Padded.jsx ***!
  \******************************************/
/*! exports provided: Padded, Unpadded, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Padded", function() { return Padded; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Unpadded", function() { return Unpadded; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_Padded_Padded_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Padded/Padded.styl */ "../overrides/cozy-banks/src/components/Padded/Padded.styl");
/* harmony import */ var components_Padded_Padded_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Padded_Padded_styl__WEBPACK_IMPORTED_MODULE_3__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var Padded = function Padded(_ref) {
  var className = _ref.className,
      restProps = _objectWithoutProperties(_ref, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_Padded_Padded_styl__WEBPACK_IMPORTED_MODULE_3___default.a.Padded, className)
  }, restProps));
};
Padded.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};

var Unpadded_ = function Unpadded_(_ref2) {
  var _cx;

  var horizontal = _ref2.horizontal,
      vertical = _ref2.vertical,
      className = _ref2.className,
      restProps = _objectWithoutProperties(_ref2, ["horizontal", "vertical", "className"]);

  var all = horizontal === undefined && vertical === undefined;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_cx = {}, _defineProperty(_cx, components_Padded_Padded_styl__WEBPACK_IMPORTED_MODULE_3___default.a['Unpadded--horizontal'], horizontal || all), _defineProperty(_cx, components_Padded_Padded_styl__WEBPACK_IMPORTED_MODULE_3___default.a['Unpadded--vertical'], vertical || all), _cx), className)
  }, restProps));
};

var Unpadded = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Unpadded_);
var MemoPadded = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Padded);
MemoPadded.Unpadded = Unpadded;
/* harmony default export */ __webpack_exports__["default"] = (MemoPadded);

/***/ }),

/***/ "./src/components/Padded/index.js":
/*!****************************************!*\
  !*** ./src/components/Padded/index.js ***!
  \****************************************/
/*! exports provided: default, Unpadded */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Padded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Padded */ "./src/components/Padded/Padded.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _Padded__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Unpadded", function() { return _Padded__WEBPACK_IMPORTED_MODULE_0__["Unpadded"]; });



/***/ }),

/***/ "./src/components/PercentageLine.jsx":
/*!*******************************************!*\
  !*** ./src/components/PercentageLine.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _PercentageLine_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PercentageLine.styl */ "./src/components/PercentageLine.styl");
/* harmony import */ var _PercentageLine_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_PercentageLine_styl__WEBPACK_IMPORTED_MODULE_2__);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var PercentageLine = function PercentageLine(_ref) {
  var value = _ref.value,
      color = _ref.color,
      className = _ref.className,
      style = _ref.style;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(className, _PercentageLine_styl__WEBPACK_IMPORTED_MODULE_2___default.a.PercentageLine),
    style: _objectSpread({
      transform: "scaleX(".concat(value / 100, ")"),
      backgroundColor: color
    }, style)
  });
};

/* harmony default export */ __webpack_exports__["default"] = (PercentageLine);

/***/ }),

/***/ "./src/components/PercentageLine.styl":
/*!********************************************!*\
  !*** ./src/components/PercentageLine.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"PercentageLine":"PercentageLine--1kjlr"};

/***/ }),

/***/ "./src/components/RawContentDialog.jsx":
/*!*********************************************!*\
  !*** ./src/components/RawContentDialog.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var RawContentDialog = function RawContentDialog(props) {
  var title = props.title,
      content = props.content,
      onClose = props.onClose;

  var _useCozyDialog = Object(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__["useCozyDialog"])(props),
      dialogProps = _useCozyDialog.dialogProps,
      dialogTitleProps = _useCozyDialog.dialogTitleProps;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({}, dialogProps, {
    onClose: onClose
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__["DialogCloseButton"], {
    onClick: onClose
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_1__["DialogTitle"], dialogTitleProps, title), content);
};

/* harmony default export */ __webpack_exports__["default"] = (RawContentDialog);

/***/ }),

/***/ "./src/components/ReactHint.jsx":
/*!**************************************!*\
  !*** ./src/components/ReactHint.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hint */ "./node_modules/react-hint/lib/index.js");
/* harmony import */ var react_hint__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hint__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_hint_css_index_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hint/css/index.css */ "./node_modules/react-hint/css/index.css");
/* harmony import */ var react_hint_css_index_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_hint_css_index_css__WEBPACK_IMPORTED_MODULE_2__);



var ReactHint = react_hint__WEBPACK_IMPORTED_MODULE_1___default()(react__WEBPACK_IMPORTED_MODULE_0___default.a);
/* harmony default export */ __webpack_exports__["default"] = (ReactHint);

/***/ }),

/***/ "./src/components/RouterContext.jsx":
/*!******************************************!*\
  !*** ./src/components/RouterContext.jsx ***!
  \******************************************/
/*! exports provided: useRouter, useParams, useHistory, useLocation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRouter", function() { return useRouter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useParams", function() { return useParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useHistory", function() { return useHistory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useLocation", function() { return useLocation; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var RouterContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])();
var useRouter = function useRouter() {
  return Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(RouterContext);
};
var useParams = function useParams() {
  var _useRouter = useRouter(),
      params = _useRouter.params;

  return params;
};
var useHistory = function useHistory() {
  var router = useRouter();
  var push = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return router.push.bind(router);
  }, [router]);
  return {
    push: push
  };
};
var useLocation = function useLocation() {
  var router = useRouter();
  return router.location;
};
/* harmony default export */ __webpack_exports__["default"] = (RouterContext);

/***/ }),

/***/ "./src/components/Section/Section.jsx":
/*!********************************************!*\
  !*** ./src/components/Section/Section.jsx ***!
  \********************************************/
/*! exports provided: SectionTitle, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionTitle", function() { return SectionTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var components_Section_Section_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Section/Section.styl */ "./src/components/Section/Section.styl");
/* harmony import */ var components_Section_Section_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Section_Section_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var SectionTitle = function SectionTitle(props) {
  var className = props.className,
      children = props.children,
      rest = _objectWithoutProperties(props, ["className", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "u-pv-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({
    variant: "h5",
    gutterBottom: true,
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('u-pt-half', className)
  }, rest), children));
};

var Section = function Section(props) {
  var className = props.className,
      children = props.children,
      rest = _objectWithoutProperties(props, ["className", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(components_Section_Section_styl__WEBPACK_IMPORTED_MODULE_3___default.a.Section, className)
  }, rest), children);
};

/* harmony default export */ __webpack_exports__["default"] = (Section);

/***/ }),

/***/ "./src/components/Section/Section.styl":
/*!*********************************************!*\
  !*** ./src/components/Section/Section.styl ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Section":"Section--2obFg"};

/***/ }),

/***/ "./src/components/Section/index.js":
/*!*****************************************!*\
  !*** ./src/components/Section/index.js ***!
  \*****************************************/
/*! exports provided: Section, SectionTitle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_Section_Section__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/Section/Section */ "./src/components/Section/Section.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return components_Section_Section__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SectionTitle", function() { return components_Section_Section__WEBPACK_IMPORTED_MODULE_0__["SectionTitle"]; });



/***/ }),

/***/ "./src/components/Select/index.jsx":
/*!*****************************************!*\
  !*** ./src/components/Select/index.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/SelectBox */ "../overrides/cozy-ui/transpiled/react/SelectBox/index.js");
/* harmony import */ var components_Select_styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Select/styles.styl */ "../overrides/cozy-banks/src/components/Select/styles.styl");
/* harmony import */ var components_Select_styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Select_styles_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var components_Select_styleUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Select/styleUtils */ "./src/components/Select/styleUtils.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Bottom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Bottom */ "./node_modules/cozy-ui/transpiled/react/Icons/Bottom.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









var smallArrowStyle = {
  paddingLeft: '0.25rem'
};

var IndicatorSeparator = function IndicatorSeparator() {
  return null;
};

var SmallArrow = function SmallArrow() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: components_Select_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a.Select__Icon,
    style: smallArrowStyle,
    icon: cozy_ui_transpiled_react_Icons_Bottom__WEBPACK_IMPORTED_MODULE_7__["default"],
    width: 12,
    height: 12
  });
};

var componentsOptions = {
  DropdownIndicator: SmallArrow,
  IndicatorSeparator: IndicatorSeparator
};

var mkControlStyle = function mkControlStyle(props) {
  return function (base) {
    return _objectSpread({}, base, {
      border: 0,
      background: 'transparent',
      width: props.width || '10rem',
      boxShadow: 'none',
      '&:focus': {
        border: 0,
        boxShadow: 'none'
      },
      flexGrow: 1
    });
  };
};

var singleValueStyle = function singleValueStyle(base) {
  return _objectSpread({}, base, {
    color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_5___default.a.slateGrey
  });
};

var valueContainerStyle = function valueContainerStyle(base) {
  return _objectSpread({}, base, {
    paddingLeft: 0
  });
};

var menuStyle = function menuStyle(base) {
  return _objectSpread({}, base, {
    minWidth: '9.375rem'
  });
};

var optionIsFixed = function optionIsFixed(option) {
  return option.fixed;
};

var Select = /*#__PURE__*/function (_React$Component) {
  _inherits(Select, _React$Component);

  function Select(props) {
    var _this;

    _classCallCheck(this, Select);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));

    _this.updateComponent(props);

    _this.updateControlStyle(props);

    return _this;
  }

  _createClass(Select, [{
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      if (this.props.options !== nextProps.options) {
        this.updateComponent(nextProps);
      }

      if (this.props.width !== nextProps.width) {
        this.updateControlStyle(nextProps);
      }
    }
  }, {
    key: "updateControlStyle",
    value: function updateControlStyle(props) {
      this.controlStyle = mkControlStyle(props);
    }
  }, {
    key: "updateComponent",
    value: function updateComponent(props) {
      this.Component = lodash_find__WEBPACK_IMPORTED_MODULE_4___default()(props.options, optionIsFixed) ? cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_2__["SelectBoxWithFixedOptions"] : cozy_ui_transpiled_react_SelectBox__WEBPACK_IMPORTED_MODULE_2__["default"];
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          name = _this$props.name,
          value = _this$props.value,
          options = _this$props.options,
          _onChange = _this$props.onChange,
          _this$props$styles = _this$props.styles,
          styles = _this$props$styles === void 0 ? {} : _this$props$styles,
          placeholder = _this$props.placeholder;
      var Component = this.Component;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
        value: value ? lodash_find__WEBPACK_IMPORTED_MODULE_4___default()(options, function (option) {
          return option.value == value;
        }) : options[0],
        isSearchable: false,
        getOptionLabel: function getOptionLabel(x) {
          return x.name;
        },
        components: componentsOptions,
        classNamePrefix: "needsclick cz",
        formatOptionLabel: function formatOptionLabel(option) {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
            className: "needsclick"
          }, option.name);
        },
        styles: Object(components_Select_styleUtils__WEBPACK_IMPORTED_MODULE_6__["mergeStyles"])({
          singleValue: singleValueStyle,
          control: this.controlStyle,
          valueContainer: valueContainerStyle,
          menu: menuStyle
        }, styles),
        name: name,
        placeholder: placeholder,
        onChange: function onChange(option) {
          _onChange(option.value, options.indexOf(option.value), name);
        },
        options: options
      });
    }
  }]);

  return Select;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Select);

/***/ }),

/***/ "./src/components/Select/styleUtils.js":
/*!*********************************************!*\
  !*** ./src/components/Select/styleUtils.js ***!
  \*********************************************/
/*! exports provided: mergeStyleFunc, mergeStyles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeStyleFunc", function() { return mergeStyleFunc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeStyles", function() { return mergeStyles; });
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var mergeStyleFunc = function mergeStyleFunc(fn1, fn2) {
  if (!fn2) {
    return fn1;
  }

  return function () {
    return _objectSpread({}, fn1.apply(this, arguments), fn2.apply(this, arguments));
  };
};
var mergeStyles = function mergeStyles() {
  var res = {};

  for (var _len = arguments.length, styleObjs = new Array(_len), _key = 0; _key < _len; _key++) {
    styleObjs[_key] = arguments[_key];
  }

  for (var _i = 0; _i < styleObjs.length; _i++) {
    var styleObj = styleObjs[_i];

    if (!styleObj) {
      continue;
    }

    var _arr = Object.entries(styleObj);

    for (var _i2 = 0; _i2 < _arr.length; _i2++) {
      var _arr$_i = _slicedToArray(_arr[_i2], 2),
          styleProp = _arr$_i[0],
          styleFn = _arr$_i[1];

      if (res[styleProp]) {
        res[styleProp] = mergeStyleFunc(res[styleProp], styleFn);
      } else {
        res[styleProp] = styleFn;
      }
    }
  }

  return res;
};

/***/ }),

/***/ "./src/components/SelectDates/ConnectedSelectDates.jsx":
/*!*************************************************************!*\
  !*** ./src/components/SelectDates/ConnectedSelectDates.jsx ***!
  \*************************************************************/
/*! exports provided: ConnectedSelectDates */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectedSelectDates", function() { return ConnectedSelectDates; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var components_SelectDates_SelectDates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/SelectDates/SelectDates */ "../overrides/cozy-banks/src/components/SelectDates/SelectDates.jsx");




var mapStateToProps = function mapStateToProps(state) {
  return {
    value: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_1__["getPeriod"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onChange: function onChange(period) {
      dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_1__["addFilterByPeriod"])(period));
    }
  };
};

var ConnectedSelectDates = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps, mapDispatchToProps)(components_SelectDates_SelectDates__WEBPACK_IMPORTED_MODULE_2__["default"]);

/***/ }),

/***/ "./src/components/SelectDates/SelectDates.jsx":
/*!****************************************************!*\
  !*** ./src/components/SelectDates/SelectDates.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/findIndex */ "./node_modules/lodash/findIndex.js");
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_findLast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/findLast */ "./node_modules/lodash/findLast.js");
/* harmony import */ var lodash_findLast__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_findLast__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/uniqBy */ "./node_modules/lodash/uniqBy.js");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/withBreakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/withBreakpoints.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Left__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Left */ "./node_modules/cozy-ui/transpiled/react/Icons/Left.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
/* harmony import */ var components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! components/SelectDates/SelectDates.styl */ "../overrides/cozy-banks/src/components/SelectDates/SelectDates.styl");
/* harmony import */ var components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var components_Select__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Select */ "../overrides/cozy-banks/src/components/Select/index.jsx");
/* harmony import */ var components_SelectDates_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/SelectDates/utils */ "./src/components/SelectDates/utils.js");
/* harmony import */ var components_useTheme__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/useTheme */ "./src/components/useTheme.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





















var isAllYear = function isAllYear(value) {
  return value && value.includes('allyear');
};

var getOptionValue = function getOptionValue(option) {
  return option.value;
};

var capitalizeFirstLetter = function capitalizeFirstLetter(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
};

var Separator = /*#__PURE__*/function (_PureComponent) {
  _inherits(Separator, _PureComponent);

  function Separator() {
    _classCallCheck(this, Separator);

    return _possibleConstructorReturn(this, _getPrototypeOf(Separator).apply(this, arguments));
  }

  _createClass(Separator, [{
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_12__["default"].Separator, {
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__separator
      });
    }
  }]);

  return Separator;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

var constrain = function constrain(val, min, max) {
  return Math.min(Math.max(val, min), max);
};

var mobileYearContainerStyle = function mobileYearContainerStyle(base) {
  return _objectSpread({}, base, {
    flexGrow: 1,
    flexBasis: '5.5rem',
    flexShrink: 0,
    padding: 0
  });
};

var mobileMonthContainerStyle = function mobileMonthContainerStyle(base) {
  return _objectSpread({}, base, {
    flexGrow: 3,
    padding: 0
  });
};

var mobileControlStyle = function mobileControlStyle() {
  return {
    paddingLeft: '0.875rem'
  };
};

var mobileMenuStyle = function mobileMenuStyle(base) {
  return _objectSpread({}, base, {
    marginLeft: '0.5rem',
    marginRight: '0.5rem',
    width: '90%',
    minWidth: 'auto'
  });
};

var textStyle = function textStyle() {
  return {
    color: 'var(--primaryColor)'
  };
};

var getSelectStyle = function getSelectStyle(isMobile, isPrimary, type) {
  var deviceStyle = isMobile ? {
    container: type === 'Month' ? mobileMonthContainerStyle : mobileYearContainerStyle,
    control: mobileControlStyle,
    menu: mobileMenuStyle
  } : {};
  var colorStyle = isPrimary ? {
    control: function control() {
      return {
        paddingLeft: '0.875rem',
        minHeight: '2rem'
      };
    },
    indicatorsContainer: function indicatorsContainer(base) {
      return _objectSpread({}, base, {
        height: '2rem'
      });
    },
    valueContainer: function valueContainer(base) {
      return _objectSpread({}, base, {
        padding: 'inherit'
      });
    },
    singleValue: textStyle,
    placeholder: textStyle
  } : {};
  return _objectSpread({}, deviceStyle, colorStyle);
};

var SelectDateButton = /*#__PURE__*/function (_PureComponent2) {
  _inherits(SelectDateButton, _PureComponent2);

  function SelectDateButton() {
    _classCallCheck(this, SelectDateButton);

    return _possibleConstructorReturn(this, _getPrototypeOf(SelectDateButton).apply(this, arguments));
  }

  _createClass(SelectDateButton, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          children = _this$props.children,
          disabled = _this$props.disabled,
          className = _this$props.className,
          props = _objectWithoutProperties(_this$props, ["children", "disabled", "className"]);

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_12__["default"].Round, _extends({}, props, {
        "aria-disabled": disabled,
        onClick: !disabled ? props.onClick : null,
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__Button, components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__chip, className, _defineProperty({}, components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a['SelectDates__Button--disabled'], disabled))
      }), children);
    }
  }]);

  return SelectDateButton;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

var isFullYearValue = function isFullYearValue(value) {
  return value && value.length === 4;
};

var isOptionEnabled = function isOptionEnabled(option) {
  return option && !option.isDisabled;
};

var allDisabledFrom = function allDisabledFrom(options, maxIndex) {
  return !Object(components_SelectDates_utils__WEBPACK_IMPORTED_MODULE_17__["rangedSome"])(options, isOptionEnabled, maxIndex, -1);
};

var SelectDates = /*#__PURE__*/function (_PureComponent3) {
  _inherits(SelectDates, _PureComponent3);

  function SelectDates() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, SelectDates);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SelectDates)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "getSelectedIndex", function () {
      var _this$props2 = _this.props,
          options = _this$props2.options,
          value = _this$props2.value;
      return lodash_findIndex__WEBPACK_IMPORTED_MODULE_3___default()(options, function (x) {
        return x.yearMonth === value;
      });
    });

    _defineProperty(_assertThisInitialized(_this), "getOptions", function () {
      // create options
      var _this$props3 = _this.props,
          f = _this$props3.f,
          options = _this$props3.options;
      return options.map(function (option) {
        var date = Object(date_fns__WEBPACK_IMPORTED_MODULE_8__["parse"])(option.yearMonth, 'YYYY-MM');
        var year = Object(date_fns__WEBPACK_IMPORTED_MODULE_8__["format"])(date, 'YYYY');
        return {
          value: option.yearMonth,
          year: year,
          disabled: option.disabled,
          month: Object(date_fns__WEBPACK_IMPORTED_MODULE_8__["format"])(date, 'MM'),
          yearF: year,
          monthF: capitalizeFirstLetter(f(date, 'MMMM'))
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleChooseNext", function () {
      _this.chooseOption(-1);
    });

    _defineProperty(_assertThisInitialized(_this), "handleChoosePrev", function () {
      _this.chooseOption(+1);
    });

    _defineProperty(_assertThisInitialized(_this), "handleChangeMonth", function (month) {
      var selected = _this.getSelected();

      _this.onChangeYearMonth(selected.year, month);
    });

    _defineProperty(_assertThisInitialized(_this), "handleChangeYear", function (year) {
      var selected = _this.getSelected();

      _this.onChangeYearMonth(year, selected.month);
    });

    _defineProperty(_assertThisInitialized(_this), "onChangeYearMonth", function (year, month) {
      if (month) {
        _this.handleChangeSelector(year + '-' + month);
      } else {
        _this.handleChangeSelector(year);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (value) {
      var allyear = isAllYear(value);

      var selected = _this.getSelected();

      var options = _this.getOptions();

      var matchingOption = lodash_find__WEBPACK_IMPORTED_MODULE_6___default()(options, function (opt) {
        return getOptionValue(opt) === value;
      });

      if (!allyear && !matchingOption) {
        var past = function past(x) {
          return x.value < value;
        };

        var future = function future(x) {
          return x.value > value;
        };

        var findValue = function findValue(searchInPast) {
          return searchInPast ? lodash_find__WEBPACK_IMPORTED_MODULE_6___default()(options, past) : lodash_findLast__WEBPACK_IMPORTED_MODULE_5___default()(options, future);
        };

        var searchInPast = value < selected.value;
        var nearest = findValue(searchInPast);

        if (!nearest) {
          nearest = findValue(!searchInPast);
        }

        if (nearest) {
          value = nearest.value;
        }
      }

      if (value && value.includes('allyear')) {
        value = value.substr(0, 4);
      }

      if (value && _this.props.value !== value) {
        _this.props.onChange(value);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "chooseOption", function (inc) {
      // If index = -1, we are on the latest month but the value
      // has not been passed down, this is why we force the value
      // to be 0 so that clicking on prev work correctly
      var index = Math.max(0, _this.getSelectedIndex());

      var options = _this.getOptions();

      var currentValue = _this.props.value;

      if (isFullYearValue(currentValue)) {
        var availableYears = _this.getAvailableYears();

        var current = availableYears.indexOf(currentValue);
        var newIndex = constrain(current + inc, 0, availableYears.length - 1);

        _this.props.onChange(availableYears[newIndex]);
      } else {
        var _newIndex = index + inc;

        if (_newIndex > -1 && index < options.length) {
          var value = options[_newIndex].value;

          _this.props.onChange(value);
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleChangeSelector", function (chosenValue) {
      _this.onChange(chosenValue);
    });

    return _this;
  }

  _createClass(SelectDates, [{
    key: "getSelected",
    value: function getSelected() {
      var index = this.getSelectedIndex();
      var options = this.getOptions();
      var res = options[index];

      if (res) {
        return res;
      } // all year must be selected


      if (this.props.value) {
        return {
          year: this.props.value,
          month: 'allyear'
        };
      }

      return options[0];
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (this.props.options !== prevProps.options) {
        if (this.props.value) {
          this.onChange(this.props.value);
        }
      }
    }
  }, {
    key: "getAvailableYears",
    value: function getAvailableYears() {
      var options = this.getOptions();
      return lodash_uniqBy__WEBPACK_IMPORTED_MODULE_7___default()(options.map(function (option) {
        return option.year;
      }));
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
          showFullYear = _this$props4.showFullYear,
          value = _this$props4.value,
          t = _this$props4.t,
          isMobile = _this$props4.breakpoints.isMobile,
          className = _this$props4.className,
          theme = _this$props4.theme;
      var index = this.getSelectedIndex();
      var options = this.getOptions();
      var selected = this.getSelected(); // divide options between year and months

      var years = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_7___default()(options, function (x) {
        return x.year;
      });
      var selectedYear = selected && selected.year;
      var selectedMonth = selected && selected.month;
      var months = options;
      var allMonthsOptions = months.map(function (x) {
        return {
          value: x.month,
          name: x.monthF,
          isDisabled: x.disabled,
          year: x.year
        };
      });

      var forCurrentYear = function forCurrentYear(x) {
        return selectedYear ? x.year === selectedYear : true;
      };

      var monthsOptions = allMonthsOptions.filter(forCurrentYear);

      if (showFullYear) {
        monthsOptions.push({
          value: 'allyear',
          name: t('SelectDates.all-year'),
          fixed: true
        });
      }

      var yearMode = isFullYearValue(value);
      var availableYears, yearIndex;

      if (yearMode) {
        availableYears = this.getAvailableYears();
        yearIndex = availableYears.indexOf(value);
      }

      var isPrevButtonDisabled = yearMode ? yearIndex === availableYears.length - 1 : index === options.length - 1;
      var isNextButtonDisabled = yearMode ? yearIndex === 0 : index === 0 || allDisabledFrom(allMonthsOptions, index - 1);
      var selectMonthStyle = getSelectStyle(isMobile, theme === 'inverted', 'Month');
      var selectYearStyle = getSelectStyle(isMobile, theme === 'inverted', 'Year');
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates, components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a["SelectDatesColor_".concat(theme)], className)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a['SelectDates__DateYearSelector']
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_12__["default"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__chip)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a['SelectDates__SelectYearContainer']
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Select__WEBPACK_IMPORTED_MODULE_16__["default"], {
        name: "year",
        placeholder: t('SelectDates.year'),
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__SelectYear,
        searchable: false,
        width: isMobile ? 'auto' : '6rem',
        value: selectedYear,
        options: years.map(function (x) {
          return {
            value: x.year,
            name: x.yearF
          };
        }),
        onChange: this.handleChangeYear,
        styles: selectYearStyle
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Separator, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a['SelectDates__SelectMonthContainer']
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Select__WEBPACK_IMPORTED_MODULE_16__["default"], {
        searchable: false,
        name: "month",
        placeholder: t('SelectDates.month'),
        width: isMobile ? 'auto' : '10rem',
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__SelectMonth,
        value: selectedMonth,
        options: monthsOptions,
        onChange: this.handleChangeMonth,
        styles: selectMonthStyle
      })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDates__buttons
      }, isMobile && theme !== 'primary' && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Separator, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectDateButton, {
        "aria-label": t('SelectDates.previous-month'),
        onClick: this.handleChoosePrev,
        disabled: isPrevButtonDisabled,
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a['SelectDates__Button--prev'], _defineProperty({}, components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDatesButtonDisabled, isPrevButtonDisabled))
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
        icon: cozy_ui_transpiled_react_Icons_Left__WEBPACK_IMPORTED_MODULE_13__["default"],
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDatesButtonColor
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectDateButton, {
        "aria-label": t('SelectDates.next-month'),
        onClick: this.handleChooseNext,
        disabled: isNextButtonDisabled,
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a['SelectDates__Button--next'], _defineProperty({}, components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDatesButtonDisabled, isNextButtonDisabled))
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
        icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_14__["default"],
        className: components_SelectDates_SelectDates_styl__WEBPACK_IMPORTED_MODULE_15___default.a.SelectDatesButtonColor
      }))));
    }
  }]);

  return SelectDates;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

SelectDates.defaultProps = {
  options: []
};
SelectDates.propTypes = {
  options: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    yearMonth: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    disabled: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
  })),
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_9__["translate"])(), Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_10__["default"])(), components_useTheme__WEBPACK_IMPORTED_MODULE_18__["themed"])(SelectDates));

/***/ }),

/***/ "./src/components/SelectDates/index.jsx":
/*!**********************************************!*\
  !*** ./src/components/SelectDates/index.jsx ***!
  \**********************************************/
/*! exports provided: default, ConnectedSelectDates, monthRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_SelectDates_SelectDates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/SelectDates/SelectDates */ "../overrides/cozy-banks/src/components/SelectDates/SelectDates.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return components_SelectDates_SelectDates__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var components_SelectDates_ConnectedSelectDates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/SelectDates/ConnectedSelectDates */ "./src/components/SelectDates/ConnectedSelectDates.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ConnectedSelectDates", function() { return components_SelectDates_ConnectedSelectDates__WEBPACK_IMPORTED_MODULE_1__["ConnectedSelectDates"]; });

/* harmony import */ var components_SelectDates_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/SelectDates/utils */ "./src/components/SelectDates/utils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "monthRange", function() { return components_SelectDates_utils__WEBPACK_IMPORTED_MODULE_2__["monthRange"]; });





/***/ }),

/***/ "./src/components/SelectDates/utils.js":
/*!*********************************************!*\
  !*** ./src/components/SelectDates/utils.js ***!
  \*********************************************/
/*! exports provided: monthRange, rangedSome */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "monthRange", function() { return monthRange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rangedSome", function() { return rangedSome; });
/* harmony import */ var date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! date-fns/start_of_month */ "./node_modules/date-fns/start_of_month/index.js");
/* harmony import */ var date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var date_fns_add_months__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns/add_months */ "./node_modules/date-fns/add_months/index.js");
/* harmony import */ var date_fns_add_months__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(date_fns_add_months__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var date_fns_is_same_day__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns/is_same_day */ "./node_modules/date-fns/is_same_day/index.js");
/* harmony import */ var date_fns_is_same_day__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns_is_same_day__WEBPACK_IMPORTED_MODULE_2__);




var rangedSome = function rangedSome(arr, predicate, start, end) {
  start = Math.max(start, 0);
  end = Math.min(end, arr.length);
  var step = start > end ? -1 : 1;

  if (!arr || arr.length === 0) {
    return false;
  }

  for (var i = start; i !== end; i = i + step) {
    if (predicate(arr[i])) {
      return true;
    }
  }

  return false;
};

var monthRange = function monthRange(earliestDate, latestDate) {
  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
  var res = [];
  var cur = earliestDate;

  if (date_fns_is_same_day__WEBPACK_IMPORTED_MODULE_2___default()(earliestDate, latestDate)) {
    return [earliestDate];
  }

  while (cur < latestDate) {
    res.push(cur);
    var sm = date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0___default()(cur);
    cur = date_fns_add_months__WEBPACK_IMPORTED_MODULE_1___default()(sm, step);
  }

  return res;
};


/***/ }),

/***/ "./src/components/SettingCard/index.jsx":
/*!**********************************************!*\
  !*** ./src/components/SettingCard/index.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Card */ "./node_modules/cozy-ui/transpiled/react/Card/index.js");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles.styl */ "./src/components/SettingCard/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var SettingCard = function SettingCard(_ref) {
  var enabled = _ref.enabled,
      className = _ref.className,
      props = _objectWithoutProperties(_ref, ["enabled", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_1__["Card"], _extends({}, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a.SettingCard, className, !enabled && _styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a['SettingCard--disabled'], props.onClick && _styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a['SettingCard--clickable'])
  }));
};

SettingCard.defaultProps = {
  enabled: true
};
/* harmony default export */ __webpack_exports__["default"] = (SettingCard);

/***/ }),

/***/ "./src/components/SettingCard/styles.styl":
/*!************************************************!*\
  !*** ./src/components/SettingCard/styles.styl ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"SettingCard":"SettingCard--eH5wq","SettingCard--clickable":"SettingCard--clickable--2udLm","SettingCard--disabled":"SettingCard--disabled--2MPjH"};

/***/ }),

/***/ "./src/components/SharingIcon/SharingIcon.jsx":
/*!****************************************************!*\
  !*** ./src/components/SharingIcon/SharingIcon.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_SharingIcon_SharingIcon_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/SharingIcon/SharingIcon.styl */ "./src/components/SharingIcon/SharingIcon.styl");
/* harmony import */ var components_SharingIcon_SharingIcon_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_SharingIcon_SharingIcon_styl__WEBPACK_IMPORTED_MODULE_3__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var SharingIcon = function SharingIcon(_ref) {
  var _classnames;

  var to = _ref.to,
      from = _ref.from;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_SharingIcon_SharingIcon_styl__WEBPACK_IMPORTED_MODULE_3___default.a['sharing-icon'], (_classnames = {}, _defineProperty(_classnames, components_SharingIcon_SharingIcon_styl__WEBPACK_IMPORTED_MODULE_3___default.a['sharing-icon--to'], to), _defineProperty(_classnames, components_SharingIcon_SharingIcon_styl__WEBPACK_IMPORTED_MODULE_3___default.a['sharing-icon--from'], from), _classnames))
  });
};

SharingIcon.propTypes = {
  /** Name of the person to whom you are sharing */
  to: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,

  /** Name of the person from whom you are sharing */
  from: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (SharingIcon);

/***/ }),

/***/ "./src/components/SharingIcon/SharingIcon.styl":
/*!*****************************************************!*\
  !*** ./src/components/SharingIcon/SharingIcon.styl ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"sharing-icon":"sharing-icon--1IwUl","sharing-icon--to":"sharing-icon--to--3JgBV","sharing-icon--from":"sharing-icon--from--2Kdao"};

/***/ }),

/***/ "./src/components/SharingIcon/index.js":
/*!*********************************************!*\
  !*** ./src/components/SharingIcon/index.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_SharingIcon_SharingIcon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/SharingIcon/SharingIcon */ "./src/components/SharingIcon/SharingIcon.jsx");

/* harmony default export */ __webpack_exports__["default"] = (components_SharingIcon_SharingIcon__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/Skeleton/index.jsx":
/*!*******************************************!*\
  !*** ./src/components/Skeleton/index.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles.styl */ "./src/components/Skeleton/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_2__);




var Skeleton = function Skeleton(_ref) {
  var width = _ref.width;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a.skeleton, _styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a["skeleton--".concat(width)])
  });
};

Skeleton.defaultProps = {
  width: 'medium'
};
/* harmony default export */ __webpack_exports__["default"] = (Skeleton);

/***/ }),

/***/ "./src/components/Skeleton/styles.styl":
/*!*********************************************!*\
  !*** ./src/components/Skeleton/styles.styl ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"skeleton":"skeleton--2PUJv","skeleton--small":"skeleton--small--27esU","skeleton--medium":"skeleton--medium--2qGgo","loading":"loading--3D1VQ"};

/***/ }),

/***/ "./src/components/Stepper/Stepper.jsx":
/*!********************************************!*\
  !*** ./src/components/Stepper/Stepper.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_swipeable_views__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-swipeable-views */ "./node_modules/react-swipeable-views/lib/index.js");
/* harmony import */ var react_swipeable_views__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_swipeable_views__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_PercentageLine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/PercentageLine */ "./src/components/PercentageLine.jsx");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles.styl */ "./src/components/Stepper/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");








var StepperProgress = function StepperProgress(_ref) {
  var currentIndex = _ref.currentIndex,
      steps = _ref.steps;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ProgressBackground
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_PercentageLine__WEBPACK_IMPORTED_MODULE_3__["default"], {
    color: "var(--primaryColor)",
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ProgressLine,
    value: Math.max((currentIndex + 1) / steps.length * 100, 1)
  }));
};
/**
 * Controlled component displaying a list of views like a carousel.
 *
 * - A progression bar is displayed at the top
 * - A back button is displayed when not on the first view.
 * - Every child gets an `active` prop
 */


var Stepper = function Stepper(_ref2) {
  var currentIndex = _ref2.currentIndex,
      children = _ref2.children,
      onBack = _ref2.onBack,
      showPercentage = _ref2.showPercentage;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, showPercentage ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StepperProgress, {
    steps: children,
    currentIndex: currentIndex
  }) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_6__["default"], {
    variant: "inverted"
  }, currentIndex > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: onBack
  }) : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_swipeable_views__WEBPACK_IMPORTED_MODULE_2___default.a, {
    animateHeight: true,
    disabled: true,
    index: currentIndex
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(children, function (child, i) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, {
      active: i === currentIndex
    });
  })));
};

Stepper.propTypes = {
  currentIndex: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  onBack: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,

  /** Whether to show the percentage line showing how far we are in the stepper */
  showPercentage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
Stepper.defaultProps = {
  showPercentage: true
};
/* harmony default export */ __webpack_exports__["default"] = (Stepper);

/***/ }),

/***/ "./src/components/Stepper/index.js":
/*!*****************************************!*\
  !*** ./src/components/Stepper/index.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Stepper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Stepper */ "./src/components/Stepper/Stepper.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _Stepper__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/components/Stepper/styles.styl":
/*!********************************************!*\
  !*** ./src/components/Stepper/styles.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ProgressLine":"ProgressLine--37sEz"};

/***/ }),

/***/ "./src/components/StoreLink/index.js":
/*!*******************************************!*\
  !*** ./src/components/StoreLink/index.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var hooks_useRedirectionURL__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! hooks/useRedirectionURL */ "./src/hooks/useRedirectionURL.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}





var StoreLink = function StoreLink(props) {
  var type = props.type,
      category = props.category,
      children = props.children;

  var _useRedirectionURL = Object(hooks_useRedirectionURL__WEBPACK_IMPORTED_MODULE_3__["default"])('io.cozy.apps', {
    type: type,
    category: category
  }),
      _useRedirectionURL2 = _slicedToArray(_useRedirectionURL, 2),
      redirectionURL = _useRedirectionURL2[0],
      updateRedirectionURL = _useRedirectionURL2[1];

  var redirect = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (redirectionURL) {
              _context.next = 3;
              break;
            }

            _context.next = 3;
            return updateRedirectionURL();

          case 3:
            // We use `window.location` because on desktop we want to stay in the same tab/window
            // and on mobile we want to open the user's browser instead of an inapp browser
            // because in the onboarding flow, the user clicks on email links, which open
            // the "native" browser (external Firefox for example) instead of the in-app one.
            // This means login cookies are stored in the external browser.
            // To prevent asking the user to login again, we have to use an external browser
            // instead of the in app browser.
            window.location = redirectionURL;

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })), [redirectionURL, updateRedirectionURL]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(children, {
    onClick: redirect
  });
};

StoreLink.propTypes = {
  type: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(['konnector', 'webapp']),
  category: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (StoreLink);

/***/ }),

/***/ "./src/components/Table/index.jsx":
/*!****************************************!*\
  !*** ./src/components/Table/index.jsx ***!
  \****************************************/
/*! exports provided: Row, Cell, Table, TdSecondary, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Row", function() { return Row; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Cell", function() { return Cell; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Table", function() { return Table; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TdSecondary", function() { return TdSecondary; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Table/styles.styl */ "./src/components/Table/styles.styl");
/* harmony import */ var components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var Row = function Row(_ref) {
  var nav = _ref.nav,
      props = _objectWithoutProperties(_ref, ["nav"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", _extends({
    role: "row"
  }, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a.Table__Row, nav && components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Table__Row--nav'])
  }), props.children);
};
var Cell = function Cell(_ref2) {
  var main = _ref2.main,
      children = _ref2.children,
      props = _objectWithoutProperties(_ref2, ["main", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", _extends({
    role: "cell"
  }, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(props.className, components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a.Table__Cell, main && components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Table__Cell--main'])
  }), children);
};
/**
 * Used to display tabular data.
 * Column widths MUST be explicitly set with `flex-basis` AND `max-width`.
 *
 * https://github.com/philipwalton/flexbugs/issues/3
 */

var Table = function Table(_ref3) {
  var children = _ref3.children,
      className = _ref3.className,
      rest = _objectWithoutProperties(_ref3, ["children", "className"]);

  var theme = Object(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_3__["useCozyTheme"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Table'], theme && components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a[theme], className)
  }, rest), children);
};
var TdSecondary = function TdSecondary(_ref4) {
  var children = _ref4.children,
      className = _ref4.className,
      rest = _objectWithoutProperties(_ref4, ["children", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_Table_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Table-td-secondary'], className)
  }, rest), children);
};
/* harmony default export */ __webpack_exports__["default"] = (Table);

/***/ }),

/***/ "./src/components/Table/styles.styl":
/*!******************************************!*\
  !*** ./src/components/Table/styles.styl ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Table":"Table--3AiSN","inverted":"inverted--j7D79","Table-td-secondary":"Table-td-secondary--TOCs_","Table__Row":"Table__Row--H1Vty","Table__Cell":"Table__Cell--1n9w5","Table__Cell--main":"Table__Cell--main--33KD2","Table__Row--nav":"Table__Row--nav--1nFEU"};

/***/ }),

/***/ "./src/components/Title/PageTitle.jsx":
/*!********************************************!*\
  !*** ./src/components/Title/PageTitle.jsx ***!
  \********************************************/
/*! exports provided: BarTitle, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarTitle", function() { return BarTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_Title_Title__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/Title/Title */ "./src/components/Title/Title.jsx");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");





/**
 * Renders a title in the bar
 *
 * Use it only if the page structure between mobile and desktop is very different
 * and you cannot rely on PageTitle
 */

var BarTitle = function BarTitle(_ref) {
  var children = _ref.children,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_3__["BarCenter"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_Title__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: className
  }, children));
};
/**
 * Render a page title responsively
 *
 * Will display the title inside the bar on mobile and directly
 * in the page (in a Title style) otherwise
 */

var PageTitle = function PageTitle(_ref2) {
  var children = _ref2.children,
      className = _ref2.className;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarTitle, {
    className: className
  }, children) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_Title__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: className
  }, children);
};

PageTitle.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node
};
/* harmony default export */ __webpack_exports__["default"] = (PageTitle);

/***/ }),

/***/ "./src/components/Title/Title.jsx":
/*!****************************************!*\
  !*** ./src/components/Title/Title.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var components_Title_Title_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Title/Title.styl */ "./src/components/Title/Title.styl");
/* harmony import */ var components_Title_Title_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(components_Title_Title_styl__WEBPACK_IMPORTED_MODULE_4__);






var Title = function Title(props) {
  var children = props.children,
      className = props.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "h4",
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_Title_Title_styl__WEBPACK_IMPORTED_MODULE_4___default.a.Title, className)
  }, children);
};

Title.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Title);

/***/ }),

/***/ "./src/components/Title/Title.styl":
/*!*****************************************!*\
  !*** ./src/components/Title/Title.styl ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Title":"Title--2I6Zf"};

/***/ }),

/***/ "./src/components/Title/index.js":
/*!***************************************!*\
  !*** ./src/components/Title/index.js ***!
  \***************************************/
/*! exports provided: PageTitle, Title, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var components_Title_Title__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/Title/Title */ "./src/components/Title/Title.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Title", function() { return components_Title_Title__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PageTitle", function() { return components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/* harmony default export */ __webpack_exports__["default"] = (components_Title_Title__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/components/UserActionRequired/index.jsx":
/*!*****************************************************!*\
  !*** ./src/components/UserActionRequired/index.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-markdown */ "./node_modules/react-markdown/lib/react-markdown.js");
/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var assets_icons_icon_tos_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! assets/icons/icon-tos.svg */ "./src/assets/icons/icon-tos.svg");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* global __TARGET__ */













var TosUpdatedModal = function TosUpdatedModal(_ref) {
  var newTosLink = _ref.newTosLink,
      onAccept = _ref.onAccept,
      onRefuse = _ref.onRefuse;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_10__["IllustrationDialog"], {
    open: true,
    actionsLayout: "column",
    title: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_11__["default"], {
      spacing: "m",
      className: "u-ta-center"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__["default"], {
      icon: assets_icons_icon_tos_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
      width: 96,
      height: 96
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: "u-ta-center",
      variant: "h4"
    }, t('TOS.updated.title'))),
    content: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_3___default.a, {
      source: t('TOS.updated.detail', {
        link: newTosLink
      })
    }),
    actions: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
      subtle: true,
      size: "small",
      className: "u-flex-grow-1",
      label: t('TOS.updated.disconnect'),
      onClick: onRefuse
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
      className: "u-mb-1",
      label: t('TOS.updated.cta'),
      onClick: onAccept
    }))
  });
};

var UserActionRequired = /*#__PURE__*/function (_Component) {
  _inherits(UserActionRequired, _Component);

  function UserActionRequired() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, UserActionRequired);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserActionRequired)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      warnings: []
    });

    _defineProperty(_assertThisInitialized(_this), "checkIfUserActionIsRequired", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var cozyClient, wasBlocked;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              cozyClient = _this.props.client;
              _context.prev = 1;
              _context.next = 4;
              return cozyClient.stackClient.fetchJSON('GET', '/data/');

            case 4:
              wasBlocked = _this.state.warnings.length !== 0;

              if (wasBlocked) {
                _this.setState({
                  warnings: _this.state.warnings
                });
              }

              _context.next = 11;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](1);

              if (_context.t0.status === 402) {
                _this.setState({
                  warnings: _context.t0.reason
                });
              }

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1, 8]]);
    })));

    _defineProperty(_assertThisInitialized(_this), "onAccept", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return _this.acceptUpdatedTos();

            case 2:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    })));

    _defineProperty(_assertThisInitialized(_this), "acceptUpdatedTos", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
      var cozyClient;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              cozyClient = _this.props.client;
              _context3.prev = 1;
              _context3.next = 4;
              return cozyClient.stackClient.fetchJSON('PUT', '/settings/instance/sign_tos');

            case 4:
              _this.setState({
                warnings: _this.state.warnings.filter(function (w) {
                  return w.code !== 'tos-updated';
                })
              });

              _context3.next = 10;
              break;

            case 7:
              _context3.prev = 7;
              _context3.t0 = _context3["catch"](1);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__["default"].error('TOS.updated.error');

            case 10:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3, null, [[1, 7]]);
    })));

    _defineProperty(_assertThisInitialized(_this), "disconnect", function () {
      var client = _this.props.client;
      client.logout();
    });

    return _this;
  }

  _createClass(UserActionRequired, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (false) {}
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (false) {}
    }
  }, {
    key: "render",
    value: function render() {
      var warnings = this.state.warnings;
      if (warnings.length === 0) return this.props.children;
      var tosUpdated = warnings.find(function (w) {
        return w.code === 'tos-updated';
      });

      if (false) {}

      return this.props.children;
    }
  }]);

  return UserActionRequired;
}(react__WEBPACK_IMPORTED_MODULE_1__["Component"]);

_defineProperty(UserActionRequired, "contextTypes", {
  store: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  client: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  router: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["withClient"])(UserActionRequired));

/***/ }),

/***/ "./src/components/VerticalBox.jsx":
/*!****************************************!*\
  !*** ./src/components/VerticalBox.jsx ***!
  \****************************************/
/*! exports provided: Container, Content, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Container", function() { return Container; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Content", function() { return Content; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/VerticalBox.styl */ "./src/components/VerticalBox.styl");
/* harmony import */ var components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var ContainerDumb = function ContainerDumb(_ref) {
  var children = _ref.children,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3___default.a.container, _defineProperty({}, className, className))
  }, children);
};

ContainerDumb.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
ContainerDumb.defaultProps = {
  className: undefined
};
var Container = Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(ContainerDumb);

var ContentDumb = function ContentDumb(_ref2) {
  var _cx2;

  var children = _ref2.children,
      top = _ref2.top,
      center = _ref2.center,
      bottom = _ref2.bottom,
      className = _ref2.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3___default.a.content, (_cx2 = {}, _defineProperty(_cx2, components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3___default.a.top, top), _defineProperty(_cx2, components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3___default.a.center, center), _defineProperty(_cx2, components_VerticalBox_styl__WEBPACK_IMPORTED_MODULE_3___default.a.bottom, bottom), _defineProperty(_cx2, className, className), _cx2))
  }, children);
};

ContentDumb.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  top: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  center: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  bottom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
ContentDumb.defaultProps = {
  className: undefined,
  top: false,
  center: false,
  bottom: false
};
var Content = Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(ContentDumb);

var VerticalBoxDumb = function VerticalBoxDumb(_ref3) {
  var children = _ref3.children,
      className = _ref3.className,
      top = _ref3.top,
      center = _ref3.center,
      bottom = _ref3.bottom;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, {
    className: className
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Content, {
    top: top,
    center: center,
    bottom: bottom
  }, children));
};

VerticalBoxDumb.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  top: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  center: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  bottom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
VerticalBoxDumb.defaultProps = {
  className: undefined,
  top: false,
  center: false,
  bottom: false
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(VerticalBoxDumb));

/***/ }),

/***/ "./src/components/VerticalBox.styl":
/*!*****************************************!*\
  !*** ./src/components/VerticalBox.styl ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"container":"container--2Ia99","content":"content--3_uR5","top":"top--lzrUj","center":"center--2Paxy","bottom":"bottom--365Dr"};

/***/ }),

/***/ "./src/components/scrollToTopOnMount.jsx":
/*!***********************************************!*\
  !*** ./src/components/scrollToTopOnMount.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var useScrollToOnMount = function useScrollToOnMount(node, scrollTop, scrollLeft) {
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (node && scrollTop !== undefined) {
      node.scrollTop = scrollTop;
    }

    if (node && scrollLeft !== undefined) {
      node.scrollLeft = scrollLeft;
    }
  }, // eslint-disable-next-line react-hooks/exhaustive-deps
  []);
};

var getMainNode = function getMainNode(isMobile) {
  return isMobile ? document.scrollingElement || document.documentElement : document.querySelector('[role="main"]');
};
/**
 * Decorates a components so that it scrolls to the top of the main
 * scrolling container when mounted.
 */


var scrollToTopOnMount = function scrollToTopOnMount(Component) {
  return function (_ref) {
    var props = _extends({}, _ref);

    var breakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])();
    var node = getMainNode(breakpoints.isMobile);
    useScrollToOnMount(node, 0);
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, props);
  };
};

/* harmony default export */ __webpack_exports__["default"] = (scrollToTopOnMount);

/***/ }),

/***/ "./src/components/useConfirmation.jsx":
/*!********************************************!*\
  !*** ./src/components/useConfirmation.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }






var useConfirmation = function useConfirmation(_ref) {
  var onConfirm = _ref.onConfirm,
      title = _ref.title,
      description = _ref.description,
      primaryLabel = _ref.primaryLabel,
      secondaryLabel = _ref.secondaryLabel;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      confirming = _useState2[0],
      setConfirming = _useState2[1];

  var handleRequestConfirmation = function handleRequestConfirmation(ev) {
    ev.preventDefault();
    setConfirming(true);
  };

  var handleCancel = function handleCancel(ev) {
    ev.preventDefault();
    setConfirming(false);
  };

  var component = confirming ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__["ConfirmDialog"], {
    opened: true,
    title: title,
    content: description,
    actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      theme: "secondary",
      onClick: handleCancel,
      label: secondaryLabel || t('Confirmation.cancel')
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      theme: "danger",
      label: primaryLabel || t('Confirmation.ok'),
      onClick: onConfirm
    }))
  }) : null;
  return {
    requestOpen: handleRequestConfirmation,
    requestCancel: handleCancel,
    component: component
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useConfirmation);

/***/ }),

/***/ "./src/components/useDocument.js":
/*!***************************************!*\
  !*** ./src/components/useDocument.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client/dist/store */ "./node_modules/cozy-client/dist/store/index.js");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__);





var useDocument = function useDocument(doctype, id) {
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useClient"])();
  var doc = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(function (state) {
    return Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__["getDocumentFromState"])(state, doctype, id);
  });
  var hydrated = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return client.hydrateDocument(doc);
  }, [client, doc]);
  return hydrated;
};

/* harmony default export */ __webpack_exports__["default"] = (useDocument);

/***/ }),

/***/ "./src/components/useKeyboardState.jsx":
/*!*********************************************!*\
  !*** ./src/components/useKeyboardState.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var useKeyboardState = function useKeyboardState() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      showing = _useState2[0],
      setShow = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var handleShow = function handleShow() {
      return setShow(true);
    };

    var handleHide = function handleHide() {
      return setShow(false);
    };

    if (window.Keyboard && typeof cordova !== 'undefined') {
      window.addEventListener('keyboardDidShow', handleShow);
      window.addEventListener('keyboardDidHide', handleHide);
    }

    return function () {
      window.removeEventListener('keyboardDidShow', handleShow);
      window.removeEventListener('keyboardDidHide', handleHide);
    };
  }, [setShow]);
  return showing;
};

/* harmony default export */ __webpack_exports__["default"] = (useKeyboardState);

/***/ }),

/***/ "./src/components/useTheme.jsx":
/*!*************************************!*\
  !*** ./src/components/useTheme.jsx ***!
  \*************************************/
/*! exports provided: themed */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "themed", function() { return themed; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var themed = function themed(Component) {
  var ThemedComponent = function ThemedComponent(props) {
    var theme = Object(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_1__["useCozyTheme"])();
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({}, props, {
      theme: theme
    }));
  };

  return ThemedComponent;
};

/***/ }),

/***/ "./src/components/useToggle.js":
/*!*************************************!*\
  !*** ./src/components/useToggle.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}



var useToggle = function useToggle(initial) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(initial),
      _useState2 = _slicedToArray(_useState, 2),
      val = _useState2[0],
      setVal = _useState2[1];

  var setTrue = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    return setVal(true);
  }, [setVal]);
  var setFalse = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    return setVal(false);
  }, [setVal]);
  return [val, setTrue, setFalse];
};

/* harmony default export */ __webpack_exports__["default"] = (useToggle);

/***/ }),

/***/ "./src/components/utils.jsx":
/*!**********************************!*\
  !*** ./src/components/utils.jsx ***!
  \**********************************/
/*! exports provided: hasFetchFailedError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasFetchFailedError", function() { return hasFetchFailedError; });
var FAILED_TO_FETCH_ERROR = 'Failed to fetch';
var hasFetchFailedError = function hasFetchFailedError(error) {
  return error.message === FAILED_TO_FETCH_ERROR;
};

/***/ }),

/***/ "./src/components/withContext.jsx":
/*!****************************************!*\
  !*** ./src/components/withContext.jsx ***!
  \****************************************/
/*! exports provided: withContext, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withContext", function() { return withContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


var withContext = function withContext(Context) {
  return function (Component) {
    var Wrapped = /*#__PURE__*/function (_React$Component) {
      _inherits(Wrapped, _React$Component);

      function Wrapped() {
        _classCallCheck(this, Wrapped);

        return _possibleConstructorReturn(this, _getPrototypeOf(Wrapped).apply(this, arguments));
      }

      _createClass(Wrapped, [{
        key: "render",
        value: function render() {
          var _this = this;

          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Context.Consumer, null, function (context) {
            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({}, context, _this.props));
          });
        }
      }]);

      return Wrapped;
    }(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

    Wrapped.displayName = "withContext[".concat(Context.name, "](").concat(Component.displayName || Component.name, ")");
    return Wrapped;
  };
};
/* harmony default export */ __webpack_exports__["default"] = (withContext);

/***/ }),

/***/ "./src/components/withError.jsx":
/*!**************************************!*\
  !*** ./src/components/withError.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var withError = function withError(Component, ErrorComponent) {
  var Wrapper = /*#__PURE__*/function (_React$Component) {
    _inherits(Wrapper, _React$Component);

    function Wrapper(props, context) {
      var _this;

      _classCallCheck(this, Wrapper);

      _this = _possibleConstructorReturn(this, _getPrototypeOf(Wrapper).call(this, props, context));
      _this.state = {
        error: null
      };
      return _this;
    }

    _createClass(Wrapper, [{
      key: "componentDidCatch",
      value: function componentDidCatch(error) {
        this.setState({
          error: error
        });
      }
    }, {
      key: "render",
      value: function render() {
        var error = this.state.error;

        if (this.state.error) {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ErrorComponent, {
            error: error,
            componentProps: this.props
          });
        } else {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, this.props);
        }
      }
    }]);

    return Wrapper;
  }(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

  Wrapper.displayName = "withError(".concat(Component.name || Component.displayName, ")");
  return Wrapper;
};

/* harmony default export */ __webpack_exports__["default"] = (withError);

/***/ }),

/***/ "./src/components/withFilters.jsx":
/*!****************************************!*\
  !*** ./src/components/withFilters.jsx ***!
  \****************************************/
/*! exports provided: useFilters, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useFilters", function() { return useFilters; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");




var mapStateToProps = function mapStateToProps(state) {
  return {
    filteringDoc: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_2__["getFilteringDoc"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    filterByDoc: function filterByDoc(doc) {
      return dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_2__["filterByDoc"])(doc));
    },
    addFilterByPeriod: function addFilterByPeriod(period) {
      return dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_2__["addFilterByPeriod"])(period));
    },
    resetFilterByDoc: function resetFilterByDoc() {
      return dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_2__["resetFilterByDoc"])());
    }
  };
};

var useFilters = function useFilters() {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();
  return Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return mapDispatchToProps(dispatch);
  }, [dispatch]);
};
var withFilters = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps);
/* harmony default export */ __webpack_exports__["default"] = (withFilters);

/***/ }),

/***/ "./src/components/withSize.jsx":
/*!*************************************!*\
  !*** ./src/components/withSize.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_2__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





var withSize = function withSize() {
  return function (Wrapped) {
    var WithSize = /*#__PURE__*/function (_Component) {
      _inherits(WithSize, _Component);

      function WithSize(props, context) {
        var _this;

        _classCallCheck(this, WithSize);

        _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSize).call(this, props, context));
        _this.handleResize = lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default()(_this.handleResize.bind(_assertThisInitialized(_this)), 200);
        _this.state = {
          size: {}
        };
        return _this;
      }

      _createClass(WithSize, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          this.handleResize();
          window.addEventListener('resize', this.handleResize);
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          window.removeEventListener('resize', this.handleResize);
        }
      }, {
        key: "handleResize",
        value: function handleResize() {
          // eslint-disable-next-line react/no-find-dom-node
          var node = react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this);
          this.setState({
            size: node.getBoundingClientRect()
          });
        }
      }, {
        key: "render",
        value: function render() {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapped, _extends({}, this.props, {
            size: this.state.size
          }));
        }
      }]);

      return WithSize;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    WithSize.displayName = "withSize(".concat(Wrapped.displayName || Wrapped.name, ")");
    return WithSize;
  };
};

/* harmony default export */ __webpack_exports__["default"] = (withSize);

/***/ }),

/***/ "./src/doctypes.js":
/*!*************************!*\
  !*** ./src/doctypes.js ***!
  \*************************/
/*! exports provided: RECIPIENT_DOCTYPE, ACCOUNT_DOCTYPE, GROUP_DOCTYPE, TRANSACTION_DOCTYPE, SETTINGS_DOCTYPE, BILLS_DOCTYPE, TRIGGER_DOCTYPE, JOBS_DOCTYPE, APP_DOCTYPE, KONNECTOR_DOCTYPE, COZY_ACCOUNT_DOCTYPE, PERMISSION_DOCTYPE, BANK_ACCOUNT_STATS_DOCTYPE, CONTACT_DOCTYPE, RECURRENCE_DOCTYPE, IDENTITIES_DOCTYPE, offlineDoctypes, HasManyReimbursements, schema, older30s, accountsConn, groupsConn, cronKonnectorTriggersConn, transactionsConn, makeBalanceTransactionsConn, appsConn, billsConn, settingsConn, recipientsConn, recurrenceConn, myselfConn, konnectorConn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RECIPIENT_DOCTYPE", function() { return RECIPIENT_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ACCOUNT_DOCTYPE", function() { return ACCOUNT_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUP_DOCTYPE", function() { return GROUP_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRANSACTION_DOCTYPE", function() { return TRANSACTION_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SETTINGS_DOCTYPE", function() { return SETTINGS_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BILLS_DOCTYPE", function() { return BILLS_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRIGGER_DOCTYPE", function() { return TRIGGER_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JOBS_DOCTYPE", function() { return JOBS_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APP_DOCTYPE", function() { return APP_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KONNECTOR_DOCTYPE", function() { return KONNECTOR_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "COZY_ACCOUNT_DOCTYPE", function() { return COZY_ACCOUNT_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PERMISSION_DOCTYPE", function() { return PERMISSION_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BANK_ACCOUNT_STATS_DOCTYPE", function() { return BANK_ACCOUNT_STATS_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONTACT_DOCTYPE", function() { return CONTACT_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RECURRENCE_DOCTYPE", function() { return RECURRENCE_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IDENTITIES_DOCTYPE", function() { return IDENTITIES_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "offlineDoctypes", function() { return offlineDoctypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HasManyReimbursements", function() { return HasManyReimbursements; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schema", function() { return schema; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "older30s", function() { return older30s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "accountsConn", function() { return accountsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupsConn", function() { return groupsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cronKonnectorTriggersConn", function() { return cronKonnectorTriggersConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transactionsConn", function() { return transactionsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeBalanceTransactionsConn", function() { return makeBalanceTransactionsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appsConn", function() { return appsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "billsConn", function() { return billsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "settingsConn", function() { return settingsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recipientsConn", function() { return recipientsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recurrenceConn", function() { return recurrenceConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "myselfConn", function() { return myselfConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "konnectorConn", function() { return konnectorConn; });
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/fromPairs */ "./node_modules/lodash/fromPairs.js");
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var date_fns_sub_years__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns/sub_years */ "./node_modules/date-fns/sub_years/index.js");
/* harmony import */ var date_fns_sub_years__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns_sub_years__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns/format */ "./node_modules/date-fns/format/index.js");
/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(date_fns_format__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types */ "./src/types.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_4__);
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}




 // eslint-disable-next-line no-unused-vars


var RECIPIENT_DOCTYPE = 'io.cozy.bank.recipients';
var ACCOUNT_DOCTYPE = 'io.cozy.bank.accounts';
var GROUP_DOCTYPE = 'io.cozy.bank.groups';
var TRANSACTION_DOCTYPE = 'io.cozy.bank.operations';
var SETTINGS_DOCTYPE = 'io.cozy.bank.settings';
var BILLS_DOCTYPE = 'io.cozy.bills';
var TRIGGER_DOCTYPE = 'io.cozy.triggers';
var JOBS_DOCTYPE = 'io.cozy.jobs';
var APP_DOCTYPE = 'io.cozy.apps';
var KONNECTOR_DOCTYPE = 'io.cozy.konnectors';
var COZY_ACCOUNT_DOCTYPE = 'io.cozy.accounts';
var PERMISSION_DOCTYPE = 'io.cozy.permissions';
var BANK_ACCOUNT_STATS_DOCTYPE = 'io.cozy.bank.accounts.stats';
var CONTACT_DOCTYPE = 'io.cozy.contacts';
var RECURRENCE_DOCTYPE = 'io.cozy.bank.recurrence';
var IDENTITIES_DOCTYPE = 'io.cozy.identities';
var offlineDoctypes = [ACCOUNT_DOCTYPE, GROUP_DOCTYPE, TRANSACTION_DOCTYPE, SETTINGS_DOCTYPE, BILLS_DOCTYPE, CONTACT_DOCTYPE];

var HasManyBills = /*#__PURE__*/function (_HasManyInPlace) {
  _inherits(HasManyBills, _HasManyInPlace);

  function HasManyBills() {
    _classCallCheck(this, HasManyBills);

    return _possibleConstructorReturn(this, _getPrototypeOf(HasManyBills).apply(this, arguments));
  }

  _createClass(HasManyBills, [{
    key: "data",
    get: function get() {
      var _this = this;

      return this.raw ? this.raw.map(function (doctypeId) {
        var _doctypeId$split = doctypeId.split(':'),
            _doctypeId$split2 = _slicedToArray(_doctypeId$split, 2),
            doctype = _doctypeId$split2[0],
            id = _doctypeId$split2[1];

        return _this.get(doctype, id);
      }) : [];
    }
    /**
     * Query is redefined since the ids are prepended with their doctype.
     * Also does not refetch if documents have already been fetched once.
     */

  }], [{
    key: "query",
    value: function query(doc, client, assoc) {
      var included = doc[assoc.name];

      if (!included || !included.length) {
        return null;
      }

      var ids = included.indexOf(':') ? included.map(function (x) {
        return x.split(':')[1];
      }) : included;
      var docs = lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0___default()(ids.map(function (id) {
        return [id, client.getDocumentFromState(assoc.doctype, id)];
      }));
      var missingIds = Object.keys(docs).filter(function (id) {
        return !docs[id];
      });

      if (!missingIds || !missingIds.length) {
        return Object.values(docs);
      } else {
        return new cozy_client__WEBPACK_IMPORTED_MODULE_1__["QueryDefinition"]({
          doctype: assoc.doctype,
          ids: missingIds
        });
      }
    }
  }]);

  return HasManyBills;
}(cozy_client__WEBPACK_IMPORTED_MODULE_1__["HasManyInPlace"]);

var HasManyReimbursements = /*#__PURE__*/function (_HasManyInPlace2) {
  _inherits(HasManyReimbursements, _HasManyInPlace2);

  function HasManyReimbursements() {
    _classCallCheck(this, HasManyReimbursements);

    return _possibleConstructorReturn(this, _getPrototypeOf(HasManyReimbursements).apply(this, arguments));
  }

  _createClass(HasManyReimbursements, [{
    key: "raw",
    get: function get() {
      return this.target[this.name];
    }
  }, {
    key: "data",
    get: function get() {
      var _this2 = this;

      return (this.raw || []).map(function (reimbursement) {
        if (!reimbursement.billId) {
          return reimbursement;
        }

        return _objectSpread({}, reimbursement, {
          bill: _this2.get('io.cozy.bills', reimbursement.billId.split(':')[1])
        });
      });
    }
  }], [{
    key: "query",
    value: function query(doc, client, assoc) {
      var included = doc[assoc.name];

      if (!included || !included.length) {
        return null;
      }

      var missingIds = included.map(function (doc) {
        return doc.billId && doc.billId.split(':')[1];
      }).filter(Boolean);
      return new cozy_client__WEBPACK_IMPORTED_MODULE_1__["QueryDefinition"]({
        doctype: assoc.doctype,
        ids: missingIds
      });
    }
  }]);

  return HasManyReimbursements;
}(cozy_client__WEBPACK_IMPORTED_MODULE_1__["HasManyInPlace"]);
var schema = {
  transactions: {
    doctype: TRANSACTION_DOCTYPE,
    attributes: {},
    relationships: {
      account: {
        type: 'belongs-to-in-place',
        doctype: ACCOUNT_DOCTYPE
      },
      recurrence: {
        type: 'has-one',
        doctype: RECURRENCE_DOCTYPE
      },
      bills: {
        type: HasManyBills,
        doctype: BILLS_DOCTYPE
      },
      reimbursements: {
        type: HasManyReimbursements,
        doctype: BILLS_DOCTYPE
      }
    }
  },
  bills: {
    doctype: BILLS_DOCTYPE
  },
  settings: {
    doctype: SETTINGS_DOCTYPE,
    attributes: {},
    relationships: {}
  },
  bankAccounts: {
    doctype: ACCOUNT_DOCTYPE,
    attributes: {},
    relationships: {
      checkingsAccount: {
        type: 'has-one',
        doctype: ACCOUNT_DOCTYPE
      },
      owners: {
        type: 'has-many',
        doctype: CONTACT_DOCTYPE
      },
      connection: {
        type: 'has-one',
        doctype: COZY_ACCOUNT_DOCTYPE
      }
    }
  },
  groups: {
    doctype: GROUP_DOCTYPE,
    attributes: {},
    relationships: {
      accounts: {
        type: cozy_client__WEBPACK_IMPORTED_MODULE_1__["HasManyInPlace"],
        doctype: ACCOUNT_DOCTYPE
      }
    }
  },
  triggers: {
    doctype: TRIGGER_DOCTYPE,
    attributes: {},
    relationships: {}
  },
  apps: {
    doctype: APP_DOCTYPE,
    attributes: {},
    relationships: {}
  },
  konnectors: {
    doctype: KONNECTOR_DOCTYPE,
    attributes: {},
    relationships: {}
  },
  stats: {
    doctype: BANK_ACCOUNT_STATS_DOCTYPE,
    attributes: {},
    relationships: {
      account: {
        type: 'has-one',
        doctype: ACCOUNT_DOCTYPE
      }
    }
  }
};
var older30s = cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a.fetchPolicies.olderThan(30 * 1000);
var accountsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(ACCOUNT_DOCTYPE).include(['owners', 'connection']);
  },
  as: 'accounts',
  fetchPolicy: older30s
};
var groupsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(GROUP_DOCTYPE);
  },
  as: 'groups',
  fetchPolicy: older30s
};
var cronKonnectorTriggersConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(TRIGGER_DOCTYPE).where({
      worker: 'konnector',
      type: '@cron'
    });
  },
  as: 'triggers',
  fetchPolicy: older30s
};
var transactionsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(TRANSACTION_DOCTYPE).UNSAFE_noLimit().include(['bills', 'account', 'reimbursements', 'recurrence']);
  },
  as: 'transactions',
  fetchPolicy: older30s
};
var makeBalanceTransactionsConn = function makeBalanceTransactionsConn() {
  var fromDate = date_fns_format__WEBPACK_IMPORTED_MODULE_3___default()(date_fns_sub_years__WEBPACK_IMPORTED_MODULE_2___default()(new Date(), 1), 'YYYY-MM-DD');
  return {
    as: 'home/transactions',
    fetchPolicy: older30s,
    query: function query() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(TRANSACTION_DOCTYPE).limitBy(1000).where({
        date: {
          $gt: fromDate
        }
      }).sortBy([{
        date: 'desc'
      }]).indexFields(['date']).select(['_id', 'date', 'amount', 'account', 'currency']);
    }
  };
};
var appsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(APP_DOCTYPE);
  },
  as: 'apps',
  fetchPolicy: older30s
};
var billsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(BILLS_DOCTYPE);
  },
  as: 'bills',
  fetchPolicy: older30s
};
var settingsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(SETTINGS_DOCTYPE);
  },
  as: 'settings',
  fetchPolicy: older30s
};
var recipientsConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(RECIPIENT_DOCTYPE);
  },
  as: 'recipients',
  fetchPolicy: older30s
};
var recurrenceConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(RECURRENCE_DOCTYPE).where({
      _id: {
        $gt: null
      },
      latestDate: {
        $gt: null
      }
    }).sortBy([{
      _id: 'desc'
    }, {
      latestDate: 'desc'
    }]);
  },
  as: 'recurrence',
  fetchPolicy: older30s
};
var myselfConn = {
  query: function query() {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.contacts').where({
      me: true
    });
  },
  as: 'myself',
  fetchPolicy: older30s
};
var konnectorConn = {
  query: function query(slug) {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(KONNECTOR_DOCTYPE).getById("".concat(KONNECTOR_DOCTYPE, "/").concat(slug));
  },
  as: 'konnector'
};

/***/ }),

/***/ "./src/ducks/account/AccountSwitch.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/account/AccountSwitch.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Buttons */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Buttons/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemSecondaryAction */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemSecondaryAction/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! cozy-ui/transpiled/react/Radio */ "../overrides/cozy-ui/transpiled/react/Radio/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Bottom__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Bottom */ "./node_modules/cozy-ui/transpiled/react/Icons/Bottom.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var components_RawContentDialog__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! components/RawContentDialog */ "./src/components/RawContentDialog.jsx");
/* harmony import */ var components_AccountSharingStatus__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! components/AccountSharingStatus */ "./src/components/AccountSharingStatus/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var components_BarItem__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! components/BarItem */ "./src/components/BarItem/index.jsx");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/account/AccountSwitch.styl */ "./src/ducks/account/AccountSwitch.styl");
/* harmony import */ var ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var ducks_account_helpers_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ducks/account/helpers.js */ "./src/ducks/account/helpers.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
































var filteringDocPropType = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array, prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object]);

var DownArrow = function DownArrow(_ref) {
  var size = _ref.size;
  var theme = Object(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_19__["useCozyTheme"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
    width: size,
    height: size,
    icon: cozy_ui_transpiled_react_Icons_Bottom__WEBPACK_IMPORTED_MODULE_17__["default"],
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26___default.a.DownArrow, ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26___default.a["DownArrowColor_".concat(theme)])
  });
};

DownArrow.defaultProps = {
  size: 12
};

var getFilteringDocLabel = function getFilteringDocLabel(filteringDoc, t, accounts) {
  if (filteringDoc.length) {
    return t('AccountSwitch.some-accounts', {
      count: filteringDoc.length,
      smart_count: accounts.length
    });
  } else if (filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_27__["ACCOUNT_DOCTYPE"]) {
    return Object(ducks_account_helpers_js__WEBPACK_IMPORTED_MODULE_30__["getAccountLabel"])(filteringDoc);
  } else if (filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_27__["GROUP_DOCTYPE"]) {
    return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_28__["getGroupLabel"])(filteringDoc, t);
  }
};

var defaultTypographyProps = {
  color: 'primary',
  variant: 'h4'
}; // t is passed from above and not through useI18n() since AccountSwitchSelect can be
// rendered in the Bar and in this case it has a different context

var AccountSwitchSelect = function AccountSwitchSelect(_ref2) {
  var accounts = _ref2.accounts,
      filteringDoc = _ref2.filteringDoc,
      onClick = _ref2.onClick,
      t = _ref2.t,
      typographyProps = _ref2.typographyProps,
      arrowProps = _ref2.arrowProps;
  var noAccounts = !accounts || accounts.length === 0;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26___default.a.AccountSwitch__Select,
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_18__["default"], _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26___default.a.AccountSwitch__SelectText, 'u-ellipsis')
  }, defaultTypographyProps, typographyProps), noAccounts ? t('Categories.noAccount') : filteringDoc ? getFilteringDocLabel(filteringDoc, t, accounts) : t('AccountSwitch.all-accounts')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DownArrow, arrowProps));
};

AccountSwitchSelect.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
var accountListItemTextTypo2Props = {
  variant: 'caption',
  color: 'textSecondary'
};

var AccountListItemText = function AccountListItemText(_ref3) {
  var primary = _ref3.primary,
      secondary = _ref3.secondary;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_15__["default"], {
    primary: primary,
    secondary: secondary,
    secondaryTypographyProps: accountListItemTextTypo2Props
  });
};

var AccountSwitchListItem = function AccountSwitchListItem(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_11__["default"], props, props.children, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_14__["default"], {
    className: "u-pr-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Radio__WEBPACK_IMPORTED_MODULE_16__["default"], {
    onClick: props.onClick,
    checked: props.selected,
    readOnly: true
  })));
};

var AccountSwitchMenu = function AccountSwitchMenu(_ref4) {
  var accounts = _ref4.accounts,
      groups = _ref4.groups,
      filteringDoc = _ref4.filteringDoc,
      filterByDoc = _ref4.filterByDoc,
      resetFilterByDoc = _ref4.resetFilterByDoc;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n.t;

  var handleReset = function handleReset() {
    resetFilterByDoc();
  };

  var accountExists = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (accountId) {
    return accounts.find(function (account) {
      return account.id === accountId;
    });
  }, [accounts]);
  var sortedGroups = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(groups, function (g) {
      return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_28__["getGroupLabel"])(g, t);
    });
  }, [groups, t]);
  var sortedAccounts = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(accounts, ['institutionLabel', ducks_account_helpers_js__WEBPACK_IMPORTED_MODULE_30__["getAccountLabel"]]);
  }, [accounts]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_19__["default"], {
    theme: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_10__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_13__["default"], null, t('AccountSwitch.groups')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountSwitchListItem, {
    dense: true,
    button: true,
    disableRipple: true,
    divider: true,
    onClick: handleReset,
    selected: !filteringDoc
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountListItemText, {
    primary: t('AccountSwitch.all-accounts'),
    secondary: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, t('AccountSwitch.account-counter', accounts.length))
  })), sortedGroups.map(function (group) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountSwitchListItem, {
      dense: true,
      key: group._id,
      button: true,
      disableRipple: true,
      selected: filteringDoc && group._id === filteringDoc._id,
      onClick: function onClick() {
        filterByDoc(group);
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountListItemText, {
      primary: Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_28__["getGroupLabel"])(group, t),
      secondary: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, t('AccountSwitch.account-counter', group.accounts.data.filter(function (account) {
        return account && accountExists(account.id);
      }).length))
    }));
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_9__["default"], {
    component: "a",
    href: "#/settings/groups",
    className: "u-m-half",
    color: "primary"
  }, t('Groups.manage-groups')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_10__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_13__["default"], null, t('AccountSwitch.accounts')), sortedAccounts.map(function (account, index) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountSwitchListItem, {
      key: index,
      button: true,
      disableRipple: true,
      dense: true,
      onClick: function onClick() {
        filterByDoc(account);
      },
      selected: filteringDoc && account._id === filteringDoc._id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_22__["default"], {
      account: account
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountListItemText, {
      primary: account.shortLabel || account.label,
      secondary: Object(ducks_account_helpers_js__WEBPACK_IMPORTED_MODULE_30__["getAccountInstitutionLabel"])(account)
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemSecondaryAction__WEBPACK_IMPORTED_MODULE_14__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountSharingStatus__WEBPACK_IMPORTED_MODULE_21__["default"], {
      tooltip: true,
      account: account
    })));
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_9__["default"], {
    component: "a",
    href: "#/settings/accounts",
    className: "u-m-half",
    color: "primary"
  }, t('Accounts.manage-accounts')));
};

AccountSwitchMenu.propTypes = {
  filterByDoc: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  resetFilterByDoc: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  filteringDoc: filteringDocPropType
};

var AccountSwitchWrapper = function AccountSwitchWrapper(_ref5) {
  var children = _ref5.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(ducks_account_AccountSwitch_styl__WEBPACK_IMPORTED_MODULE_26___default.a['account-switch'])
  }, children);
};

var barItemStyle = {
  overflow: 'hidden',
  paddingRight: '1rem'
};
var selectPropsBySize = {
  normal: {
    typographyProps: {
      variant: 'body1',
      color: 'primary'
    }
  },
  large: {
    typographyProps: {
      variant: 'h4',
      color: 'primary'
    },
    arrowProps: {
      size: 16
    }
  },
  small: {
    typographyProps: {
      variant: 'caption',
      color: 'primary'
    },
    arrowProps: {
      size: 10
    }
  }
}; // Note that everything is set up to be able to combine filters (even the redux store).
// It's only limited to one filter in a few places, because the UI can only accomodate one right now.

/**
 * Allows to select an account
 *
 * @param {String} options.size - Allows to define size of AccountSwitchSelect
 * @param {Number} options.insideBar - Allows to have the account switch select in BarCenter
 * @returns {JSX.Element}
 *
 */

var AccountSwitch = function AccountSwitch(props) {
  var size = props.size,
      insideBar = props.insideBar;
  var accountsCollection = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_27__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_27__["accountsConn"]);
  var groupsCollection = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_27__["groupsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_27__["groupsConn"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      _useState2 = _slicedToArray(_useState, 2),
      open = _useState2[0],
      setOpen = _useState2[1];

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n2.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_7__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var filteringDoc = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_25__["getFilteringDoc"]);
  var filteredAccounts = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_25__["getFilteredAccounts"]);
  var virtualGroups = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(selectors__WEBPACK_IMPORTED_MODULE_29__["getVirtualGroups"]);
  var handleToggle = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev.preventDefault();
    setOpen(function (open) {
      return !open;
    });
  }, [setOpen]);
  var handleClose = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev && ev.preventDefault();
    setOpen(false);
  }, [setOpen]);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])();
  var handleFilterByDoc = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (doc) {
    dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_25__["filterByDoc"])(doc));
    handleClose();
  }, [dispatch, handleClose]);
  var handleResetFilterByDoc = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_25__["resetFilterByDoc"])());
    handleClose();
  }, [dispatch, handleClose]);
  var accounts = accountsCollection.data;
  var orderedGroups = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    var groups = [].concat(_toConsumableArray(groupsCollection.data || []), _toConsumableArray(virtualGroups)).map(function (group) {
      return _objectSpread({}, group, {
        label: Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_28__["getGroupLabel"])(group, t)
      });
    });
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(groups, function (x) {
      return x.label.toLowerCase();
    });
  }, [groupsCollection.data, t, virtualGroups]);
  var selectProps = selectPropsBySize[size];
  var select = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountSwitchSelect, _extends({
    accounts: accounts,
    filteredAccounts: filteredAccounts,
    filteringDoc: filteringDoc,
    onClick: handleToggle,
    t: t
  }, selectProps));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountSwitchWrapper, null, isMobile && insideBar !== false ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_24__["BarCenter"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BarItem__WEBPACK_IMPORTED_MODULE_23__["default"], {
    style: barItemStyle
  }, select)) : select, open && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_19__["default"], {
    variant: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_RawContentDialog__WEBPACK_IMPORTED_MODULE_20__["default"], {
    open: true,
    onClose: handleClose,
    title: t('AccountSwitch.title'),
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountSwitchMenu, {
      filteringDoc: filteringDoc,
      filterByDoc: handleFilterByDoc,
      resetFilterByDoc: handleResetFilterByDoc,
      close: handleClose,
      groups: orderedGroups,
      accounts: accounts
    })
  })));
};

AccountSwitch.propTypes = {
  insideBar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
AccountSwitch.defaultProps = {
  size: 'large',
  insideBar: true
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(AccountSwitch));

/***/ }),

/***/ "./src/ducks/account/AccountSwitch.styl":
/*!**********************************************!*\
  !*** ./src/ducks/account/AccountSwitch.styl ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"AccountSwitch__Select":"AccountSwitch__Select--n3jEW","AccountSwitch__SelectText":"AccountSwitch__SelectText--4FSa7","disable":"disable--3mKnC","DownArrow":"DownArrow--1PTK6","DownArrowColor_inverted":"DownArrowColor_inverted--2-FtK"};

/***/ }),

/***/ "./src/ducks/account/helpers.js":
/*!**************************************!*\
  !*** ./src/ducks/account/helpers.js ***!
  \**************************************/
/*! exports provided: getAccountInstitutionLabel, getAccountLabel, distanceInWords, accountTypesWithTranslation, getAccountType, getAccountInstitutionSlug, getAccountBalance, getAccountUpdatedAt, reimbursementsVirtualAccountsSpecs, buildHealthReimbursementsVirtualAccount, buildProfessionalReimbursementsVirtualAccount, othersFilter, buildOthersReimbursementsVirtualAccount, buildVirtualAccounts, isReimbursementsAccount, isHealthReimbursementsAccount, getBorrowedAmount, getRemainingAmount, getReimbursedAmount, getReimbursedPercentage, addOwnerToAccount, getAccountOwners, getUniqueOwners, isCreditCardAccount, isCheckingsAccount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountInstitutionLabel", function() { return getAccountInstitutionLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountLabel", function() { return getAccountLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distanceInWords", function() { return distanceInWords; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "accountTypesWithTranslation", function() { return accountTypesWithTranslation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountType", function() { return getAccountType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountInstitutionSlug", function() { return getAccountInstitutionSlug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountBalance", function() { return getAccountBalance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountUpdatedAt", function() { return getAccountUpdatedAt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reimbursementsVirtualAccountsSpecs", function() { return reimbursementsVirtualAccountsSpecs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildHealthReimbursementsVirtualAccount", function() { return buildHealthReimbursementsVirtualAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildProfessionalReimbursementsVirtualAccount", function() { return buildProfessionalReimbursementsVirtualAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "othersFilter", function() { return othersFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildOthersReimbursementsVirtualAccount", function() { return buildOthersReimbursementsVirtualAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildVirtualAccounts", function() { return buildVirtualAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReimbursementsAccount", function() { return isReimbursementsAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isHealthReimbursementsAccount", function() { return isHealthReimbursementsAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBorrowedAmount", function() { return getBorrowedAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRemainingAmount", function() { return getRemainingAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReimbursedAmount", function() { return getReimbursedAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReimbursedPercentage", function() { return getReimbursedPercentage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addOwnerToAccount", function() { return addOwnerToAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountOwners", function() { return getAccountOwners; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUniqueOwners", function() { return getUniqueOwners; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isCreditCardAccount", function() { return isCreditCardAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isCheckingsAccount", function() { return isCheckingsAccount; });
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-doctypes */ "./node_modules/cozy-doctypes/dist/index.js");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_overSome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/overSome */ "./node_modules/lodash/overSome.js");
/* harmony import */ var lodash_overSome__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_overSome__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flatten */ "./node_modules/lodash/flatten.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/uniqBy */ "./node_modules/lodash/uniqBy.js");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/set */ "./node_modules/lodash/set.js");
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_overEvery__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/overEvery */ "./node_modules/lodash/overEvery.js");
/* harmony import */ var lodash_overEvery__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_overEvery__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
var _reimbursementsVirtua;

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}
















var triggerStates = cozy_client__WEBPACK_IMPORTED_MODULE_10__["models"].triggers.triggerStates;
var PARTS_TO_DELETE = ['(sans Secure Key)'];
var getAccountInstitutionLabel = function getAccountInstitutionLabel(account) {
  if (!account) {
    return account;
  }

  var label = PARTS_TO_DELETE.reduce(function (label, partToDelete) {
    return label.replace(partToDelete, '');
  }, account.institutionLabel || '');
  return label;
};
var getAccountLabel = function getAccountLabel(account) {
  return account ? account.shortLabel || account.label : '';
};
var distanceInWords = function distanceInWords(distance) {
  if (!Number.isFinite(distance)) {
    return 'Balance.updated-at.unknown';
  }

  if (distance === 0) {
    return 'Balance.updated-at.today';
  }

  if (distance === 1) {
    return 'Balance.updated-at.yesterday';
  }

  return 'Balance.updated-at.n-days-ago';
};
var accountTypesWithTranslation = ['Business', 'Checkings', 'CreditCard', 'Joint', 'Loan', 'LongTermSavings', 'Other', 'Reimbursements', 'Savings'];
var accountTypesMap = {
  Article83: 'LongTermSavings',
  Asset: 'Business',
  Bank: 'Checkings',
  Capitalisation: 'Business',
  Cash: 'Checkings',
  ConsumerCredit: 'Loan',
  'Credit card': 'CreditCard',
  Deposit: 'Checkings',
  Liability: 'Business',
  LifeInsurance: 'LongTermSavings',
  Madelin: 'LongTermSavings',
  Market: 'LongTermSavings',
  Mortgage: 'LongTermSavings',
  None: 'Other',
  PEA: 'LongTermSavings',
  PEE: 'LongTermSavings',
  Perco: 'LongTermSavings',
  Perp: 'LongTermSavings',
  RevolvingCredit: 'Loan',
  RSP: 'LongTermSavings',
  Unkown: 'Other'
};
var getAccountType = function getAccountType(account) {
  var mappedType = accountTypesMap[account.type] || account.type || 'Other';
  var type = accountTypesWithTranslation.includes(mappedType) ? mappedType : 'Other';
  return type;
};
var getAccountInstitutionSlug = function getAccountInstitutionSlug(account) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(account, 'cozyMetadata.createdByApp');
};
var getAccountBalance = function getAccountBalance(account) {
  if (account.type === 'CreditCard' && account.comingBalance) {
    return account.comingBalance;
  }

  return account.balance;
};
var getAccountUpdatedAt = function getAccountUpdatedAt(account, jobTrigger) {
  if (cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('demo')) {
    return {
      translateKey: distanceInWords(0),
      params: {
        nbDays: 0
      }
    };
  }

  var today = new Date();
  var updatedAtAccount = cozy_doctypes__WEBPACK_IMPORTED_MODULE_1__["BankAccount"].getUpdatedAt(account);
  var updatedAtTrigger = triggerStates.getLastSuccess(jobTrigger);
  var updateDate = updatedAtTrigger || updatedAtAccount;
  var updateDistance = updateDate ? Object(date_fns__WEBPACK_IMPORTED_MODULE_13__["differenceInCalendarDays"])(today, updateDate) : null;
  var updateDistanceInWords = distanceInWords(updateDistance);
  return {
    translateKey: updateDistanceInWords,
    params: {
      nbDays: updateDistance
    }
  };
};

var isWithin6Months = function isWithin6Months() {
  var SIX_MONTHS_AGO = Object(date_fns__WEBPACK_IMPORTED_MODULE_13__["subMonths"])(new Date(), 6);
  return function (date) {
    return Object(date_fns__WEBPACK_IMPORTED_MODULE_13__["isAfter"])(date, SIX_MONTHS_AGO);
  };
};
/**
 * Generate a reimbursements virtual account builder
 *
 * @param {Object} specs
 * @param {Function} specs.filter - A function to filter transactions that fits in the virtual account
 * @param {String} specs.id - The id of the generated virtual account
 * @param {String} specs.translationKey - The translationKey that will be used to show the name of the virtual account
 * @param {String} [specs.categoryId] - The category id of the transactions that matches the virtual account if there is any
 *
 * @returns {Function} The builder
 */


var buildReimbursementsVirtualAccount = function buildReimbursementsVirtualAccount(specs) {
  return function (transactions) {
    var combinedFilter = lodash_overEvery__WEBPACK_IMPORTED_MODULE_7___default()([specs.filter, lodash_flowRight__WEBPACK_IMPORTED_MODULE_6___default()(isWithin6Months(), ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_11__["getDate"]), ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_11__["hasPendingReimbursement"]].filter(Boolean));
    var filteredTransactions = transactions.filter(combinedFilter);
    var balance = lodash_sumBy__WEBPACK_IMPORTED_MODULE_8___default()(filteredTransactions, function (expense) {
      var reimbursedAmount = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_11__["getReimbursedAmount"])(expense);
      return -expense.amount - reimbursedAmount;
    });
    var account = {
      _id: specs.id,
      _type: doctypes__WEBPACK_IMPORTED_MODULE_14__["ACCOUNT_DOCTYPE"],
      id: specs.id,
      label: "Data.virtualAccounts.".concat(specs.translationKey),
      balance: balance,
      type: 'Reimbursements',
      categoryId: specs.categoryId,
      currency: '€',
      virtual: true
    };
    return account;
  };
};

var healthExpensesCategoryId = Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_12__["getCategoryIdFromName"])('healthExpenses');
var professionalExpensesCategoryId = Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_12__["getCategoryIdFromName"])('professionalExpenses');
var reimbursementsVirtualAccountsSpecs = (_reimbursementsVirtua = {}, _defineProperty(_reimbursementsVirtua, healthExpensesCategoryId, {
  id: 'health_reimbursements',
  translationKey: 'healthReimbursements',
  categoryId: healthExpensesCategoryId,
  filter: ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_12__["isHealthExpense"]
}), _defineProperty(_reimbursementsVirtua, professionalExpensesCategoryId, {
  id: 'professional_reimbursements',
  translationKey: 'professionalReimbursements',
  categoryId: professionalExpensesCategoryId,
  filter: ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_12__["isProfessionalExpense"]
}), _reimbursementsVirtua);
var buildHealthReimbursementsVirtualAccount = buildReimbursementsVirtualAccount(reimbursementsVirtualAccountsSpecs[healthExpensesCategoryId]);
var buildProfessionalReimbursementsVirtualAccount = buildReimbursementsVirtualAccount(reimbursementsVirtualAccountsSpecs[professionalExpensesCategoryId]);
var isSpecificReimbursement = lodash_overSome__WEBPACK_IMPORTED_MODULE_2___default()(Object.values(reimbursementsVirtualAccountsSpecs).map(function (spec) {
  return spec.filter;
}));
var othersFilter = function othersFilter(transaction) {
  return !isSpecificReimbursement(transaction) && Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_11__["isExpense"])(transaction);
};
var buildOthersReimbursementsVirtualAccount = buildReimbursementsVirtualAccount({
  id: 'others_reimbursements',
  translationKey: 'othersReimbursements',
  filter: othersFilter
});
var buildVirtualAccounts = function buildVirtualAccounts(transactions) {
  return [buildHealthReimbursementsVirtualAccount(transactions), buildProfessionalReimbursementsVirtualAccount(transactions), buildOthersReimbursementsVirtualAccount(transactions)].filter(Boolean);
};
var isReimbursementsAccount = function isReimbursementsAccount(account) {
  return account.type === 'Reimbursements';
};
var isHealthReimbursementsAccount = function isHealthReimbursementsAccount(account) {
  return account._id === 'health_reimbursements' && account.virtual;
};
var getBorrowedAmount = function getBorrowedAmount(account) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(account, 'loan.usedAmount') || lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(account, 'loan.totalAmount');
};
var getRemainingAmount = function getRemainingAmount(account) {
  return Math.abs(account.balance);
};
var getReimbursedAmount = function getReimbursedAmount(account) {
  var borrowedAmount = getBorrowedAmount(account);
  var remainingAmount = getRemainingAmount(account);
  return borrowedAmount - remainingAmount;
};
var getReimbursedPercentage = function getReimbursedPercentage(account) {
  var reimbursedAmount = getReimbursedAmount(account);
  var borrowedAmount = getBorrowedAmount(account);
  var percentage = reimbursedAmount / borrowedAmount * 100;
  return percentage;
};
var addOwnerToAccount = function addOwnerToAccount(account, owner) {
  var currentOwners = lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(account, 'relationships.owners.data', []);
  var newOwners = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default()([].concat(_toConsumableArray(currentOwners), [{
    _id: owner._id,
    _type: doctypes__WEBPACK_IMPORTED_MODULE_14__["CONTACT_DOCTYPE"]
  }]), function (o) {
    return o._id;
  });
  lodash_set__WEBPACK_IMPORTED_MODULE_5___default()(account, 'relationships.owners.data', newOwners);
  return account;
};
var getAccountOwners = function getAccountOwners(account) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(account, 'owners.data', []).filter(Boolean);
};
var getUniqueOwners = function getUniqueOwners(accounts) {
  var allOwners = lodash_flatten__WEBPACK_IMPORTED_MODULE_3___default()(accounts.map(getAccountOwners));
  var uniqOwners = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default()(allOwners, function (owner) {
    return owner._id;
  });
  return uniqOwners;
};
var isCreditCardAccount = function isCreditCardAccount(account) {
  return getAccountType(account) === 'CreditCard';
};
var isCheckingsAccount = function isCheckingsAccount(account) {
  return getAccountType(account) === 'Checkings';
};

/***/ }),

/***/ "./src/ducks/account/index.js":
/*!************************************!*\
  !*** ./src/ducks/account/index.js ***!
  \************************************/
/*! exports provided: AccountSwitch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_account_AccountSwitch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/account/AccountSwitch */ "./src/ducks/account/AccountSwitch.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccountSwitch", function() { return ducks_account_AccountSwitch__WEBPACK_IMPORTED_MODULE_0__["default"]; });

 // components



/***/ }),

/***/ "./src/ducks/analysis/AnalysisPage.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/analysis/AnalysisPage.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/analysis/AnalysisTabs */ "../overrides/cozy-banks/src/ducks/analysis/AnalysisTabs.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");




/**
 * Renders its children
 *
 * - On mobile, render the AnalysisTabs
 */

var AnalysisPage = function AnalysisPage(_ref) {
  var children = _ref.children;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var location = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useLocation"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_analysis_AnalysisTabs__WEBPACK_IMPORTED_MODULE_1__["default"], {
    location: location
  }) : null, children);
};

/* harmony default export */ __webpack_exports__["default"] = (AnalysisPage);

/***/ }),

/***/ "./src/ducks/analysis/AnalysisTabs.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/analysis/AnalysisTabs.jsx ***!
  \*********************************************/
/*! exports provided: tabRoutes, activeTab, tabNames, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tabRoutes", function() { return tabRoutes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "activeTab", function() { return activeTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tabNames", function() { return tabNames; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiTabs */ "./node_modules/cozy-ui/transpiled/react/MuiTabs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");






var tabRoutes = {
  categories: 'analysis/categories',
  recurrence: 'analysis/recurrence'
};
var activeTab = function activeTab(location) {
  return location.pathname.includes('categories') ? 'categories' : 'recurrence';
};
var tabNames = ['categories', 'recurrence'];

var AnalysisTabs = function AnalysisTabs(_ref) {
  var location = _ref.location;
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_5__["useHistory"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var goTo = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (url) {
    return function () {
      return history.push(url);
    };
  }, [history]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_4__["default"], {
    fixed: true,
    theme: "inverted"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_2__["Tabs"], {
    value: tabNames.indexOf(activeTab(location))
  }, tabNames.map(function (tabName) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_2__["Tab"], {
      disableRipple: true,
      label: t("Nav.".concat(tabName)),
      key: tabName,
      name: tabName,
      onClick: goTo(tabRoutes[tabName])
    });
  })));
};

AnalysisTabs.PropTypes = {
  location: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(AnalysisTabs));

/***/ }),

/***/ "./src/ducks/analysis/index.jsx":
/*!**************************************!*\
  !*** ./src/ducks/analysis/index.jsx ***!
  \**************************************/
/*! exports provided: AnalysisPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_analysis_AnalysisPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/analysis/AnalysisPage */ "./src/ducks/analysis/AnalysisPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnalysisPage", function() { return ducks_analysis_AnalysisPage__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/ducks/apps/selectors.js":
/*!*************************************!*\
  !*** ./src/ducks/apps/selectors.js ***!
  \*************************************/
/*! exports provided: getAppURL, getApps, getAppsById, getAppURLById, getHomeURL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAppURL", function() { return getAppURL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getApps", function() { return getApps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAppsById", function() { return getAppsById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAppURLById", function() { return getAppURLById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHomeURL", function() { return getHomeURL; });
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");



var getAppURL = function getAppURL(app) {
  return app && app.links && app.links.related ? app.links.related : null;
};
var getApps = Object(selectors__WEBPACK_IMPORTED_MODULE_2__["queryDataSelector"])('apps');
var getAppsById = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([getApps], function (apps) {
  return lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default()(apps, function (app) {
    return app._id;
  });
});
var getAppURLById = function getAppURLById(id) {
  return Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([getAppsById], function (apps) {
    var app = apps[id];

    if (!app) {
      return null;
    } else {
      return getAppURL(app);
    }
  });
};
var getHomeURL = getAppURLById('io.cozy.apps/home');

/***/ }),

/***/ "./src/ducks/apps/withAppsUrls.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/apps/withAppsUrls.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/apps/selectors */ "./src/ducks/apps/selectors.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }







function getAppsURLs(appsById) {
  return {
    MAIF: Object(ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__["getAppURL"])(appsById['io.cozy.apps/maif']),
    HEALTH: Object(ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__["getAppURL"])(appsById['io.cozy.apps/sante']),
    EDF: Object(ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__["getAppURL"])(appsById['io.cozy.apps/edf']),
    COLLECT: Object(ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__["getAppURL"])(appsById['io.cozy.apps/collect']),
    HOME: Object(ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__["getAppURL"])(appsById['io.cozy.apps/home'])
  };
}

var withAppsUrls = function withAppsUrls(Wrapped) {
  var WithAppsUrls = function WithAppsUrls(props) {
    Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_3__["appsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_3__["appsConn"]);
    var appsById = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(ducks_apps_selectors__WEBPACK_IMPORTED_MODULE_4__["getAppsById"]);
    var urls = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      return getAppsURLs(appsById);
    }, [appsById]);
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapped, _extends({}, props, {
      urls: urls
    }));
  };

  WithAppsUrls.displayName = "withAppsUrls<".concat(Wrapped.name || Wrapped.displayName, ">");
  return WithAppsUrls;
};

/* harmony default export */ __webpack_exports__["default"] = (withAppsUrls);

/***/ }),

/***/ "./src/ducks/balance sync recursive ^\\.\\/timeline_.*\\.svg$":
/*!*******************************************************!*\
  !*** ./src/ducks/balance sync ^\.\/timeline_.*\.svg$ ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./timeline_desktop_en.svg": "./src/ducks/balance/timeline_desktop_en.svg",
	"./timeline_desktop_fr.svg": "./src/ducks/balance/timeline_desktop_fr.svg",
	"./timeline_mobile_en.svg": "./src/ducks/balance/timeline_mobile_en.svg",
	"./timeline_mobile_fr.svg": "./src/ducks/balance/timeline_mobile_fr.svg"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./src/ducks/balance sync recursive ^\\.\\/timeline_.*\\.svg$";

/***/ }),

/***/ "./src/ducks/balance/AccountRow.jsx":
/*!******************************************!*\
  !*** ./src/ducks/balance/AccountRow.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Switch */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Switch/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! cozy-doctypes */ "./node_modules/cozy-doctypes/dist/index.js");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/balance/AccountRow.styl */ "./src/ducks/balance/AccountRow.styl");
/* harmony import */ var ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var ducks_balance_ReimbursementsIcon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/balance/ReimbursementsIcon */ "./src/ducks/balance/ReimbursementsIcon.jsx");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var ducks_balance_AccountRowCaption__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/balance/AccountRowCaption */ "../overrides/cozy-banks/src/ducks/balance/AccountRowCaption.jsx");
/* harmony import */ var hooks_useVisible__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! hooks/useVisible */ "./src/hooks/useVisible.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

























var Owners = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function Owners(props) {
  var owners = props.owners;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__["default"], {
    icon: owners.length > 1 ? 'team' : 'people',
    size: 10,
    className: ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a.AccountRow__ownersIcon
  }), owners.map(cozy_doctypes__WEBPACK_IMPORTED_MODULE_16__["Contact"].getDisplayName).join(' - '));
});

var AccountRowIcon = function AccountRowIcon(_ref) {
  var account = _ref.account;
  return Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_17__["isReimbursementsAccount"])(account) ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_ReimbursementsIcon__WEBPACK_IMPORTED_MODULE_20__["default"], {
    account: account
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_21__["default"], {
    account: account
  });
};

var ListItemTextColumn = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])({
  root: {
    flexBasis: '100%',
    paddingRight: '1rem'
  }
})(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_15__["default"]);
var PrimaryColumn = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])({
  root: {
    flexBasis: '200%' // Primary column is twice as large as other columns

  }
})(ListItemTextColumn);
var ActionListItemTextColumn = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])(function (theme) {
  return {
    root: _defineProperty({
      justifyContent: 'flex-end',
      display: 'flex',
      alignItems: 'center',
      marginRight: '-0.5rem',
      paddingRight: 0
    }, theme.breakpoints.down('sm'), {
      flexGrow: 0,
      flexShrink: 0,
      flexBasis: 'auto'
    })
  };
})(ListItemTextColumn);
var secondaryColumnPrimaryTypographyProps = {
  color: 'textSecondary',
  variant: 'body2',
  className: 'u-ellipsis'
};

var SecondaryColumn = function SecondaryColumn(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ListItemTextColumn, _extends({
    primaryTypographyProps: secondaryColumnPrimaryTypographyProps
  }, props));
};

var EllipseTypography = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])({
  root: {
    overflow: 'hidden',
    textOverflow: 'ellipsis',
    whiteSpace: 'nowrap'
  }
})(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_12__["default"]);
var observerOptions = {
  threshold: [0, 1]
};

var AccountRow = function AccountRow(props) {
  var _cx;

  var account = props.account,
      onClick = props.onClick,
      hasWarning = props.hasWarning,
      checked = props.checked,
      disabled = props.disabled,
      onSwitchChange = props.onSwitchChange,
      id = props.id,
      initialVisible = props.initialVisible;

  var _useVisible = Object(hooks_useVisible__WEBPACK_IMPORTED_MODULE_23__["default"])(cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('banks.balance.account-row-skeleton') ? initialVisible : true, observerOptions),
      _useVisible2 = _slicedToArray(_useVisible, 2),
      ref = _useVisible2[0],
      visible = _useVisible2[1];

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_11__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var owners = account.owners.data.filter(Boolean).filter(function (owner) {
    return !owner.me;
  });
  var hasOwners = owners.length > 0;
  var hasAlert = account.balance < 0;
  var accountLabel = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_17__["getAccountLabel"])(account);
  var handleSwitchClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev.stopPropagation();
  }, []);
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    return onClick(ev, account);
  }, [account, onClick]);
  var classes = {
    root: classnames__WEBPACK_IMPORTED_MODULE_3___default()((_cx = {
      'u-pr-half': isMobile
    }, _defineProperty(_cx, ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a['AccountRow--hasWarning'], hasWarning), _defineProperty(_cx, ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a['AccountRow--hasAlert'], hasAlert), _defineProperty(_cx, ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a['AccountRow--disabled'], (!checked || disabled) && account.loading !== true), _cx))
  };

  if (!visible) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_13__["default"], {
      ref: ref,
      classes: classes,
      onClick: handleClick
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_14__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_15__["default"], {
      primary: t('Loading.loading'),
      secondary: "\xA0"
    }));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_13__["default"], {
    ref: ref,
    button: true,
    classes: classes,
    onClick: handleClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_14__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AccountRowIcon, {
    account: account
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrimaryColumn, {
    disableTypography: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EllipseTypography, {
    variant: "body1",
    color: disabled ? 'textSecondary' : 'textPrimary'
  }, account.virtual ? t(accountLabel) : accountLabel), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_AccountRowCaption__WEBPACK_IMPORTED_MODULE_22__["default"], {
    gutterBottom: isMobile && hasOwners,
    account: account
  }), isMobile && hasOwners ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_12__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Owners, {
    owners: owners
  })) : null), !isMobile && hasOwners ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SecondaryColumn, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Owners, {
    variant: "body2",
    owners: owners
  })) : null, !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SecondaryColumn, null, account.number ? "N\xB0".concat(account.number) : null) : null, !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SecondaryColumn, null, Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_17__["getAccountInstitutionLabel"])(account)) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActionListItemTextColumn, {
    disableTypography: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
    symbol: "\u20AC",
    total: Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_17__["getAccountBalance"])(account),
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a.AccountRow__figure),
    totalClassName: ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a.AccountRow__figure,
    currencyClassName: ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_19___default.a.AccountRow__figure
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_8__["default"], {
    disableRipple: true,
    checked: checked,
    color: disabled ? 'default' : 'primary',
    onClick: handleSwitchClick,
    id: id,
    onChange: onSwitchChange
  })));
};

AccountRow.propTypes = {
  account: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  hasWarning: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  checked: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  onSwitchChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default()(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(function (state, _ref2) {
  var account = _ref2.account;
  var warningLimits = Object(selectors__WEBPACK_IMPORTED_MODULE_18__["getWarningLimitPerAccount"])(state);
  var accountLimit = warningLimits[account._id];
  return {
    hasWarning: accountLimit ? accountLimit > account.balance : false
  };
}), react__WEBPACK_IMPORTED_MODULE_0___default.a.memo)(AccountRow));

/***/ }),

/***/ "./src/ducks/balance/AccountRow.styl":
/*!*******************************************!*\
  !*** ./src/ducks/balance/AccountRow.styl ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"AccountRow__figure":"AccountRow__figure--1ER2D","AccountRow--hasWarning":"AccountRow--hasWarning--3VsQb","AccountRow--hasAlert":"AccountRow--hasAlert--1p87l","AccountRow__updatedAtIcon":"AccountRow__updatedAtIcon--1vtIA","AccountRow__ownersIcon":"AccountRow__ownersIcon--18Eep","AccountRow--disabled":"AccountRow--disabled--37Xdu"};

/***/ }),

/***/ "./src/ducks/balance/AccountRowCaption.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/balance/AccountRowCaption.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Sync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Sync */ "./node_modules/cozy-ui/transpiled/react/Icons/Sync.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/balance/AccountRow.styl */ "./src/ducks/balance/AccountRow.styl");
/* harmony import */ var ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_10__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var triggerLibs = cozy_client__WEBPACK_IMPORTED_MODULE_7__["models"].trigger;
var isErrored = triggerLibs.triggerStates.isErrored;
var UpdatedAt = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function UpdatedAt(_ref) {
  var account = _ref.account,
      trigger = _ref.trigger;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var updatedAt = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_9__["getAccountUpdatedAt"])(account, trigger);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: updatedAt.params.nbDays > 1 ? 'u-warning' : null
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Sync__WEBPACK_IMPORTED_MODULE_5__["default"],
    width: "10",
    color: "currentColor",
    className: ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_10___default.a.AccountRow__updatedAtIcon
  }), t(updatedAt.translateKey, updatedAt.params));
});
var FailedTriggerMessage = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function FailedTriggerMessage() {
  var t = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "u-error"
  }, t('Balance.trigger-problem'));
});

var getAccountIdFromBankAccount = function getAccountIdFromBankAccount(bankAccount) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(bankAccount, 'relationships.connection.data._id');
};

var DumbAccountCaption = function DumbAccountCaption(props) {
  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n2.t;

  var account = props.account,
      className = props.className,
      rest = _objectWithoutProperties(props, ["account", "className"]);

  var _useQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_8__["cronKonnectorTriggersConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_8__["cronKonnectorTriggersConn"]),
      triggers = _useQuery.data;

  var trigger = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return triggers && triggers.find(function (trigger) {
      var triggerAccountId = triggerLibs.triggers.getAccountId(trigger.attributes);
      var accountId = getAccountIdFromBankAccount(account);
      return triggerAccountId === accountId;
    });
  }, [triggers, account]);
  var isTriggerFailed = trigger && isErrored(trigger.attributes);

  if (Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_9__["isReimbursementsAccount"])(account)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({
      variant: "caption",
      color: "textSecondary",
      className: className
    }, rest), t('Balance.reimbursements-caption'));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({
    variant: "caption",
    color: "textSecondary",
    className: className
  }, rest), isTriggerFailed && !cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('demo') && cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('balance-account-errors') ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FailedTriggerMessage, {
    trigger: trigger
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UpdatedAt, {
    account: account,
    trigger: trigger
  }));
};

var AccountCaption = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(DumbAccountCaption);
/* harmony default export */ __webpack_exports__["default"] = (AccountCaption);

/***/ }),

/***/ "./src/ducks/balance/AccountRowLoading.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/balance/AccountRowLoading.jsx ***!
  \*************************************************/
/*! exports provided: AccountRowLoading, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountRowLoading", function() { return AccountRowLoading; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/KonnectorIcon */ "./node_modules/cozy-harvest-lib/dist/components/KonnectorIcon.js");
/* harmony import */ var ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/balance/AccountRow.styl */ "./src/ducks/balance/AccountRow.styl");
/* harmony import */ var ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var ducks_balance_AccountRowLoading_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/balance/AccountRowLoading.styl */ "./src/ducks/balance/AccountRowLoading.styl");
/* harmony import */ var ducks_balance_AccountRowLoading_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_AccountRowLoading_styl__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_interapp__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-interapp */ "./node_modules/cozy-interapp/dist/index.js");
/* harmony import */ var cozy_interapp__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_interapp__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Warning */ "./node_modules/cozy-ui/transpiled/react/Icons/Warning.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Spinner__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Spinner */ "./node_modules/cozy-ui/transpiled/react/Icons/Spinner.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

















var listItemIconStyle = {
  height: 32
};
var AccountRowLoading = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(AccountRowLoading, _React$PureComponent);

  function AccountRowLoading(props, context) {
    var _this;

    _classCallCheck(this, AccountRowLoading);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AccountRowLoading).call(this, props, context));

    _defineProperty(_assertThisInitialized(_this), "intents", new cozy_interapp__WEBPACK_IMPORTED_MODULE_9__["Intents"]({
      client: _this.props.client
    }));

    _this.redirect = _this.redirect.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(AccountRowLoading, [{
    key: "redirect",
    value: function () {
      var _redirect = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var _this$props, konnector, account;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this$props = this.props, konnector = _this$props.konnector, account = _this$props.account;
                _context.next = 3;
                return this.intents.redirect('io.cozy.accounts', {
                  konnector: konnector,
                  account: account
                });

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function redirect() {
        return _redirect.apply(this, arguments);
      }

      return redirect;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          t = _this$props2.t,
          konnectorSlug = _this$props2.konnectorSlug,
          status = _this$props2.status;
      var isErrored = status === 'errored';
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_11__["default"], {
        className: ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_7___default.a.AccountRow,
        button: isErrored,
        onClick: isErrored ? this.redirect : null
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__["default"], {
        style: listItemIconStyle
      }, konnectorSlug && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
        konnectorSlug: konnectorSlug,
        className: ducks_balance_AccountRow_styl__WEBPACK_IMPORTED_MODULE_7___default.a.KonnectorIcon
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__["default"], {
        disableTypography: true
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_14__["default"], {
        variant: "body1"
      }, isErrored ? t('Balance.importing-accounts-error') : t('Balance.import-accounts')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_14__["default"], {
        variant: "caption"
      }, isErrored ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
        size: "12",
        icon: cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_15__["default"]
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
        className: ducks_balance_AccountRowLoading_styl__WEBPACK_IMPORTED_MODULE_8___default.a.error
      }, t('Balance.error'))) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
        size: "12",
        icon: cozy_ui_transpiled_react_Icons_Spinner__WEBPACK_IMPORTED_MODULE_16__["default"],
        color: "var(--primaryColor)",
        spin: true
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
        className: ducks_balance_AccountRowLoading_styl__WEBPACK_IMPORTED_MODULE_8___default.a.InProgress
      }, t('Balance.in-progress'))))));
    }
  }]);

  return AccountRowLoading;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent);
AccountRowLoading.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  konnectorSlug: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  account: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  status: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_10__["withClient"])(AccountRowLoading));

/***/ }),

/***/ "./src/ducks/balance/AccountRowLoading.styl":
/*!**************************************************!*\
  !*** ./src/ducks/balance/AccountRowLoading.styl ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"InProgress":"InProgress--2DJkk","error":"error--1gSl8","pointer":"pointer--2EIF-"};

/***/ }),

/***/ "./src/ducks/balance/AccountsImporting.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/balance/AccountsImporting.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_ui_transpiled_react_LinearProgress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/LinearProgress */ "./node_modules/cozy-ui/transpiled/react/LinearProgress/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_VerticalBox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/VerticalBox */ "./src/components/VerticalBox.jsx");
/* harmony import */ var ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/balance/BalancePanels */ "../overrides/cozy-banks/src/ducks/balance/BalancePanels.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/balance/HeaderTitle.styl */ "./src/ducks/balance/HeaderTitle.styl");
/* harmony import */ var ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/balance/AccountsImporting.styl */ "./src/ducks/balance/AccountsImporting.styl");
/* harmony import */ var ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var components_Delayed__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! components/Delayed */ "./src/components/Delayed.jsx");

















var muiStyles = function muiStyles() {
  return {
    linearColorPrimary: {
      backgroundColor: 'var(--primaryColorLight)',
      borderRadius: '2px'
    },
    linearBarColorPrimary: {
      backgroundColor: 'white'
    }
  };
};

var createGroups = function createGroups(types, konnectorInfos) {
  var accounts = konnectorInfos.map(function (konnectorInfo) {
    return {
      _id: konnectorInfo.konnector,
      account: konnectorInfo.account,
      status: konnectorInfo.status,
      loading: true
    };
  });
  return types.map(function (type) {
    return {
      _id: type,
      virtual: true,
      loading: true,
      label: type,
      accountType: type,
      accounts: {
        data: accounts
      }
    };
  });
};

var createPanelsState = function createPanelsState(types) {
  var panelsState = {};
  types.forEach(function (type) {
    panelsState[type] = {
      expanded: true,
      accounts: {
        fake1: {
          checked: true
        },
        fake2: {
          checked: true
        }
      }
    };
  });
  return panelsState;
};

var AccountsImporting = function AccountsImporting(_ref) {
  var classes = _ref.classes,
      konnectorInfos = _ref.konnectorInfos;
  var types = ['Checkings', 'Savings'];
  var groups = createGroups(types, konnectorInfos);
  var panelsState = createPanelsState(types);
  var hasRunning = konnectorInfos.some(function (k) {
    return k.status === 'running';
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_11__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13___default.a.content,
    theme: "inverted"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_VerticalBox__WEBPACK_IMPORTED_MODULE_9__["default"], {
    center: true,
    className: ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13___default.a.header
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_8__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_12___default.a.HeaderTitle_balance,
    currencyClassName: ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_12___default.a.BalanceHeader__currentBalanceCurrency,
    total: 0,
    symbol: "\u20AC"
  }), hasRunning && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ImportInProgress, {
    classes: classes
  })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "u-pt-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_10__["default"], {
    groups: groups,
    panelsState: panelsState,
    withBalance: false
  })));
};

var groupPanelDelay = cozy_flags__WEBPACK_IMPORTED_MODULE_14___default()('balance.no-delay-groups') ? 0 : 150;

var ImportInProgress = function ImportInProgress(_ref2) {
  var classes = _ref2.classes;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_15__["default"], {
    delay: groupPanelDelay
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_LinearProgress__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13___default.a.progress,
    classes: {
      colorPrimary: classes.linearColorPrimary,
      barColorPrimary: classes.linearBarColorPrimary
    }
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13___default.a.text
  }, t('Balance.import-accounts')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_AccountsImporting_styl__WEBPACK_IMPORTED_MODULE_13___default.a.text
  }, t('Balance.delay')));
};

AccountsImporting.propTypes = {
  konnectorInfos: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object)
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__["withStyles"])(muiStyles), react__WEBPACK_IMPORTED_MODULE_0__["memo"])(AccountsImporting));

/***/ }),

/***/ "./src/ducks/balance/AccountsImporting.styl":
/*!**************************************************!*\
  !*** ./src/ducks/balance/AccountsImporting.styl ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"content":"content--xiq3Y","header":"header--3i2Jm","progress":"progress--3f3UV","text":"text--3s3-d"};

/***/ }),

/***/ "./src/ducks/balance/AccountsList.jsx":
/*!********************************************!*\
  !*** ./src/ducks/balance/AccountsList.jsx ***!
  \********************************************/
/*! exports provided: AccountsList, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountsList", function() { return AccountsList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Divider */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Divider/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_withFilters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/withFilters */ "./src/components/withFilters.jsx");
/* harmony import */ var ducks_balance_AccountRow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/balance/AccountRow */ "./src/ducks/balance/AccountRow.jsx");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_balance_AccountRowLoading__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/balance/AccountRowLoading */ "./src/ducks/balance/AccountRowLoading.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");














var getSortedAccounts = function getSortedAccounts(group, accounts) {
  var realAccounts = accounts.filter(Boolean);

  if (Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_11__["isReimbursementsVirtualGroup"])(group)) {
    return realAccounts;
  } else {
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default()(realAccounts, ducks_account_helpers__WEBPACK_IMPORTED_MODULE_9__["getAccountBalance"]);
  }
};

var AccountsList = function AccountsList(props) {
  var group = props.group,
      switches = props.switches,
      onSwitchChange = props.onSwitchChange,
      initialVisibleAccounts = props.initialVisibleAccounts;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useClient"])();
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_12__["useRouter"])();

  var _useFilters = Object(components_withFilters__WEBPACK_IMPORTED_MODULE_7__["useFilters"])(),
      filterByDoc = _useFilters.filterByDoc;

  var groupAccounts = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return client.hydrateDocuments(doctypes__WEBPACK_IMPORTED_MODULE_6__["ACCOUNT_DOCTYPE"], group.accounts.data);
  }, [group, client]);
  var goToAccountsDetails = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev, account) {
    filterByDoc(account);
    router.push('/balances/details');
  }, [filterByDoc, router]);
  var sortedAndFilteredAccounts = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return getSortedAccounts(group, groupAccounts).filter(function (a) {
      return a.status !== 'done';
    });
  }, [group, groupAccounts]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_4__["default"], null, sortedAndFilteredAccounts.map(function (a, i) {
    var switchState = switches[a._id];
    var component = a.loading ? // When loading, a._id is the slug of the connector and can be non-unique, this is why we concat the index
    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_AccountRowLoading__WEBPACK_IMPORTED_MODULE_10__["default"], {
      key: i + '_' + a._id,
      konnectorSlug: a._id,
      account: a.account,
      status: a.status
    }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_AccountRow__WEBPACK_IMPORTED_MODULE_8__["default"], {
      key: a._id,
      account: a,
      group: group,
      onClick: goToAccountsDetails,
      checked: switchState.checked,
      disabled: switchState.disabled,
      id: "".concat(group._id, ".accounts.").concat(a._id),
      onSwitchChange: onSwitchChange,
      initialVisible: initialVisibleAccounts
    });
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, {
      key: i
    }, component, i !== groupAccounts.length - 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_5__["default"], {
      variant: "inset"
    }) : null);
  }));
};
AccountsList.propTypes = {
  group: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  switches: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  onSwitchChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (AccountsList);

/***/ }),

/***/ "./src/ducks/balance/Balance.jsx":
/*!***************************************!*\
  !*** ./src/ducks/balance/Balance.jsx ***!
  \***************************************/
/*! exports provided: DumbBalance, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbBalance", function() { return DumbBalance; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/set */ "./node_modules/lodash/set.js");
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-realtime */ "./node_modules/cozy-realtime/dist/index.js");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_balance_BalanceHeader__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/balance/BalanceHeader */ "./src/ducks/balance/BalanceHeader.jsx");
/* harmony import */ var ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/balance/NoAccount */ "../overrides/cozy-banks/src/ducks/balance/NoAccount.jsx");
/* harmony import */ var ducks_balance_AccountsImporting__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/balance/AccountsImporting */ "./src/ducks/balance/AccountsImporting.jsx");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var utils_triggers__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! utils/triggers */ "./src/utils/triggers.js");
/* harmony import */ var ducks_balance_Balance_styl__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/balance/Balance.styl */ "./src/ducks/balance/Balance.styl");
/* harmony import */ var ducks_balance_Balance_styl__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_Balance_styl__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/balance/BalancePanels */ "../overrides/cozy-banks/src/ducks/balance/BalancePanels.jsx");
/* harmony import */ var ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ducks/balance/helpers */ "./src/ducks/balance/helpers.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_balance_ImportGroupPanel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ducks/balance/ImportGroupPanel */ "./src/ducks/balance/ImportGroupPanel.jsx");
/* harmony import */ var components_Delayed__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! components/Delayed */ "./src/components/Delayed.jsx");
/* harmony import */ var hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! hooks/useFullyLoadedQuery */ "./src/hooks/useFullyLoadedQuery.jsx");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

/* global __TARGET__ */



































var syncPouchImmediately = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    var pouchLink, pouchManager;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            pouchLink = client.links.find(function (link) {
              return link.pouches;
            });
            pouchManager = pouchLink.pouches;
            _context.next = 4;
            return pouchManager.syncImmediately();

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function syncPouchImmediately(_x) {
    return _ref.apply(this, arguments);
  };
}();

var REALTIME_DOCTYPES = [doctypes__WEBPACK_IMPORTED_MODULE_15__["ACCOUNT_DOCTYPE"], doctypes__WEBPACK_IMPORTED_MODULE_15__["TRIGGER_DOCTYPE"], doctypes__WEBPACK_IMPORTED_MODULE_15__["TRANSACTION_DOCTYPE"], doctypes__WEBPACK_IMPORTED_MODULE_15__["GROUP_DOCTYPE"]];

var isLoading = function isLoading(props) {
  var accountsCollection = props.accounts,
      groupsCollection = props.groups,
      settingsCollection = props.settings;
  var collections = [accountsCollection, groupsCollection, settingsCollection];
  return collections.some(function (col) {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["isQueryLoading"])(col) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["hasQueryBeenLoaded"])(col);
  });
};

var getAllGroups = function getAllGroups(props) {
  var groups = props.groups,
      virtualGroups = props.virtualGroups;
  return [].concat(_toConsumableArray(groups.data), _toConsumableArray(virtualGroups));
};

var Balance = /*#__PURE__*/function (_PureComponent) {
  _inherits(Balance, _PureComponent);

  function Balance(props) {
    var _this;

    _classCallCheck(this, Balance);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Balance).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "handleSwitchChange", function (event, checked) {
      var path = event.target.id + '.checked';

      _this.setState(function (prevState) {
        var nextState = _objectSpread({}, prevState);

        lodash_set__WEBPACK_IMPORTED_MODULE_2___default()(nextState.panels, path, checked);
        return nextState;
      }, _this.savePanelState);
    });

    _this.state = {
      panels: null
    };
    _this.handleClickBalance = _this.handleClickBalance.bind(_assertThisInitialized(_this));
    _this.handlePanelChange = _this.handlePanelChange.bind(_assertThisInitialized(_this));
    _this.debouncedHandlePanelChange = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(_this.handlePanelChange, 3000, {
      leading: false,
      trailing: true
    }).bind(_assertThisInitialized(_this));
    _this.handleResume = _this.handleResume.bind(_assertThisInitialized(_this));
    _this.updateQueries = _this.updateQueries.bind(_assertThisInitialized(_this));
    _this.handleRealtime = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(_this.handleRealtime.bind(_assertThisInitialized(_this)), 1000, {
      leading: false,
      trailing: true
    });
    _this.realtime = null;
    return _this;
  }

  _createClass(Balance, [{
    key: "handlePanelChange",
    value: function handlePanelChange(panelId, event, expanded) {
      var path = panelId + '.expanded';
      this.setState(function (prevState) {
        var nextState = _objectSpread({}, prevState);

        lodash_set__WEBPACK_IMPORTED_MODULE_2___default()(nextState.panels, path, expanded);
        return nextState;
      }, this.savePanelState);
    }
  }, {
    key: "handleClickBalance",
    value: function handleClickBalance() {
      var _this$props = this.props,
          router = _this$props.router,
          filterByAccounts = _this$props.filterByAccounts;
      filterByAccounts(this.getCheckedAccounts());
      router.push('/balances/details');
    }
  }, {
    key: "savePanelState",
    value: function savePanelState() {
      var panels = this.state.panels;
      var _this$props2 = this.props,
          settingsCollection = _this$props2.settings,
          client = _this$props2.client;
      var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_22__["getDefaultedSettingsFromCollection"])(settingsCollection);

      var newSettings = _objectSpread({}, settings, {
        panelsState: panels
      });

      return client.save(newSettings);
    }
  }, {
    key: "getAccountOccurrencesInState",
    value: function getAccountOccurrencesInState(account) {
      var panels = this.state.panels;

      if (!panels) {
        return [];
      }

      return Object.values(panels).map(function (group) {
        return group.accounts[account._id];
      }).filter(Boolean);
    }
  }, {
    key: "getAllAccounts",
    value: function getAllAccounts() {
      var _this$props3 = this.props,
          accountsCollection = _this$props3.accounts,
          virtualAccounts = _this$props3.virtualAccounts;
      return [].concat(_toConsumableArray(accountsCollection.data), _toConsumableArray(virtualAccounts));
    }
  }, {
    key: "getCheckedAccounts",
    value: function getCheckedAccounts() {
      var _this2 = this;

      var accounts = this.getAllAccounts();
      return accounts.filter(function (account) {
        var occurrences = _this2.getAccountOccurrencesInState(account);

        return occurrences.some(function (occurrence) {
          return occurrence.checked && !occurrence.disabled;
        });
      });
    }
  }, {
    key: "ensureRealtime",
    value: function ensureRealtime() {
      if (this.realtime) {
        return;
      }

      var client = this.props.client;
      this.realtime = new cozy_realtime__WEBPACK_IMPORTED_MODULE_14___default.a({
        client: client
      });
    }
  }, {
    key: "startRealtime",
    value: function startRealtime() {
      if (this.realtimeStarted) {
        return;
      }

      this.ensureRealtime();
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = REALTIME_DOCTYPES[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var doctype = _step.value;
          this.realtime.subscribe('created', doctype, this.handleRealtime);
          this.realtime.subscribe('updated', doctype, this.handleRealtime);
          this.realtime.subscribe('deleted', doctype, this.handleRealtime);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      this.realtimeStarted = true;
    }
  }, {
    key: "stopRealtime",
    value: function stopRealtime() {
      if (!this.realtimeStarted || !this.realtime) {
        return;
      }

      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = REALTIME_DOCTYPES[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var doctype = _step2.value;
          this.realtime.unsubscribe('created', doctype, this.handleRealtime);
          this.realtime.unsubscribe('updated', doctype, this.handleRealtime);
          this.realtime.unsubscribe('deleted', doctype, this.handleRealtime);
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      this.realtimeStarted = false;
    }
  }, {
    key: "handleRealtime",
    value: function () {
      var _handleRealtime = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var client;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                client = this.props.client;

                if (false) {} // TODO discriminate on the ev received to only fetch what is important


                this.updateQueries();

              case 3:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function handleRealtime() {
        return _handleRealtime.apply(this, arguments);
      }

      return handleRealtime;
    }()
  }, {
    key: "updateQueries",
    value: function updateQueries() {
      var _this3 = this;

      this.props.accounts.fetch().then(function (resp) {
        if (resp.meta.count > 0) {
          _this3.props.groups.fetch();
        }
      });
      this.props.transactions.fetch();
      this.props.triggers.fetch();
    }
  }, {
    key: "handleResume",
    value: function handleResume() {
      this.updateQueries();
    }
  }, {
    key: "startResumeListeners",
    value: function startResumeListeners() {
      if (false) {}
    }
  }, {
    key: "stopResumeListeners",
    value: function stopResumeListeners() {
      if (false) {}
    }
  }, {
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                Object(lib_sentry__WEBPACK_IMPORTED_MODULE_6__["logInfo"])('----> Balance page');
                this.startResumeListeners();
                Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_30__["trackPage"])('moncompte:home');

              case 3:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopRealtime();
      this.stopRealtimeFallback();
      this.stopResumeListeners();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.ensureListenersProperlyConfigured();
    }
  }, {
    key: "ensureListenersProperlyConfigured",
    value: function ensureListenersProperlyConfigured() {
      try {
        this._ensureListenersProperlyConfigured();
      } catch (e) {
        /* eslint-disable no-console */
        console.error(e);
        console.warn('Balance: Could not correctly configure realtime, see error above.');
        /* eslint-enable no-console */
      }
    }
  }, {
    key: "_ensureListenersProperlyConfigured",
    value: function _ensureListenersProperlyConfigured() {
      var accountsCollection = this.props.accounts;
      var collections = [accountsCollection];

      if (collections.some(cozy_client__WEBPACK_IMPORTED_MODULE_12__["isQueryLoading"])) {
        return;
      } // See issue #2009 https://github.com/cozy/cozy-banks/issues/2009


      this.startRealtime();
      this.startRealtimeFallback();
      this.startResumeListeners();
    }
    /**
     * Starts setInterval loop, as a fallback in case realtime does not work.
     * If already started, does nothing.
     */

  }, {
    key: "startRealtimeFallback",
    value: function startRealtimeFallback() {
      if (!this.realtimeFallbackInterval && !this.realtimeStarted) {
        this.realtimeFallbackInterval = setInterval(this.updateQueries, 30 * 1000);
      }
    }
    /**
     * Stops  the realtime fallback loop, and clears the setIntervalId
     * If not started, does nothing.
     */

  }, {
    key: "stopRealtimeFallback",
    value: function stopRealtimeFallback() {
      if (!this.realtimeFallbackInterval) {
        return;
      }

      clearInterval(this.realtimeFallbackInterval);
      this.realtimeFallbackInterval = null;
    }
  }, {
    key: "render",
    value: function render() {
      if (isLoading(this.props)) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_28__["default"], {
          theme: "primary"
        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_balance_BalanceHeader__WEBPACK_IMPORTED_MODULE_19__["default"], null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_17__["default"], null));
      }

      var triggersCollection = this.props.triggers;
      var accounts = this.getAllAccounts();
      var triggers = triggersCollection.data;
      var hasNoAccount = accounts.filter(function (a) {
        return !Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_27__["isVirtualAccount"])(a);
      }).length === 0;

      if (hasNoAccount || cozy_flags__WEBPACK_IMPORTED_MODULE_13___default()('balance.no-account') || cozy_flags__WEBPACK_IMPORTED_MODULE_13___default()('banks.balance.account-loading')) {
        var konnectorInfos = triggers.map(function (x) {
          return x.attributes;
        }).filter(utils_triggers__WEBPACK_IMPORTED_MODULE_24__["isBankTrigger"]).map(function (t) {
          return {
            konnector: lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(t, 'message.konnector'),
            account: lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(t, 'message.account'),
            status: lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(t, 'current_state.status')
          };
        });

        if (cozy_flags__WEBPACK_IMPORTED_MODULE_13___default()('banks.balance.account-loading')) {
          // eslint-disable-next-line no-console
          console.log('konnectorInfos', konnectorInfos);

          if (konnectorInfos.length === 0) {
            konnectorInfos = [{
              konnector: 'creditcooperatif148',
              status: 'done'
            }, {
              konnector: 'labanquepostale44',
              account: 'fakeId',
              status: 'errored'
            }];
          }
        }

        var hasKonnectorRunning = konnectorInfos.some(function (k) {
          return k.status === 'running';
        });

        if (hasKonnectorRunning) {
          return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_balance_AccountsImporting__WEBPACK_IMPORTED_MODULE_21__["default"], {
            konnectorInfos: konnectorInfos
          });
        }

        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_balance_NoAccount__WEBPACK_IMPORTED_MODULE_20__["default"], null);
      }

      var groups = getAllGroups(this.props);
      var checkedAccounts = this.getCheckedAccounts();
      var accountsBalance = lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default()(checkedAccounts, ducks_account_helpers__WEBPACK_IMPORTED_MODULE_23__["getAccountBalance"]);
      var subtitleParams = checkedAccounts.length === accounts.length ? undefined : {
        nbCheckedAccounts: checkedAccounts.length,
        nbAccounts: accounts.length
      };
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_28__["default"], {
        theme: "primary"
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_balance_BalanceHeader__WEBPACK_IMPORTED_MODULE_19__["default"], {
        onClickBalance: this.handleClickBalance,
        accountsBalance: accountsBalance,
        accounts: checkedAccounts,
        subtitleParams: subtitleParams
      }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_32__["default"], {
        delay: this.props.delayContent
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_18__["default"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_11___default()(_defineProperty({}, ducks_balance_Balance_styl__WEBPACK_IMPORTED_MODULE_25___default.a.Balance__panelsContainer, true))
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_balance_ImportGroupPanel__WEBPACK_IMPORTED_MODULE_31__["default"], null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(ducks_balance_BalancePanels__WEBPACK_IMPORTED_MODULE_26__["default"], {
        groups: groups,
        panelsState: this.state.panels,
        onSwitchChange: this.handleSwitchChange,
        onPanelChange: this.debouncedHandlePanelChange
      }))));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      if (isLoading(props)) {
        return null;
      }

      var settingsCollection = props.settings;
      var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_22__["getDefaultedSettingsFromCollection"])(settingsCollection);
      var allGroups = getAllGroups(props);
      var currentPanelsState = state.panels || settings.panelsState || {};
      var newPanelsState = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_27__["getPanelsState"])(allGroups, currentPanelsState);
      return {
        panels: newPanelsState
      };
    }
  }]);

  return Balance;
}(react__WEBPACK_IMPORTED_MODULE_7__["PureComponent"]);

Balance.defaultProps = {
  delayContent: 0
};
var DumbBalance = Balance;
var actionCreators = {
  filterByAccounts: ducks_filters__WEBPACK_IMPORTED_MODULE_29__["filterByAccounts"]
};

var addTransactions = function addTransactions(Component) {
  var Wrapped = function Wrapped(props) {
    var conn = Object(doctypes__WEBPACK_IMPORTED_MODULE_15__["makeBalanceTransactionsConn"])();
    var transactions = Object(hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_33__["default"])(conn.query, conn);
    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Component, _extends({}, props, {
      transactions: transactions
    }));
  };

  Wrapped.displayName = "withTransactions(".concat(Component.displayName || Component.name, ")");
  return Wrapped;
};

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_5___default()(react_router__WEBPACK_IMPORTED_MODULE_9__["withRouter"], Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(null, actionCreators), Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["queryConnect"])({
  accounts: doctypes__WEBPACK_IMPORTED_MODULE_15__["accountsConn"],
  groups: doctypes__WEBPACK_IMPORTED_MODULE_15__["groupsConn"],
  settings: doctypes__WEBPACK_IMPORTED_MODULE_15__["settingsConn"],
  triggers: doctypes__WEBPACK_IMPORTED_MODULE_15__["cronKonnectorTriggersConn"]
}), Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(Object(reselect__WEBPACK_IMPORTED_MODULE_10__["createStructuredSelector"])({
  virtualAccounts: selectors__WEBPACK_IMPORTED_MODULE_16__["getVirtualAccounts"],
  virtualGroups: selectors__WEBPACK_IMPORTED_MODULE_16__["getVirtualGroups"]
})), cozy_client__WEBPACK_IMPORTED_MODULE_12__["withClient"], addTransactions)(Balance));

/***/ }),

/***/ "./src/ducks/balance/Balance.styl":
/*!****************************************!*\
  !*** ./src/ducks/balance/Balance.styl ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Balance__panelsContainer":"Balance__panelsContainer--2_2KA"};

/***/ }),

/***/ "./src/ducks/balance/BalanceDetailsHeader.jsx":
/*!****************************************************!*\
  !*** ./src/ducks/balance/BalanceDetailsHeader.jsx ***!
  \****************************************************/
/*! exports provided: DumbBalanceDetailsHeader, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbBalanceDetailsHeader", function() { return DumbBalanceDetailsHeader; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var ducks_search_SearchIconLink__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/search/SearchIconLink */ "./src/ducks/search/SearchIconLink.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_balance_AccountSwitchBalanceDetails__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/balance/AccountSwitchBalanceDetails */ "../overrides/cozy-banks/src/ducks/balance/AccountSwitchBalanceDetails.jsx");
/* harmony import */ var ducks_selection_SelectionIconLink__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/selection/SelectionIconLink */ "./src/ducks/selection/SelectionIconLink.jsx");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");














var DumbBalanceDetailsHeader = function DumbBalanceDetailsHeader(props) {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var accountSwitchSize = props.accountSwitchSize,
      children = props.children,
      showLegalMention = props.showLegalMention;

  var _useSelectionContext = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_13__["useSelectionContext"])(),
      isSelectionModeActive = _useSelectionContext.isSelectionModeActive,
      setIsSelectionModeActive = _useSelectionContext.setIsSelectionModeActive;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_4__["default"], {
    theme: "inverted",
    fixed: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({
      'u-p-0': isMobile,
      'u-pb-half': !isMobile && children
    })
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: 'u-flex u-flex-items-center'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    theme: "primary",
    arrow: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_AccountSwitchBalanceDetails__WEBPACK_IMPORTED_MODULE_11__["default"], {
    accountSwitchSize: accountSwitchSize
  })), showLegalMention !== false ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: isMobile ? 'u-mr-1 u-mb-half' : ''
  }) : null), isMobile && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_8__["BarRight"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_SearchIconLink__WEBPACK_IMPORTED_MODULE_9__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_selection_SelectionIconLink__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isSelectionModeActive: isSelectionModeActive,
    setIsSelectionModeActive: setIsSelectionModeActive
  })), children);
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    filteredAccounts: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_7__["getFilteredAccounts"])(state)
  };
};

var BalanceDetailsHeader = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps)(DumbBalanceDetailsHeader);
/* harmony default export */ __webpack_exports__["default"] = (BalanceDetailsHeader);

/***/ }),

/***/ "./src/ducks/balance/BalanceDetailsPage.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/balance/BalanceDetailsPage.jsx ***!
  \**************************************************/
/*! exports provided: RawBalanceDetailsPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RawBalanceDetailsPage", function() { return RawBalanceDetailsPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_transactions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions */ "./src/ducks/transactions/index.js");
/* harmony import */ var ducks_loan__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/loan */ "./src/ducks/loan/index.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_reimbursements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/reimbursements */ "./src/ducks/reimbursements/index.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");












var getComponent = function getComponent(filteringDoc) {
  if (filteringDoc && filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_6__["ACCOUNT_DOCTYPE"]) {
    var accountType = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__["getAccountType"])(filteringDoc);

    if (accountType === 'Loan') {
      return ducks_loan__WEBPACK_IMPORTED_MODULE_4__["LoanDetailsPage"];
    } else if (accountType === 'Reimbursements') {
      return ducks_reimbursements__WEBPACK_IMPORTED_MODULE_7__["ReimbursementsPage"];
    } else {
      return ducks_transactions__WEBPACK_IMPORTED_MODULE_3__["TransactionsPageWithBackButton"];
    }
  } else if (filteringDoc && filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_6__["GROUP_DOCTYPE"]) {
    if (Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_5__["isLoanGroup"])(filteringDoc)) {
      return ducks_loan__WEBPACK_IMPORTED_MODULE_4__["LoanListPage"];
    } else if (Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_5__["isReimbursementsVirtualGroup"])(filteringDoc)) {
      return ducks_reimbursements__WEBPACK_IMPORTED_MODULE_7__["ReimbursementsPage"];
    } else {
      return ducks_transactions__WEBPACK_IMPORTED_MODULE_3__["TransactionsPageWithBackButton"];
    }
  } else {
    return ducks_transactions__WEBPACK_IMPORTED_MODULE_3__["TransactionsPageWithBackButton"];
  }
};

var RawBalanceDetailsPage = function RawBalanceDetailsPage(props) {
  Object(lib_sentry__WEBPACK_IMPORTED_MODULE_10__["logInfo"])('> Filtering Doc : ' + JSON.stringify(props.filteringDoc));
  var Component = getComponent(props.filteringDoc);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_8__["default"], {
    theme: 'primary'
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, props));
};

function mapStateToProps(state) {
  return {
    filteringDoc: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["getFilteringDoc"])(state)
  };
}

var BalanceDetailsPage = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps)(RawBalanceDetailsPage);
/* harmony default export */ __webpack_exports__["default"] = (BalanceDetailsPage);

/***/ }),

/***/ "./src/ducks/balance/BalanceHeader.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/balance/BalanceHeader.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_KonnectorUpdateInfo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/KonnectorUpdateInfo */ "./src/components/KonnectorUpdateInfo/index.jsx");
/* harmony import */ var ducks_balance_History__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/balance/History */ "./src/ducks/balance/History.jsx");
/* harmony import */ var ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/balance/HeaderTitle */ "../overrides/cozy-banks/src/ducks/balance/HeaderTitle.jsx");
/* harmony import */ var components_Delayed__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Delayed */ "./src/components/Delayed.jsx");
/* harmony import */ var ducks_balance_BalanceHeader_styl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/balance/BalanceHeader.styl */ "./src/ducks/balance/BalanceHeader.styl");
/* harmony import */ var ducks_balance_BalanceHeader_styl__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_BalanceHeader_styl__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_balance_PageTitleBalanceHeader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/balance/PageTitleBalanceHeader */ "../overrides/cozy-banks/src/ducks/balance/PageTitleBalanceHeader.jsx");















var BalanceHeader = function BalanceHeader(_ref) {
  var accountsBalance = _ref.accountsBalance,
      accounts = _ref.accounts,
      subtitleParams = _ref.subtitleParams,
      onClickBalance = _ref.onClickBalance;
  var conn = Object(doctypes__WEBPACK_IMPORTED_MODULE_4__["makeBalanceTransactionsConn"])();
  var transactions = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(conn.query, conn);

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var subtitle = subtitleParams ? t('BalanceHistory.checked-accounts', subtitleParams) : t('BalanceHistory.all-accounts');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: ducks_balance_BalanceHeader_styl__WEBPACK_IMPORTED_MODULE_11___default.a.BalanceHeader,
    theme: "inverted"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_PageTitleBalanceHeader__WEBPACK_IMPORTED_MODULE_13__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_9__["default"], {
    balance: accountsBalance,
    subtitle: subtitle,
    onClickBalance: onClickBalance
  }), accounts && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_10__["default"], {
    fallback: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_History__WEBPACK_IMPORTED_MODULE_8__["HistoryFallback"], null),
    delay: cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('balance.no-delay-history') ? 0 : 1000
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_History__WEBPACK_IMPORTED_MODULE_8__["default"], {
    animation: !cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('balance.no-history-animation'),
    accounts: accounts,
    transactions: transactions
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_KonnectorUpdateInfo__WEBPACK_IMPORTED_MODULE_7__["default"], null), ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_12__["default"].active ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "u-pb-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_12__["default"], null)) : null);
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(BalanceHeader));

/***/ }),

/***/ "./src/ducks/balance/BalanceHeader.styl":
/*!**********************************************!*\
  !*** ./src/ducks/balance/BalanceHeader.styl ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"BalanceHeader":"BalanceHeader--Pitoj","SearchIcon":"SearchIcon--3kuYE"};

/***/ }),

/***/ "./src/ducks/balance/BalancePanels.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/balance/BalancePanels.jsx ***!
  \*********************************************/
/*! exports provided: BalanceAddAccountButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BalanceAddAccountButton", function() { return BalanceAddAccountButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_balance_GroupPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/balance/GroupPanel */ "./src/ducks/balance/GroupPanel.jsx");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/AddAccountLink */ "../overrides/cozy-banks/src/ducks/settings/AddAccountLink.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_balance_BalancePanels_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/balance/BalancePanels.styl */ "./src/ducks/balance/BalancePanels.styl");
/* harmony import */ var ducks_balance_BalancePanels_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_BalancePanels_styl__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var components_Delayed__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/Delayed */ "./src/components/Delayed.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");











var GROUP_PANEL_RENDER_DELAY = 150;

var BalancePanels = function BalancePanels(props) {
  var groups = props.groups,
      panelsState = props.panelsState,
      onSwitchChange = props.onSwitchChange,
      onPanelChange = props.onPanelChange,
      withBalance = props.withBalance;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_10__["useRouter"])();
  var goToGroupsSettings = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    router.push('/settings/groups');
  }, [router]);
  var groupsSorted = Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_7__["translateAndSortGroups"])(groups, t);
  var groupPanelDelay = cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('balance.no-delay-groups') ? 0 : GROUP_PANEL_RENDER_DELAY;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_BalancePanels_styl__WEBPACK_IMPORTED_MODULE_8___default.a.BalancePanels
  }, groupsSorted.map(function (_ref, i) {
    var group = _ref.group,
        label = _ref.label;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_9__["default"], {
      key: group._id,
      delay: i * groupPanelDelay
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_GroupPanel__WEBPACK_IMPORTED_MODULE_2__["default"], {
      className: cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('balance.no-delay-groups') ? '' : 'u-fx-from-bottom',
      group: group,
      groupLabel: label,
      expanded: panelsState[group._id].expanded,
      checked: panelsState[group._id].checked,
      switches: panelsState[group._id].accounts,
      onSwitchChange: onSwitchChange,
      onChange: onPanelChange,
      withBalance: withBalance,
      initialVisibleAccounts: i < 2
    }));
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_9__["default"], {
    delay: groupsSorted.length * GROUP_PANEL_RENDER_DELAY
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_BalancePanels_styl__WEBPACK_IMPORTED_MODULE_8___default.a.BalancePanels__actions
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_6__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BalanceAddAccountButton, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: goToGroupsSettings,
    theme: "secondary",
    label: t('Balance.manage-accounts')
  }))));
};

BalancePanels.propTypes = {
  groups: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object).isRequired,
  panelsState: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  onSwitchChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  onPanelChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  withBalance: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
BalancePanels.defaultProps = {
  withBalance: true,
  onSwitchChange: undefined,
  onPanelChange: undefined
};
var BalanceAddAccountButton = function BalanceAddAccountButton(_ref2) {
  var theme = _ref2.theme,
      onClick = _ref2.onClick;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n2.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: onClick,
    theme: theme,
    label: t('Accounts.add-bank')
  });
};
BalanceAddAccountButton.defaultProps = {
  theme: 'ghost'
};
/* harmony default export */ __webpack_exports__["default"] = (BalancePanels);

/***/ }),

/***/ "./src/ducks/balance/BalancePanels.styl":
/*!**********************************************!*\
  !*** ./src/ducks/balance/BalancePanels.styl ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"BalancePanels":"BalancePanels--2JHQ9","BalancePanels__actions":"BalancePanels__actions--2DN2_"};

/***/ }),

/***/ "./src/ducks/balance/GroupPanel.jsx":
/*!******************************************!*\
  !*** ./src/ducks/balance/GroupPanel.jsx ***!
  \******************************************/
/*! exports provided: getGroupPanelSummaryClasses, DumbGroupPanel, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupPanelSummaryClasses", function() { return getGroupPanelSummaryClasses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbGroupPanel", function() { return DumbGroupPanel; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_AccordionSummary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/AccordionSummary */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/AccordionSummary/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_AccordionDetails__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/AccordionDetails */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/AccordionDetails/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Box */ "./node_modules/cozy-ui/transpiled/react/Box/index.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Accordion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Accordion */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Accordion/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Switch */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Switch/index.js");
/* harmony import */ var ducks_balance_AccountsList__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/balance/AccountsList */ "./src/ducks/balance/AccountsList.jsx");
/* harmony import */ var components_withFilters__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/withFilters */ "./src/components/withFilters.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/balance/GroupPanel.styl */ "./src/ducks/balance/GroupPanel.styl");
/* harmony import */ var ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var ducks_reimbursements_selectors__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/reimbursements/selectors */ "./src/ducks/reimbursements/selectors.js");
/* harmony import */ var ducks_settings_selectors__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/settings/selectors */ "./src/ducks/settings/selectors.js");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");


function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



























var GroupPanelSummary = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__["withStyles"])(function (theme) {
  return {
    root: {},
    expandIcon: {
      marginLeft: theme.spacing(2),
      marginRight: theme.spacing(0),
      color: theme.palette.grey[400]
    },
    expanded: {},
    content: {
      marginTop: 0,
      marginBottom: 0,
      paddingRight: 0,
      alignItems: 'stretch',
      // Do not put align-items: stretch on the root otherwise the expand icon
      // has the wrong size. Here, only the label takes all the vertical space.
      alignSelf: 'stretch',
      '&$expanded': {
        marginTop: 0,
        marginBottom: 0,
        paddingRight: 0
      }
    }
  };
})(cozy_ui_transpiled_react_MuiCozyTheme_AccordionSummary__WEBPACK_IMPORTED_MODULE_5__["default"]);
var getGroupPanelSummaryClasses = function getGroupPanelSummaryClasses(group, state) {
  if (!Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_21__["isReimbursementsVirtualGroup"])(group)) {
    return;
  }

  var lateHealthExpenses = Object(ducks_reimbursements_selectors__WEBPACK_IMPORTED_MODULE_23__["getLateHealthExpenses"])(state);
  var hasLateHealthExpenses = lateHealthExpenses.length > 0;
  var settings = Object(ducks_settings_selectors__WEBPACK_IMPORTED_MODULE_24__["getSettings"])(state);
  var lateHealthExpensesNotification = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_25__["getNotificationFromSettings"])(settings, 'lateHealthReimbursement');

  if (hasLateHealthExpenses && lateHealthExpensesNotification && lateHealthExpensesNotification.enabled) {
    return {
      root: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default.a['GroupPanelSummary--lateHealthReimbursements']
    };
  }
};

var NoTransition = function NoTransition(props) {
  var open = props.in,
      children = props.children;

  if (open) {
    return children;
  } else {
    return null;
  }
};

var GroupPanel = function GroupPanel(props) {
  var group = props.group,
      groupLabel = props.groupLabel,
      onChange = props.onChange,
      expandedProp = props.expanded,
      switches = props.switches,
      onSwitchChange = props.onSwitchChange,
      checked = props.checked,
      withBalance = props.withBalance,
      className = props.className,
      initialVisibleAccounts = props.initialVisibleAccounts;
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_20__["useRouter"])();
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["useClient"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      deleting = _useState2[0],
      setDeleting = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(expandedProp),
      _useState4 = _slicedToArray(_useState3, 2),
      optimisticExpanded = _useState4[0],
      setOptimisticExpanded = _useState4[1];

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_12__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useFilters = Object(components_withFilters__WEBPACK_IMPORTED_MODULE_18__["useFilters"])(),
      filterByDoc = _useFilters.filterByDoc;

  var groupPanelSummaryClasses = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useSelector"])(function (state) {
    return getGroupPanelSummaryClasses(group, state);
  });
  var goToGroupDetails = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])(function () {
    filterByDoc(group);
    router.push('/balances/details');
  }, [group, filterByDoc, router]);
  var handleSummaryContentClick = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])(function (ev) {
    if (group.loading) return;
    ev.stopPropagation();
    goToGroupDetails();
  }, [goToGroupDetails, group.loading]);
  var handleSwitchClick = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])(function (e) {
    e.stopPropagation();
  }, []);
  var handlePanelChange = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])( /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(event, expanded) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              // cozy-client does not do optimistic update yet
              // so we have to do it ourselves in the component
              setOptimisticExpanded(expanded);

              if (!onChange) {
                _context.next = 4;
                break;
              }

              _context.next = 4;
              return onChange(group._id, event, expanded);

            case 4:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x, _x2) {
      return _ref.apply(this, arguments);
    };
  }(), [onChange, group, setOptimisticExpanded]);
  var handleDelete = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            setDeleting(true);
            _context2.prev = 1;
            _context2.next = 4;
            return client.destroy(group);

          case 4:
            _context2.next = 9;
            break;

          case 6:
            _context2.prev = 6;
            _context2.t0 = _context2["catch"](1);
            setDeleting(false);

          case 9:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[1, 6]]);
  })), [client, group]);
  var groupAccounts = group.accounts.data.filter(Boolean);
  var nbAccounts = groupAccounts.length;
  var nbCheckedAccounts = Object.values(switches).filter(function (s) {
    return s.checked;
  }).length;
  var uncheckedAccountsIds = Object.keys(switches).filter(function (k) {
    return !switches[k].checked;
  });
  var expanded = optimisticExpanded !== undefined ? optimisticExpanded : expandedProp;
  var isUncheckable = !group.loading;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Accordion__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: className,
    expanded: expanded,
    onChange: handlePanelChange,
    TransitionComponent: NoTransition
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(GroupPanelSummary, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_defineProperty({}, ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default.a['GroupPanelSummary--unchecked'], !checked && isUncheckable)),
    classes: groupPanelSummaryClasses
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default.a.GroupPanelSummary__labelBalanceWrapper,
    onClick: handleSummaryContentClick
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default.a.GroupPanelSummary__label
  }, groupLabel, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), nbCheckedAccounts < nbAccounts && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_26__["default"], {
    className: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default.a.GroupPanelSummary__caption,
    variant: "caption",
    color: "textSecondary"
  }, t('Balance.nb-accounts', {
    nbCheckedAccounts: nbCheckedAccounts,
    smart_count: nbAccounts
  }))), withBalance && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: "u-ml-half",
    symbol: "\u20AC",
    total: Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_21__["getGroupBalance"])(group, uncheckedAccountsIds),
    currencyClassName: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_22___default.a.GroupPanelSummary__figureCurrency
  })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_7__["default"], {
    display: "flex",
    alignItems: "center"
  }, onSwitchChange && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_16__["default"], {
    disableRipple: true,
    className: !isMobile ? 'u-mr-half' : null,
    checked: checked,
    color: "primary",
    onClick: handleSwitchClick,
    id: "[".concat(group._id, "]"),
    onChange: onSwitchChange
  }))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_AccordionDetails__WEBPACK_IMPORTED_MODULE_6__["default"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "u-flex-grow-1 u-maw-100"
  }, groupAccounts && groupAccounts.length > 0 ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ducks_balance_AccountsList__WEBPACK_IMPORTED_MODULE_17__["default"], {
    group: group,
    switches: switches,
    onSwitchChange: onSwitchChange,
    initialVisibleAccounts: initialVisibleAccounts
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_19__["default"], {
    className: "u-m-1"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_26__["default"], {
    variant: "body1"
  }, t('Balance.no-accounts-in-group.description')), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__["Media"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_14__["ButtonLink"], {
    className: "u-ml-0",
    href: "#/settings/groups/".concat(group._id)
  }, t('Balance.no-accounts-in-group.button'))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__["Img"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
    theme: "text",
    busy: deleting,
    label: t('Groups.delete'),
    onClick: handleDelete
  })))))));
};

var DumbGroupPanel = GroupPanel;
GroupPanel.propTypes = {
  group: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  switches: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  checked: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
  expanded: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  onSwitchChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  withBalance: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool
};
GroupPanel.defaultProps = {
  withBalance: true
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_3___default.a.memo(GroupPanel));

/***/ }),

/***/ "./src/ducks/balance/GroupPanel.styl":
/*!*******************************************!*\
  !*** ./src/ducks/balance/GroupPanel.styl ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"GroupPanelSummary__labelBalanceWrapper":"GroupPanelSummary__labelBalanceWrapper--1HmTy","GroupPanelSummary__figureCurrency":"GroupPanelSummary__figureCurrency--2i_wP","GroupPanelSummary__caption":"GroupPanelSummary__caption--1Irbn","GroupPanelSummary__icon":"GroupPanelSummary__icon--2I-CQ","GroupPanelSummary--unchecked":"GroupPanelSummary--unchecked--3NUhv","GroupPanelSummary__content":"GroupPanelSummary__content--3rFP6","GroupPanelSummary--lateHealthReimbursements":"GroupPanelSummary--lateHealthReimbursements--2OOz1"};

/***/ }),

/***/ "./src/ducks/balance/HeaderTitle.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/balance/HeaderTitle.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/balance/HeaderTitle.styl */ "./src/ducks/balance/HeaderTitle.styl");
/* harmony import */ var ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");






var HeaderTitle = function HeaderTitle(_ref) {
  var balance = _ref.balance,
      subtitle = _ref.subtitle,
      onClickBalance = _ref.onClickBalance,
      className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_3___default.a.HeaderTitle, className)
  }, balance !== undefined && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: onClickBalance,
    className: ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_3___default.a.HeaderTitle_balance,
    total: balance,
    symbol: "\u20AC"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_HeaderTitle_styl__WEBPACK_IMPORTED_MODULE_3___default.a.HeaderTitle_subtitle
  }, subtitle));
};

HeaderTitle.propTypes = {
  balance: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  onClickBalance: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  subtitle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
HeaderTitle.defaultProps = {
  onClickBalance: undefined,
  balance: undefined,
  className: undefined
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(HeaderTitle));

/***/ }),

/***/ "./src/ducks/balance/HeaderTitle.styl":
/*!********************************************!*\
  !*** ./src/ducks/balance/HeaderTitle.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"HeaderTitle":"HeaderTitle--3lGvo","HeaderTitle_balance":"HeaderTitle_balance--1RM-C","HeaderTitle_subtitle":"HeaderTitle_subtitle--3gbag"};

/***/ }),

/***/ "./src/ducks/balance/History.jsx":
/*!***************************************!*\
  !*** ./src/ducks/balance/History.jsx ***!
  \***************************************/
/*! exports provided: HistoryFallback, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HistoryFallback", function() { return HistoryFallback; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/max */ "./node_modules/lodash/max.js");
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_max__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/withBreakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/withBreakpoints.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/balance/History.styl */ "./src/ducks/balance/History.styl");
/* harmony import */ var ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var ducks_balance_HistoryChart__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/balance/HistoryChart */ "./src/ducks/balance/HistoryChart.jsx");
/* harmony import */ var utils_d3__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! utils/d3 */ "./src/utils/d3.js");
/* harmony import */ var ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/balance/helpers */ "./src/ducks/balance/helpers.js");
/* harmony import */ var components_withSize__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/withSize */ "./src/components/withSize.jsx");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



















var today = new Date();
var oneYearBefore = Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["subYears"])(today, 1);
var HISTORY_MOBILE_HEIGHT = 95;
var HISTORY_DESKTOP_HEIGHT = 141;
/**
 * Component that is displayed while we wait a bit to start the
 * animation.
 *
 * It should have the same height as the normal history component
 * to prevent any jump of the page when the history component
 * finally appears.
 */

var HistoryFallback = function HistoryFallback() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_12__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var height = isMobile ? HISTORY_MOBILE_HEIGHT : HISTORY_DESKTOP_HEIGHT;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_13___default.a.History,
    style: {
      height: height
    }
  });
};

var History = /*#__PURE__*/function (_Component) {
  _inherits(History, _Component);

  function History(props, context) {
    var _this;

    _classCallCheck(this, History);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(History).call(this, props, context));
    _this.getTransactionsFilteredHelper = lodash_memoize__WEBPACK_IMPORTED_MODULE_3___default()(_this.getTransactionsFilteredHelper);
    return _this;
  }

  _createClass(History, [{
    key: "getBalanceHistory",
    value: function getBalanceHistory(accounts, transactions) {
      var balanceHistories = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_16__["getBalanceHistories"])(accounts, transactions, today, oneYearBefore);
      var balanceHistory = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_16__["sumBalanceHistories"])(Object.values(balanceHistories));
      return balanceHistory;
    }
  }, {
    key: "getTransactionsFiltered",
    value: function getTransactionsFiltered() {
      var transactions = this.props.transactions;
      return this.getTransactionsFilteredHelper(transactions);
    }
  }, {
    key: "getTransactionsFilteredHelper",
    value: function getTransactionsFilteredHelper(transactions) {
      var filteredTransactions = transactions.data.filter(function (t) {
        // Use .date as to get the debit date
        return t && t.date && Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["isAfter"])(new Date(t.date), oneYearBefore);
      });
      return _objectSpread({}, transactions, {
        data: filteredTransactions
      });
    }
  }, {
    key: "getChartData",
    value: function getChartData() {
      var accounts = this.props.accounts;
      var transactions = this.getTransactionsFiltered();
      var history = this.getBalanceHistory(accounts, transactions.data);
      var data = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_16__["balanceHistoryToChartData"])(history);
      return data;
    }
  }, {
    key: "getChartProps",
    value: function getChartProps() {
      var _this$props = this.props,
          isMobile = _this$props.breakpoints.isMobile,
          width = _this$props.size.width,
          animation = _this$props.animation;
      var data = this.getChartData();
      var nbTicks = lodash_uniq__WEBPACK_IMPORTED_MODULE_6___default()(Object.keys(lodash_groupBy__WEBPACK_IMPORTED_MODULE_5___default()(data, function (i) {
        return Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["format"])(i.x, 'YYYY-MM');
      }))).length;
      var intervalBetweenMonths = isMobile ? 52 : 89;
      var TICK_FORMAT = utils_d3__WEBPACK_IMPORTED_MODULE_15__["timeFormat"]('%b');
      var chartProps = {
        data: data,
        nbTicks: nbTicks,
        width: lodash_max__WEBPACK_IMPORTED_MODULE_4___default()([width, nbTicks * intervalBetweenMonths]),
        height: isMobile ? HISTORY_MOBILE_HEIGHT : HISTORY_DESKTOP_HEIGHT,
        margin: {
          top: 26,
          bottom: 35,
          left: 0,
          right: isMobile ? 16 : 32
        },
        showAxis: true,
        axisMargin: 10,
        tickFormat: TICK_FORMAT,
        animation: animation
      };
      return chartProps;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          transactions = _this$props2.transactions,
          className = _this$props2.className,
          width = _this$props2.size.width;
      var hasWidth = width !== undefined;
      var isTransactionsLoading = Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["isQueryLoading"])(transactions) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["hasQueryBeenLoaded"])(transactions);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_13___default.a.History, className)
      }, isTransactionsLoading || !hasWidth ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_11__["default"], {
        size: "xxlarge",
        color: "white"
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_HistoryChart__WEBPACK_IMPORTED_MODULE_14__["default"], this.getChartProps()));
    }
  }]);

  return History;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

History.propTypes = {
  accounts: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  transactions: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default()(Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_10__["default"])(), Object(components_withSize__WEBPACK_IMPORTED_MODULE_17__["default"])())(History));

/***/ }),

/***/ "./src/ducks/balance/History.styl":
/*!****************************************!*\
  !*** ./src/ducks/balance/History.styl ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"HistoryChart":"HistoryChart--1XJ3I","HistoryChartTooltip":"HistoryChartTooltip--2gaGa","HistoryChart__tooltipBalance":"HistoryChart__tooltipBalance--1IblA"};

/***/ }),

/***/ "./src/ducks/balance/HistoryChart.jsx":
/*!********************************************!*\
  !*** ./src/ducks/balance/HistoryChart.jsx ***!
  \********************************************/
/*! exports provided: ConnectedHistoryChart, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectedHistoryChart", function() { return ConnectedHistoryChart; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var utils_d3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! utils/d3 */ "./src/utils/d3.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var element_scroll_polyfill__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! element-scroll-polyfill */ "./node_modules/element-scroll-polyfill/index.js");
/* harmony import */ var element_scroll_polyfill__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(element_scroll_polyfill__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/utils/color */ "./node_modules/cozy-ui/transpiled/react/utils/color.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var components_Chart_LineChart__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Chart/LineChart */ "./src/components/Chart/LineChart.jsx");
/* harmony import */ var ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/balance/History.styl */ "./src/ducks/balance/History.styl");
/* harmony import */ var ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var ducks_chart_selectors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/chart/selectors */ "./src/ducks/chart/selectors.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }














 // on iOS white transparency on SVG failed so we should calculate hexa color

var gradientColor = Object(cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_8__["getCssVariableValue"])('historyGradientColor') || '#297ef2';
var gradientStyle = {
  '0%': Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__["lighten"])(gradientColor, 0.48),
  '100%': gradientColor
};

var getTooltipContent = function getTooltipContent(item, f) {
  var date = f(item.x, 'D MMM');
  var balance = item.y.toLocaleString('fr-FR', {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });
  return [{
    content: date
  }, {
    content: cozy_flags__WEBPACK_IMPORTED_MODULE_12___default()('amount-blur') ? 'XXX' : balance,
    style: 'font-weight: bold'
  }, {
    content: '€'
  }];
};

var HistoryChart = function HistoryChart(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      f = _useI18n.f;

  var container = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var data = props.data,
      height = props.height,
      minWidth = props.minWidth,
      className = props.className,
      animation = props.animation;
  var intervalBetweenPoints = 2;
  var width = Math.max(minWidth, intervalBetweenPoints * data.length);
  var getTooltipContentCb = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (item) {
    return getTooltipContent(item, f);
  }, [f]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var currContainer = container.current;
    currContainer.scrollTo(currContainer.scrollWidth, 0);
  }, []);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(ducks_balance_History_styl__WEBPACK_IMPORTED_MODULE_11___default.a.HistoryChart, className),
    ref: container
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Chart_LineChart__WEBPACK_IMPORTED_MODULE_10__["default"], _extends({
    animation: animation,
    xScale: utils_d3__WEBPACK_IMPORTED_MODULE_4__["scaleTime"],
    lineColor: "white",
    axisColor: "white",
    labelsColor: "rgba(255, 255, 255, 0.64)",
    gradient: gradientStyle,
    pointFillColor: "white",
    pointStrokeColor: "rgba(255, 255, 255, 0.3)",
    getTooltipContent: getTooltipContentCb,
    data: data,
    width: width,
    height: height
  }, props)));
};

var EnhancedHistoryChart = HistoryChart;
var ConnectedHistoryChart = lodash_flowRight__WEBPACK_IMPORTED_MODULE_5___default()(react_router__WEBPACK_IMPORTED_MODULE_2__["withRouter"], Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(function (state, ownProps) {
  return {
    data: Object(ducks_chart_selectors__WEBPACK_IMPORTED_MODULE_13__["getChartDataSelector"])(state, ownProps)
  };
}))(HistoryChart);
/* harmony default export */ __webpack_exports__["default"] = (EnhancedHistoryChart);

/***/ }),

/***/ "./src/ducks/balance/ImportGroupPanel.jsx":
/*!************************************************!*\
  !*** ./src/ducks/balance/ImportGroupPanel.jsx ***!
  \************************************************/
/*! exports provided: GroupPanelSummary, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupPanelSummary", function() { return GroupPanelSummary; });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_AccordionSummary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/AccordionSummary */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/AccordionSummary/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_AccordionDetails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/AccordionDetails */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/AccordionDetails/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Accordion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Accordion */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Accordion/index.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/balance/GroupPanel.styl */ "./src/ducks/balance/GroupPanel.styl");
/* harmony import */ var ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var ducks_context_BanksContext__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/context/BanksContext */ "./src/ducks/context/BanksContext.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

















var GroupPanelSummary = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])(function (theme) {
  return {
    root: {},
    expandIcon: {
      marginLeft: theme.spacing(2),
      marginRight: theme.spacing(0),
      color: theme.palette.grey[400]
    },
    expanded: {},
    content: {
      marginTop: 0,
      marginBottom: 0,
      paddingRight: 0,
      justifyContent: 'space-between',
      alignItems: 'center',
      '&$expanded': {
        marginTop: 0,
        marginBottom: 0,
        paddingRight: 0
      }
    }
  };
})(cozy_ui_transpiled_react_MuiCozyTheme_AccordionSummary__WEBPACK_IMPORTED_MODULE_2__["default"]);
var EllipseTypography = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])({
  root: {
    overflow: 'hidden',
    textOverflow: 'ellipsis',
    whiteSpace: 'nowrap'
  }
})(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__["default"]);
var ListItemTextColumn = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])({
  root: {
    flexBasis: '100%',
    paddingRight: '1rem'
  }
})(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_13__["default"]);
var PrimaryColumn = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__["withStyles"])({
  root: {
    flexBasis: '200%' // Primary column is twice as large as other columns

  }
})(ListItemTextColumn);

var ImportGroupPanel = function ImportGroupPanel() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n.t;

  var _useBanksContext = Object(ducks_context_BanksContext__WEBPACK_IMPORTED_MODULE_14__["useBanksContext"])(),
      _useBanksContext$jobs = _useBanksContext.jobsInProgress,
      jobsInProgress = _useBanksContext$jobs === void 0 ? [] : _useBanksContext$jobs,
      hasJobsInProgress = _useBanksContext.hasJobsInProgress;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(true),
      _useState2 = _slicedToArray(_useState, 2),
      expanded = _useState2[0],
      setExpanded = _useState2[1];

  if (!hasJobsInProgress) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Accordion__WEBPACK_IMPORTED_MODULE_4__["default"], {
    expanded: expanded,
    onClick: function onClick() {
      return setExpanded(!expanded);
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(GroupPanelSummary, {
    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(_defineProperty({}, ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7___default.a['GroupPanelSummary--unchecked'], false))
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7___default.a.GroupPanelSummary__content
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7___default.a.GroupPanelSummary__labelBalanceWrapper
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_balance_GroupPanel_styl__WEBPACK_IMPORTED_MODULE_7___default.a.GroupPanelSummary__label
  }, t('Balance.import-accounts')))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-flex u-flex-items-center u-mr-1"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_15__["default"], {
    size: "large"
  }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_AccordionDetails__WEBPACK_IMPORTED_MODULE_3__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-flex-grow-1 u-maw-100"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_9__["default"], null, jobsInProgress.map(function (a, i) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Row, {
      key: i,
      account: a,
      t: t
    });
  })))));
};

var Row = react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(function (_ref) {
  var account = _ref.account,
      t = _ref.t;
  var name = account.institutionLabel;
  var slug = account.konnector;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_11__["default"], {
    button: true,
    disableRipple: true
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_10__["default"], {
    account: {
      cozyMetadata: {
        createdByApp: slug
      }
    }
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(PrimaryColumn, {
    disableTypography: true
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EllipseTypography, {
    variant: "body1",
    color: "textPrimary"
  }, name), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, t('Balance.import-in-progress'))));
});
Row.displayName = 'Import Group Panel Row';
/* harmony default export */ __webpack_exports__["default"] = (ImportGroupPanel);

/***/ }),

/***/ "./src/ducks/balance/NoAccount.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/balance/NoAccount.jsx ***!
  \*****************************************/
/*! exports provided: NoAccount, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoAccount", function() { return NoAccount; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/balance/HeaderTitle */ "../overrides/cozy-banks/src/ducks/balance/HeaderTitle.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/settings/AddAccountLink */ "../overrides/cozy-banks/src/ducks/settings/AddAccountLink.jsx");
/* harmony import */ var components_VerticalBox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/VerticalBox */ "./src/components/VerticalBox.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/balance/NoAccount.styl */ "./src/ducks/balance/NoAccount.styl");
/* harmony import */ var ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Plus */ "./node_modules/cozy-ui/transpiled/react/Icons/Plus.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");














var NoAccount = function NoAccount(_ref) {
  var buttonTheme = _ref.buttonTheme,
      children = _ref.children;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t,
      lang = _useI18n.lang;

  var timelineImg = __webpack_require__("./src/ducks/balance sync recursive ^\\.\\/timeline_.*\\.svg$")("./timeline_".concat(isMobile ? 'mobile' : 'desktop', "_").concat(lang === 'fr' ? 'fr' : 'en', ".svg"));

  var contentProps = isMobile ? {
    center: true
  } : {
    bottom: true
  };
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_4__["default"], {
    variant: "inverted"
  }, isMobile && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_5__["default"], null, t('Balance.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_VerticalBox__WEBPACK_IMPORTED_MODULE_9__["Container"], {
    className: ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11___default.a.NoAccount
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_10__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_VerticalBox__WEBPACK_IMPORTED_MODULE_9__["Content"], contentProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_HeaderTitle__WEBPACK_IMPORTED_MODULE_6__["default"], {
    balance: 0,
    subtitle: t('Accounts.no-account')
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11___default.a.NoAccount_bottom
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11___default.a.NoAccount_chart
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: timelineImg,
    alt: "",
    className: ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11___default.a.NoAccount_timeline
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "u-mb-3 u-mr-1"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_8__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    theme: buttonTheme,
    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_13__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_12__["default"]
    }),
    size: "large",
    className: ducks_balance_NoAccount_styl__WEBPACK_IMPORTED_MODULE_11___default.a.NoAccount_addButton,
    label: t('Accounts.add-bank')
  }))), children);
};
NoAccount.defaultProps = {
  buttonTheme: 'highlight'
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(NoAccount));

/***/ }),

/***/ "./src/ducks/balance/NoAccount.styl":
/*!******************************************!*\
  !*** ./src/ducks/balance/NoAccount.styl ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"NoAccount":"NoAccount--3L_DL","NoAccount_addButton":"NoAccount_addButton--2wZ2K","NoAccount_bottom":"NoAccount_bottom--1pZYT","NoAccount_chart":"NoAccount_chart--35u4W","NoAccount_timeline":"NoAccount_timeline--1V_uG"};

/***/ }),

/***/ "./src/ducks/balance/ReimbursementsIcon.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/balance/ReimbursementsIcon.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ReimbursementsIcon; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var assets_icons_categories_icon_cat_health_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/icons/categories/icon-cat-health.svg */ "../overrides/cozy-banks/src/assets/icons/categories/icon-cat-health.svg");
/* harmony import */ var ducks_balance_ReimbursementsIcon_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/balance/ReimbursementsIcon.styl */ "./src/ducks/balance/ReimbursementsIcon.styl");
/* harmony import */ var ducks_balance_ReimbursementsIcon_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ducks_balance_ReimbursementsIcon_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/utils/color */ "./node_modules/cozy-ui/transpiled/react/utils/color.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_Hourglass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Hourglass */ "./node_modules/cozy-ui/transpiled/react/Icons/Hourglass.js");








 // For some categories (currently only health), we don't want to use the
// category icon. This maps category ids to custom icons. These icons will be
// used first if they exist, otherwise we fall back on the category icon, or
// "potentialTransfer" icon if there's no category id

var categoryIdToIcon = {
  '400610': assets_icons_categories_icon_cat_health_svg__WEBPACK_IMPORTED_MODULE_3__["default"]
};
function ReimbursementsIcon(props) {
  var className = props.className,
      account = props.account,
      size = props.size;
  var icon = categoryIdToIcon[account.categoryId];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_balance_ReimbursementsIcon_styl__WEBPACK_IMPORTED_MODULE_4___default.a.ReimbursementsIcon, className)
  }, icon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    icon: icon,
    size: size
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    categoryId: account.categoryId || '100',
    size: size
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_balance_ReimbursementsIcon_styl__WEBPACK_IMPORTED_MODULE_4___default.a.ReimbursementsIcon__hourglass)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Hourglass__WEBPACK_IMPORTED_MODULE_8__["default"],
    size: 8,
    color: Object(cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_5__["getCssVariableValue"])('coolGrey')
  })));
}
ReimbursementsIcon.propTypes = {
  size: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number
};
ReimbursementsIcon.defaultProps = {
  size: 24
};

/***/ }),

/***/ "./src/ducks/balance/ReimbursementsIcon.styl":
/*!***************************************************!*\
  !*** ./src/ducks/balance/ReimbursementsIcon.styl ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ReimbursementsIcon":"ReimbursementsIcon--C_iBo","ReimbursementsIcon__hourglass":"ReimbursementsIcon__hourglass--1R0zt"};

/***/ }),

/***/ "./src/ducks/balance/SetFilterAndRedirect.jsx":
/*!****************************************************!*\
  !*** ./src/ducks/balance/SetFilterAndRedirect.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");







/**
 * - Checks the params from the URL
 * - Sets filter doc accordingly
 * - Redirects to the right page
 */

var SetFilterAndRedirect = function SetFilterAndRedirect() {
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useRouter"])();
  var params = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useParams"])();
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();
  var accounts = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"]);
  var groups = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["groupsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_5__["groupsConn"]);
  var accountsLoaded = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["hasQueryBeenLoaded"])(accounts);
  var groupsLoaded = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["hasQueryBeenLoaded"])(groups);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!accountsLoaded || !groupsLoaded) {
      return;
    } else {
      var docId = params.accountOrGroupId;
      var account = accounts.data && accounts.data.find(function (x) {
        return x._id === docId;
      });

      if (account) {
        dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_6__["filterByDoc"])({
          _type: doctypes__WEBPACK_IMPORTED_MODULE_5__["ACCOUNT_DOCTYPE"],
          _id: account._id
        }));
        router.push("/balances/".concat(params.page));
        return;
      }

      var group = groups.data && groups.data.find(function (x) {
        return x._id === docId;
      });

      if (group) {
        dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_6__["filterByDoc"])({
          _type: doctypes__WEBPACK_IMPORTED_MODULE_5__["GROUP_DOCTYPE"],
          _id: group._id
        }));
        router.push("/balances/".concat(params.page));
        return;
      }

      router.push("/balances");
    }
  }, [accountsLoaded, groupsLoaded]); // eslint-disable-line react-hooks/exhaustive-deps

  if (!Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["hasQueryBeenLoaded"])(accounts) || !Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["hasQueryBeenLoaded"])(groups)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_4__["default"], null);
  }

  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (SetFilterAndRedirect);

/***/ }),

/***/ "./src/ducks/balance/helpers.js":
/*!**************************************!*\
  !*** ./src/ducks/balance/helpers.js ***!
  \**************************************/
/*! exports provided: getBalanceHistory, filterTransactionsByAccount, getBalanceHistories, getAllDates, sumBalanceHistories, balanceHistoryToChartData, getPanelsState, isVirtualAccount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBalanceHistory", function() { return getBalanceHistory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterTransactionsByAccount", function() { return filterTransactionsByAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBalanceHistories", function() { return getBalanceHistories; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAllDates", function() { return getAllDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sumBalanceHistories", function() { return sumBalanceHistories; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "balanceHistoryToChartData", function() { return balanceHistoryToChartData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPanelsState", function() { return getPanelsState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isVirtualAccount", function() { return isVirtualAccount; });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flatten */ "./node_modules/lodash/flatten.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}









/**
 * Get balance history for an account
 * @param {Object} account - The account we want to get the balance history
 * @param {Object[]} transactions - The transactions of the account
 * @param {Date} to - The date to which you want the history
 * @param {Date} from - The date from you want the history
 * @returns {Object} The balance history indexed by dates (YYYY-MM-DD)
 */

var getBalanceHistory = function getBalanceHistory(account, transactions, to, from) {
  var DATE_FORMAT = 'YYYY-MM-DD';
  var transactionsByDate = lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default()(transactions, function (t) {
    return Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["format"])( // do not take .realisationDate as we are interested in the debit date
    t.date, DATE_FORMAT);
  });

  if (!from) {
    var earliestTransactionDate = date_fns__WEBPACK_IMPORTED_MODULE_5__["min"].apply(void 0, _toConsumableArray(Object.keys(transactionsByDate)));
    from = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["isValid"])(earliestTransactionDate) ? earliestTransactionDate : to;
  }

  var balances = {};

  for (var day = to, balance = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_6__["getAccountBalance"])(account); Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["isAfter"])(day, from) || Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["isEqual"])(day, from); day = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["subDays"])(day, 1)) {
    var date = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["format"])(day, DATE_FORMAT);
    var _transactions = transactionsByDate[date];
    balance = _transactions ? balance - lodash_sumBy__WEBPACK_IMPORTED_MODULE_2___default()(_transactions, function (t) {
      return t.amount;
    }) : balance;
    balances[date] = balance;
  }

  return balances;
};
/**
 * Get transactions that match an account id in a set of transactions.
 * The transactions can have their relationship to accounts resolved or not, both cases are handled
 * @param {number} accountId - The ID of the account
 * @param {Object[]} transactions - The transactions to filter
 * @returns {Object[]}
 */

var filterTransactionsByAccount = function filterTransactionsByAccount(accountId, transactions) {
  return transactions.filter(function (t) {
    var toCompare = t.account.data ? t.account.data._id : t.account;
    return accountId === toCompare;
  });
};
/**
 * Get balance histories for a set of accounts
 * @param {Object[]} accounts - The accounts we want to get the balance histories
 * @param {Object[]} transactions - The transactions
 * @param {Date} to - The date to which you want the history
 * @param {Date} from - The date from which you want the history
 * @returns {Object} The balance histories indexed by the account ID
 */

var getBalanceHistories = function getBalanceHistories(accounts, transactions, to, from) {
  if (accounts.length === 0) {
    return {
      __no_accounts__: getBalanceHistory({
        _id: '__no_accounts__',
        balance: 0
      }, [], to, from)
    };
  }

  var balances = accounts.reduce(function (balances, account) {
    balances[account._id] = getBalanceHistory(account, filterTransactionsByAccount(account._id, transactions), to, from);
    return balances;
  }, {});
  return balances;
};
/**
 * Returns all the unique dates for a given array of balance histories
 * @param {Object[]} histories - The array of balance histories
 * @returns {String[]} The dates
 */

var getAllDates = function getAllDates(histories) {
  return lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default()(lodash_flatten__WEBPACK_IMPORTED_MODULE_4___default()(histories.map(Object.keys)));
};
/**
 * Sums a given array of balance histories on date
 * @param {Object[]} histories - The array of balance histories
 * @returns {Object} The summed balance history
 */

var sumBalanceHistories = function sumBalanceHistories(histories) {
  var allDates = getAllDates(histories);
  var history = {};
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    var _loop = function _loop() {
      var date = _step.value;
      history[date] = lodash_sumBy__WEBPACK_IMPORTED_MODULE_2___default()(histories, function (h) {
        return h[date];
      });
    };

    for (var _iterator = allDates[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      _loop();
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return history;
};
/**
 * Transforms a balance history to displayable chart data
 * @param {Object} history - The balance history to transform
 * @returns {Object[]}
 */

var balanceHistoryToChartData = function balanceHistoryToChartData(history) {
  var dates = getAllDates([history]).sort();
  var data = dates.map(function (date) {
    return {
      x: Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["parse"])(date),
      y: history[date]
    };
  });
  return data;
};
var getPanelsState = function getPanelsState(groups, currentPanelsState) {
  var switchesState = groups.reduce(function (acc, group) {
    var groupChecked = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(currentPanelsState, "[".concat(group._id, "].checked"), !Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_7__["isReimbursementsVirtualGroup"])(group));
    var groupExpanded = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(currentPanelsState, "[".concat(group._id, "].expanded"), true);
    acc[group._id] = {
      checked: groupChecked,
      expanded: groupExpanded,
      accounts: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(group, 'accounts.data', []).reduce(function (acc2, account) {
        if (!account) {
          return acc2;
        }

        acc2[account._id] = {
          checked: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(currentPanelsState, "[".concat(group._id, "].accounts[").concat(account._id, "].checked"), true),
          disabled: !groupChecked
        };
        return acc2;
      }, {})
    };
    return acc;
  }, {});
  return switchesState;
};
var isVirtualAccount = function isVirtualAccount(a) {
  return a.virtual;
};

/***/ }),

/***/ "./src/ducks/balance/index.js":
/*!************************************!*\
  !*** ./src/ducks/balance/index.js ***!
  \************************************/
/*! exports provided: Balance, BalanceDetailsHeader, BalanceDetailsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_balance_Balance_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/balance/Balance.jsx */ "../overrides/cozy-banks/src/ducks/balance/Balance.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Balance", function() { return ducks_balance_Balance_jsx__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_balance_BalanceDetailsHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/balance/BalanceDetailsHeader */ "./src/ducks/balance/BalanceDetailsHeader.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BalanceDetailsHeader", function() { return ducks_balance_BalanceDetailsHeader__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var ducks_balance_BalanceDetailsPage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/balance/BalanceDetailsPage */ "./src/ducks/balance/BalanceDetailsPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BalanceDetailsPage", function() { return ducks_balance_BalanceDetailsPage__WEBPACK_IMPORTED_MODULE_2__["default"]; });

 // components





/***/ }),

/***/ "./src/ducks/balance/timeline_desktop_en.svg":
/*!***************************************************!*\
  !*** ./src/ducks/balance/timeline_desktop_en.svg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/timeline_desktop_en.svg";

/***/ }),

/***/ "./src/ducks/balance/timeline_desktop_fr.svg":
/*!***************************************************!*\
  !*** ./src/ducks/balance/timeline_desktop_fr.svg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/timeline_desktop_fr.svg";

/***/ }),

/***/ "./src/ducks/balance/timeline_mobile_en.svg":
/*!**************************************************!*\
  !*** ./src/ducks/balance/timeline_mobile_en.svg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/timeline_mobile_en.svg";

/***/ }),

/***/ "./src/ducks/balance/timeline_mobile_fr.svg":
/*!**************************************************!*\
  !*** ./src/ducks/balance/timeline_mobile_fr.svg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/timeline_mobile_fr.svg";

/***/ }),

/***/ "./src/ducks/bar/BarTheme.jsx":
/*!************************************!*\
  !*** ./src/ducks/bar/BarTheme.jsx ***!
  \************************************/
/*! exports provided: setBarTheme, DumbBarTheme, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setBarTheme", function() { return setBarTheme; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbBarTheme", function() { return DumbBarTheme; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_side_effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-side-effect */ "./node_modules/react-side-effect/lib/index.js");
/* harmony import */ var react_side_effect__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_side_effect__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_bar_statusBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/bar/statusBar */ "./src/ducks/bar/statusBar.js");
/* harmony import */ var ducks_bar_overrides__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/bar/overrides */ "../overrides/cozy-banks/src/ducks/bar/overrides.js");
/* harmony import */ var utils_cozyBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! utils/cozyBar */ "./src/utils/cozyBar.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/* global __TARGET__ */






var setBarTheme = function setBarTheme(theme) {
  if (false) {}

  if (utils_cozyBar__WEBPACK_IMPORTED_MODULE_5__["default"] && utils_cozyBar__WEBPACK_IMPORTED_MODULE_5__["default"].setTheme) {
    var overrides = ducks_bar_overrides__WEBPACK_IMPORTED_MODULE_4__["default"][theme];
    utils_cozyBar__WEBPACK_IMPORTED_MODULE_5__["default"].setTheme(theme, overrides);
  }
};

var BarTheme = /*#__PURE__*/function (_React$Component) {
  _inherits(BarTheme, _React$Component);

  function BarTheme() {
    _classCallCheck(this, BarTheme);

    return _possibleConstructorReturn(this, _getPrototypeOf(BarTheme).apply(this, arguments));
  }

  _createClass(BarTheme, [{
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return BarTheme;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

BarTheme.propTypes = {
  theme: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
BarTheme.setBarTheme = setBarTheme;
var DumbBarTheme = BarTheme;

function reducePropsToState(propsList) {
  var last = propsList[propsList.length - 1];
  return last ? last.theme : 'default';
}

function handleStateChangeOnClient(theme) {
  BarTheme.setBarTheme(theme);
}

/* harmony default export */ __webpack_exports__["default"] = (react_side_effect__WEBPACK_IMPORTED_MODULE_2___default()(reducePropsToState, handleStateChangeOnClient)(BarTheme));

/***/ }),

/***/ "./src/ducks/bar/statusBar.js":
/*!************************************!*\
  !*** ./src/ducks/bar/statusBar.js ***!
  \************************************/
/*! exports provided: luminosity, setColor, setTheme */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "luminosity", function() { return luminosity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setColor", function() { return setColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTheme", function() { return setTheme; });
/* harmony import */ var cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-ui/transpiled/react/utils/color */ "./node_modules/cozy-ui/transpiled/react/utils/color.js");
/* global cordova */
// TODO Move this module to cozy-ui

var luminosity = function luminosity(hex) {
  if (hex.length == 4) {
    var r = hex.slice(1, 2);
    var g = hex.slice(2, 3);
    var b = hex.slice(3, 4);
    hex = "#".concat(r).concat(r).concat(g).concat(g).concat(b).concat(b);
  }

  var R = parseInt(hex.slice(1, 3), 16);
  var G = parseInt(hex.slice(3, 5), 16);
  var B = parseInt(hex.slice(5, 7), 16);
  return 0.21 * R + 0.72 * G + 0.07 * B;
}; // Luminosity goes from 0 to 255. We set a thresold past which we change
// the text color to white.

var lumThresold = 180;
var setColor = function setColor(colorHex) {
  if (!window.StatusBar) {
    return;
  }

  var StatusBar = window.StatusBar;
  var lum = luminosity(colorHex);

  if (lum > lumThresold) {
    // Black text color when background is light
    // Also see https://github.com/apache/cordova-plugin-statusbar/issues/148#issuecomment-524354985
    // since StatusBar has a problem with ios dark mode, we had to add lines to config.xml to force
    // light mode in Banks (by setting UIUserInterfaceStyle)
    StatusBar.styleDefault();
  } else {
    StatusBar.styleBlackTranslucent();
  }

  StatusBar.backgroundColorByHexString(colorHex);
};
var THEME_TO_COLORS = {
  primary: 'statusBarPrimaryColor',
  default: 'statusBarDefault'
};
var setTheme = function setTheme(theme) {
  var colorName = THEME_TO_COLORS[theme] || THEME_TO_COLORS.default;
  var platform = cordova.platformId == 'ios' ? 'IOS' : 'Android';
  var varName = colorName + platform;
  var colorValue = Object(cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_0__["getCssVariableValue"])(varName);
  setColor(colorValue);
};

/***/ }),

/***/ "./src/ducks/brandDictionary/brands.json":
/*!***********************************************!*\
  !*** ./src/ducks/brandDictionary/brands.json ***!
  \***********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, default */
/***/ (function(module) {

module.exports = [{"name":"Alan","regexp":"\\balan\\b","konnectorSlug":"alan","health":true,"contact":[{"type":"web","href":"https://alan.eu/login","action":"sendCareSheet"},{"type":"app","platform":"android","href":"https://alan.eu/open-or-download-mobile-app?origin=alanweb_landing_footer&os=android"},{"type":"app","platform":"ios","href":"https://alan.eu/open-or-download-mobile-app?origin=alanweb_landing_footer&os=ios"}]},{"name":"Amazon","regexp":"\\bamazo?n\\b","konnectorSlug":"amazon"},{"name":"Ameli","regexp":"(cpam|c\\.p\\.a\\.m|caisse primaire)","konnectorSlug":"ameli","health":true,"contact":[{"type":"phone","number":"36 46","price":"0,06 €/min"},{"type":"web","href":"https://www.ameli.fr/assure/adresses-et-contacts","action":"sendCareSheet"}]},{"name":"APRR","regexp":"\\baprr\\b","konnectorSlug":"aprr"},{"name":"Ascore Santé Prévoyance","regexp":"\\baxiome\\b","konnectorSlug":"ascoresante","health":true},{"name":"Auchan Drive","regexp":"\\bauchan\\b","konnectorSlug":"auchandrive"},{"name":"Audible","regexp":"\\baudible\\.[a-z]{1,5}\\b"},{"name":"Autolib","regexp":"\\bautolib\\b","konnectorSlug":"autolib","maintenance":true},{"name":"Bipandgo","regexp":"\\bbipandgo\\b","konnectorSlug":"bipandgo"},{"name":"Bitiba","regexp":"\\bbitiba\\b","konnectorSlug":"bitiba"},{"name":"Booking.com","regexp":"\\bbooking.com\\b","konnectorSlug":"bookingdotcom","maintenance":true},{"name":"Boulanger","regexp":"\\bboulanger\\b","konnectorSlug":"boulanger"},{"name":"Bouygues Box","regexp":"\\bbouyg","konnectorSlug":"bouyguesbox"},{"name":"Bouygues Telecom","regexp":"\\bbouyg","konnectorSlug":"bouyguestelecom"},{"name":"CAF","regexp":"\\bcaf\\b","konnectorSlug":"caf"},{"name":"Cdiscount","regexp":"\\bcdiscount\\b","konnectorSlug":"cdiscount"},{"name":"CESML","regexp":"\\bcesml\\b","konnectorSlug":"cesml"},{"name":"CESU","regexp":"\\bcncesu\\b","konnectorSlug":"cesu"},{"name":"Cultura","regexp":"\\bcultura\\b","konnectorSlug":"cultura","maintenance":true},{"name":"Darty","regexp":"\\bdarty\\b","konnectorSlug":"darty"},{"name":"Deezer","regexp":"\\bdeezer\\b","konnectorSlug":"deezer"},{"name":"Deliveroo","regexp":"\\bdeliveroo\\b","konnectorSlug":"deliveroo","maintenance":true},{"name":"Direct Energie","regexp":"\\bdirect energie\\b","konnectorSlug":"directenergie"},{"name":"Eau du Grand Lyon","regexp":"\\bsoc eau gd lyon\\b","konnectorSlug":"eaudugrandlyon"},{"name":"EDF","regexp":"\\bedf\\b","konnectorSlug":"edf"},{"name":"Ekwateur","regexp":"\\bekwateur\\b","konnectorSlug":"ekwateur"},{"name":"Electricité de Strabourg","regexp":"es energies strasbourg\\b","konnectorSlug":"electricitestrasbourg","maintenance":true},{"name":"Enercoop","regexp":"\\benercoop\\b","konnectorSlug":"enercoop"},{"name":"Engie","regexp":"\\bengie\\b","konnectorSlug":"engie"},{"name":"Eovi MCD Particuliers","regexp":"\\beovi mcd mutuelle\\b","konnectorSlug":"eovimcdparticuliers"},{"name":"eTicket","regexp":"\\betickets\\b","konnectorSlug":"eticket"},{"name":"Free","regexp":"\\bfree (telecom|hautdebit)\\b","konnectorSlug":"free"},{"name":"Free Mobile","regexp":"\\bfree mobile\\b","konnectorSlug":"freemobile"},{"name":"Generali","regexp":"\\bgenerali\\b","konnectorSlug":"generali","health":true},{"name":"Github","regexp":"\\bgithub\\b","konnectorSlug":"github"},{"name":"Glisshop","regexp":"\\bglisshop\\b","konnectorSlug":"glisshop","maintenance":true},{"name":"Harmonie","regexp":"\\bharmonie\\b","konnectorSlug":"harmonie","health":true},{"name":"Humanis","regexp":"\\bhumanis\\b","konnectorSlug":"humanis","health":true},{"name":"Impôts","regexp":"(impot|impots|dgfip|d\\.g\\.f\\.i\\.p|ddfip|d\\.d\\.f\\.i\\.p|drfip|d\\.r\\.f\\.i\\.p|tresor public|finances pub|finances publiques)","konnectorSlug":"impots"},{"name":"Inulogic","regexp":"\\binulogic\\b","konnectorSlug":"inulogic"},{"name":"JustEat","regexp":"\\bjust eat\\b","konnectorSlug":"justeat"},{"name":"La mutuelle générale","regexp":"\\bla mutuelle gen","konnectorSlug":"lamutuellegenerale","health":true,"contact":[{"type":"web","action":"contactComplementary","href":"https://www.lamutuellegenerale.fr/mobile/mon-espace-adherent#modalContact"},{"type":"phone","number":"09 69 39 39 39"},{"type":"app","platform":"android","href":"https://play.google.com/store/apps/details?id=fr.lamutuellegenerale.mamutuelle"},{"type":"app","platform":"ios","href":"https://apps.apple.com/fr/app/m-mutuelle/id582194132"}],"maintenance":true},{"name":"LDLC","regexp":"\\bldlc\\b","konnectorSlug":"ldlc","maintenance":true},{"name":"Le Monde Diplomatique","regexp":"\\bmonde[\\-\\s]diplomatique\\b","konnectorSlug":"mondediplo"},{"name":"Leclerc Drive","regexp":"\\bleclerc\\b","konnectorSlug":"leclercdrive"},{"name":"Ma lentille","regexp":"\\bdigital eyewear\\b","konnectorSlug":"malentille"},{"name":"Maif - Echeancier","regexp":"\\bmaif\\b","konnectorSlug":"maifecheancier"},{"name":"Macif","regexp":"\\bmacif\\b","konnectorSlug":"macif","maintenance":true},{"name":"Malakoff Mederic","regexp":"\\bmalakoff\\b","konnectorSlug":"malakoffmederic","health":true},{"name":"Médecins sans frontières","regexp":"\\b(medecins sans frontieres|msf)\\b","konnectorSlug":"msf"},{"name":"Mediapart","regexp":"\\bmediapart\\b","konnectorSlug":"mediapart"},{"name":"MGEN","regexp":"\\bmgen\\b","konnectorSlug":"mgen","health":true},{"name":"Mister Auto","regexp":"\\bmister auto\\b","konnectorSlug":"misterauto"},{"name":"Nespresso","regexp":"\\bnespresso\\b","konnectorSlug":"nespresso"},{"name":"Netflix","regexp":"\\bnetflix\\b","konnectorSlug":"netflix"},{"name":"Net-Entreprise (Micro-Entrepreneur)","regexp":"\\bUrssaf\\b","konnectorSlug":"net-entreprise-micro","maintenance":true},{"name":"Numéricable","regexp":"\\bnumericable\\b","konnectorSlug":"numericable"},{"name":"O2","regexp":"^o2\\b","konnectorSlug":"o2","maintenance":true},{"name":"OCS","regexp":"\\bocs\\b"},{"name":"Opngo","regexp":"\\bopngo\\b","konnectorSlug":"opngo"},{"name":"Orange","regexp":"\\borange\\b","konnectorSlug":"orange"},{"name":"OVH","regexp":"\\bovh\\b","konnectorSlug":"ovh"},{"name":"Planete OUI","regexp":"\\boui energy\\b","konnectorSlug":"planeteoui"},{"name":"Pole Emploi","regexp":"\\bpole emploi\\b","konnectorSlug":"poleemploi","maintenance":true},{"name":"Probikeshop","regexp":"\\bprobikeshop\\b","konnectorSlug":"probikeshop"},{"name":"ProductBoard","regexp":"\\bproductboard\\b","konnectorSlug":"productboard","maintenance":true},{"name":"SAUR","regexp":"\\bsaur\\b","konnectorSlug":"saur"},{"name":"Scaleway","regexp":"\\bscaleway\\b","konnectorSlug":"scaleway"},{"name":"SFR","regexp":"\\bsfr\\b","konnectorSlug":"sfr"},{"name":"Showroom Privé","regexp":"\\bshowroomprive\\b","konnectorSlug":"showroomprive"},{"name":"SNCF","regexp":"\\bsncf\\b","konnectorSlug":"sncf"},{"name":"Sosh","regexp":"\\bsosh\\b","konnectorSlug":"sosh"},{"name":"Spartoo","regexp":"\\bspartoo\\b","konnectorSlug":"spartoo"},{"name":"Spotify","regexp":"\\bspotify\\b"},{"name":"Stickers Discount","regexp":"\\bakoufen angers\\b","konnectorSlug":"stickersdiscount"},{"name":"Tag&Pass","regexp":"\\bsemitag\\b","konnectorSlug":"tagandpass"},{"name":"The Old Reader","regexp":"\\btheoldreader\\b","konnectorSlug":"theoldreader"},{"name":"Thomann","regexp":"\\bthomann\\b","konnectorSlug":"thomann"},{"name":"Trainline","regexp":"\\btrainline\\b","konnectorSlug":"trainline"},{"name":"Unibet","regexp":"\\bunibet\\b","konnectorSlug":"unibet"},{"name":"Veepee","regexp":"\\b(Vente\\-privee\\.com|veepee)\\b","konnectorSlug":"venteprivee"},{"name":"Veolia Eau","regexp":"\\bveolia\\b","konnectorSlug":"veoliaeau"},{"name":"Viasanté","regexp":"\\bVIASANTE\\b","konnectorSlug":"viasante"},{"name":"Vinci autoroute télépéage","regexp":"\\b(vinci|escota)\\b","konnectorSlug":"vinciautoroute"},{"name":"Wanimo","regexp":"\\bwanimo\\b","konnectorSlug":"wanimo"},{"name":"Zalando","regexp":"\\bzalando\\b","konnectorSlug":"zalando","maintenance":true},{"name":"ZooPlus","regexp":"\\bzooplus\\b","konnectorSlug":"zooplus"}];

/***/ }),

/***/ "./src/ducks/brandDictionary/index.js":
/*!********************************************!*\
  !*** ./src/ducks/brandDictionary/index.js ***!
  \********************************************/
/*! exports provided: getBrands, isMatchingBrand, findMatchingBrand, matchBrands, getBrandsWithInstallationInfo, getInstalledBrands, getNotInstalledBrands, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBrands", function() { return getBrands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMatchingBrand", function() { return isMatchingBrand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findMatchingBrand", function() { return findMatchingBrand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchBrands", function() { return matchBrands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBrandsWithInstallationInfo", function() { return getBrandsWithInstallationInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInstalledBrands", function() { return getInstalledBrands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNotInstalledBrands", function() { return getNotInstalledBrands; });
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/some */ "./node_modules/lodash/some.js");
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_some__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/brandDictionary/brands */ "./src/ducks/brandDictionary/brands.json");
var ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ducks/brandDictionary/brands */ "./src/ducks/brandDictionary/brands.json", 1);
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}





var getRegexp = function getRegexp(brand) {
  return new RegExp(brand.regexp, 'i');
};

var getBrands = function getBrands(filterFct) {
  return filterFct ? ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_2__.filter(filterFct) : ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_2__;
};
var isMatchingBrand = function isMatchingBrand(brand, label) {
  return getRegexp(brand).test(label);
};
var findMatchingBrand = function findMatchingBrand(brands, label) {
  return lodash_find__WEBPACK_IMPORTED_MODULE_0___default()(brands, function (brand) {
    return isMatchingBrand(brand, label);
  });
};
var matchBrands = function matchBrands(brands, label) {
  return lodash_some__WEBPACK_IMPORTED_MODULE_1___default()(brands, function (brand) {
    return isMatchingBrand(brand, label);
  });
};
var getBrandsWithInstallationInfo = function getBrandsWithInstallationInfo(installedSlugs) {
  var brands = getBrands().map(function (brand) {
    return _objectSpread({}, brand, {
      isInstalled: installedSlugs.includes(brand.konnectorSlug)
    });
  });
  return brands;
};
var getInstalledBrands = function getInstalledBrands(installedSlugs) {
  var brands = getBrandsWithInstallationInfo(installedSlugs);
  return brands.filter(function (brand) {
    return brand.isInstalled;
  });
};
var getNotInstalledBrands = function getNotInstalledBrands(installedSlugs) {
  var brands = getBrandsWithInstallationInfo(installedSlugs);
  return brands.filter(function (brand) {
    return !brand.isInstalled;
  });
};
/* harmony default export */ __webpack_exports__["default"] = (findMatchingBrand);

/***/ }),

/***/ "./src/ducks/brandDictionary/selectors.js":
/*!************************************************!*\
  !*** ./src/ducks/brandDictionary/selectors.js ***!
  \************************************************/
/*! exports provided: getBrandsWithoutTrigger, findMatchingBrandWithoutTrigger, getInstalledBrandsFromQuery, findMatchingBrandWithoutTriggerSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBrandsWithoutTrigger", function() { return getBrandsWithoutTrigger; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findMatchingBrandWithoutTrigger", function() { return findMatchingBrandWithoutTrigger; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInstalledBrandsFromQuery", function() { return getInstalledBrandsFromQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findMatchingBrandWithoutTriggerSelector", function() { return findMatchingBrandWithoutTriggerSelector; });
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/includes */ "./node_modules/lodash/includes.js");
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index */ "./src/ducks/brandDictionary/index.js");
/* harmony import */ var cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client/dist/models */ "./node_modules/cozy-client/dist/models/index.js");
/* harmony import */ var cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}







var _triggerLibs$triggers = cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__["trigger"].triggers,
    getKonnector = _triggerLibs$triggers.getKonnector,
    isKonnectorWorker = _triggerLibs$triggers.isKonnectorWorker;

var getInstalledKonnectorsSlugs = function getInstalledKonnectorsSlugs(triggerCol) {
  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["isQueryLoading"])(triggerCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["hasQueryBeenLoaded"])(triggerCol)) {
    return [];
  }

  return triggerCol.data.filter(isKonnectorWorker).map(getKonnector).filter(Boolean);
};

var allBrands = Object(_index__WEBPACK_IMPORTED_MODULE_3__["getBrands"])();

var getInstalledBrandsFromCollection = function getInstalledBrandsFromCollection(triggerCol) {
  var installedKonnectorsSlugs = getInstalledKonnectorsSlugs(triggerCol);
  var brands = allBrands.map(function (brand) {
    return _objectSpread({}, brand, {
      hasTrigger: lodash_includes__WEBPACK_IMPORTED_MODULE_1___default()(installedKonnectorsSlugs, brand.konnectorSlug)
    });
  });
  return brands;
};

var getBrandsWithoutTrigger = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([function (brands) {
  return brands;
}], function (brands) {
  return brands.filter(function (brand) {
    return !brand.hasTrigger;
  });
});
var findMatchingBrandWithoutTrigger = function findMatchingBrandWithoutTrigger(label, brands) {
  var brandsWithoutTrigger = getBrandsWithoutTrigger(brands);

  if (!brandsWithoutTrigger || brandsWithoutTrigger.length === 0) {
    return null;
  }

  var matchingBrand = Object(_index__WEBPACK_IMPORTED_MODULE_3__["findMatchingBrand"])(brandsWithoutTrigger, label);

  if (!matchingBrand || matchingBrand.maintenance) {
    return null;
  }

  return matchingBrand;
};
var getInstalledBrandsFromQuery = function getInstalledBrandsFromQuery(queryName) {
  return Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([Object(selectors__WEBPACK_IMPORTED_MODULE_5__["querySelector"])(queryName)], getInstalledBrandsFromCollection);
};
var getBrandsWithoutTriggerSelector = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getInstalledBrandsFromQuery], getBrandsWithoutTrigger);
var findMatchingBrandWithoutTriggerSelector = function findMatchingBrandWithoutTriggerSelector(_ref) {
  var getLabel = _ref.getLabel;
  return Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getLabel, getBrandsWithoutTriggerSelector({
    queryName: 'triggers'
  })], findMatchingBrandWithoutTrigger);
};

/***/ }),

/***/ "./src/ducks/brandDictionary/withBrands.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/brandDictionary/withBrands.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selectors */ "./src/ducks/brandDictionary/selectors.js");



var withBrands = function withBrands() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    queryName: 'triggers'
  };
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(function (state) {
    return {
      brands: Object(_selectors__WEBPACK_IMPORTED_MODULE_1__["getInstalledBrandsFromQuery"])(options.queryName)(state)
    };
  });
};

/* harmony default export */ __webpack_exports__["default"] = (withBrands);

/***/ }),

/***/ "./src/ducks/budgetAlerts/index.js":
/*!*****************************************!*\
  !*** ./src/ducks/budgetAlerts/index.js ***!
  \*****************************************/
/*! exports provided: makeNewAlert, fetchExpensesForAlert, collectAlertInfo, fetchCategoryAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNewAlert", function() { return makeNewAlert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchExpensesForAlert", function() { return fetchExpensesForAlert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "collectAlertInfo", function() { return collectAlertInfo; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-logger */ "./node_modules/cozy-logger/dist/index.js");
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_logger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fetchCategoryAlerts", function() { return ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__["fetchCategoryAlerts"]; });

/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_8__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}









var log = cozy_logger__WEBPACK_IMPORTED_MODULE_1___default.a.namespace('category-alerts');

var copyAlert = function copyAlert(alert) {
  return _objectSpread({}, alert);
};

var fetchGroup = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, groupId) {
    var _yield$client$query, group;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_2__["GROUP_DOCTYPE"]).getById(groupId));

          case 2:
            _yield$client$query = _context.sent;
            group = _yield$client$query.data;
            return _context.abrupt("return", group);

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function fetchGroup(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var makeNewAlert = function makeNewAlert() {
  return {
    // Default category is Daily Life > Supermarket
    categoryId: '400110',
    maxThreshold: 100,
    accountOrGroup: null
  };
};

var makeSelectorForAccountOrGroup = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, accountOrGroup) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (accountOrGroup) {
              _context2.next = 4;
              break;
            }

            return _context2.abrupt("return", null);

          case 4:
            if (!(accountOrGroup._type === doctypes__WEBPACK_IMPORTED_MODULE_2__["GROUP_DOCTYPE"])) {
              _context2.next = 8;
              break;
            }

            return _context2.abrupt("return", null);

          case 8:
            if (!(accountOrGroup._type === doctypes__WEBPACK_IMPORTED_MODULE_2__["ACCOUNT_DOCTYPE"])) {
              _context2.next = 12;
              break;
            }

            return _context2.abrupt("return", {
              account: accountOrGroup._id
            });

          case 12:
            throw new Error("Unsupported _type (".concat(accountOrGroup._type, ") for alert.accountOrGroup"));

          case 13:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function makeSelectorForAccountOrGroup(_x3, _x4) {
    return _ref2.apply(this, arguments);
  };
}();

var categoryMatches = function categoryMatches(categoryId, idToMatch, allowChildren) {
  return allowChildren ? Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_4__["isParentOf"])(idToMatch, categoryId) : idToMatch === categoryId;
};

var fetchExpensesForAlert = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, alert, currentDate) {
    var start, end, selector, accountOrGroupSelector, _yield$client$query2, monthExpenses, categoryExpenses, groupFilter, group;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            currentDate = currentDate ? new Date(currentDate) : new Date();
            start = Object(date_fns__WEBPACK_IMPORTED_MODULE_7__["format"])(Object(date_fns__WEBPACK_IMPORTED_MODULE_7__["startOfMonth"])(currentDate), 'YYYY-MM');
            end = Object(date_fns__WEBPACK_IMPORTED_MODULE_7__["format"])(Object(date_fns__WEBPACK_IMPORTED_MODULE_7__["addDays"])(Object(date_fns__WEBPACK_IMPORTED_MODULE_7__["endOfMonth"])(currentDate), 1), 'YYYY-MM');
            selector = {
              date: {
                $lt: end,
                $gt: start
              },
              amount: {
                $lt: 0
              }
            };

            if (!alert.accountOrGroup) {
              _context3.next = 9;
              break;
            }

            _context3.next = 7;
            return makeSelectorForAccountOrGroup(client, alert.accountOrGroup);

          case 7:
            accountOrGroupSelector = _context3.sent;

            if (accountOrGroupSelector) {
              Object.assign(selector, accountOrGroupSelector);
            }

          case 9:
            log('info', "Selecting transactions with ".concat(JSON.stringify(selector), " (alertId: ").concat(alert.id, ")"));
            _context3.next = 12;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_2__["TRANSACTION_DOCTYPE"]).where(selector));

          case 12:
            _yield$client$query2 = _context3.sent;
            monthExpenses = _yield$client$query2.data;
            categoryExpenses = monthExpenses.filter(function (tr) {
              return categoryMatches(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_3__["getCategoryId"])(tr), alert.categoryId, alert.categoryIsParent);
            });

            if (!(alert.accountOrGroup && alert.accountOrGroup._type === doctypes__WEBPACK_IMPORTED_MODULE_2__["GROUP_DOCTYPE"])) {
              _context3.next = 20;
              break;
            }

            _context3.next = 18;
            return fetchGroup(client, alert.accountOrGroup._id);

          case 18:
            group = _context3.sent;

            groupFilter = function groupFilter(tr) {
              return group.accounts.includes(tr.account);
            };

          case 20:
            return _context3.abrupt("return", groupFilter ? categoryExpenses.filter(groupFilter) : categoryExpenses);

          case 21:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function fetchExpensesForAlert(_x5, _x6, _x7) {
    return _ref3.apply(this, arguments);
  };
}();
/**
 * Fetches transactions of current month corresponding to the alert
 * Computes sum and returns information used to send the global
 * alert email
 *
 * Bails out if
 *
 * - sum is inferior to alert amount
 * - the last reported amount inside alert is the same as the computed amount
 *
 * @param {Boolean} options.force Bypass last report checks
 *
 * @return {AlertInfo}  - { updatedAlert, expenses }
 */

var collectAlertInfo = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, alert, options) {
    var expenses, sum, updatedAlert;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return fetchExpensesForAlert(client, alert, options.currentDate);

          case 2:
            expenses = _context4.sent;
            log('info', "Found ".concat(expenses.length, " expenses for alert ").concat(alert.id, " (currentDate: ").concat(options.currentDate, ")"));
            sum = Math.round(-lodash_sumBy__WEBPACK_IMPORTED_MODULE_5___default()(expenses, function (tr) {
              return tr.amount;
            }), 2);

            if (!(sum < alert.maxThreshold)) {
              _context4.next = 8;
              break;
            }

            log('info', "Threshold (".concat(alert.maxThreshold, ") has not been passed, bailing out (alertId: ").concat(alert.id, ")"));
            return _context4.abrupt("return");

          case 8:
            if (!(alert.lastNotificationAmount !== undefined && alert.lastNotificationAmount === sum && !options.force)) {
              _context4.next = 11;
              break;
            }

            log('info', "Same amount as last notification, bailing out");
            return _context4.abrupt("return");

          case 11:
            updatedAlert = copyAlert(alert);
            updatedAlert.lastNotificationAmount = sum;
            updatedAlert.lastNotificationDate = new Date().toISOString().slice(0, 10);
            return _context4.abrupt("return", {
              alert: updatedAlert,
              expenses: expenses
            });

          case 15:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function collectAlertInfo(_x8, _x9, _x10) {
    return _ref4.apply(this, arguments);
  };
}();


/***/ }),

/***/ "./src/ducks/categories/AddAccountButton.jsx":
/*!***************************************************!*\
  !*** ./src/ducks/categories/AddAccountButton.jsx ***!
  \***************************************************/
/*! exports provided: AddAccountButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddAccountButton", function() { return AddAccountButton; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/settings/AddAccountLink */ "../overrides/cozy-banks/src/ducks/settings/AddAccountLink.jsx");
/* harmony import */ var ducks_categories_AddAccountButton_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories/AddAccountButton.styl */ "./src/ducks/categories/AddAccountButton.styl");
/* harmony import */ var ducks_categories_AddAccountButton_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_AddAccountButton_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Plus */ "./node_modules/cozy-ui/transpiled/react/Icons/Plus.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var sleep = function sleep(time) {
  return new Promise(function (resolve) {
    return setTimeout(resolve, time);
  });
};

var AddAccountButton = function AddAccountButton(_ref) {
  var label = _ref.label,
      buttonTheme = _ref.buttonTheme,
      className = _ref.className,
      absolute = _ref.absolute,
      onClick = _ref.onClick,
      buttonProps = _objectWithoutProperties(_ref, ["label", "buttonTheme", "className", "absolute", "onClick"]);

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_3__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({
    theme: buttonTheme,
    icon: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_7__["default"]
    }),
    size: "large",
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(ducks_categories_AddAccountButton_styl__WEBPACK_IMPORTED_MODULE_4___default.a.AddAccountLink, absolute ? ducks_categories_AddAccountButton_styl__WEBPACK_IMPORTED_MODULE_4___default.a['AddAccountLink--absolute'] : null, className),
    label: label,
    onClick: /*#__PURE__*/function () {
      var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(ev) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_6__["trackEvent"])({
                  name: 'ajouter_une_banque'
                });
                _context.next = 3;
                return sleep(100);

              case 3:
                // give some time for event
                onClick(ev);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }()
  }, buttonProps)));
};
AddAccountButton.defaultProps = {
  buttonTheme: 'highlight'
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_1__["memo"])(AddAccountButton));

/***/ }),

/***/ "./src/ducks/categories/AddAccountButton.styl":
/*!****************************************************!*\
  !*** ./src/ducks/categories/AddAccountButton.styl ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"AddAccountLink":"AddAccountLink--1zdMT","AddAccountLink--absolute":"AddAccountLink--absolute--Ik2yL"};

/***/ }),

/***/ "./src/ducks/categories/Categories.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/categories/Categories.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/withBreakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/withBreakpoints.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/categories/styles.styl */ "./src/ducks/categories/styles.styl");
/* harmony import */ var ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var components_PercentageLine__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/PercentageLine */ "./src/components/PercentageLine.jsx");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
















var stAmount = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-amount'];
var stCategory = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-category-category'];
var stPercentage = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-percentage'];
var stRow = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-row'];
var stTableCategory = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-category'];
var stTotal = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-total'];
var stUncollapsed = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-row--uncollapsed'];
var stCatTotalMobile = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-category-total-mobile'];

var Categories = /*#__PURE__*/function (_Component) {
  _inherits(Categories, _Component);

  function Categories() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, Categories);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Categories)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "toggle", function (categoryName) {
      var _this$props = _this.props,
          selectedCategory = _this$props.selectedCategory,
          selectCategory = _this$props.selectCategory;
      selectedCategory ? selectCategory(undefined) : selectCategory(categoryName);
    });

    _defineProperty(_assertThisInitialized(_this), "handleClick", function (category, subcategory) {
      var router = _this.props.router;

      if (subcategory) {
        router.push("/analysis/categories/".concat(category.name, "/").concat(subcategory.name));
      } else {
        _this.toggle(category.name);
      }
    });

    return _this;
  }

  _createClass(Categories, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          categoriesProps = _this$props2.categories,
          selectedCategory = _this$props2.selectedCategory;
      var categories = categoriesProps || [];

      if (selectedCategory) {
        categories = [selectedCategory];
      }

      var hasData = categories.length > 0 && categories[0].transactionsNumber > 0;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, hasData && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["Table"], {
        className: stTableCategory
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tbody", null, categories.map(function (category) {
        return _this2.renderCategory(category, selectedCategory && selectedCategory.name);
      }))));
    }
  }, {
    key: "renderCategory",
    value: function renderCategory(category) {
      var _this$props3 = this.props,
          selectedCategory = _this$props3.selectedCategory,
          _this$props3$breakpoi = _this$props3.breakpoints,
          isDesktop = _this$props3$breakpoi.isDesktop,
          isTablet = _this$props3$breakpoi.isTablet;
      var selectedCategoryName = selectedCategory && selectedCategory.name;
      var isCollapsed = selectedCategoryName !== category.name;
      if (selectedCategoryName !== undefined && isCollapsed) return;
      var renderer = isDesktop || isTablet ? 'renderCategoryDesktopTablet' : 'renderCategoryMobile';
      return this[renderer](category);
    }
  }, {
    key: "renderCategoryDesktopTablet",
    value: function renderCategoryDesktopTablet(category, subcategory) {
      var _this3 = this;

      var _this$props4 = this.props,
          t = _this$props4.t,
          selectedCategory = _this$props4.selectedCategory,
          isDesktop = _this$props4.breakpoints.isDesktop;

      var _ref = subcategory || category,
          name = _ref.name,
          subcategories = _ref.subcategories,
          credit = _ref.credit,
          debit = _ref.debit,
          percentage = _ref.percentage,
          currency = _ref.currency,
          transactionsNumber = _ref.transactionsNumber;

      var selectedCategoryName = selectedCategory && selectedCategory.name;
      var isCollapsed = selectedCategoryName !== category.name;
      var type = subcategory ? 'subcategories' : 'categories';
      var rowClass = stRow;

      var _onClick = subcategory || isCollapsed ? this.handleClick : function () {};

      var key = (subcategory || category).name;
      var total = credit + debit;
      return [(subcategory || isCollapsed) && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", {
        key: key,
        className: rowClass,
        onClick: function onClick() {
          return _onClick(category, subcategory);
        }
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_PercentageLine__WEBPACK_IMPORTED_MODULE_14__["default"], {
        value: percentage,
        color: category.color
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["TdSecondary"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(stCategory)
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Media"], {
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-category-name-icon']
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Img"], {
        className: "u-mr-1"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_10__["default"], {
        categoryId: (subcategory || category).id
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Bd"], null, t("Data.".concat(type, ".").concat(name))))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["TdSecondary"], {
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-operation']
      }, transactionsNumber), isDesktop && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["TdSecondary"], {
        className: stAmount
      }, credit ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
        total: credit,
        symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_13__["getCurrencySymbol"])(currency),
        signed: true,
        default: "-",
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-amount-figure'],
        totalClassName: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-amount-figure-total']
      }) : '－'), isDesktop && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["TdSecondary"], {
        className: stAmount
      }, debit ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
        total: debit,
        symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_13__["getCurrencySymbol"])(currency),
        signed: true,
        default: "-",
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-amount-figure'],
        totalClassName: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-amount-figure-total']
      }) : '－'), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["TdSecondary"], {
        className: stTotal
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
        total: total || '－',
        symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_13__["getCurrencySymbol"])(currency),
        coloredPositive: true,
        signed: true
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_11__["TdSecondary"], {
        className: stPercentage
      }, !subcategory && selectedCategoryName ? '100' : "".concat(percentage), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-percentage-sign']
      }, "%")))].concat(_toConsumableArray(isCollapsed || subcategory ? [] : subcategories.map(function (subcategory) {
        return _this3.renderCategoryDesktopTablet(category, subcategory);
      })));
    }
  }, {
    key: "renderCategoryMobile",
    value: function renderCategoryMobile(category, subcategory) {
      var _this4 = this;

      var _this$props5 = this.props,
          t = _this$props5.t,
          selectedCategory = _this$props5.selectedCategory;

      var _ref2 = subcategory || category,
          name = _ref2.name,
          subcategories = _ref2.subcategories,
          credit = _ref2.credit,
          debit = _ref2.debit,
          currency = _ref2.currency,
          percentage = _ref2.percentage,
          transactionsNumber = _ref2.transactionsNumber;

      var selectedCategoryName = selectedCategory && selectedCategory.name; // subcategories are always collapsed

      var isCollapsed = selectedCategoryName !== category.name;
      var type = subcategory ? 'subcategories' : 'categories';
      var categoryName = (subcategory || category).name;
      var total = credit + debit;
      return [(subcategory || isCollapsed) && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", {
        key: categoryName,
        className: isCollapsed ? stRow : stUncollapsed,
        onClick: function onClick() {
          return _this4.handleClick(category, subcategory);
        }
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", {
        className: "u-ph-1"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Media"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Img"], {
        className: "u-pr-half"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_10__["default"], {
        categoryId: (subcategory || category).id
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Bd"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('u-ph-half', stCategory)
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__["default"], {
        variant: "body1"
      }, t("Data.".concat(type, ".").concat(name))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-row-caption'],
        variant: "caption",
        color: "textSecondary"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a['bnk-table-percentage-caption']
      }, !subcategory && selectedCategoryName ? '100%' : "".concat(percentage, "%")), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, "\xB7 ".concat(transactionsNumber, " ").concat(t("Categories.headers.transactions.".concat(transactionsNumber > 1 ? 'plural' : 'single'))))))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_7__["Img"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('u-pl-half', stAmount)
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
        className: stCatTotalMobile,
        total: total || '－',
        symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_13__["getCurrencySymbol"])(currency),
        coloredPositive: true,
        signed: true
      }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_PercentageLine__WEBPACK_IMPORTED_MODULE_14__["default"], {
        className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a.PercentageLine,
        value: percentage,
        color: category.color
      })))].concat(_toConsumableArray(isCollapsed || subcategory ? [] : subcategories.map(function (subcategory) {
        return _this4.renderCategoryMobile(category, subcategory);
      })));
    }
  }]);

  return Categories;
}(react__WEBPACK_IMPORTED_MODULE_1__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_0___default()(react_router__WEBPACK_IMPORTED_MODULE_2__["withRouter"], Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_5__["default"])(), Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])())(Categories));

/***/ }),

/***/ "./src/ducks/categories/CategoriesChart.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/categories/CategoriesChart.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_categories_Chart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/categories/Chart */ "./src/ducks/categories/Chart.jsx");
/* harmony import */ var ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/categories/CategoriesChart.styl */ "../overrides/cozy-banks/src/ducks/categories/CategoriesChart.styl");
/* harmony import */ var ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











var hexToRGBA = function hexToRGBA(hex, a) {
  var cutHex = hex.substring(1);
  var r = parseInt(cutHex.substring(0, 2), 16);
  var g = parseInt(cutHex.substring(2, 4), 16);
  var b = parseInt(cutHex.substring(4, 6), 16);
  return "rgba(".concat(r, ", ").concat(g, ", ").concat(b, ", ").concat(a, ")");
};

var getCategoriesColors = function getCategoriesColors(categories, selectedCategory) {
  if (selectedCategory === undefined) {
    return categories.map(function (category) {
      return category.color;
    });
  }

  var alphaDiff = 0.7 / categories.length;
  return categories.map(function (category, index) {
    return hexToRGBA(selectedCategory.color, 1 - alphaDiff * index);
  });
};

var getSortedCategories = function getSortedCategories(categories) {
  var sortedCategories = lodash_sortBy__WEBPACK_IMPORTED_MODULE_4___default()(categories, function (category) {
    return Math.abs(category.amount);
  }).reverse();
  return sortedCategories;
};

var CategoriesChart = function CategoriesChart(props) {
  var _cx;

  var categories = props.categories,
      selectedCategory = props.selectedCategory,
      width = props.width,
      height = props.height,
      total = props.total,
      currency = props.currency,
      hasAccount = props.hasAccount,
      className = props.className,
      label = props.label;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      t = _useI18n.t;

  var theme = Object(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_8__["useCozyTheme"])();
  var sortedCategories = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return getSortedCategories(categories);
  }, [categories]);
  var colors = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return getCategoriesColors(sortedCategories, selectedCategory);
  }, [selectedCategory, sortedCategories]);
  var labels = sortedCategories.map(function (category) {
    return t("Data.".concat(selectedCategory ? 'subcategories' : 'categories', ".").concat(category.name));
  });
  var data = sortedCategories.map(function (category) {
    return Math.abs(category.amount).toFixed(2);
  });
  if (categories.length === 0) return null;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default.a.CategoriesChart, ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default.a[theme], (_cx = {}, _defineProperty(_cx, ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default.a.NoAccount, !hasAccount), _defineProperty(_cx, className, className), _cx))
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_8__["default"], {
    variant: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default.a.CategoriesChart__FigureBlockContainer
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_3__["FigureBlock"], {
    label: label,
    total: total,
    symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_6__["getCurrencySymbol"])(currency),
    signed: true,
    className: ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default.a.CategoriesChart__FigureBlock,
    figureClassName: ducks_categories_CategoriesChart_styl__WEBPACK_IMPORTED_MODULE_2___default.a.CategoriesChart__Figure,
    withCurrencySpacing: false
  }))), hasAccount && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_Chart__WEBPACK_IMPORTED_MODULE_1__["default"], {
    labels: labels,
    data: data,
    colors: colors,
    width: width,
    height: height
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (CategoriesChart);

/***/ }),

/***/ "./src/ducks/categories/CategoriesHeader/CategoriesTableHead.jsx":
/*!***********************************************************************!*\
  !*** ./src/ducks/categories/CategoriesHeader/CategoriesTableHead.jsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/categories/styles.styl */ "./src/ducks/categories/styles.styl");
/* harmony import */ var ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);





var stAmount = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bnk-table-amount'];
var stCategory = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bnk-table-category-category'];
var stPercentage = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bnk-table-percentage'];
var stTotal = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bnk-table-total'];

var CategoriesTableHead = function CategoriesTableHead(_ref) {
  var selectedCategory = _ref.selectedCategory;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isDesktop = _useBreakpoints.isDesktop,
      isTablet = _useBreakpoints.isTablet;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: stCategory
  }, selectedCategory ? t('Categories.headers.subcategories') : t('Categories.headers.categories')), (isDesktop || isTablet) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bnk-table-operation']
  }, t('Categories.headers.transactions.plural')), isDesktop && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: stAmount
  }, t('Categories.headers.credit')), isDesktop && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: stAmount
  }, t('Categories.headers.debit')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: stTotal
  }, t('Categories.headers.total')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: stPercentage
  }, "%")));
};

CategoriesTableHead.propTypes = {
  selectedCategory: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (CategoriesTableHead);

/***/ }),

/***/ "./src/ducks/categories/CategoriesHeader/DesktopFragment.jsx":
/*!*******************************************************************!*\
  !*** ./src/ducks/categories/CategoriesHeader/DesktopFragment.jsx ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/categories/CategoriesHeader/CategoriesHeader.styl */ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/categories/AddAccountButton */ "../overrides/cozy-banks/src/ducks/categories/AddAccountButton.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Fade__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Fade */ "./node_modules/cozy-ui/transpiled/react/Fade/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Breadcrumbs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Breadcrumbs */ "./node_modules/cozy-ui/transpiled/react/Breadcrumbs/index.js");
/* harmony import */ var ducks_categories_CategoryAccountSwitch__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/categories/CategoryAccountSwitch */ "../overrides/cozy-banks/src/ducks/categories/CategoryAccountSwitch.jsx");
/* harmony import */ var components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/HeaderLoadingProgress */ "./src/components/HeaderLoadingProgress.jsx");
/* harmony import */ var ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/categories/styles.styl */ "./src/ducks/categories/styles.styl");
/* harmony import */ var ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _CategoriesTableHead__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./CategoriesTableHead */ "./src/ducks/categories/CategoriesHeader/CategoriesTableHead.jsx");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


















var stTableCategory = ducks_categories_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['bnk-table-category'];
var DesktopFragment = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref) {
  var breadcrumbItems = _ref.breadcrumbItems,
      chart = _ref.chart,
      dateSelector = _ref.dateSelector,
      emptyIcon = _ref.emptyIcon,
      hasAccount = _ref.hasAccount,
      hasData = _ref.hasData,
      incomeToggle = _ref.incomeToggle,
      isFetching = _ref.isFetching,
      isFetchingNewData = _ref.isFetchingNewData,
      selectedCategory = _ref.selectedCategory;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_5__["default"], {
    theme: "inverted",
    fixed: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_9___default.a.CategoriesHeader, _defineProperty({}, ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_9___default.a.NoAccount, !hasAccount))
  }, hasAccount ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_7__["default"], {
    spacing: "m"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryAccountSwitch__WEBPACK_IMPORTED_MODULE_13__["default"], {
    selectedCategory: selectedCategory,
    breadcrumbItems: breadcrumbItems
  }), dateSelector), breadcrumbItems.length > 1 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Fade__WEBPACK_IMPORTED_MODULE_11__["default"], {
    in: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Breadcrumbs__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: "u-mt-1",
    items: breadcrumbItems
  })), incomeToggle), chart) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_10__["default"], {
    label: t('Accounts.add-bank')
  })), hasAccount ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: stTableCategory
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CategoriesTableHead__WEBPACK_IMPORTED_MODULE_16__["default"], {
    selectedCategory: selectedCategory
  })) : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isFetching: !!isFetchingNewData && !isFetching
  }), !hasData && !isFetching && !isFetchingNewData ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_9___default.a.NoAccount_empty,
    icon: emptyIcon,
    text: t('Categories.title.empty-text')
  }) : null);
});
DesktopFragment.displayName = 'Desktop Fragment';
DesktopFragment.propTypes = {
  breadcrumbItems: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  chart: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  dateSelector: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  emptyIcon: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  hasAccount: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  hasData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  incomeToggle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  isFetching: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  isFetchingNewData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  selectedCategory: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (DesktopFragment);

/***/ }),

/***/ "./src/ducks/categories/CategoriesHeader/MobileFragment.jsx":
/*!******************************************************************!*\
  !*** ./src/ducks/categories/CategoriesHeader/MobileFragment.jsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/categories/CategoriesHeader/CategoriesHeader.styl */ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/categories/AddAccountButton */ "../overrides/cozy-banks/src/ducks/categories/AddAccountButton.jsx");
/* harmony import */ var components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/HeaderLoadingProgress */ "./src/components/HeaderLoadingProgress.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_categories_DateSelectorHeader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/categories/DateSelectorHeader */ "../overrides/cozy-banks/src/ducks/categories/DateSelectorHeader/index.jsx");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














var MobileFragment = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var breadcrumbItems = props.breadcrumbItems,
      chart = props.chart,
      classes = props.classes,
      dateSelector = props.dateSelector,
      emptyIcon = props.emptyIcon,
      hasAccount = props.hasAccount,
      hasData = props.hasData,
      incomeToggle = props.incomeToggle,
      isFetching = props.isFetching,
      isFetchingNewData = props.isFetchingNewData,
      selectedCategory = props.selectedCategory;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_DateSelectorHeader__WEBPACK_IMPORTED_MODULE_12__["default"], {
    dateSelector: dateSelector,
    selectedCategory: selectedCategory,
    breadcrumbItems: breadcrumbItems
  }), hasAccount ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8___default.a.CategoriesHeader, classes.header, _defineProperty({}, ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8___default.a.NoAccount, !hasAccount)),
    theme: isMobile ? 'normal' : 'inverted'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isFetching: !!isFetchingNewData && !isFetching
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: "u-flex u-flex-items-center u-flex-justify-around u-mr-1"
  }, incomeToggle), !hasData && !isFetching && !isFetchingNewData && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('u-mt-3', ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8___default.a.NoAccount_empty),
    icon: emptyIcon,
    text: t('Categories.title.empty-text')
  }), incomeToggle && chart ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_7__["default"], null, chart) : null) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8___default.a.NoAccount_container)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: "u-mt-3 u-pt-1 u-mr-1"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_8___default.a.NoAccount_box
  }, chart, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    absolute: true,
    label: t('Accounts.add-bank')
  }))));
});
MobileFragment.displayName = 'Mobile Fragment';
MobileFragment.propTypes = {
  breadcrumbItems: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  chart: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  classes: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
  dateSelector: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  emptyIcon: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  hasAccount: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  hasData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  incomeToggle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  isFetching: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  isFetchingNewData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  selectedCategory: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (MobileFragment);

/***/ }),

/***/ "./src/ducks/categories/CategoriesHeader/index.jsx":
/*!*********************************************************!*\
  !*** ./src/ducks/categories/CategoriesHeader/index.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_SadCozy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/SadCozy */ "./node_modules/cozy-ui/transpiled/react/Icons/SadCozy.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_transactions_TransactionSelectDates__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/transactions/TransactionSelectDates */ "./src/ducks/transactions/TransactionSelectDates.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_categories_CategoriesChart__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/categories/CategoriesChart */ "../overrides/cozy-banks/src/ducks/categories/CategoriesChart.jsx");
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/categories/CategoriesHeader/CategoriesHeader.styl */ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var ducks_categories_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/categories/utils */ "./src/ducks/categories/utils.js");
/* harmony import */ var ducks_categories_IncomeToggle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/categories/IncomeToggle */ "./src/ducks/categories/IncomeToggle.jsx");
/* harmony import */ var _DesktopFragment__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DesktopFragment */ "./src/ducks/categories/CategoriesHeader/DesktopFragment.jsx");
/* harmony import */ var _MobileFragment__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./MobileFragment */ "./src/ducks/categories/CategoriesHeader/MobileFragment.jsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils */ "./src/ducks/categories/CategoriesHeader/utils.jsx");




















var CategoriesHeader = function CategoriesHeader(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var emptyIcon = props.emptyIcon,
      hasAccount = props.hasAccount,
      selectedCategory = props.selectedCategory,
      withIncome = props.withIncome,
      onWithIncomeToggle = props.onWithIncomeToggle,
      categories = props.categories,
      chartSize = props.chartSize,
      isFetching = props.isFetching,
      isFetchingNewData = props.isFetchingNewData,
      categoryName = props.categoryName,
      subcategoryName = props.subcategoryName,
      classes = props.classes;
  var hasData = categories.length > 0 && (selectedCategory ? selectedCategory.transactionsNumber > 0 : categories[0].transactionsNumber > 0);
  var showIncomeToggle = hasData && selectedCategory === undefined;
  var globalCurrency = Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_11__["getGlobalCurrency"])(categories);
  var transactionsTotal = Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_11__["getTransactionsTotal"])(categories);
  var params = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_7__["useParams"])();
  var isSubcategory = Object(ducks_categories_utils__WEBPACK_IMPORTED_MODULE_13__["onSubcategory"])(params);
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_7__["useRouter"])();
  var breadcrumbItems = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_17__["makeBreadcrumbs"])(router, categoryName, subcategoryName, t);
  }, [router, categoryName, subcategoryName, t]);
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useDispatch"])();
  var period = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["getPeriod"]);
  var onChangePeriod = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (newPeriod) {
    dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["addFilterByPeriod"])(newPeriod));
  }, [dispatch]);
  var incomeToggle = showIncomeToggle ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_IncomeToggle__WEBPACK_IMPORTED_MODULE_14__["default"], {
    withIncome: withIncome,
    onToggle: onWithIncomeToggle
  }) : null;
  var chart = isFetching || isSubcategory ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoriesChart__WEBPACK_IMPORTED_MODULE_10__["default"], {
    width: chartSize,
    height: chartSize,
    categories: selectedCategory ? selectedCategory.subcategories : categories,
    selectedCategory: selectedCategory,
    total: selectedCategory ? selectedCategory.amount : transactionsTotal,
    currency: globalCurrency,
    label: t('Categories.title.total'),
    hasAccount: hasAccount,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(hasAccount ? null : ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_12___default.a.NoAccount_chart, selectedCategory ? ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_12___default.a.SubcategoryChart : null)
  });
  var dateSelector = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionSelectDates__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onChange: onChangePeriod,
    value: period,
    showFullYear: true,
    className: classes.selectDates
  });
  var Fragment = isMobile ? _MobileFragment__WEBPACK_IMPORTED_MODULE_16__["default"] : _DesktopFragment__WEBPACK_IMPORTED_MODULE_15__["default"];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fragment, {
    breadcrumbItems: breadcrumbItems,
    chart: chart,
    classes: classes,
    dateSelector: dateSelector,
    emptyIcon: emptyIcon,
    hasAccount: hasAccount,
    hasData: hasData,
    selectedCategory: selectedCategory,
    incomeToggle: incomeToggle,
    isFetching: isFetching,
    isFetchingNewData: isFetchingNewData
  });
};

CategoriesHeader.defaultProps = {
  chartSize: 182,
  emptyIcon: cozy_ui_transpiled_react_Icons_SadCozy__WEBPACK_IMPORTED_MODULE_5__["default"],
  classes: {
    header: '',
    legalMention: 'u-mt-2 u-pt-1',
    selectDates: 'u-pt-half'
  }
};
CategoriesHeader.propTypes = {
  categoryName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  subcategoryName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  selectedCategory: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
  withIncome: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  onWithIncomeToggle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  chartSize: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  hasAccount: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  categories: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(CategoriesHeader));

/***/ }),

/***/ "./src/ducks/categories/CategoriesHeader/utils.jsx":
/*!*********************************************************!*\
  !*** ./src/ducks/categories/CategoriesHeader/utils.jsx ***!
  \*********************************************************/
/*! exports provided: makeBreadcrumbs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeBreadcrumbs", function() { return makeBreadcrumbs; });
var makeBreadcrumbs = function makeBreadcrumbs(router, categoryName, subcategoryName, t) {
  var breadcrumbs = [{
    name: t('Categories.title.general'),
    onClick: function onClick() {
      return router.push('/analysis/categories');
    }
  }];

  if (categoryName) {
    breadcrumbs.push({
      name: t("Data.categories.".concat(categoryName)),
      onClick: function onClick() {
        return router.push("/analysis/categories/".concat(categoryName));
      }
    });
  }

  if (subcategoryName) {
    breadcrumbs.push({
      name: t("Data.subcategories.".concat(subcategoryName))
    });
  }

  return breadcrumbs;
};

/***/ }),

/***/ "./src/ducks/categories/CategoriesPage.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/categories/CategoriesPage.jsx ***!
  \*************************************************/
/*! exports provided: CategoriesPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CategoriesPage", function() { return CategoriesPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/includes */ "./node_modules/lodash/includes.js");
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/maxBy */ "./node_modules/lodash/maxBy.js");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/some */ "./node_modules/lodash/some.js");
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_some__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Delayed__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Delayed */ "./src/components/Delayed.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_categories_CategoriesHeader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/categories/CategoriesHeader */ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/index.jsx");
/* harmony import */ var ducks_categories_Categories__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/categories/Categories */ "./src/ducks/categories/Categories.jsx");
/* harmony import */ var ducks_categories_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/categories/utils */ "./src/ducks/categories/utils.js");
/* harmony import */ var ducks_categories_CategoriesPage_CategoryTransactions__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/categories/CategoriesPage/CategoryTransactions */ "./src/ducks/categories/CategoriesPage/CategoryTransactions.jsx");
/* harmony import */ var ducks_categories_CategoriesPage_enhanceCategoriesPage__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/categories/CategoriesPage/enhanceCategoriesPage */ "./src/ducks/categories/CategoriesPage/enhanceCategoriesPage.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





















var isCategoryDataEmpty = function isCategoryDataEmpty(categoryData) {
  return categoryData[0] && isNaN(categoryData[0].percentage);
};

var goToCategory = function goToCategory(router, selectedCategory, subcategory) {
  if (subcategory) {
    router.push("/analysis/categories/".concat(selectedCategory, "/").concat(subcategory));
  } else if (selectedCategory) {
    router.push("/analysis/categories/".concat(selectedCategory));
  } else {
    router.push('/analysis/categories');
  }
};

var CategoriesPage = /*#__PURE__*/function (_Component) {
  _inherits(CategoriesPage, _Component);

  function CategoriesPage() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, CategoriesPage);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CategoriesPage)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "onWithIncomeToggle", function (checked) {
      var client = _this.props.client;

      var settings = _this.getSettings();

      settings.showIncomeCategory = checked;
      client.save(settings);
    });

    _defineProperty(_assertThisInitialized(_this), "getSettings", function () {
      var settingsCollection = _this.props.settings;
      return Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__["getDefaultedSettingsFromCollection"])(settingsCollection);
    });

    return _this;
  }

  _createClass(CategoriesPage, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
          filteringDoc = _this$props.filteringDoc,
          dispatch = _this$props.dispatch;

      if (filteringDoc && lodash_includes__WEBPACK_IMPORTED_MODULE_1___default()(['Reimbursements', 'health_reimbursements'], filteringDoc._id)) {
        dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["resetFilterByDoc"])());
      }

      this.checkToChangeFilter();
      this.trackPage();
    }
  }, {
    key: "trackPage",
    value: function trackPage() {
      var params = this.props.params;
      var categoryName = params.categoryName,
          subcategoryName = params.subcategoryName;

      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__["trackPage"])("analyse:".concat(categoryName ? categoryName : 'home').concat(subcategoryName ? ":details" : ''));
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevParams = prevProps.params;
      var curParams = this.props.params;

      if (prevParams.categoryName !== curParams.categoryName) {
        this.trackPage();
      }
    }
  }, {
    key: "checkToChangeFilter",
    value: function checkToChangeFilter() {
      var _this$props2 = this.props,
          categories = _this$props2.categories,
          filteredTransactionsByAccount = _this$props2.filteredTransactionsByAccount,
          dispatch = _this$props2.dispatch; // If we do not have any data to show, change the period filter
      // to the latest period available for the current account

      if (isCategoryDataEmpty(categories)) {
        var transactions = filteredTransactionsByAccount;

        if (transactions && transactions.length > 0) {
          var maxDate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDate"])(lodash_maxBy__WEBPACK_IMPORTED_MODULE_2___default()(transactions, ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDate"]));
          dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["addFilterByPeriod"])(maxDate.slice(0, 7)));
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          categoriesProps = _this$props3.categories,
          transactions = _this$props3.transactions,
          transactionsByApplicationDate = _this$props3.transactionsByApplicationDate,
          router = _this$props3.router,
          accounts = _this$props3.accounts,
          settings = _this$props3.settings,
          isFetchingNewData = _this$props3.isFetching,
          filteredTransactionsByAccount = _this$props3.filteredTransactionsByAccount;
      var isFetching = lodash_some__WEBPACK_IMPORTED_MODULE_3___default()([accounts, transactions, settings, transactionsByApplicationDate], function (col) {
        return Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["isQueryLoading"])(col) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["hasQueryBeenLoaded"])(col);
      });

      var _this$getSettings = this.getSettings(),
          showIncomeCategory = _this$getSettings.showIncomeCategory;

      var categories = showIncomeCategory ? categoriesProps : categoriesProps.filter(function (category) {
        return category.name !== 'incomeCat';
      });
      var categoryName = router.params.categoryName;
      var subcategoryName = router.params.subcategoryName;
      var selectedCategory = categories.find(function (category) {
        return category.name === categoryName;
      });
      var sortedCategories = lodash_sortBy__WEBPACK_IMPORTED_MODULE_4___default()(categories, function (cat) {
        return Math.abs(cat.amount);
      }).reverse();
      var hasAccount = Boolean(accounts.data && accounts.data.length > 0);
      var isSubcategory = Object(ducks_categories_utils__WEBPACK_IMPORTED_MODULE_16__["onSubcategory"])(router.params);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_11__["default"], {
        theme: "primary"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoriesHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
        categoryName: categoryName,
        subcategoryName: subcategoryName,
        selectedCategory: selectedCategory,
        withIncome: showIncomeCategory,
        onWithIncomeToggle: this.onWithIncomeToggle,
        categories: sortedCategories,
        isFetching: isFetching,
        isFetchingNewData: isFetchingNewData,
        hasAccount: hasAccount,
        chart: !isSubcategory
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_8__["default"], {
        delay: this.props.delayContent
      }, hasAccount && (isFetching ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_7__["default"], {
        className: "u-pt-0"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_6__["default"], {
        loadingType: "categories"
      })) : !isSubcategory ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_Categories__WEBPACK_IMPORTED_MODULE_15__["default"], {
        categories: sortedCategories,
        selectedCategory: selectedCategory,
        selectedCategoryName: categoryName,
        selectCategory: function selectCategory(selectedCategory, subcategory) {
          return goToCategory(router, selectedCategory, subcategory);
        },
        withIncome: showIncomeCategory,
        filterWithInCome: this.filterWithInCome
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoriesPage_CategoryTransactions__WEBPACK_IMPORTED_MODULE_17__["default"], {
        subcategoryName: router.params.subcategoryName,
        transactions: filteredTransactionsByAccount
      }))));
    }
  }]);

  return CategoriesPage;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);
CategoriesPage.defaultProps = {
  delayContent: 0
};
/* harmony default export */ __webpack_exports__["default"] = (Object(ducks_categories_CategoriesPage_enhanceCategoriesPage__WEBPACK_IMPORTED_MODULE_18__["default"])(CategoriesPage));

/***/ }),

/***/ "./src/ducks/categories/CategoriesPage/CategoryTransactions.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/categories/CategoriesPage/CategoryTransactions.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/scroll/getScrollingElement */ "./src/ducks/transactions/scroll/getScrollingElement.jsx");
/* harmony import */ var ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/Transactions */ "./src/ducks/transactions/Transactions.jsx");
/* harmony import */ var ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/getCategoryId */ "./src/ducks/transactions/getCategoryId.js");
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");






var CategoryTransactions = function CategoryTransactions(_ref) {
  var transactions = _ref.transactions,
      subcategoryName = _ref.subcategoryName;
  var categoryTransactions = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    var categoryId = Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_4__["getCategoryIdFromName"])(subcategoryName);
    return transactions ? transactions.filter(function (t) {
      var tc = Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_3__["default"])(t);
      return tc === categoryId;
    }) : [];
  }, [subcategoryName, transactions]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_1__["DESKTOP_SCROLLING_ELEMENT_CLASSNAME"]
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_2__["TransactionList"], {
    showTriggerErrors: false,
    onChangeTopMostTransaction: null,
    onScroll: null,
    transactions: categoryTransactions,
    canFetchMore: false,
    filteringOnAccount: true,
    manualLoadMore: false,
    onReachBottom: null
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(CategoryTransactions));

/***/ }),

/***/ "./src/ducks/categories/CategoriesPage/enhanceCategoriesPage.jsx":
/*!***********************************************************************!*\
  !*** ./src/ducks/categories/CategoriesPage/enhanceCategoriesPage.jsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/constants */ "./src/ducks/transactions/constants.js");
/* harmony import */ var hooks_useLast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! hooks/useLast */ "./src/hooks/useLast.jsx");
/* harmony import */ var hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hooks/useFullyLoadedQuery */ "./src/hooks/useFullyLoadedQuery.jsx");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/categories/selectors */ "./src/ducks/categories/selectors.js");
/* harmony import */ var ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/queries */ "./src/ducks/transactions/queries.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }













var autoUpdateOptions = {
  add: false,
  remove: true,
  update: true
};

var setAutoUpdate = function setAutoUpdate(conn) {
  return _objectSpread({}, conn, {
    autoUpdate: autoUpdateOptions
  });
};

var enhanceCategoriesPage = function enhanceCategoriesPage(Component) {
  return function (props) {
    var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["useClient"])();
    var params = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_10__["useParams"])();
    var accounts = Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_8__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_8__["accountsConn"]);
    var groups = Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_8__["groupsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_8__["groupsConn"]);
    var settings = Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_8__["settingsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_8__["settingsConn"]);
    var filteringDoc = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["getFilteringDoc"]);
    var period = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_9__["getPeriod"]);
    var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();
    var initialConnByDate = Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_7__["makeFilteredTransactionsConn"])({
      groups: groups,
      accounts: accounts,
      filteringDoc: filteringDoc,
      dateAttribute: 'date'
    });
    var initialConnByApplicationDate = Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_7__["makeFilteredTransactionsConn"])({
      groups: groups,
      accounts: accounts,
      filteringDoc: filteringDoc,
      dateAttribute: ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_2__["APPLICATION_DATE"]
    });
    var connByDate = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      return period ? setAutoUpdate(Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_7__["addPeriodToConn"])({
        baseConn: initialConnByDate,
        period: period,
        dateAttribute: 'date'
      })) : setAutoUpdate(initialConnByDate);
    }, [initialConnByDate, period]);
    var connByApplicationDate = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      return period ? setAutoUpdate(Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_7__["addPeriodToConn"])({
        baseConn: initialConnByApplicationDate,
        period: period,
        dateAttribute: ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_2__["APPLICATION_DATE"]
      })) : setAutoUpdate(initialConnByApplicationDate);
    }, [initialConnByApplicationDate, period]);
    var transactionsByDate = Object(hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_4__["default"])(connByDate.query, connByDate);
    var transactionsByApplicationDate = Object(hooks_useFullyLoadedQuery__WEBPACK_IMPORTED_MODULE_4__["default"])(connByApplicationDate.query, connByApplicationDate); // This is used for loaded transactions to stay rendered while
    // next/previous month transactions are loaded

    var colByDate = Object(hooks_useLast__WEBPACK_IMPORTED_MODULE_3__["default"])(transactionsByDate, function (last, cur) {
      return !last || cur.lastUpdate && !cur.hasMore;
    });
    var colByApplicationDate = Object(hooks_useLast__WEBPACK_IMPORTED_MODULE_3__["default"])(transactionsByApplicationDate, function (last, cur) {
      return !last || cur.lastUpdate && !cur.hasMore;
    });
    var transactionsData = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_5__["computeTransactionsByDateAndApplicationDate"])({
        transactionsByDate: transactionsByDate.data,
        transactionsByApplicationDate: transactionsByApplicationDate.data
      });
    }, [transactionsByApplicationDate.data, transactionsByDate.data]);
    var categories = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      return Object(ducks_categories_selectors__WEBPACK_IMPORTED_MODULE_6__["computeCategoriesData"])(transactionsData || []);
    }, [transactionsData]);
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({}, props, {
      accounts: accounts,
      groups: groups,
      settings: settings,
      categories: categories,
      transactions: colByDate,
      transactionsByApplicationDate: colByApplicationDate,
      filteringDoc: filteringDoc,
      period: period,
      client: client,
      params: params,
      filteredTransactionsByAccount: transactionsData,
      dispatch: dispatch,
      isFetching: Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["isQueryLoading"])(transactionsByDate) || transactionsByDate.hasMore || Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["isQueryLoading"])(transactionsByApplicationDate) || transactionsByApplicationDate.hasMore
    }));
  };
};

/* harmony default export */ __webpack_exports__["default"] = (enhanceCategoriesPage);

/***/ }),

/***/ "./src/ducks/categories/CategoryAccountSwitch.jsx":
/*!********************************************************!*\
  !*** ./src/ducks/categories/CategoryAccountSwitch.jsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_account__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/account */ "./src/ducks/account/index.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }





var CategoryAccountSwitch = function CategoryAccountSwitch(_ref) {
  var selectedCategory = _ref.selectedCategory,
      breadcrumbItems = _ref.breadcrumbItems,
      insideBar = _ref.insideBar;

  var _breadcrumbItems$slic = breadcrumbItems.slice(-2, 1),
      _breadcrumbItems$slic2 = _slicedToArray(_breadcrumbItems$slic, 1),
      previousItem = _breadcrumbItems$slic2[0];

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_account__WEBPACK_IMPORTED_MODULE_1__["AccountSwitch"], {
    small: selectedCategory !== undefined,
    insideBar: insideBar
  }), selectedCategory && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onClick: previousItem && previousItem.onClick ? previousItem.onClick : undefined,
    theme: "primary"
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (CategoryAccountSwitch);

/***/ }),

/***/ "./src/ducks/categories/CategoryChoice.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/categories/CategoryChoice.jsx ***!
  \*************************************************/
/*! exports provided: getOptions, isSelected, getCategoriesOptions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOptions", function() { return getOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSelected", function() { return isSelected; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategoriesOptions", function() { return getCategoriesOptions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fuse.js/dist/fuse.js */ "./node_modules/fuse.js/dist/fuse.js");
/* harmony import */ var fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_NestedSelect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/NestedSelect */ "./node_modules/cozy-ui/transpiled/react/NestedSelect/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_categories__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/categories */ "./src/ducks/categories/index.js");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionModal.styl */ "./src/ducks/transactions/TransactionModal/TransactionModal.styl");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/flatten */ "./node_modules/lodash/flatten.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _search_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./search/helpers */ "./src/ducks/categories/search/helpers.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











var getOptions = function getOptions(categories) {
  var subcategory = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var t = arguments.length > 2 ? arguments[2] : undefined;
  return Object.keys(categories).map(function (catName) {
    var option = categories[catName];
    var translateKey = subcategory ? 'subcategories' : 'categories';
    option.title = t("Data.".concat(translateKey, ".").concat(option.name));
    option.icon = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories__WEBPACK_IMPORTED_MODULE_6__["CategoryIcon"], {
      categoryId: option.id
    });

    if (!subcategory) {
      // Sort children so "others" is always the last.
      // "others" is the parent category.
      var isOther = function isOther(item) {
        return item.id === option.id;
      };

      var alphabetical = function alphabetical(item) {
        return item.title;
      };

      option.children = lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default()(getOptions(option.children, true, t), [isOther, alphabetical]);
    }

    return option;
  });
};
var isSelected = function isSelected(toCheck, selected, level) {
  var selectedCategoryParentName = Object(ducks_categories__WEBPACK_IMPORTED_MODULE_6__["getParentCategory"])(selected.id);
  var isSelectedParentCategory = selectedCategoryParentName === toCheck.name && toCheck.children;
  var isSelectedCategory = selected.id === toCheck.id && (toCheck.isParent ? selected.isParent : !selected.isParent);
  return Boolean(level === 0 ? isSelectedParentCategory : isSelectedCategory);
};
var getCategoriesOptions = function getCategoriesOptions(t) {
  return getOptions(Object(ducks_categories__WEBPACK_IMPORTED_MODULE_6__["getCategories"])(), false, t);
};

var CategoryChoice = /*#__PURE__*/function (_Component) {
  _inherits(CategoryChoice, _Component);

  function CategoryChoice(props) {
    var _this;

    _classCallCheck(this, CategoryChoice);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryChoice).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "transformParentItem", function (item) {
      var t = _this.props.t;
      return _objectSpread({}, item, {
        isParent: true,
        title: t('Categories.choice.select-all')
      });
    });

    _defineProperty(_assertThisInitialized(_this), "isSelected", function (categoryItem, level) {
      var _this$props = _this.props,
          categoryId = _this$props.categoryId,
          categoryIsParent = _this$props.categoryIsParent;
      var selected = {
        id: categoryId,
        isParent: categoryIsParent
      };
      return isSelected(categoryItem, selected, level);
    });

    _defineProperty(_assertThisInitialized(_this), "onSearch", function (value) {
      var t = _this.props.t;

      var result = _this.fuse.search(value);

      _this.setState({
        searchValue: value
      });

      return Object(_search_helpers__WEBPACK_IMPORTED_MODULE_9__["formatSearchResult"])(t, result);
    });

    var _t = props.t;
    var childrenOptions = getCategoriesOptions(_t);
    _this.options = {
      children: childrenOptions,
      title: _t('Categories.choice.title')
    };
    _this.fuse = new fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_3___default.a(lodash_flatten__WEBPACK_IMPORTED_MODULE_8___default()(childrenOptions.map(function (e) {
      return e.children;
    })), _search_helpers__WEBPACK_IMPORTED_MODULE_9__["fuseOptions"]);
    _this.searchOptions = {
      placeholderSearch: _t('Categories.search.title'),
      noDataLabel: _t('Categories.search.no-category'),
      onSearch: _this.onSearch
    };
    _this.state = {
      value: ''
    };
    return _this;
  }

  _createClass(CategoryChoice, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          t = _this$props2.t,
          onCancel = _this$props2.onCancel,
          _onSelect = _this$props2.onSelect,
          modal = _this$props2.modal,
          canSelectParent = _this$props2.canSelectParent;
      var Component = modal ? cozy_ui_transpiled_react_NestedSelect__WEBPACK_IMPORTED_MODULE_4__["NestedSelectModal"] : cozy_ui_transpiled_react_NestedSelect__WEBPACK_IMPORTED_MODULE_4__["default"];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
        closeBtnClassName: ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_7___default.a.TransactionModalCross,
        title: t('Categories.choice.title'),
        options: this.options,
        isSelected: this.isSelected,
        canSelectParent: canSelectParent,
        transformParentItem: this.transformParentItem,
        onSelect: function onSelect(subcategory) {
          return _onSelect(subcategory);
        },
        onCancel: onCancel,
        onClose: onCancel,
        searchOptions: this.searchOptions
      });
    }
  }]);

  return CategoryChoice;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

CategoryChoice.propTypes = {
  categoryId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  onCancel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onSelect: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,

  /** Whether categoryChoice should be shown in a modal */
  modal: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
CategoryChoice.defaultProps = {
  modal: true
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])()(CategoryChoice));

/***/ }),

/***/ "./src/ducks/categories/CategoryIcon.jsx":
/*!***********************************************!*\
  !*** ./src/ducks/categories/CategoryIcon.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var ducks_categories_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/categories/icons */ "./src/ducks/categories/icons.js");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var ducks_categories_PendingCategoryIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/categories/PendingCategoryIcon */ "./src/ducks/categories/PendingCategoryIcon.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








var getCategoryIcon = function getCategoryIcon(categoryId) {
  var categoryName = Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_4__["getCategoryName"])(categoryId);
  var catIcon = ducks_categories_icons__WEBPACK_IMPORTED_MODULE_3__["default"][categoryName];

  if (catIcon) {
    return catIcon;
  } else {
    var parentCategoryName = Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_4__["getParentCategory"])(categoryId);
    var pIcon = ducks_categories_icons__WEBPACK_IMPORTED_MODULE_3__["default"][parentCategoryName];

    if (pIcon) {
      return pIcon;
    }
  }

  return ducks_categories_icons__WEBPACK_IMPORTED_MODULE_3__["default"].uncategorized;
};

var CategoryIcon = function CategoryIcon(_ref) {
  var categoryId = _ref.categoryId,
      size = _ref.size,
      rest = _objectWithoutProperties(_ref, ["categoryId", "size"]);

  if (!categoryId) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_PendingCategoryIcon__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({
      size: size
    }, rest));
  }

  var icon = getCategoryIcon(categoryId);

  if (!icon) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({
    icon: icon,
    size: size
  }, rest));
};

CategoryIcon.propTypes = {
  categoryId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
CategoryIcon.defaultProps = {
  size: 32
};
/* harmony default export */ __webpack_exports__["default"] = (CategoryIcon);

/***/ }),

/***/ "./src/ducks/categories/Chart.jsx":
/*!****************************************!*\
  !*** ./src/ducks/categories/Chart.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_categories_Chart_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/categories/Chart.styl */ "./src/ducks/categories/Chart.styl");
/* harmony import */ var ducks_categories_Chart_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_Chart_styl__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-chartjs-2 */ "./node_modules/react-chartjs-2/es/index.js");
/* harmony import */ var lib_chartjsPieLabels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/chartjsPieLabels */ "./src/lib/chartjsPieLabels.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_4__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/*
Component to render a pie chart from data (size from props too)
*/




 // Disable animating charts by default.

if (cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('analysis.no-animation')) {
  react_chartjs_2__WEBPACK_IMPORTED_MODULE_2__["defaults"].global.animation = false;
}

var Chart = /*#__PURE__*/function (_Component) {
  _inherits(Chart, _Component);

  function Chart() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, Chart);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Chart)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      data: {
        labels: _this.props.labels,
        datasets: [{
          data: _this.props.data,
          backgroundColor: _this.props.colors,
          borderWidth: 0
        }]
      },
      options: {
        cutoutPercentage: 74,
        legend: {
          display: false
        },
        responsive: false,
        maintainAspectRatio: false,
        tooltips: {
          callbacks: {
            label: function label(tooltipItem, data) {
              var label = data.labels[tooltipItem.index];
              return "".concat(label);
            },
            afterLabel: function afterLabel(tooltipItem, data) {
              var value = data.datasets[0].data[tooltipItem.index];
              return "".concat(value, " \u20AC");
            }
          },
          bodySpacing: 4,
          xPadding: 8
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "click", function (e) {
      var onClick = _this.props.onClick;

      if (onClick) {
        if (e.length > 0) {
          onClick(e[0]._index);
        } else {
          onClick(undefined);
        }
      }
    });

    return _this;
  }

  _createClass(Chart, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      react_chartjs_2__WEBPACK_IMPORTED_MODULE_2__["Chart"].pluginService.register(lib_chartjsPieLabels__WEBPACK_IMPORTED_MODULE_3__["default"]);
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      this.setState({
        data: {
          labels: nextProps.labels,
          datasets: [{
            data: nextProps.data,
            backgroundColor: nextProps.colors,
            borderWidth: 0
          }]
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          width = _this$props.width,
          height = _this$props.height;
      var _this$state = this.state,
          data = _this$state.data,
          options = _this$state.options;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: ducks_categories_Chart_styl__WEBPACK_IMPORTED_MODULE_0___default.a['bnk-chart']
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_2__["Doughnut"], {
        data: data,
        options: options,
        onElementsClick: this.click,
        width: width,
        height: height
      }));
    }
  }]);

  return Chart;
}(react__WEBPACK_IMPORTED_MODULE_1__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Chart);

/***/ }),

/***/ "./src/ducks/categories/Chart.styl":
/*!*****************************************!*\
  !*** ./src/ducks/categories/Chart.styl ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"bnk-chart":"bnk-chart--VML97"};

/***/ }),

/***/ "./src/ducks/categories/IncomeToggle.jsx":
/*!***********************************************!*\
  !*** ./src/ducks/categories/IncomeToggle.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Switch */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Switch/index.js");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/categories/CategoriesHeader/CategoriesHeader.styl */ "../overrides/cozy-banks/src/ducks/categories/CategoriesHeader/CategoriesHeader.styl");
/* harmony import */ var ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_5__);







var IncomeToggle = function IncomeToggle(_ref) {
  var withIncome = _ref.withIncome,
      onToggle = _ref.onToggle;
  var theme = Object(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_2__["useCozyTheme"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    onToggle(ev.target.checked);
  }, [onToggle]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_5___default.a.CategoriesHeader__Toggle, ducks_categories_CategoriesHeader_CategoriesHeader_styl__WEBPACK_IMPORTED_MODULE_5___default.a[theme])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_4__["default"], {
    id: "withIncome",
    disableRipple: true,
    checked: withIncome,
    color: "secondary",
    onChange: handleChange
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    htmlFor: "withIncome"
  }, t('Categories.filter.includeIncome')));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(IncomeToggle));

/***/ }),

/***/ "./src/ducks/categories/PendingCategoryIcon.jsx":
/*!******************************************************!*\
  !*** ./src/ducks/categories/PendingCategoryIcon.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_categories_PendingCategoryIcon_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/categories/PendingCategoryIcon.styl */ "./src/ducks/categories/PendingCategoryIcon.styl");
/* harmony import */ var ducks_categories_PendingCategoryIcon_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ducks_categories_PendingCategoryIcon_styl__WEBPACK_IMPORTED_MODULE_2__);




var PendingCategoryIcon = function PendingCategoryIcon(_ref) {
  var _ref$size = _ref.size,
      size = _ref$size === void 0 ? 32 : _ref$size;
  var style = {
    width: size,
    height: size
  }; // We don't externalize the SVG into its own file and use it in a cozy-ui
  // Icon because it breaks the SVG animations

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: ducks_categories_PendingCategoryIcon_styl__WEBPACK_IMPORTED_MODULE_2___default.a.PendingCategoryIcon,
    style: style
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", {
    version: "1.1",
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    x: "0px",
    y: "0px",
    viewBox: "0 0 100 100",
    enableBackground: "new 0 0 0 0",
    xmlSpace: "preserve"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", {
    fill: "#fff",
    stroke: "none",
    cx: "25",
    cy: "50",
    r: "6"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("animate", {
    attributeName: "opacity",
    dur: "1s",
    values: "0;1;0",
    repeatCount: "indefinite",
    begin: "0.1"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", {
    fill: "#fff",
    stroke: "none",
    cx: "50",
    cy: "50",
    r: "6"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("animate", {
    attributeName: "opacity",
    dur: "1s",
    values: "0;1;0",
    repeatCount: "indefinite",
    begin: "0.2"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle", {
    fill: "#fff",
    stroke: "none",
    cx: "75",
    cy: "50",
    r: "6"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("animate", {
    attributeName: "opacity",
    dur: "1s",
    values: "0;1;0",
    repeatCount: "indefinite",
    begin: "0.3"
  }))));
};

PendingCategoryIcon.propTypes = {
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (PendingCategoryIcon);

/***/ }),

/***/ "./src/ducks/categories/PendingCategoryIcon.styl":
/*!*******************************************************!*\
  !*** ./src/ducks/categories/PendingCategoryIcon.styl ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"PendingCategoryIcon":"PendingCategoryIcon--2J_Ih"};

/***/ }),

/***/ "./src/ducks/categories/categoriesMap.js":
/*!***********************************************!*\
  !*** ./src/ducks/categories/categoriesMap.js ***!
  \***********************************************/
/*! exports provided: getCategoryIdFromName, categoriesStyle, getCategories, getCategoryName, categoryToParent, getParentCategory, isParentOf, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategoryIdFromName", function() { return getCategoryIdFromName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "categoriesStyle", function() { return categoriesStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategories", function() { return getCategories; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategoryName", function() { return getCategoryName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "categoryToParent", function() { return categoryToParent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentCategory", function() { return getParentCategory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isParentOf", function() { return isParentOf; });
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tree */ "./src/ducks/categories/tree.json");
var _tree__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./tree */ "./src/ducks/categories/tree.json", 1);
/* harmony import */ var ducks_categories_colors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/categories/colors */ "../overrides/cozy-banks/src/ducks/categories/colors.js");
// Map instance for categories

/*
  Categories
*/



var getCategoryIdFromName = lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default()(function (name) {
  return Object.keys(_tree__WEBPACK_IMPORTED_MODULE_1__).find(function (id) {
    return _tree__WEBPACK_IMPORTED_MODULE_1__[id] === name;
  });
});
var categoriesStyle = {};

for (var catName in ducks_categories_colors__WEBPACK_IMPORTED_MODULE_2__["default"]) {
  var category = {};
  category.color = ducks_categories_colors__WEBPACK_IMPORTED_MODULE_2__["default"][catName];
  category.name = catName;
  category.id = getCategoryIdFromName(catName);
  category.children = {};
  categoriesStyle[catName] = category;
}

var getCategories = function getCategories() {
  return categoriesStyle;
};
var getCategoryName = function getCategoryName(id) {
  var undefinedId = 0;

  if (id === null) {
    return 'awaiting';
  }

  if (id === undefined) {
    return _tree__WEBPACK_IMPORTED_MODULE_1__[undefinedId];
  }

  var categoryName = _tree__WEBPACK_IMPORTED_MODULE_1__[id];

  if (categoryName === undefined) {
    return _tree__WEBPACK_IMPORTED_MODULE_1__[undefinedId];
  }

  return categoryName;
};

var getOptions = function getOptions(idStr) {
  var k = parseInt(idStr, 10);
  var m = 10;
  var name = _tree__WEBPACK_IMPORTED_MODULE_1__[k];

  while (!categoriesStyle.hasOwnProperty(name)) {
    k = k - k % m;
    name = _tree__WEBPACK_IMPORTED_MODULE_1__[k];
    m = 10 * m;
  }

  return categoriesStyle[name];
};

var categoryToParent = new Map(Object.keys(_tree__WEBPACK_IMPORTED_MODULE_1__).map(function (id) {
  var options = getOptions(id);
  return [id, options];
}));
var getParentCategory = function getParentCategory(catId) {
  var parent = categoryToParent.get(catId);
  return parent && parent.name;
};
var isParentOf = function isParentOf(possibleParentCatId, catId) {
  var parent = categoryToParent.get(catId);
  return Boolean(parent && parent.id == possibleParentCatId);
};
Object.keys(_tree__WEBPACK_IMPORTED_MODULE_1__).forEach(function (catId) {
  var catName = _tree__WEBPACK_IMPORTED_MODULE_1__[catId];
  var parentName = getParentCategory(catId);

  if (categoriesStyle[parentName]) {
    categoriesStyle[parentName].children[catId] = {
      name: catName,
      color: categoriesStyle[parentName].color,
      id: catId
    };
  }
});
/* harmony default export */ __webpack_exports__["default"] = (categoryToParent);

/***/ }),

/***/ "./src/ducks/categories/colors.js":
/*!****************************************!*\
  !*** ./src/ducks/categories/colors.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var detect_node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! detect-node */ "./node_modules/detect-node/browser.js");
/* harmony import */ var detect_node__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(detect_node__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/utils/color */ "./node_modules/cozy-ui/transpiled/react/utils/color.js");




var getColor = function getColor(color) {
  return detect_node__WEBPACK_IMPORTED_MODULE_0___default.a ? cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_1___default.a[color] : Object(cozy_ui_transpiled_react_utils_color__WEBPACK_IMPORTED_MODULE_2__["getCssVariableValue"])(color) || cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_1___default.a[color];
};

/* harmony default export */ __webpack_exports__["default"] = ({
  kids: getColor('azure'),
  dailyLife: getColor('melon'),
  educationAndTraining: getColor('blazeOrange'),
  health: getColor('pomegranate'),
  homeAndRealEstate: getColor('mango'),
  incomeCat: getColor('emerald'),
  activities: getColor('fuchsia'),
  excludeFromBudgetCat: getColor('darkPeriwinkle'),
  services: getColor('purpley'),
  tax: getColor('lightishPurple'),
  transportation: getColor('puertoRico'),
  goingOutAndTravel: getColor('weirdGreen'),
  uncategorized: getColor('coolGrey')
});

/***/ }),

/***/ "./src/ducks/categories/helpers.js":
/*!*****************************************!*\
  !*** ./src/ducks/categories/helpers.js ***!
  \*****************************************/
/*! exports provided: getParent, isAwaitingCategorization, getTransactionsByCategory, getParentCategory, isHealthExpense, isHealth, getTransactionsTotal, getGlobalCurrency, isProfessionalExpense, getCategoryIdFromName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParent", function() { return getParent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAwaitingCategorization", function() { return isAwaitingCategorization; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionsByCategory", function() { return getTransactionsByCategory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentCategory", function() { return getParentCategory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isHealthExpense", function() { return isHealthExpense; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isHealth", function() { return isHealth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionsTotal", function() { return getTransactionsTotal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGlobalCurrency", function() { return getGlobalCurrency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isProfessionalExpense", function() { return isProfessionalExpense; });
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getCategoryIdFromName", function() { return ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["getCategoryIdFromName"]; });

/* harmony import */ var ducks_categories_tree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/categories/tree */ "./src/ducks/categories/tree.json");
var ducks_categories_tree__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ducks/categories/tree */ "./src/ducks/categories/tree.json", 1);
/* harmony import */ var ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/getCategoryId */ "./src/ducks/transactions/getCategoryId.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../types */ "./src/types.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_3__);
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}



 // eslint-disable-next-line no-unused-vars


var getParent = ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["default"].get.bind(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["default"]);

var makeCategory = function makeCategory(parent) {
  return {
    id: parent.id,
    name: parent.name,
    color: parent.color,
    transactions: [],
    subcategories: {}
  };
};

var makeSubcategory = function makeSubcategory(catId) {
  return {
    id: catId,
    name: ducks_categories_tree__WEBPACK_IMPORTED_MODULE_1__[catId],
    transactions: []
  };
};

var isAwaitingCategorization = function isAwaitingCategorization(transaction) {
  return Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__["default"])(transaction) === null;
};
/**
 * @param  {Array<BankTransaction>} transactions
 * @return {TransactionCategoriesSummary}
 */

var getTransactionsByCategory = function getTransactionsByCategory(transactions) {
  var categories = {};

  var _arr = Object.keys(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["categoriesStyle"]);

  for (var _i = 0; _i < _arr.length; _i++) {
    var catName = _arr[_i];

    var category = _objectSpread({
      name: catName
    }, ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["categoriesStyle"][catName]);

    categories[catName] = makeCategory(category);
  }

  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = transactions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var transaction = _step.value; // Ignore transactions that don't have a usable categorization yet

      if (isAwaitingCategorization(transaction)) {
        continue;
      } // Creates a map of categories, where each entry contains a list of
      // related operations and a breakdown by sub-category


      var catId = Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__["default"])(transaction);
      var parent = getParent(catId) || getParent('0'); // create a new parent category if necessary

      if (!categories.hasOwnProperty(parent.name)) {
        categories[parent.name] = makeCategory(parent);
      }

      var _category = categories[parent.name]; // create a new subcategory if necessary

      if (!_category.subcategories.hasOwnProperty(catId)) {
        _category.subcategories[catId] = makeSubcategory(catId);
      }

      var subcategory = _category.subcategories[catId];

      _category.transactions.push(transaction);

      subcategory.transactions.push(transaction);
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return categories;
};
var getParentCategory = function getParentCategory(transaction) {
  return getParent(Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__["default"])(transaction));
};
var isHealthExpense = function isHealthExpense(transaction) {
  return Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__["default"])(transaction) === '400610' && transaction.amount < 0;
};
var isHealth = function isHealth(transaction) {
  var categoryId = Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__["default"])(transaction);
  return categoryId === '400600' || categoryId === '400610' || categoryId === '400620';
};

var subCategorySort = function subCategorySort(a, b) {
  if (b.percentage !== a.percentage) {
    return b.percentage - a.percentage;
  } else {
    return a.amount - b.amount;
  }
};

var getTransactionsTotal = function getTransactionsTotal(categories) {
  var transactionsTotal = 0;

  if (categories.length !== 0) {
    // compute some global data
    var absoluteTransactionsTotal = categories.reduce(function (total, category) {
      return total + Math.abs(category.amount);
    }, 0);
    var _iteratorNormalCompletion2 = true;
    var _didIteratorError2 = false;
    var _iteratorError2 = undefined;

    try {
      for (var _iterator2 = categories[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
        var category = _step2.value;
        category.percentage = Math.round(Math.abs(category.amount) / absoluteTransactionsTotal * 100);
        var absoluteSubcategoriesTotal = category.subcategories.reduce(function (total, category) {
          return total + Math.abs(category.amount);
        }, 0);
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
          for (var _iterator3 = category.subcategories[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
            var subcategory = _step3.value;

            if (absoluteSubcategoriesTotal === 0) {
              subcategory.percentage = 100;
            } else {
              subcategory.percentage = Math.round(Math.abs(subcategory.amount) / absoluteSubcategoriesTotal * 100);
            }
          }
        } catch (err) {
          _didIteratorError3 = true;
          _iteratorError3 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
              _iterator3.return();
            }
          } finally {
            if (_didIteratorError3) {
              throw _iteratorError3;
            }
          }
        }

        category.subcategories = category.subcategories.sort(subCategorySort);
        transactionsTotal += category.amount;
      }
    } catch (err) {
      _didIteratorError2 = true;
      _iteratorError2 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
          _iterator2.return();
        }
      } finally {
        if (_didIteratorError2) {
          throw _iteratorError2;
        }
      }
    }
  }

  return transactionsTotal;
};
var getGlobalCurrency = function getGlobalCurrency(categories) {
  var currency;

  if (categories.length > 0) {
    currency = categories[0].currency;
  }

  if (!currency) {
    currency = '€';
  }

  return currency;
};
var isProfessionalExpense = function isProfessionalExpense(transaction) {
  return Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_2__["default"])(transaction) === Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["getCategoryIdFromName"])('professionalExpenses') && transaction.amount < 0;
};


/***/ }),

/***/ "./src/ducks/categories/icons.js":
/*!***************************************!*\
  !*** ./src/ducks/categories/icons.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/fromPairs */ "./node_modules/lodash/fromPairs.js");
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0__);

var iconsByCatName;

if (true) {
  // Require all icons automatically
  var context = __webpack_require__("../overrides/cozy-banks/src/assets/icons/categories sync \\.svg$"); // Remove ./icon-cat- and .svg from filename returned in context


  var cleanIconFilename = function cleanIconFilename(filename) {
    return filename.slice(11, -4);
  };

  iconsByCatName = lodash_fromPairs__WEBPACK_IMPORTED_MODULE_0___default()(context.keys().map(function (filename) {
    return [cleanIconFilename(filename), context(filename).default];
  }));
} else {}

/* harmony default export */ __webpack_exports__["default"] = (iconsByCatName);

/***/ }),

/***/ "./src/ducks/categories/index.js":
/*!***************************************!*\
  !*** ./src/ducks/categories/index.js ***!
  \***************************************/
/*! exports provided: getParentCategory, getCategories, getCategoryName, CategoriesPage, CategoryChoice, CategoryIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_categories_CategoriesPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/categories/CategoriesPage */ "../overrides/cozy-banks/src/ducks/categories/CategoriesPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CategoriesPage", function() { return ducks_categories_CategoriesPage__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_categories_CategoryChoice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/categories/CategoryChoice */ "./src/ducks/categories/CategoryChoice.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CategoryChoice", function() { return ducks_categories_CategoryChoice__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CategoryIcon", function() { return ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _categoriesMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getParentCategory", function() { return _categoriesMap__WEBPACK_IMPORTED_MODULE_3__["getParentCategory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getCategories", function() { return _categoriesMap__WEBPACK_IMPORTED_MODULE_3__["getCategories"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getCategoryName", function() { return _categoriesMap__WEBPACK_IMPORTED_MODULE_3__["getCategoryName"]; });




 // components



/***/ }),

/***/ "./src/ducks/categories/search/helpers.js":
/*!************************************************!*\
  !*** ./src/ducks/categories/search/helpers.js ***!
  \************************************************/
/*! exports provided: fuseOptions, formatSearchResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fuseOptions", function() { return fuseOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatSearchResult", function() { return formatSearchResult; });
/* harmony import */ var _categoriesMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../categoriesMap */ "./src/ducks/categories/categoriesMap.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}


var fuseOptions = {
  keys: ['title'],
  threshold: 0.2
};
var formatSearchResult = function formatSearchResult(t, result) {
  return result.map(function (r) {
    return r.item;
  }).map(function (item) {
    var parentName = Object(_categoriesMap__WEBPACK_IMPORTED_MODULE_0__["getParentCategory"])(item.id);
    return _objectSpread({
      description: t("Data.categories.".concat(parentName))
    }, item);
  });
};

/***/ }),

/***/ "./src/ducks/categories/selectors.js":
/*!*******************************************!*\
  !*** ./src/ducks/categories/selectors.js ***!
  \*******************************************/
/*! exports provided: computeCategoriesData, getCategoriesData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "computeCategoriesData", function() { return computeCategoriesData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategoriesData", function() { return getCategoriesData; });
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers */ "./src/ducks/categories/helpers.js");



 // Takes the transactions by category and turns it into a flat array,
// while computing derived data such as totals and currencies.
// The result is used pretty much as is down the chain by other components,
// so changing property names here should be done with care.

var computeCategoriesData = function computeCategoriesData(transactions) {
  var transactionsByCategory = Object(_helpers__WEBPACK_IMPORTED_MODULE_3__["getTransactionsByCategory"])(transactions);
  return Object.values(transactionsByCategory).map(function (category) {
    var subcategories = Object.values(category.subcategories).map(function (subcategory) {
      var debit = subcategory.transactions.reduce(function (total, op) {
        return op.amount < 0 ? total + op.amount : total;
      }, 0);
      var credit = subcategory.transactions.reduce(function (total, op) {
        return op.amount > 0 ? total + op.amount : total;
      }, 0);
      return {
        id: subcategory.id,
        name: subcategory.name,
        amount: credit + debit,
        debit: debit,
        credit: credit,
        percentage: 0,
        currency: subcategory.transactions.length > 0 ? Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_2__["getCurrencySymbol"])(subcategory.transactions[0].currency) : '',
        transactionsNumber: subcategory.transactions.length
      };
    });
    var debit = category.transactions.reduce(function (total, op) {
      return op.amount < 0 ? total + op.amount : total;
    }, 0);
    var credit = category.transactions.reduce(function (total, op) {
      return op.amount > 0 ? total + op.amount : total;
    }, 0);
    return {
      id: category.id,
      name: category.name,
      color: category.color,
      amount: credit + debit,
      debit: debit,
      credit: credit,
      percentage: 0,
      currency: category.transactions.length > 0 ? Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_2__["getCurrencySymbol"])(category.transactions[0].currency) : '',
      transactionsNumber: category.transactions.length,
      subcategories: subcategories
    };
  });
};
var getCategoriesData = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([ducks_filters__WEBPACK_IMPORTED_MODULE_0__["getFilteredTransactions"]], computeCategoriesData);

/***/ }),

/***/ "./src/ducks/categories/styles.styl":
/*!******************************************!*\
  !*** ./src/ducks/categories/styles.styl ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"PercentageLine":"PercentageLine--30tKg","bnk-table-category":"bnk-table-category--1nS2Z","bnk-table-percentage":"bnk-table-percentage--11SqR","bnk-table-operation":"bnk-table-operation--YKWJx","bnk-table-amount":"bnk-table-amount--13N2g","bnk-table-total":"bnk-table-total--1PHBD","bnk-table-percentage-sign":"bnk-table-percentage-sign--2IuF1","bnk-table-amount-figure":"bnk-table-amount-figure--2HK88","bnk-table-amount-figure-total":"bnk-table-amount-figure-total--XFTt9","bnk-table-row":"bnk-table-row--3_fvB","bnk-table-row--uncollapsed":"bnk-table-row--uncollapsed--17Y4a","bnk-table-row-caption":"bnk-table-row-caption--20LQY","bnk-table-percentage-caption":"bnk-table-percentage-caption--nnMR0","bnk-table-category-category":"bnk-table-category-category--2hX0x","bnk-category-total-mobile":"bnk-category-total-mobile--2Kg7D","bnk-table-category-name-icon":"bnk-table-category-name-icon--1BNty"};

/***/ }),

/***/ "./src/ducks/categories/tree.json":
/*!****************************************!*\
  !*** ./src/ducks/categories/tree.json ***!
  \****************************************/
/*! exports provided: 0, 100, 200, 300, 200100, 200110, 200120, 200130, 200140, 200150, 200160, 200170, 200180, 200190, 400100, 400110, 400111, 400112, 400120, 400130, 400140, 400150, 400160, 400170, 400180, 400190, 400200, 400205, 400210, 400220, 400230, 400240, 400250, 400260, 400270, 400280, 400290, 400300, 400310, 400320, 400330, 400340, 400350, 400400, 400410, 400420, 400430, 400440, 400450, 400460, 400470, 400500, 400510, 400520, 400530, 400540, 400600, 400610, 400620, 400700, 400710, 400720, 400730, 400740, 400750, 400760, 400800, 400810, 400820, 400830, 400840, 400850, 400900, 400910, 400920, 400930, 400940, 401000, 401010, 401020, 401030, 401040, 401050, 401060, 401070, 401080, 600100, 600110, 600120, 600130, 600140, 600150, 600160, 600170, default */
/***/ (function(module) {

module.exports = {"0":"uncategorized","100":"potentialTransfer","200":"check","300":"atm","200100":"incomeCat","200110":"activityIncome","200120":"replacementIncome","200130":"interests","200140":"dividends","200150":"donationsReceived","200160":"allocations","200170":"rentalIncome","200180":"additionalIncome","200190":"retirement","400100":"dailyLife","400110":"supermarket","400111":"tobaccoPress","400112":"shoppingECommerce","400120":"consumerLoan","400130":"dressing","400140":"pets","400150":"telecom","400160":"snaksAndworkMeals","400170":"charity","400180":"giftsOffered","400190":"personalCare","400200":"transportation","400205":"vehiculePurchase","400210":"vehiculeLoan","400220":"vehiculeRental","400230":"vehiculeInsurance","400240":"vehiculeMaintenance","400250":"vehiculeGas","400260":"privateParking","400270":"parkingAndToll","400280":"publicTransportation","400290":"taxi","400300":"services","400310":"post","400320":"legalCounsel","400330":"homeAssistance","400340":"bankFees","400350":"financialAdvisor","400400":"kids","400410":"kidsAllowance","400420":"schoolRestaurant","400430":"childCare","400440":"schoolInsurance","400450":"toysAndGifts","400460":"pensionPaid","400470":"kidsActivities","400500":"tax","400510":"incomeTax","400520":"socialTax","400530":"wealthTax","400540":"realEstateTax","400600":"health","400610":"healthExpenses","400620":"healthInsurance","400700":"activities","400710":"activityFees","400720":"activityEquipments","400730":"activityLessons","400740":"electronicsAndMultimedia","400750":"booksMoviesMusic","400760":"hobbyAndPassion","400800":"goingOutAndTravel","400810":"restaurantsAndBars","400820":"goingOutEntertainment","400830":"goingOutCulture","400840":"travel","400850":"journey","400900":"educationAndTraining","400910":"tuition","400920":"eduBooksAndSupplies","400930":"studentLoan","400940":"eduLessons","401000":"homeAndRealEstate","401010":"realEstateLoan","401020":"rent","401030":"homeCharges","401040":"homeInsurance","401050":"homeImprovement","401060":"homeHardware","401070":"water","401080":"power","600100":"excludeFromBudgetCat","600110":"internalTransfer","600120":"creditCardPayment","600130":"loanCredit","600140":"professionalExpenses","600150":"investmentBuySell","600160":"friendBorrowing","600170":"savings"};

/***/ }),

/***/ "./src/ducks/categories/utils.js":
/*!***************************************!*\
  !*** ./src/ducks/categories/utils.js ***!
  \***************************************/
/*! exports provided: onSubcategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onSubcategory", function() { return onSubcategory; });
var onSubcategory = function onSubcategory(params) {
  return Boolean(params.subcategoryName);
};



/***/ }),

/***/ "./src/ducks/chart/selectors.js":
/*!**************************************!*\
  !*** ./src/ducks/chart/selectors.js ***!
  \**************************************/
/*! exports provided: getChartDataSelector, getChartTransactions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getChartDataSelector", function() { return getChartDataSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getChartTransactions", function() { return getChartTransactions; });
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/balance/helpers */ "./src/ducks/balance/helpers.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");








var getBalanceHistory = function getBalanceHistory(accounts, transactions, to, from) {
  var balanceHistories = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_1__["getBalanceHistories"])(accounts, transactions, to, from);
  var balanceHistory = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_1__["sumBalanceHistories"])(Object.values(balanceHistories));
  return balanceHistory;
};

var propSelector = function propSelector(propName) {
  return function (state, props) {
    return props[propName];
  };
};

var getRouter = propSelector('router');
var getCurrentCategory = Object(reselect__WEBPACK_IMPORTED_MODULE_6__["createSelector"])([getRouter], function (router) {
  return router.params.subcategoryName;
});
var getFilteredTransactionsForChart = Object(reselect__WEBPACK_IMPORTED_MODULE_6__["createSelector"])([function (state) {
  return state;
}, getCurrentCategory], function (state, currentCategory) {
  if (currentCategory) {
    return Object(ducks_filters__WEBPACK_IMPORTED_MODULE_4__["getFilteredTransactions"])(state);
  } else {
    return Object(ducks_filters__WEBPACK_IMPORTED_MODULE_4__["getTransactionsFilteredByAccount"])(state);
  }
});

var getChartData = function getChartData(accountsCol, transactionsCol, filteredTransactions, filteredAccounts, currentMonth) {
  var now = new Date();
  var cur = currentMonth ? new Date(currentMonth) : now;
  var start = Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["subDays"])(Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["startOfMonth"])(cur), 1);
  var end = Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["endOfMonth"])(cur);

  if (Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["isAfter"])(end, now)) {
    end = now;
    start = Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["subMonths"])(end, 1);
  }

  var isLoading = Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["isQueryLoading"])(transactionsCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["hasQueryBeenLoaded"])(transactionsCol) || Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["isQueryLoading"])(accountsCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["hasQueryBeenLoaded"])(accountsCol);

  if (isLoading) {
    return null;
  }

  var history = getBalanceHistory(filteredAccounts, filteredTransactions, end, start);
  var data = Object(ducks_balance_helpers__WEBPACK_IMPORTED_MODULE_1__["balanceHistoryToChartData"])(history);
  return data;
};

var getChartDataSelector = Object(reselect__WEBPACK_IMPORTED_MODULE_6__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_3__["getAccounts"], selectors__WEBPACK_IMPORTED_MODULE_3__["getTransactions"], getFilteredTransactionsForChart, ducks_filters__WEBPACK_IMPORTED_MODULE_4__["getFilteredAccounts"], propSelector('currentMonth')], getChartData);
var getChartTransactions = function getChartTransactions(filteredTransactions, categoryId) {
  if (!categoryId) {
    return filteredTransactions;
  } // TODO should be done via selectors


  return filteredTransactions.filter(function (transaction) {
    return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_5__["getCategoryId"])(transaction) === categoryId;
  });
};

/***/ }),

/***/ "./src/ducks/client/appMetadata.js":
/*!*****************************************!*\
  !*** ./src/ducks/client/appMetadata.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_client_manifest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/client/manifest */ "../overrides/cozy-banks/src/ducks/client/manifest.js");

/* harmony default export */ __webpack_exports__["default"] = ({
  slug: ducks_client_manifest__WEBPACK_IMPORTED_MODULE_0__["default"].slug,
  version: ducks_client_manifest__WEBPACK_IMPORTED_MODULE_0__["default"].version
});

/***/ }),

/***/ "./src/ducks/client/checks.js":
/*!************************************!*\
  !*** ./src/ducks/client/checks.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_matches__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/matches */ "./node_modules/lodash/matches.js");
/* harmony import */ var lodash_matches__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_matches__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client_dist_models_trigger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client/dist/models/trigger */ "./node_modules/cozy-client/dist/models/trigger.js");
/* harmony import */ var cozy_client_dist_models_trigger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_models_trigger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var utils_sleep__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! utils/sleep */ "./src/utils/sleep.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}





var policies = {
  'never-executed': function neverExecuted(triggerState) {
    return !cozy_client_dist_models_trigger__WEBPACK_IMPORTED_MODULE_2__["triggerStates"].getLastExecution(triggerState);
  }
};
/**
 * Used to launch a service if it has never been launched.
 *
 * TODO Move StartupChecksPlugin to cozy-client
 *
 * @example
 * ```
 * client.registerPlugin(StartupChecksPlugin, {
 *   launchTriggers: [
 *       { slug: 'banks', name: 'autogroups', policy: 'never-executed' }
 *   ]
 * })
 * ```
 */

var StartupChecksPlugin = /*#__PURE__*/function () {
  function StartupChecksPlugin(client, options) {
    var _this = this;

    _classCallCheck(this, StartupChecksPlugin);

    this.client = client;
    this.options = options;
    this.doChecks = this.doChecks.bind(this);

    if (client.isLogged) {
      this.doChecks();
    }

    client.on('login', function () {
      return _this.doChecks();
    });
  }

  _createClass(StartupChecksPlugin, [{
    key: "checkToLaunchJob",
    value: function () {
      var _checkToLaunchJob = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(triggers, launchOptions) {
        var launchPolicy, matchAttributes, trigger, triggerAttr, triggerCol;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                launchPolicy = policies[launchOptions.policy];

                if (launchPolicy) {
                  _context.next = 3;
                  break;
                }

                throw new Error("".concat(launchOptions.policy, " is not a valid policy"));

              case 3:
                matchAttributes = {
                  type: launchOptions.type,
                  message: {
                    slug: launchOptions.slug,
                    name: launchOptions.name
                  }
                };
                trigger = triggers && triggers.find(lodash_matches__WEBPACK_IMPORTED_MODULE_1___default()({
                  attributes: matchAttributes
                }));

                if (trigger) {
                  _context.next = 8;
                  break;
                } // eslint-disable-next-line no-console


                console.warn("Trigger with attributes ".concat(JSON.stringify(matchAttributes), " has not been found"));
                return _context.abrupt("return");

              case 8:
                triggerAttr = trigger.attributes;

                if (launchPolicy(triggerAttr)) {
                  triggerCol = this.client.collection('io.cozy.triggers');
                  triggerCol.launch(triggerAttr);
                }

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function checkToLaunchJob(_x, _x2) {
        return _checkToLaunchJob.apply(this, arguments);
      }

      return checkToLaunchJob;
    }()
  }, {
    key: "checkToLaunchJobs",
    value: function () {
      var _checkToLaunchJobs = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var client, triggers, triggersFromState, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, launchOpts;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                client = this.client;
                triggersFromState = client.getQueryFromState(doctypes__WEBPACK_IMPORTED_MODULE_3__["cronKonnectorTriggersConn"].as);

                if (!triggersFromState) {
                  _context2.next = 6;
                  break;
                }

                triggers = triggersFromState.data;
                _context2.next = 9;
                break;

              case 6:
                _context2.next = 8;
                return client.query(doctypes__WEBPACK_IMPORTED_MODULE_3__["cronKonnectorTriggersConn"].query(client));

              case 8:
                triggers = _context2.sent.data;

              case 9:
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context2.prev = 12;
                _iterator = (this.options.launchTriggers || [])[Symbol.iterator]();

              case 14:
                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                  _context2.next = 21;
                  break;
                }

                launchOpts = _step.value;
                _context2.next = 18;
                return this.checkToLaunchJob(triggers, launchOpts);

              case 18:
                _iteratorNormalCompletion = true;
                _context2.next = 14;
                break;

              case 21:
                _context2.next = 27;
                break;

              case 23:
                _context2.prev = 23;
                _context2.t0 = _context2["catch"](12);
                _didIteratorError = true;
                _iteratorError = _context2.t0;

              case 27:
                _context2.prev = 27;
                _context2.prev = 28;

                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }

              case 30:
                _context2.prev = 30;

                if (!_didIteratorError) {
                  _context2.next = 33;
                  break;
                }

                throw _iteratorError;

              case 33:
                return _context2.finish(30);

              case 34:
                return _context2.finish(27);

              case 35:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[12, 23, 27, 35], [28,, 30, 34]]);
      }));

      function checkToLaunchJobs() {
        return _checkToLaunchJobs.apply(this, arguments);
      }

      return checkToLaunchJobs;
    }()
  }, {
    key: "doChecks",
    value: function () {
      var _doChecks = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                if (!this.options.delay) {
                  _context3.next = 3;
                  break;
                }

                _context3.next = 3;
                return Object(utils_sleep__WEBPACK_IMPORTED_MODULE_4__["default"])(this.options.delay);

              case 3:
                _context3.next = 5;
                return this.checkToLaunchJobs();

              case 5:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function doChecks() {
        return _doChecks.apply(this, arguments);
      }

      return doChecks;
    }()
  }]);

  return StartupChecksPlugin;
}();

StartupChecksPlugin.pluginName = 'startupChecks';
/* harmony default export */ __webpack_exports__["default"] = (StartupChecksPlugin);

/***/ }),

/***/ "./src/ducks/client/cleanup.js":
/*!*************************************!*\
  !*** ./src/ducks/client/cleanup.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}


/** Used to cleanup redux store when client disconnects */

var CleanupStoreClientPlugin = /*#__PURE__*/function () {
  function CleanupStoreClientPlugin(client, _ref) {
    var store = _ref.store;

    _classCallCheck(this, CleanupStoreClientPlugin);

    this.client = client;
    this.store = store;
    client.on('logout', this.handleLogout.bind(this));
  }

  _createClass(CleanupStoreClientPlugin, [{
    key: "handleLogout",
    value: function handleLogout() {
      this.store.dispatch(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_0__["resetFilterByDoc"])());
    }
  }]);

  return CleanupStoreClientPlugin;
}();

CleanupStoreClientPlugin.pluginName = 'store';
/* harmony default export */ __webpack_exports__["default"] = (CleanupStoreClientPlugin);

/***/ }),

/***/ "./src/ducks/client/index.js":
/*!***********************************!*\
  !*** ./src/ducks/client/index.js ***!
  \***********************************/
/*! exports provided: getClient, CleanupStoreClientPlugin, StartupChecksPlugin, associateDocuments, isRevoked, checkForRevocation, updateNotificationToken, getNotificationToken, revokeOtherOAuthClientsForSoftwareId, dropDoctype, getDocumentID, importACHData, getDocumentIdentity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getClient", function() { return getClient; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_interapp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-interapp */ "./node_modules/cozy-interapp/dist/index.js");
/* harmony import */ var cozy_interapp__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_interapp__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-realtime */ "./node_modules/cozy-realtime/dist/index.js");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _cleanup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cleanup */ "./src/ducks/client/cleanup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CleanupStoreClientPlugin", function() { return _cleanup__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _checks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checks */ "./src/ducks/client/checks.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StartupChecksPlugin", function() { return _checks__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ "./src/ducks/client/utils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "associateDocuments", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["associateDocuments"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isRevoked", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["isRevoked"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "checkForRevocation", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["checkForRevocation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "updateNotificationToken", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["updateNotificationToken"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getNotificationToken", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["getNotificationToken"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "revokeOtherOAuthClientsForSoftwareId", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["revokeOtherOAuthClientsForSoftwareId"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dropDoctype", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["dropDoctype"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDocumentID", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["getDocumentID"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "importACHData", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["importACHData"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDocumentIdentity", function() { return _utils__WEBPACK_IMPORTED_MODULE_5__["getDocumentIdentity"]; });



function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}
/* global __TARGET__ */




var client;
var lib =  false ? undefined : __webpack_require__(/*! ./web */ "./src/ducks/client/web.js");
var getClient = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var intents;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!client) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return", client);

          case 2:
            _context.next = 4;
            return lib.getClient();

          case 4:
            client = _context.sent;
            intents = new cozy_interapp__WEBPACK_IMPORTED_MODULE_1__["Intents"]({
              client: client
            });
            client.intents = intents;
            client.registerPlugin(cozy_realtime__WEBPACK_IMPORTED_MODULE_2__["RealtimePlugin"]); // Used as a hack to prevent circular dependency.
            // Some selectors need to access cozyClient to correctly hydrate.
            // That should change, hydratation should be possible to do only
            // with the store
            // See selectors/index.js

            window.cozyClient = client;
            return _context.abrupt("return", client);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getClient() {
    return _ref.apply(this, arguments);
  };
}();




/***/ }),

/***/ "./src/ducks/client/links.js":
/*!***********************************!*\
  !*** ./src/ducks/client/links.js ***!
  \***********************************/
/*! exports provided: isActivatePouch, getLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isActivatePouch", function() { return isActivatePouch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLinks", function() { return getLinks; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/client/linksHelpers */ "./src/ducks/client/linksHelpers.js");


function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}
/* global __POUCH__ */








var isActivatePouch = function isActivatePouch() {
  return  false && false;
};
var links = null;
var getLinks = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var options,
        stackLink,
        adapter,
        pouchLinkOptions,
        PouchLink,
        pouchLink,
        _args = arguments;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};

            if (!links) {
              _context.next = 3;
              break;
            }

            return _context.abrupt("return", links);

          case 3:
            stackLink = new cozy_client__WEBPACK_IMPORTED_MODULE_1__["StackLink"]();
            _context.next = 6;
            return Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_5__["pickAdapter"])();

          case 6:
            adapter = _context.sent;
            links = [stackLink];

            if (isActivatePouch()) {
              pouchLinkOptions = {
                doctypes: doctypes__WEBPACK_IMPORTED_MODULE_4__["offlineDoctypes"],
                doctypesReplicationOptions: _defineProperty({}, doctypes__WEBPACK_IMPORTED_MODULE_4__["TRANSACTION_DOCTYPE"], {
                  warmupQueries: Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_5__["getWarmupQueries"])()
                }),
                initialSync: true
              };

              if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isMobileApp"])() && Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isIOSApp"])()) {
                pouchLinkOptions.pouch = {
                  plugins: [Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_5__["getAdapterPlugin"])(adapter)],
                  options: {
                    adapter: adapter,
                    location: 'default'
                  }
                };
              }

              PouchLink = __webpack_require__(/*! cozy-pouch-link */ "./node_modules/cozy-pouch-link/dist/index.js").default;
              pouchLink = new PouchLink(_objectSpread({}, pouchLinkOptions, options.pouchLink));
              links = [pouchLink].concat(_toConsumableArray(links));
            }

            return _context.abrupt("return", links);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getLinks() {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/ducks/client/linksHelpers.js":
/*!******************************************!*\
  !*** ./src/ducks/client/linksHelpers.js ***!
  \******************************************/
/*! exports provided: makeWarmupQueryOptions, getAdapterPlugin, getOldAdapterName, fetchCredentials, isAuthenticated, shouldMigrateAdapter, pickAdapter, getWarmupQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeWarmupQueryOptions", function() { return makeWarmupQueryOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAdapterPlugin", function() { return getAdapterPlugin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOldAdapterName", function() { return getOldAdapterName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchCredentials", function() { return fetchCredentials; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAuthenticated", function() { return isAuthenticated; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldMigrateAdapter", function() { return shouldMigrateAdapter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pickAdapter", function() { return pickAdapter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWarmupQueries", function() { return getWarmupQueries; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/fromPairs */ "./node_modules/lodash/fromPairs.js");
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! localforage */ "./node_modules/localforage/dist/localforage.js");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_pouch_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-pouch-link */ "./node_modules/cozy-pouch-link/dist/index.js");
/* harmony import */ var cozy_pouch_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_pouch_link__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/constants */ "./src/ducks/transactions/constants.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}








var makeWarmupQueryOptions = function makeWarmupQueryOptions(doctype, indexedFields) {
  return {
    definition: function definition() {
      var qdef = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["Q"])(doctype).where(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1___default()(indexedFields.map(function (fieldName) {
        return [fieldName, {
          $gt: null
        }];
      }))).indexFields(indexedFields);
      return qdef;
    },
    options: {
      as: "".concat(doctype, "-by-").concat(indexedFields.join('-'))
    }
  };
};
var getAdapterPlugin = function getAdapterPlugin(adapterName) {
  if (adapterName === 'cordova-sqlite') {
    return __webpack_require__(/*! pouchdb-adapter-cordova-sqlite */ "./node_modules/pouchdb-adapter-cordova-sqlite/lib/index.js");
  }

  if (adapterName === 'idb') {
    return __webpack_require__(/*! pouchdb-adapter-idb */ "./node_modules/pouchdb-adapter-idb/lib/index.es.js");
  }

  return __webpack_require__(/*! pouchdb-adapter-indexeddb */ "./node_modules/pouchdb-adapter-indexeddb/lib/index.es.js").default;
};
var getOldAdapterName = function getOldAdapterName() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_5__["isMobileApp"])() && Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_5__["isIOSApp"])() ? 'cordova-sqlite' : 'idb';
};
var fetchCredentials = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.getItem('credentials');

          case 2:
            return _context.abrupt("return", _context.sent);

          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function fetchCredentials() {
    return _ref.apply(this, arguments);
  };
}();
var isAuthenticated = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    var credentials;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return fetchCredentials();

          case 2:
            credentials = _context2.sent;
            return _context2.abrupt("return", Boolean(credentials));

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function isAuthenticated() {
    return _ref2.apply(this, arguments);
  };
}();
var shouldMigrateAdapter = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
    var isAuthentified;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return isAuthenticated();

          case 2:
            isAuthentified = _context3.sent;
            return _context3.abrupt("return", isAuthentified && cozy_pouch_link__WEBPACK_IMPORTED_MODULE_3___default.a.getPouchAdapterName() !== 'indexeddb');

          case 4:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function shouldMigrateAdapter() {
    return _ref3.apply(this, arguments);
  };
}();
var pickAdapter = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4() {
    var isAuthentified;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return isAuthenticated();

          case 2:
            isAuthentified = _context4.sent;

            if (isAuthentified) {
              _context4.next = 5;
              break;
            }

            return _context4.abrupt("return", 'indexeddb');

          case 5:
            return _context4.abrupt("return", cozy_pouch_link__WEBPACK_IMPORTED_MODULE_3___default.a.getPouchAdapterName() === 'indexeddb' ? cozy_pouch_link__WEBPACK_IMPORTED_MODULE_3___default.a.getPouchAdapterName() : getOldAdapterName());

          case 6:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function pickAdapter() {
    return _ref4.apply(this, arguments);
  };
}();
var getWarmupQueries = function getWarmupQueries() {
  var warmupQueries = [makeWarmupQueryOptions(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"], ['date']), makeWarmupQueryOptions(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"], [ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_7__["APPLICATION_DATE"]]), makeWarmupQueryOptions(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"], ['account']), makeWarmupQueryOptions(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"], ['account', 'date']), makeWarmupQueryOptions(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"], ['account', ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_7__["APPLICATION_DATE"]])];
  return warmupQueries;
};

/***/ }),

/***/ "./src/ducks/client/utils.js":
/*!***********************************!*\
  !*** ./src/ducks/client/utils.js ***!
  \***********************************/
/*! exports provided: associateDocuments, isRevoked, checkForRevocation, updateNotificationToken, getNotificationToken, revokeOtherOAuthClientsForSoftwareId, dropDoctype, getDocumentID, importACHData, getDocumentIdentity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "associateDocuments", function() { return associateDocuments; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRevoked", function() { return isRevoked; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkForRevocation", function() { return checkForRevocation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateNotificationToken", function() { return updateNotificationToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNotificationToken", function() { return getNotificationToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revokeOtherOAuthClientsForSoftwareId", function() { return revokeOtherOAuthClientsForSoftwareId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dropDoctype", function() { return dropDoctype; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDocumentID", function() { return getDocumentID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "importACHData", function() { return importACHData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDocumentIdentity", function() { return getDocumentIdentity; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_2__);


function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}



/**
 * All this file should be moved to cozy-client
 */

var associateDocuments = function associateDocuments(originalDocument, associationName, associationDoctype, documentsToAssociate) {
  var ids = documentsToAssociate.map(function (doc) {
    return doc.id;
  });
  originalDocument[associationName] = {
    data: documentsToAssociate,
    doctype: associationDoctype,
    name: associationName,
    raw: ids,
    target: _objectSpread({}, originalDocument, _defineProperty({}, associationName, ids))
  };
  return originalDocument;
};
var isRevoked = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return client.stackClient.fetchInformation();

          case 3:
            return _context.abrupt("return", false);

          case 6:
            _context.prev = 6;
            _context.t0 = _context["catch"](0);

            if (!(_context.t0.message && _context.t0.message.indexOf('Client not found') > -1)) {
              _context.next = 12;
              break;
            }

            return _context.abrupt("return", true);

          case 12:
            return _context.abrupt("return", false);

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 6]]);
  }));

  return function isRevoked(_x) {
    return _ref.apply(this, arguments);
  };
}();
var checkForRevocation = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client) {
    var revoked;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return isRevoked(client);

          case 2:
            revoked = _context2.sent;

            if (revoked) {
              client.stackClient.unregister();
              client.handleRevocationChange(true);
            }

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function checkForRevocation(_x2) {
    return _ref2.apply(this, arguments);
  };
}();
/**
 * Updates the device notification token
 *
 * @param  {CozyClient} client
 * @param  {String} token  - Device token, from Cordova Push Plugin
 */

var updateNotificationToken = function updateNotificationToken(client, token) {
  // Updates local and remote information
  var clientInfos = client.stackClient.oauthOptions;
  client.stackClient.updateInformation(_objectSpread({}, clientInfos, {
    notificationDeviceToken: token
  }));
};
/**
 * Get current device notification token
 *
 * @param  {CozyClient} client
 * @param  {String} token  - Device token, from Cordova Push Plugin
 */

var getNotificationToken = function getNotificationToken(client) {
  return client.stackClient.oauthOptions.notification_device_token;
};
/**
 * Revokes all clients with the given softwareID apart from the current one
 *
 * @param  {CozyCLient} client
 * @param  {string} softwareID
 * @return {Promise}
 */

var revokeOtherOAuthClientsForSoftwareId = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, softwareID) {
    var _yield$client$stackCl, clients, currentOAuthClientId, otherOAuthClients, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, oauthClient;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return client.stackClient.fetchJSON('GET', "/settings/clients");

          case 2:
            _yield$client$stackCl = _context3.sent;
            clients = _yield$client$stackCl.data;
            currentOAuthClientId = client.stackClient.oauthOptions.clientID;
            otherOAuthClients = clients.filter(function (oauthClient) {
              return oauthClient.attributes.software_id === softwareID && oauthClient.id !== currentOAuthClientId;
            });
            _iteratorNormalCompletion = true;
            _didIteratorError = false;
            _iteratorError = undefined;
            _context3.prev = 9;
            _iterator = otherOAuthClients[Symbol.iterator]();

          case 11:
            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
              _context3.next = 18;
              break;
            }

            oauthClient = _step.value;
            _context3.next = 15;
            return client.stackClient.fetchJSON('DELETE', "/settings/clients/".concat(oauthClient.id));

          case 15:
            _iteratorNormalCompletion = true;
            _context3.next = 11;
            break;

          case 18:
            _context3.next = 24;
            break;

          case 20:
            _context3.prev = 20;
            _context3.t0 = _context3["catch"](9);
            _didIteratorError = true;
            _iteratorError = _context3.t0;

          case 24:
            _context3.prev = 24;
            _context3.prev = 25;

            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }

          case 27:
            _context3.prev = 27;

            if (!_didIteratorError) {
              _context3.next = 30;
              break;
            }

            throw _iteratorError;

          case 30:
            return _context3.finish(27);

          case 31:
            return _context3.finish(24);

          case 32:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[9, 20, 24, 32], [25,, 27, 31]]);
  }));

  return function revokeOtherOAuthClientsForSoftwareId(_x3, _x4) {
    return _ref3.apply(this, arguments);
  };
}();
/**
 * Destroys every document of a particular doctype
 */

var dropDoctype = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, doctype) {
    var col, _yield$col$getAll, docs;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            col = client.collection(doctype);
            _context4.next = 3;
            return col.getAll();

          case 3:
            _yield$col$getAll = _context4.sent;
            docs = _yield$col$getAll.data;

            if (!(docs.length > 0)) {
              _context4.next = 8;
              break;
            }

            _context4.next = 8;
            return col.destroyAll(docs.map(function (doc) {
              return lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(doc, '_type');
            }));

          case 8:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function dropDoctype(_x5, _x6) {
    return _ref4.apply(this, arguments);
  };
}();
var getDocumentID = function getDocumentID(doc) {
  return doc._id;
};
var importACHData = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(client, achData) {
    var _arr, _loop, _i;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _arr = Object.entries(achData);
            _loop = /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _loop() {
              var _arr$_i, doctype, documents, col, existingIds, existingDocsResp, existingDocs, updatedDocs, responses, errors;

              return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _loop$(_context5) {
                while (1) {
                  switch (_context5.prev = _context5.next) {
                    case 0:
                      _arr$_i = _slicedToArray(_arr[_i], 2), doctype = _arr$_i[0], documents = _arr$_i[1];
                      col = client.collection(doctype);
                      existingIds = documents.map(getDocumentID).filter(Boolean);
                      _context5.next = 5;
                      return col.getAll(existingIds);

                    case 5:
                      existingDocsResp = _context5.sent;
                      existingDocs = lodash_keyBy__WEBPACK_IMPORTED_MODULE_1___default()(existingDocsResp.data.map(function (x) {
                        return lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(x, '_type');
                      }), getDocumentID);
                      updatedDocs = documents.map(function (x) {
                        var existing = existingDocs[x._id];

                        var updatedDoc = _objectSpread({}, existing, x);

                        return updatedDoc;
                      });
                      _context5.next = 10;
                      return col.updateAll(updatedDocs);

                    case 10:
                      responses = _context5.sent;
                      errors = responses.filter(function (resp) {
                        return resp.error;
                      });

                      if (errors.length > 0) {
                        // eslint-disable-next-line no-console
                        console.log('Errors while importing data', errors);
                      }

                    case 13:
                    case "end":
                      return _context5.stop();
                  }
                }
              }, _loop);
            });
            _i = 0;

          case 3:
            if (!(_i < _arr.length)) {
              _context6.next = 8;
              break;
            }

            return _context6.delegateYield(_loop(), "t0", 5);

          case 5:
            _i++;
            _context6.next = 3;
            break;

          case 8:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee5);
  }));

  return function importACHData(_x7, _x8) {
    return _ref5.apply(this, arguments);
  };
}();
var getDocumentIdentity = function getDocumentIdentity(doc) {
  return doc ? {
    _id: doc._id,
    _type: doc._type
  } : null;
};

/***/ }),

/***/ "./src/ducks/client/web.js":
/*!*********************************!*\
  !*** ./src/ducks/client/web.js ***!
  \*********************************/
/*! exports provided: getClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getClient", function() { return getClient; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_client_links__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/client/links */ "./src/ducks/client/links.js");
/* harmony import */ var ducks_client_appMetadata__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/client/appMetadata */ "./src/ducks/client/appMetadata.js");
/* harmony import */ var utils_cozyData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/cozyData */ "./src/utils/cozyData.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}







var DEFAULT_URL = 'http://cozy.tools:8080';

var getToken = function getToken() {
  var root = document.querySelector('[role=application]');

  if (!root) {
    return '';
  }

  var _parseRootDataset = Object(utils_cozyData__WEBPACK_IMPORTED_MODULE_6__["default"])(root),
      token = _parseRootDataset.token;

  return token;
};

var getCozyURI = function getCozyURI() {
  var root = document.querySelector('[role=application]');

  if (!root) {
    return DEFAULT_URL;
  }

  var _parseRootDataset2 = Object(utils_cozyData__WEBPACK_IMPORTED_MODULE_6__["default"])(root),
      domain = _parseRootDataset2.domain;

  var protocol = window.location.protocol;
  return "".concat(protocol, "//").concat(domain);
};

var getClient = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var uri, token;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            uri = cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('cozyURL') || getCozyURI();
            token = cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('cozyToken') || getToken();
            _context.t0 = cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a;
            _context.t1 = ducks_client_appMetadata__WEBPACK_IMPORTED_MODULE_5__["default"];
            _context.t2 = uri;
            _context.t3 = token;
            _context.t4 = doctypes__WEBPACK_IMPORTED_MODULE_3__["schema"];
            _context.next = 9;
            return Object(ducks_client_links__WEBPACK_IMPORTED_MODULE_4__["getLinks"])();

          case 9:
            _context.t5 = _context.sent;
            _context.t6 = {
              appMetadata: _context.t1,
              uri: _context.t2,
              token: _context.t3,
              schema: _context.t4,
              links: _context.t5,
              store: false
            };
            return _context.abrupt("return", new _context.t0(_context.t6));

          case 12:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getClient() {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/ducks/commons/Nav.jsx":
/*!***********************************!*\
  !*** ./src/ducks/commons/Nav.jsx ***!
  \***********************************/
/*! exports provided: navLinkMatch, NavLink, Nav, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "navLinkMatch", function() { return navLinkMatch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavLink", function() { return NavLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Nav", function() { return Nav; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Nav */ "./node_modules/cozy-ui/transpiled/react/Nav/index.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers */ "./src/ducks/commons/helpers.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }







/**
 * Returns true if `to` and `pathname` match
 * Supports `rx` for regex matches.
 */

var navLinkMatch = function navLinkMatch(rx, to, pathname) {
  return rx ? rx.test(pathname) : pathname.slice(1) === to;
};
/**
 * Like react-router NavLink but sets the lastClicked state (passed in props)
 * to have a faster change of active (not waiting for the route to completely
 * change).
 */

var NavLink = Object(react_router__WEBPACK_IMPORTED_MODULE_4__["withRouter"])(function (props) {
  var children = props.children,
      to = props.to,
      rx = props.rx,
      location = props.location,
      _props$clickState = _slicedToArray(props.clickState, 2),
      lastClicked = _props$clickState[0],
      setLastClicked = _props$clickState[1];

  var pathname = lastClicked ? lastClicked : location.pathname;
  var isActive = navLinkMatch(rx, to, pathname);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    style: {
      outline: 'none'
    },
    onClick: function onClick() {
      return setLastClicked(to);
    },
    href: "#".concat(to),
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__["NavLink"].className, isActive ? cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__["NavLink"].activeClassName : null)
  }, children);
});

var NavItems = function NavItems(_ref) {
  var items = _ref.items;
  var clickState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, items.map(function (item, i) {
    return item ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__["NavItem"], {
      key: i,
      secondary: item.secondary
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NavLink, {
      to: item.to,
      rx: item.rx,
      clickState: clickState
    }, item.icon ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__["NavIcon"], {
      icon: item.icon
    }) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__["NavText"], null, item.label))) : null;
  }));
};

var Nav = function Nav() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Nav__WEBPACK_IMPORTED_MODULE_3__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NavItems, {
    items: Object(_helpers__WEBPACK_IMPORTED_MODULE_5__["items"])(t)
  }), Nav.renderExtra());
};

Nav.renderExtra = function () {
  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Nav));

/***/ }),

/***/ "./src/ducks/commons/helpers.jsx":
/*!***************************************!*\
  !*** ./src/ducks/commons/helpers.jsx ***!
  \***************************************/
/*! exports provided: items */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "items", function() { return items; });
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_icons_icon_gear_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/icons/icon-gear.svg */ "../overrides/cozy-banks/src/assets/icons/icon-gear.svg");
/* harmony import */ var assets_icons_icon_wallet_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assets/icons/icon-wallet.svg */ "../overrides/cozy-banks/src/assets/icons/icon-wallet.svg");
/* harmony import */ var assets_icons_icon_graph_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/icons/icon-graph.svg */ "../overrides/cozy-banks/src/assets/icons/icon-graph.svg");
/* harmony import */ var assets_icons_icon_transfers_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! assets/icons/icon-transfers.svg */ "../overrides/cozy-banks/src/assets/icons/icon-transfers.svg");





var transferRoute = /\/transfers(\/.*)?/;
var settingsRoute = /\/settings(\/.*)?/;
var balancesRoute = /\/balances(\/.*)?/;
var analysisRoute = /\/(categories|recurrence).*?/;
var categoriesRoute = /\/categories(\/.*)?/;
var recurrenceRoute = /\/recurrence(\/.*)?/;
var items = function items(t) {
  return [{
    to: '/balances',
    icon: assets_icons_icon_wallet_svg__WEBPACK_IMPORTED_MODULE_2__["default"],
    label: t('Nav.my-accounts'),
    rx: balancesRoute
  }, {
    to: '/analysis/categories',
    icon: assets_icons_icon_graph_svg__WEBPACK_IMPORTED_MODULE_3__["default"],
    label: t('Nav.analysis'),
    rx: analysisRoute
  }, {
    to: '/analysis/categories',
    label: t('Nav.categories'),
    rx: categoriesRoute,
    secondary: true
  }, {
    to: '/analysis/recurrence',
    label: t('Nav.recurrence'),
    rx: recurrenceRoute,
    secondary: true
  }, cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('banks.transfers') ? {
    to: '/transfers',
    icon: assets_icons_icon_transfers_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
    label: t('Transfer.nav'),
    rx: transferRoute
  } : null, {
    to: '/settings',
    icon: assets_icons_icon_gear_svg__WEBPACK_IMPORTED_MODULE_1__["default"],
    label: t('Nav.settings'),
    rx: settingsRoute
  }];
};

/***/ }),

/***/ "./src/ducks/context/BanksContext.jsx":
/*!********************************************!*\
  !*** ./src/ducks/context/BanksContext.jsx ***!
  \********************************************/
/*! exports provided: BanksContext, useBanksContext, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BanksContext", function() { return BanksContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useBanksContext", function() { return useBanksContext; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_context_JobsContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/context/JobsContext */ "./src/ducks/context/JobsContext.jsx");
/* harmony import */ var utils_triggers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/triggers */ "./src/utils/triggers.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/* eslint-disable react-hooks/exhaustive-deps */






var BanksContext = Object(react__WEBPACK_IMPORTED_MODULE_1__["createContext"])({});
var useBanksContext = function useBanksContext() {
  return Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(BanksContext);
};
/**
 * BanksProvider
 *
 * @param children
 * @param client
 * @returns {JSX.Element}
 * @constructor
 */

var EMPTY_ARRAY = [];

var BanksProvider = function BanksProvider(_ref) {
  var children = _ref.children,
      client = _ref.client;

  var _useJobsContext = Object(ducks_context_JobsContext__WEBPACK_IMPORTED_MODULE_5__["useJobsContext"])(),
      _useJobsContext$jobsI = _useJobsContext.jobsInProgress,
      jobsInProgress = _useJobsContext$jobsI === void 0 ? [] : _useJobsContext$jobsI;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      banksJobsInProgress = _useState2[0],
      setBanksJobsInProgress = _useState2[1];

  var onlyBanksInProgress = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return jobsInProgress.filter(utils_triggers__WEBPACK_IMPORTED_MODULE_6__["isBankKonnector"]);
  }, [jobsInProgress]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    if (onlyBanksInProgress.length > 0) {
      var queryJobsInProgress = /*#__PURE__*/function () {
        var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          var ids, resp, newJobInProgress;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  ids = onlyBanksInProgress.map(function (jobsInProgress) {
                    var slug = jobsInProgress.konnector;
                    return "".concat(doctypes__WEBPACK_IMPORTED_MODULE_4__["KONNECTOR_DOCTYPE"], "/").concat(slug);
                  });
                  _context.next = 3;
                  return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_4__["KONNECTOR_DOCTYPE"]).getByIds(ids), {
                    as: 'io.cozy.konnectors/in-progress',
                    fetchPolicy: cozy_client__WEBPACK_IMPORTED_MODULE_3___default.a.fetchPolicies.olderThan(30 * 1000)
                  });

                case 3:
                  resp = _context.sent;
                  newJobInProgress = resp.data.map(function (konnector) {
                    var slug = konnector.slug;
                    var jobInProgress = jobsInProgress.find(function (j) {
                      return j.konnector === slug;
                    });
                    return {
                      konnector: slug,
                      account: jobInProgress.account,
                      institutionLabel: konnector.name
                    };
                  });
                  return _context.abrupt("return", newJobInProgress);

                case 6:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));

        return function queryJobsInProgress() {
          return _ref2.apply(this, arguments);
        };
      }();

      queryJobsInProgress().then(function (formatJobs) {
        setBanksJobsInProgress(formatJobs);
      });
    } else {
      setBanksJobsInProgress(EMPTY_ARRAY);
    }
  }, [jobsInProgress]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(BanksContext.Provider, {
    value: {
      jobsInProgress: banksJobsInProgress,
      hasJobsInProgress: banksJobsInProgress.length > 0
    }
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (BanksProvider);
BanksProvider.propTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
};

/***/ }),

/***/ "./src/ducks/context/JobsContext.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/context/JobsContext.jsx ***!
  \*******************************************/
/*! exports provided: JobsContext, useJobsContext, default, withJobsInProgress */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JobsContext", function() { return JobsContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useJobsContext", function() { return useJobsContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withJobsInProgress", function() { return withJobsInProgress; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-realtime */ "./node_modules/cozy-realtime/dist/index.js");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-logger */ "./node_modules/cozy-logger/dist/index.js");
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_logger__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/isFunction */ "./node_modules/lodash/isFunction.js");
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/* eslint-disable react-hooks/exhaustive-deps */






var log = cozy_logger__WEBPACK_IMPORTED_MODULE_3___default.a.namespace('import.context');
var JobsContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])({});
var useJobsContext = function useJobsContext() {
  return Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(JobsContext);
};
/** Allows to subscribe to jobs and thus to know jobs in progress
 *
 * @param client
 * @param options
 * @returns jobsInProgress
 */

var JobsProvider = function JobsProvider(_ref) {
  var children = _ref.children,
      client = _ref.client,
      _ref$options = _ref.options,
      options = _ref$options === void 0 ? {} : _ref$options;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      jobsInProgress = _useState2[0],
      setJobsInProgress = _useState2[1];

  var realtimeStartedRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(false);
  var jobsInProgressRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])([]);
  var realtime = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return new cozy_realtime__WEBPACK_IMPORTED_MODULE_2___default.a({
      client: client
    });
  }, [client]);

  var handleRealtime = function handleRealtime(data) {
    var worker = data.worker,
        state = data.state,
        msg = data.message; // hack: Using jobsInProgressRef because jobsInProgress (from state)
    // keep its default value
    // The ideal would be to use only jobsInProgress and do not use the ref

    var currJobsInProgress = jobsInProgressRef.current;
    var index = currJobsInProgress.findIndex(function (a) {
      return a.account === msg.account;
    });
    var exist = index !== -1;
    var onSuccess = options.onSuccess;
    var onError = options.onError;
    var hasAccount = msg.account;

    var arr = _toConsumableArray(currJobsInProgress);

    if (worker === 'konnector' && hasAccount) {
      if (state === 'running' && !exist) {
        arr.push(msg);
      } else if (state === 'done' && exist) {
        arr.splice(index, 1);

        if (lodash_isFunction__WEBPACK_IMPORTED_MODULE_4___default()(onSuccess)) {
          onSuccess();
        }
      } else if (state === 'errored' && exist) {
        arr.splice(index, 1);

        if (lodash_isFunction__WEBPACK_IMPORTED_MODULE_4___default()(onError)) {
          onError();
        }
      }

      jobsInProgressRef.current = arr;
      setJobsInProgress(arr);
    }
  };

  var startJobsRealtime = function startJobsRealtime() {
    if (!realtimeStartedRef.current) {
      log('info', 'Start Jobs Realtime');
      realtimeStartedRef.current = true;
      realtime.subscribe('created', doctypes__WEBPACK_IMPORTED_MODULE_1__["JOBS_DOCTYPE"], handleRealtime);
      realtime.subscribe('updated', doctypes__WEBPACK_IMPORTED_MODULE_1__["JOBS_DOCTYPE"], handleRealtime);
      realtime.subscribe('deleted', doctypes__WEBPACK_IMPORTED_MODULE_1__["JOBS_DOCTYPE"], handleRealtime);
    }
  };

  var stopJobsRealtime = function stopJobsRealtime() {
    if (realtimeStartedRef.current) {
      log('info', 'Stop Jobs Realtime');
      realtimeStartedRef.current = false;
      realtime.unsubscribe('created', doctypes__WEBPACK_IMPORTED_MODULE_1__["JOBS_DOCTYPE"], handleRealtime);
      realtime.unsubscribe('updated', doctypes__WEBPACK_IMPORTED_MODULE_1__["JOBS_DOCTYPE"], handleRealtime);
      realtime.unsubscribe('deleted', doctypes__WEBPACK_IMPORTED_MODULE_1__["JOBS_DOCTYPE"], handleRealtime);
    }
  }; // @TODO useRealtime hook


  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    startJobsRealtime();
    return function () {
      return stopJobsRealtime();
    };
  }, []);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(JobsContext.Provider, {
    value: {
      jobsInProgress: jobsInProgress,
      hasJobsInProgress: jobsInProgress.length > 0
    }
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (JobsProvider);
/**
 * @function
 * @description HOC to provide import context as prop
 *
 * @param  {Component} Component - wrapped component
 * @returns {Function} - Component that will receive import context as prop
 */

var withJobsInProgress = function withJobsInProgress(Component) {
  var Wrapped = function Wrapped(props) {
    var _useJobsContext = useJobsContext(),
        _useJobsContext$jobsI = _useJobsContext.jobsInProgress,
        jobsInProgress = _useJobsContext$jobsI === void 0 ? [] : _useJobsContext$jobsI;

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({}, props, {
      jobsInProgress: jobsInProgress
    }));
  };

  Wrapped.displayName = "withJobsInProgress(".concat(Component.displayName || Component.name, ")");
  return Wrapped;
};
JobsProvider.propTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,
  options: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    onSuccess: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,
    onError: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func
  })
};

/***/ }),

/***/ "./src/ducks/context/SelectionContext.jsx":
/*!************************************************!*\
  !*** ./src/ducks/context/SelectionContext.jsx ***!
  \************************************************/
/*! exports provided: SelectionContext, useSelectionContext, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectionContext", function() { return SelectionContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useSelectionContext", function() { return useSelectionContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var SelectionContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])();
var useSelectionContext = function useSelectionContext() {
  var context = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(SelectionContext);
  if (!context) throw new Error('SelectionContext is unavailable. There is no Selection provider, or it is not loaded yet.');
  return context;
}; // TODO: SelectionProvider stores the entire elements in an array
// instead of just their ids. This is not critical since we
// imagine that there are quite few elements.
// But an improvement would be to store only the ids.

var SelectionProvider = function SelectionProvider(_ref) {
  var children = _ref.children;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isDesktop = _useBreakpoints.isDesktop;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      selected = _useState2[0],
      setSelected = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      isSelectionModeActive = _useState4[0],
      setIsSelectionModeActive = _useState4[1];

  var isSelected = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (item) {
    return selected.includes(item);
  }, [selected]);
  var emptySelection = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    return setSelected([]);
  }, [setSelected]);
  var emptyAndDeactivateSelection = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    emptySelection();
    setIsSelectionModeActive(false);
  }, [emptySelection]);
  var fillSelectionWith = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (arr) {
    return setSelected(arr);
  }, [setSelected]);
  var toggleSelection = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (item) {
    !isSelectionModeActive && setIsSelectionModeActive(true);
    return setSelected(function (selected) {
      var found = selected.includes(item);
      var nextSelected = found ? selected.filter(function (elem) {
        return elem !== item;
      }) : [].concat(_toConsumableArray(selected), [item]);

      if (isDesktop && found && selected.length === 1) {
        setIsSelectionModeActive(false);
      }

      return nextSelected;
    });
  }, [isDesktop, isSelectionModeActive]);
  var value = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return {
      selected: selected,
      isSelectionModeActive: isSelectionModeActive,
      setIsSelectionModeActive: setIsSelectionModeActive,
      isSelected: isSelected,
      emptySelection: emptySelection,
      emptyAndDeactivateSelection: emptyAndDeactivateSelection,
      toggleSelection: toggleSelection,
      fillSelectionWith: fillSelectionWith
    };
  }, [selected, isSelectionModeActive, isSelected, emptySelection, emptyAndDeactivateSelection, toggleSelection, fillSelectionWith]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SelectionContext.Provider, {
    value: value
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (SelectionProvider);

/***/ }),

/***/ "./src/ducks/demo/Ameli.jsx":
/*!**********************************!*\
  !*** ./src/ducks/demo/Ameli.jsx ***!
  \**********************************/
/*! exports provided: Side */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Side", function() { return Side; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ameli_side_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ameli-side.png */ "./src/ducks/demo/ameli-side.png");
/* harmony import */ var _ameli_side_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ameli_side_png__WEBPACK_IMPORTED_MODULE_1__);



var Side = function Side() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    width: "100%",
    src: _ameli_side_png__WEBPACK_IMPORTED_MODULE_1___default.a,
    alt: ""
  });
};



/***/ }),

/***/ "./src/ducks/demo/AugmentedModal.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/demo/AugmentedModal.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_IntentIframe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/IntentIframe */ "./node_modules/cozy-ui/transpiled/react/IntentIframe/index.js");
/* harmony import */ var _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AugmentedModal.styl */ "./src/ducks/demo/AugmentedModal.styl");
/* harmony import */ var _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _VentePrivee__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VentePrivee */ "./src/ducks/demo/VentePrivee.jsx");
/* harmony import */ var _Ameli__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Ameli */ "./src/ducks/demo/Ameli.jsx");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./helpers */ "./src/ducks/demo/helpers.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }











var componentsPerTransactionVendor = {
  ventePrivee: {
    Header: _VentePrivee__WEBPACK_IMPORTED_MODULE_7__["Header"],
    Side: _VentePrivee__WEBPACK_IMPORTED_MODULE_7__["Side"]
  },
  ameli: {
    Side: _Ameli__WEBPACK_IMPORTED_MODULE_8__["Side"]
  }
};

var customStyles = function customStyles() {
  return {
    paper: {
      height: '100%'
    }
  };
};

var StyledDialog = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__["withStyles"])(customStyles)(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["default"]);

var AugmentedModal = /*#__PURE__*/function (_Component) {
  _inherits(AugmentedModal, _Component);

  function AugmentedModal() {
    _classCallCheck(this, AugmentedModal);

    return _possibleConstructorReturn(this, _getPrototypeOf(AugmentedModal).apply(this, arguments));
  }

  _createClass(AugmentedModal, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          onClose = _this$props.onClose,
          fileId = _this$props.fileId,
          transaction = _this$props.transaction;
      var vendor = Object(_helpers__WEBPACK_IMPORTED_MODULE_9__["getTransactionVendor"])(transaction);
      var _componentsPerTransac = componentsPerTransactionVendor[vendor],
          Header = _componentsPerTransac.Header,
          Side = _componentsPerTransac.Side;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StyledDialog, {
        open: true,
        fullWidth: true,
        maxWidth: "lg",
        onClose: onClose
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_3__["DialogCloseButton"], {
        onClick: onClose
      }), Header && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_2__["DialogContent"], {
        className: _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_6___default.a.ContainerIntentSide
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        className: _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_6___default.a.IntentIframeContainer
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IntentIframe__WEBPACK_IMPORTED_MODULE_5__["default"], {
        action: "OPEN",
        type: "io.cozy.files",
        data: {
          id: fileId
        }
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", {
        className: _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_6___default.a.FakeInfos
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Side, null))));
    }
  }]);

  return AugmentedModal;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["withClient"])(AugmentedModal));

/***/ }),

/***/ "./src/ducks/demo/AugmentedModal.styl":
/*!********************************************!*\
  !*** ./src/ducks/demo/AugmentedModal.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ContainerIntentSide":"ContainerIntentSide--2vqwb","IntentIframeContainer":"IntentIframeContainer--3P5cc","FakeInfos":"FakeInfos--3fUkf","FakeInfosLinkVendor":"FakeInfosLinkVendor--17Mg-","FakeInfosLinkDrive":"FakeInfosLinkDrive--1RDE0","FakeVeePeeHeader":"FakeVeePeeHeader--f8AfA"};

/***/ }),

/***/ "./src/ducks/demo/AugmentedModalOpener.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/demo/AugmentedModalOpener.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _AugmentedModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AugmentedModal */ "./src/ducks/demo/AugmentedModal.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




/**
 * This is like a `FileOpener`, but it opens an `AugmentedModal`.
 * This is used for demo purposes only
 */

var AugmentedModalOpener = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(AugmentedModalOpener, _React$PureComponent);

  function AugmentedModalOpener() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, AugmentedModalOpener);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AugmentedModalOpener)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      isOpen: false
    });

    _defineProperty(_assertThisInitialized(_this), "handleOpen", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        isOpen: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleClose", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        isOpen: false
      });
    });

    return _this;
  }

  _createClass(AugmentedModalOpener, [{
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(this.props.children, {
        onClick: this.handleOpen
      }), this.state.isOpen && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AugmentedModal__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onClose: this.handleClose,
        fileId: this.props.fileId,
        transaction: this.props.transaction
      }));
    }
  }]);

  return AugmentedModalOpener;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

_defineProperty(AugmentedModalOpener, "propTypes", {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (AugmentedModalOpener);

/***/ }),

/***/ "./src/ducks/demo/VentePrivee.jsx":
/*!****************************************!*\
  !*** ./src/ducks/demo/VentePrivee.jsx ***!
  \****************************************/
/*! exports provided: Header, Side */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return Header; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Side", function() { return Side; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_veepee_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/veepee.png */ "./src/assets/veepee.png");
/* harmony import */ var assets_veepee_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(assets_veepee_png__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var assets_veepee_info_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assets/veepee-info.png */ "./src/assets/veepee-info.png");
/* harmony import */ var assets_veepee_info_png__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(assets_veepee_info_png__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var assets_veepee_info_2x_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/veepee-info@2x.png */ "./src/assets/veepee-info@2x.png");
/* harmony import */ var assets_veepee_info_2x_png__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(assets_veepee_info_2x_png__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AugmentedModal.styl */ "./src/ducks/demo/AugmentedModal.styl");
/* harmony import */ var _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");







var Side = function Side() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "https://secure.fr.vente-privee.com/authentication/portal/FR",
    className: _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_4___default.a.FakeInfosLinkVendor,
    target: "_blank",
    rel: "noreferrer noopener"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "https://isabelledurand-drive.mycozy.cloud/#/folder/7aadd73f48591c0df263640687052a2d",
    className: _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_4___default.a.FakeInfosLinkDrive,
    target: "_blank",
    rel: "noreferrer noopener"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: assets_veepee_info_png__WEBPACK_IMPORTED_MODULE_2___default.a,
    srcSet: "".concat(assets_veepee_info_2x_png__WEBPACK_IMPORTED_MODULE_3___default.a, " 2x"),
    alt: ""
  }));
};

var Header = function Header() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_5__["DialogTitle"], {
    className: _AugmentedModal_styl__WEBPACK_IMPORTED_MODULE_4___default.a.FakeVeePeeHeader
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: assets_veepee_png__WEBPACK_IMPORTED_MODULE_1___default.a,
    alt: "",
    width: "200px"
  }));
};



/***/ }),

/***/ "./src/ducks/demo/ameli-side.png":
/*!***************************************!*\
  !*** ./src/ducks/demo/ameli-side.png ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/ameli-side.png";

/***/ }),

/***/ "./src/ducks/demo/helpers.js":
/*!***********************************!*\
  !*** ./src/ducks/demo/helpers.js ***!
  \***********************************/
/*! exports provided: isVentePriveeTransaction, isAmeliTransaction, isVentePriveeBill, isAmeliBill, isAugmentedModalTransaction, isAugmentedModalBill, getTransactionVendor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isVentePriveeTransaction", function() { return isVentePriveeTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAmeliTransaction", function() { return isAmeliTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isVentePriveeBill", function() { return isVentePriveeBill; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAmeliBill", function() { return isAmeliBill; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAugmentedModalTransaction", function() { return isAugmentedModalTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAugmentedModalBill", function() { return isAugmentedModalBill; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionVendor", function() { return getTransactionVendor; });
var isVentePriveeTransaction = function isVentePriveeTransaction(transaction) {
  return transaction && ['Vente-Privée', 'Veepee.fr'].includes(transaction.label);
};
var isAmeliTransaction = function isAmeliTransaction(transaction) {
  return transaction && transaction._id === 'paiement_docteur_martin';
};
var isVentePriveeBill = function isVentePriveeBill(bill) {
  return bill.vendor === 'venteprivee';
};
var isAmeliBill = function isAmeliBill(bill) {
  return bill._id === 'bill_cpam_demo';
};
var isAugmentedModalTransaction = function isAugmentedModalTransaction(transaction) {
  return isVentePriveeTransaction(transaction) || isAmeliTransaction(transaction);
};
var isAugmentedModalBill = function isAugmentedModalBill(bill) {
  return isVentePriveeBill(bill) || isAmeliBill(bill);
};
var getTransactionVendor = function getTransactionVendor(transaction) {
  if (isVentePriveeTransaction(transaction)) {
    return 'ventePrivee';
  } else {
    return 'ameli';
  }
};

/***/ }),

/***/ "./src/ducks/demo/index.js":
/*!*********************************!*\
  !*** ./src/ducks/demo/index.js ***!
  \*********************************/
/*! exports provided: isAugmentedModalTransaction, isAugmentedModalBill, AugmentedModalOpener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ "./src/ducks/demo/helpers.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isAugmentedModalTransaction", function() { return _helpers__WEBPACK_IMPORTED_MODULE_0__["isAugmentedModalTransaction"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isAugmentedModalBill", function() { return _helpers__WEBPACK_IMPORTED_MODULE_0__["isAugmentedModalBill"]; });

/* harmony import */ var _AugmentedModalOpener__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AugmentedModalOpener */ "./src/ducks/demo/AugmentedModalOpener.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AugmentedModalOpener", function() { return _AugmentedModalOpener__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/***/ }),

/***/ "./src/ducks/devtools/ClientInfo.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/devtools/ClientInfo.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3__);





var ClientInfo = function ClientInfo() {
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useClient"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3__["PanelContent"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "subtitle1",
    gutterBottom: true
  }, "Client info"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "h5"
  }, "URI"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, client.stackClient.uri), client.stackClient.oauthOptions ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "h5"
  }, "OAuth document id"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, client.stackClient.oauthOptions.clientID)) : null);
};

/* harmony default export */ __webpack_exports__["default"] = (ClientInfo);

/***/ }),

/***/ "./src/ducks/devtools/HiddenPages.jsx":
/*!********************************************!*\
  !*** ./src/ducks/devtools/HiddenPages.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_2__);




var HiddenPages = function HiddenPages() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_2__["PanelContent"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__["default"], {
    variant: "subtitle1",
    gutterBottom: true
  }, "Hidden pages"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#/recurrencedebug"
  }, "Recurrence debug"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#/transfers"
  }, "Transfers"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#/search"
  }, "Search"));
};

/* harmony default export */ __webpack_exports__["default"] = (HiddenPages);

/***/ }),

/***/ "./src/ducks/devtools/Misc.jsx":
/*!*************************************!*\
  !*** ./src/ducks/devtools/Misc.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Checkbox */ "./node_modules/cozy-ui/transpiled/react/Checkbox/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_4__);






var Misc = function Misc() {
  var noAccountChecked = !!cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('balance.no-account');
  var accountLoadingChecked = !!cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.balance.account-loading');

  var toggleNoAccount = function toggleNoAccount() {
    var noAccountValue = !cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('balance.no-account');
    cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('balance.no-account', noAccountValue);

    if (noAccountValue) {
      cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.balance.account-loading', false);
    }
  };

  var toggleAccountsLoading = function toggleAccountsLoading() {
    var accountLoadingValue = !cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.balance.account-loading');
    cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.balance.account-loading', accountLoadingValue);

    if (accountLoadingValue) {
      cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('balance.no-account', false);
    }
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_4__["PanelContent"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "subtitle1",
    gutterBottom: true
  }, "Misc"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_1__["default"], {
    defaultChecked: noAccountChecked,
    label: "Display no account page",
    onClick: toggleNoAccount
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_1__["default"], {
    defaultChecked: accountLoadingChecked,
    label: "Display accounts loading",
    onClick: toggleAccountsLoading
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Misc);

/***/ }),

/***/ "./src/ducks/devtools/Notifications.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/devtools/Notifications.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var ducks_client_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/client/utils */ "./src/ducks/client/utils.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");


function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }











var DeviceToken = function DeviceToken(_ref) {
  var client = _ref.client;
  var notificationToken = Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_8__["getNotificationToken"])(client);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "h5"
  }, "Device token"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, notificationToken ? notificationToken : '⚠️ Cannot receive notifications'));
};

var sendNotification = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, notificationRoute, notificationAccountId) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;

            if (notificationRoute === '/balances/details' && notificationAccountId) {
              notificationRoute = "/balances/".concat(notificationAccountId, "/details");
            }

            _context.next = 4;
            return client.stackClient.fetchJSON('POST', '/notifications', {
              data: {
                type: 'io.cozy.notifications',
                attributes: {
                  category: 'transaction-greater',
                  title: 'Test notification',
                  message: "It should redirect to ".concat(notificationRoute),
                  preferred_channels: ['mobile', 'mail'],
                  content: 'This is a test notification text content',
                  content_html: 'This is a test notification HTML content',
                  data: {
                    route: notificationRoute
                  }
                }
              }
            });

          case 4:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].success('Notification sent');
            _context.next = 10;
            break;

          case 7:
            _context.prev = 7;
            _context.t0 = _context["catch"](0);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].error('Failed to send notification: ' + _context.t0);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 7]]);
  }));

  return function sendNotification(_x, _x2, _x3) {
    return _ref2.apply(this, arguments);
  };
}();

var Notifications = function Notifications() {
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  var accounts = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_9__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_9__["accountsConn"]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])('/balances/details'),
      _useState2 = _slicedToArray(_useState, 2),
      notificationRoute = _useState2[0],
      setNotificationRoute = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null),
      _useState4 = _slicedToArray(_useState3, 2),
      notificationAccountId = _useState4[0],
      setNotificationAccountId = _useState4[1];

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7__["PanelContent"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "subtitle1",
    gutterBottom: true
  }, "Notifications"), Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__["isMobileApp"])() && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(DeviceToken, {
    client: client
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, "Route :", ' ', react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("select", {
    value: notificationRoute,
    onChange: function onChange(ev) {
      return setNotificationRoute(ev.target.value);
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
    value: "/balances/details"
  }, "transactions"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
    value: "/balances"
  }, "balance"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
    value: "/analysis/categories"
  }, "categories"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
    value: "/analysis/recurrence"
  }, "recurrence"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
    value: "/settings/accounts"
  }, "konnector alerts"))), notificationRoute === '/balances/details' && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-mt-half"
  }, "Sur le compte :", ' ', react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("select", {
    value: notificationAccountId,
    onChange: function onChange(ev) {
      return setNotificationAccountId(ev.target.value);
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
    value: ""
  }, "-"), accounts.data && accounts.data.map(function (account) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option", {
      key: account._id,
      value: account._id
    }, account.label);
  }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: "u-mt-1",
    label: "Send notification",
    onClick: function onClick() {
      return sendNotification(client, notificationRoute, notificationAccountId);
    }
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Notifications);

/***/ }),

/***/ "./src/ducks/devtools/Pin.jsx":
/*!************************************!*\
  !*** ./src/ducks/devtools/Pin.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var ducks_pin_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/pin/storage */ "./src/ducks/pin/storage.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3__);





var PinDevTool = function PinDevTool() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_3__["PanelContent"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__["default"], {
    variant: "subtitle1",
    gutterBottom: true
  }, "pin"), "Setting doc cache", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("pre", null, JSON.stringify(ducks_pin_storage__WEBPACK_IMPORTED_MODULE_2__["pinSettingStorage"].load(), null, 2)), "Last interaction cache", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("pre", null, JSON.stringify(ducks_pin_storage__WEBPACK_IMPORTED_MODULE_2__["lastInteractionStorage"].load(), null, 2)));
};

/* harmony default export */ __webpack_exports__["default"] = (PinDevTool);

/***/ }),

/***/ "./src/ducks/devtools/Services.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/devtools/Services.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client/dist/devtools */ "./node_modules/cozy-client/dist/devtools/index.js");
/* harmony import */ var cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7__);


function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }









var startAndWaitService = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, serviceName) {
    var jobs, _yield$jobs$create, job, finalJob;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            jobs = client.collection('io.cozy.jobs');
            _context.next = 3;
            return jobs.create('service', {
              name: serviceName,
              slug: cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banking.banking-app-slug') || 'banks'
            });

          case 3:
            _yield$jobs$create = _context.sent;
            job = _yield$jobs$create.data;
            _context.next = 7;
            return jobs.waitFor(job.id);

          case 7:
            finalJob = _context.sent;

            if (finalJob.state === 'errored') {
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].error("Job finished with error. Error is ".concat(finalJob.error));
            } else if (finalJob.state === 'done') {
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].success("Job finished successfully");
            } else {
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].error("Job finished with state ".concat(finalJob.state));
            }

            return _context.abrupt("return", finalJob);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function startAndWaitService(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var ServiceButton = function ServiceButton(_ref2) {
  var serviceName = _ref2.name,
      client = _ref2.client;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      running = _useState2[0],
      setRunning = _useState2[1];

  var startService = /*#__PURE__*/function () {
    var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.prev = 0;
              setRunning(true);
              _context2.next = 4;
              return startAndWaitService(client, serviceName);

            case 4:
              _context2.next = 10;
              break;

            case 6:
              _context2.prev = 6;
              _context2.t0 = _context2["catch"](0);
              // eslint-disable-next-line no-console
              console.error(_context2.t0);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].error("Something wrong happened, see console.");

            case 10:
              _context2.prev = 10;
              setRunning(false);
              return _context2.finish(10);

            case 13:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, null, [[0, 6, 10, 13]]);
    }));

    return function startService() {
      return _ref3.apply(this, arguments);
    };
  }();

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    busy: running,
    label: "Run ".concat(serviceName, " service"),
    onClick: function onClick() {
      return startService(serviceName);
    }
  });
};

var ServiceDevTools = function ServiceDevTools() {
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_client_dist_devtools__WEBPACK_IMPORTED_MODULE_7__["PanelContent"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "subtitle1",
    gutterBottom: true
  }, "Services"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ServiceButton, {
    client: client,
    name: "autogroups"
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ServiceButton, {
    client: client,
    name: "stats"
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ServiceButton, {
    client: client,
    name: "categorization"
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ServiceButton, {
    client: client,
    name: "onOperationOrBillCreate"
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ServiceButton, {
    client: client,
    name: "budgetAlerts"
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (ServiceDevTools);

/***/ }),

/***/ "./src/ducks/devtools/banksPanels.js":
/*!*******************************************!*\
  !*** ./src/ducks/devtools/banksPanels.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_devtools_Services__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/devtools/Services */ "./src/ducks/devtools/Services.jsx");
/* harmony import */ var ducks_devtools_Notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/devtools/Notifications */ "./src/ducks/devtools/Notifications.jsx");
/* harmony import */ var ducks_devtools_Pin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/devtools/Pin */ "./src/ducks/devtools/Pin.jsx");
/* harmony import */ var ducks_devtools_ClientInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/devtools/ClientInfo */ "./src/ducks/devtools/ClientInfo.jsx");
/* harmony import */ var ducks_devtools_Misc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/devtools/Misc */ "./src/ducks/devtools/Misc.jsx");
/* harmony import */ var ducks_devtools_HiddenPages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/devtools/HiddenPages */ "./src/ducks/devtools/HiddenPages.jsx");
/* harmony import */ var cozy_client_dist_devtools_Pouch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client/dist/devtools/Pouch */ "./node_modules/cozy-client/dist/devtools/Pouch.js");
/* harmony import */ var cozy_client_dist_devtools_Pouch__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_devtools_Pouch__WEBPACK_IMPORTED_MODULE_6__);







/* harmony default export */ __webpack_exports__["default"] = ([{
  id: 'services',
  Component: ducks_devtools_Services__WEBPACK_IMPORTED_MODULE_0__["default"]
}, {
  id: 'notifications',
  Component: ducks_devtools_Notifications__WEBPACK_IMPORTED_MODULE_1__["default"]
}, {
  id: 'pin',
  Component: ducks_devtools_Pin__WEBPACK_IMPORTED_MODULE_2__["default"]
}, {
  id: 'client',
  Component: ducks_devtools_ClientInfo__WEBPACK_IMPORTED_MODULE_3__["default"]
}, {
  id: 'misc',
  Component: ducks_devtools_Misc__WEBPACK_IMPORTED_MODULE_4__["default"]
}, {
  id: 'hidden pages',
  Component: ducks_devtools_HiddenPages__WEBPACK_IMPORTED_MODULE_5__["default"]
}, {
  id: 'pouch',
  Component: cozy_client_dist_devtools_Pouch__WEBPACK_IMPORTED_MODULE_6___default.a
}]);

/***/ }),

/***/ "./src/ducks/filters/index.js":
/*!************************************!*\
  !*** ./src/ducks/filters/index.js ***!
  \************************************/
/*! exports provided: parsePeriod, filterByPeriod, getPeriod, getRawFilteringDoc, getFilteringDoc, getFilteredAccountIds, getFilteredAccounts, getTransactionsFilteredByAccount, getDateGetter, getFilteredTransactions, getHealthExpenses, getHealthExpensesByPeriod, addFilterByPeriod, resetFilterByDoc, filterByDoc, filterByAccounts, addFilterForMostRecentTransactions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parsePeriod", function() { return parsePeriod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterByPeriod", function() { return filterByPeriod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPeriod", function() { return getPeriod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRawFilteringDoc", function() { return getRawFilteringDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilteringDoc", function() { return getFilteringDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilteredAccountIds", function() { return getFilteredAccountIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilteredAccounts", function() { return getFilteredAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionsFilteredByAccount", function() { return getTransactionsFilteredByAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDateGetter", function() { return getDateGetter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilteredTransactions", function() { return getFilteredTransactions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHealthExpenses", function() { return getHealthExpenses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHealthExpensesByPeriod", function() { return getHealthExpensesByPeriod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addFilterByPeriod", function() { return addFilterByPeriod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetFilterByDoc", function() { return resetFilterByDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterByDoc", function() { return filterByDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterByAccounts", function() { return filterByAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addFilterForMostRecentTransactions", function() { return addFilterForMostRecentTransactions; });
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-logger */ "./node_modules/cozy-logger/dist/index.js");
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_logger__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/last */ "./node_modules/lodash/last.js");
/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var actions_accounts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! actions/accounts */ "./src/actions/accounts.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}















var log = cozy_logger__WEBPACK_IMPORTED_MODULE_3___default.a.namespace('filters'); // constants

var FILTER_BY_PERIOD = 'FILTER_BY_PERIOD';
var FILTER_BY_DOC = 'FILTER_BY_DOC';
var RESET_FILTER_BY_DOC = 'RESET_FILTER_BY_DOC';
var FILTER_YEAR_MONTH_FORMAT = 'YYYY-MM';
var FILTER_YEAR_FORMAT = 'YYYY';
var parsePeriod = function parsePeriod(filter) {
  return Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["parse"])(filter, filter.length === 4 ? FILTER_YEAR_FORMAT : FILTER_YEAR_MONTH_FORMAT);
}; // filters

var monthFormat = function monthFormat(date) {
  return date && date.substr(0, 7);
};

var yearFormat = function yearFormat(date) {
  return date && date.substr(0, 4);
};

var isDate = function isDate(date) {
  return date instanceof Date;
};

var isString = function isString(str) {
  return typeof str === 'string';
};

var filterByPeriod = function filterByPeriod(transactions, period, dateGetter) {
  var pred;
  var l = period.length;

  if (isString(period)) {
    if (l === 4) {
      var formatter = yearFormat;

      pred = function pred(date) {
        return formatter(date) === period;
      };
    } else if (l === 7) {
      var _formatter = monthFormat;

      pred = function pred(date) {
        return _formatter(date) === period;
      };
    }
  } else if (period.length === 2 && isDate(period[0]) && isDate(period[1])) {
    pred = function pred(date) {
      return Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["isWithinRange"])(Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["parse"])(date), period[0], period[1]);
    };
  } else {
    throw new Error('Invalid period: ' + JSON.stringify(period));
  }

  dateGetter = dateGetter || ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDisplayDate"];
  return transactions.filter(function (transaction) {
    var date = dateGetter(transaction);

    if (!date) {
      return false;
    }

    return pred(date);
  });
}; // selectors

var getPeriod = function getPeriod(state) {
  return state.filters && state.filters.period;
};
var getRawFilteringDoc = function getRawFilteringDoc(state) {
  return state.filters && state.filters.filteringDoc;
};
var getFilteringDoc = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_4__["getAccountsById"], selectors__WEBPACK_IMPORTED_MODULE_4__["getGroupsById"], getRawFilteringDoc], function (accountsById, groupsById, rawFilteringDoc) {
  if (!rawFilteringDoc) {
    return null;
  }

  switch (rawFilteringDoc._type) {
    case doctypes__WEBPACK_IMPORTED_MODULE_5__["ACCOUNT_DOCTYPE"]:
      return accountsById[rawFilteringDoc._id] || rawFilteringDoc;

    case doctypes__WEBPACK_IMPORTED_MODULE_5__["GROUP_DOCTYPE"]:
      return groupsById[rawFilteringDoc._id] || rawFilteringDoc;

    default:
      return rawFilteringDoc;
  }
});
var getFilteredAccountIds = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_4__["getAccounts"], getFilteringDoc, selectors__WEBPACK_IMPORTED_MODULE_4__["getAllGroups"]], function (accounts, doc, groups) {
  var availableAccountIds = accounts.map(function (x) {
    return x._id;
  });

  if (!doc) {
    return availableAccountIds;
  }

  var doctype = doc._type;
  var id = doc._id;

  if (doctype === doctypes__WEBPACK_IMPORTED_MODULE_5__["ACCOUNT_DOCTYPE"]) {
    if (availableAccountIds.indexOf(id) > -1) {
      return [id];
    } else {
      // eslint-disable-next-line no-console
      return availableAccountIds;
    }
  } else if (doctype === doctypes__WEBPACK_IMPORTED_MODULE_5__["GROUP_DOCTYPE"]) {
    var group = lodash_find__WEBPACK_IMPORTED_MODULE_6___default()(groups, {
      _id: id
    });

    if (!group) {
      return availableAccountIds;
    }

    var accountIds = group.accounts.raw;

    if (accountIds) {
      return accountIds;
    } else {
      return availableAccountIds;
    }
  } else if (doc.length) {
    // In this case we have already been provided with
    // accountsIds
    return doc;
  } else {
    log('warn', "The filtering doc '".concat(doc, "' doesn't have any type."));
    return availableAccountIds;
  }
});
var getFilteredAccounts = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([getFilteredAccountIds, selectors__WEBPACK_IMPORTED_MODULE_4__["getAccounts"]], function (accountIds, accounts) {
  var ids = lodash_keyBy__WEBPACK_IMPORTED_MODULE_7___default()(accountIds);
  return accounts.filter(function (account) {
    return ids[account._id];
  });
});

var filterByAccountIds = function filterByAccountIds(transactions, accountIds) {
  return transactions.filter(function (transaction) {
    return transaction && accountIds.indexOf(transaction.account.raw || transaction.account) !== -1;
  });
};

var recentToAncient = function recentToAncient(transaction) {
  return -new Date(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDisplayDate"])(transaction));
};

var getTransactionsFilteredByAccount = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_4__["getTransactions"], getFilteredAccountIds], function (transactions, accountIds) {
  if (accountIds) {
    transactions = filterByAccountIds(transactions, accountIds);
  }

  return lodash_sortBy__WEBPACK_IMPORTED_MODULE_9___default()(transactions, recentToAncient);
});

var getPathnameFromLocationProp = function getPathnameFromLocationProp(state, ownProps) {
  return ownProps && ownProps.location.pathname;
};

var getApplicationDateOrDisplayDate = function getApplicationDateOrDisplayDate(transaction) {
  var applicationDate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getApplicationDate"])(transaction);

  if (applicationDate) {
    return applicationDate;
  } else {
    return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDisplayDate"])(transaction);
  }
};

var getDateGetter = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([getPathnameFromLocationProp], function (pathname) {
  if (pathname && pathname.startsWith('/analysis/categories')) {
    return getApplicationDateOrDisplayDate;
  }
});
var getFilteredTransactions = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([getTransactionsFilteredByAccount, getPeriod, getDateGetter], function (transactions, period, dateGetter) {
  return filterByPeriod(transactions, period, dateGetter);
});
var getHealthExpenses = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_4__["getTransactions"]], function (transactions) {
  return transactions.filter(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_13__["isHealthExpense"]);
});
var getHealthExpensesByPeriod = Object(reselect__WEBPACK_IMPORTED_MODULE_1__["createSelector"])([getHealthExpenses, getPeriod], function (healthExpenses, period) {
  return filterByPeriod(healthExpenses, period);
}); // actions

var addFilterByPeriod = function addFilterByPeriod(period) {
  return {
    type: FILTER_BY_PERIOD,
    period: period
  };
};
var resetFilterByDoc = function resetFilterByDoc() {
  return {
    type: RESET_FILTER_BY_DOC
  };
};
var filterByDoc = function filterByDoc(doc) {
  return {
    type: FILTER_BY_DOC,
    doc: doc && (doc.length ? doc : Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["dehydrate"])(doc))
  };
};
var filterByAccounts = function filterByAccounts(accounts) {
  return {
    type: FILTER_BY_DOC,
    doc: accounts.map(function (x) {
      return x._id;
    })
  };
};
var addFilterForMostRecentTransactions = function addFilterForMostRecentTransactions() {
  return function (dispatch, getState) {
    var state = getState();
    var transactions = getTransactionsFilteredByAccount(state);
    var mostRecentTransaction = lodash_last__WEBPACK_IMPORTED_MODULE_8___default()(lodash_sortBy__WEBPACK_IMPORTED_MODULE_9___default()(transactions, ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDisplayDate"]));

    if (mostRecentTransaction) {
      var date = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_12__["getDisplayDate"])(mostRecentTransaction);

      var _period = monthFormat(date);

      return dispatch(addFilterByPeriod(_period));
    }
  };
}; // reducers

var getDefaultMonth = function getDefaultMonth() {
  return monthFormat(Object(date_fns__WEBPACK_IMPORTED_MODULE_2__["format"])(new Date()));
};

var period = function period() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getDefaultMonth();
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case FILTER_BY_PERIOD:
      return action.period;

    default:
      return state;
  }
};

var filteringDoc = function filteringDoc() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case FILTER_BY_DOC:
      return action.doc || state;

    case RESET_FILTER_BY_DOC:
      return null;

    default:
      return state;
  }
};

var handleDestroyAccount = function handleDestroyAccount() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 ? arguments[1] : undefined;
  var type = action.type,
      account = action.account;

  if (type === actions_accounts__WEBPACK_IMPORTED_MODULE_10__["DESTROY_ACCOUNT"] && state.filteringDoc && state.filteringDoc.id === account.id) {
    // reset the filter
    return _objectSpread({}, state, {
      filteringDoc: null
    });
  }

  return state;
};

var composeReducers = function composeReducers() {
  for (var _len = arguments.length, reducers = new Array(_len), _key = 0; _key < _len; _key++) {
    reducers[_key] = arguments[_key];
  }

  return function (state, action) {
    return reducers.reduce(function (state, reducer) {
      return reducer(state, action);
    }, state);
  };
};

/* harmony default export */ __webpack_exports__["default"] = (composeReducers(Object(redux__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
  period: period,
  filteringDoc: filteringDoc
}), handleDestroyAccount));

/***/ }),

/***/ "./src/ducks/filters/useFilteringDoc.js":
/*!**********************************************!*\
  !*** ./src/ducks/filters/useFilteringDoc.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");


var useFilteringDoc = function useFilteringDoc() {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["useSelector"])(function (state) {
    return state.filters && state.filters.filteringDoc;
  });
};

/* harmony default export */ __webpack_exports__["default"] = (useFilteringDoc);

/***/ }),

/***/ "./src/ducks/future/FutureBalanceCard.jsx":
/*!************************************************!*\
  !*** ./src/ducks/future/FutureBalanceCard.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var components_Skeleton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/Skeleton */ "./src/components/Skeleton/index.jsx");
/* harmony import */ var components_Elevated__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Elevated */ "./src/components/Elevated.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var _useEstimatedBudget__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./useEstimatedBudget */ "./src/ducks/future/useEstimatedBudget.jsx");














var FutureBalanceCard = function FutureBalanceCard() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useEstimatedBudget = Object(_useEstimatedBudget__WEBPACK_IMPORTED_MODULE_12__["default"])(),
      isLoading = _useEstimatedBudget.isLoading,
      estimatedBalance = _useEstimatedBudget.estimatedBalance,
      currency = _useEstimatedBudget.currency,
      transactions = _useEstimatedBudget.transactions;

  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_11__["useRouter"])();
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    router.push('/balances/future');
  }, [router]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Elevated__WEBPACK_IMPORTED_MODULE_10__["default"], {
    onClick: handleClick,
    className: "".concat(isMobile ? 'u-mv-1 u-mh-half' : 'u-m-1', " u-p-1")
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
    variant: "body1"
  }, t('EstimatedBudget.30-day-balance')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, isLoading ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Skeleton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    variant: "text"
  }) : t('EstimatedBudget.numberEstimatedTransactions', {
    smart_count: transactions.length
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], null, isLoading ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Skeleton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    variant: "text",
    width: "small"
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: "u-mr-1 u-slateGrey",
    total: estimatedBalance,
    symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_8__["getCurrencySymbol"])(currency)
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_3__["default"],
    size: 16,
    className: "u-coolGrey"
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (FutureBalanceCard);

/***/ }),

/***/ "./src/ducks/future/HeaderInfoCard.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/future/HeaderInfoCard.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Card */ "./node_modules/cozy-ui/transpiled/react/Card/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var _useEstimatedBudget__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useEstimatedBudget */ "./src/ducks/future/useEstimatedBudget.jsx");









var HeaderCard = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__["withStyles"])({
  card: {
    backgroundColor: 'var(--headerInvertedBackgroundColorLight)',
    border: 0
  }
})(function (_ref) {
  var classes = _ref.classes,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: classes.card
  }, children);
});

var HeaderInfoCard = function HeaderInfoCard() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var _useEstimatedBudget = Object(_useEstimatedBudget__WEBPACK_IMPORTED_MODULE_8__["default"])(),
      estimatedBalance = _useEstimatedBudget.estimatedBalance,
      currency = _useEstimatedBudget.currency,
      transactions = _useEstimatedBudget.transactions;

  if (estimatedBalance === null) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderCard, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
    variant: "h6",
    color: "primary"
  }, t('EstimatedBudget.30-day-balance')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, t('EstimatedBudget.numberEstimatedTransactions', {
    smart_count: transactions.length
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-ml-2",
    total: estimatedBalance,
    symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_7__["getCurrencySymbol"])(currency)
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(HeaderInfoCard));

/***/ }),

/***/ "./src/ducks/future/PlannedTransactionsPage.jsx":
/*!******************************************************!*\
  !*** ./src/ducks/future/PlannedTransactionsPage.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/Transactions */ "./src/ducks/transactions/Transactions.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/transactions/scroll/getScrollingElement */ "./src/ducks/transactions/scroll/getScrollingElement.jsx");
/* harmony import */ var ducks_future_useEstimatedBudget__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/future/useEstimatedBudget */ "./src/ducks/future/useEstimatedBudget.jsx");
/* harmony import */ var ducks_future_PlannedTransactionsPageHeader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/future/PlannedTransactionsPageHeader */ "./src/ducks/future/PlannedTransactionsPageHeader.jsx");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./styles.styl */ "./src/ducks/future/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_13__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
















var PlannedTransactionsPage = function PlannedTransactionsPage(_ref) {
  var _cx;

  var emptyIcon = _ref.emptyIcon;
  var budget = Object(ducks_future_useEstimatedBudget__WEBPACK_IMPORTED_MODULE_11__["default"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile,
      isTablet = _useBreakpoints.isTablet;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_9__["useTrackPage"])('previsionnel');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_future_PlannedTransactionsPageHeader__WEBPACK_IMPORTED_MODULE_12__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_10__["DESKTOP_SCROLLING_ELEMENT_CLASSNAME"], (_cx = {}, _defineProperty(_cx, _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['List--mobile'], isMobile), _defineProperty(_cx, _styles_styl__WEBPACK_IMPORTED_MODULE_13___default.a['List--tablet'], isTablet), _cx))
  }, ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_8__["default"].active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-mt-2"
  }, " "), budget.isLoading ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_5__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_6__["default"], null)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, budget.transactions && budget.transactions.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_7__["TransactionList"], {
    transactions: budget.transactions,
    showTriggerErrors: false
  }), budget.transactions && budget.transactions.length === 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: isMobile ? 'u-mh-half' : ''
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: emptyIcon,
    title: t('EstimatedBudget.no-planned-transactions.title'),
    text: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, "\u2728 ", t('EstimatedBudget.no-planned-transactions.text'))
  })))));
};

PlannedTransactionsPage.defaultProps = {
  emptyIcon: 'cozy'
};
/* harmony default export */ __webpack_exports__["default"] = (PlannedTransactionsPage);

/***/ }),

/***/ "./src/ducks/future/PlannedTransactionsPageHeader.jsx":
/*!************************************************************!*\
  !*** ./src/ducks/future/PlannedTransactionsPageHeader.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_account_AccountSwitch__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/account/AccountSwitch */ "./src/ducks/account/AccountSwitch.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_future_HeaderInfoCard__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/future/HeaderInfoCard */ "./src/ducks/future/HeaderInfoCard.jsx");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./styles.styl */ "./src/ducks/future/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_14__);
















var PlannedTransactionsPageHeader = function PlannedTransactionsPageHeader() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_7__["useRouter"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var handleBack = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    router.push('/balances/details');
  }, [router]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_8__["default"], {
    theme: "inverted",
    fixed: true,
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.Header
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_10__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_6__["default"], null, isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    theme: "primary",
    onClick: handleBack
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a['Title--mobile'])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_account_AccountSwitch__WEBPACK_IMPORTED_MODULE_11__["default"], {
    insideBar: false
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_future_HeaderInfoCard__WEBPACK_IMPORTED_MODULE_13__["default"], null)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    arrow: true,
    onClick: handleBack,
    theme: "primary"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Bd"], {
    className: "u-stack-xs"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_account_AccountSwitch__WEBPACK_IMPORTED_MODULE_11__["default"], {
    size: "normal"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    color: "primary",
    variant: "h3"
  }, t('EstimatedBudget.page-title')))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_future_HeaderInfoCard__WEBPACK_IMPORTED_MODULE_13__["default"], null))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: "u-mt-1"
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(PlannedTransactionsPageHeader));

/***/ }),

/***/ "./src/ducks/future/selectors.js":
/*!***************************************!*\
  !*** ./src/ducks/future/selectors.js ***!
  \***************************************/
/*! exports provided: getMaxDate, isDeprecatedBundle, getPlannedTransactions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMaxDate", function() { return getMaxDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDeprecatedBundle", function() { return isDeprecatedBundle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPlannedTransactions", function() { return getPlannedTransactions; });
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns/add_days */ "./node_modules/date-fns/add_days/index.js");
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(date_fns_add_days__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var date_fns_is_after__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns/is_after */ "./node_modules/date-fns/is_after/index.js");
/* harmony import */ var date_fns_is_after__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns_is_after__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var date_fns_parse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns/parse */ "./node_modules/date-fns/parse/index.js");
/* harmony import */ var date_fns_parse__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(date_fns_parse__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! date-fns/difference_in_days */ "./node_modules/date-fns/difference_in_days/index.js");
/* harmony import */ var date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/orderBy */ "./node_modules/lodash/orderBy.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_recurrence__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/recurrence */ "../overrides/cozy-banks/src/ducks/recurrence/index.js");
/* harmony import */ var selectors_getClient__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! selectors/getClient */ "./src/selectors/getClient.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");












var getMaxDate = function getMaxDate() {
  return date_fns_add_days__WEBPACK_IMPORTED_MODULE_1___default()(new Date(Date.now()), 30).toISOString().slice(0, 10);
};
var FOUR_MONTHS_IN_DAYS = 4 * 30;
var RECURRENCE_MAX_AGE_FOR_PLANNING = FOUR_MONTHS_IN_DAYS;
var MIN_MEDIAN_FOR_PLANNING = 15;
/**
 * Returns whether a recurrence should generate planned transactions
 */

var isDeprecatedBundle = function isDeprecatedBundle(recurrence) {
  var now = Date.now();
  var latestDate = date_fns_parse__WEBPACK_IMPORTED_MODULE_3___default()(recurrence.latestDate);
  var deltaToNow = date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_4___default()(now, latestDate);
  return deltaToNow >= RECURRENCE_MAX_AGE_FOR_PLANNING;
};
/**
 * Returns planned transactions based on recurrences
 */

var getPlannedTransactions = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_7__["getRecurrences"], ducks_filters__WEBPACK_IMPORTED_MODULE_8__["getFilteredAccountIds"], getMaxDate], function (recurrences, filteredAccountIds, maxDateArg) {
  var client = Object(selectors_getClient__WEBPACK_IMPORTED_MODULE_10__["default"])();
  var res = [];
  var now = new Date();
  var maxDate = new Date(maxDateArg);
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = recurrences[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var recurrence = _step.value;

      if (recurrence.status === ducks_recurrence__WEBPACK_IMPORTED_MODULE_9__["STATUS_FINISHED"]) {
        continue;
      }

      if (!recurrence.latestDate) {
        continue;
      }

      var lastBankAccount = recurrence.accounts && recurrence.accounts[0];

      if (filteredAccountIds && filteredAccountIds.indexOf(lastBankAccount) === -1) {
        continue;
      }

      if (isDeprecatedBundle(recurrence)) {
        continue;
      }

      var median = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(recurrence, 'stats.deltas.median');

      if (!median || median < MIN_MEDIAN_FOR_PLANNING) {
        continue;
      }

      var futureDate = Object(ducks_recurrence__WEBPACK_IMPORTED_MODULE_9__["nextDate"])(recurrence);

      if (date_fns_is_after__WEBPACK_IMPORTED_MODULE_2___default()(now, futureDate) || date_fns_is_after__WEBPACK_IMPORTED_MODULE_2___default()(futureDate, maxDate)) {
        continue;
      }

      var transaction = client.hydrateDocument({
        _type: doctypes__WEBPACK_IMPORTED_MODULE_11__["TRANSACTION_DOCTYPE"],
        label: recurrence.manualLabel || recurrence.automaticLabel,
        date: futureDate.toISOString(),
        amount: recurrence.latestAmount || recurrence.amounts[0],
        account: lastBankAccount,
        manualCategoryId: recurrence.categoryIds[0],
        automaticCategoryId: recurrence.categoryIds[0]
      });
      res.push(transaction);
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return lodash_orderBy__WEBPACK_IMPORTED_MODULE_6___default()(res, ['date'], ['desc']);
});

/***/ }),

/***/ "./src/ducks/future/styles.styl":
/*!**************************************!*\
  !*** ./src/ducks/future/styles.styl ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Header":"Header--1Xhtd","List--mobile":"List--mobile--1t3CH","List--tablet":"List--tablet--2FzqS","Title--mobile":"Title--mobile--3L739"};

/***/ }),

/***/ "./src/ducks/future/useEstimatedBudget.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/future/useEstimatedBudget.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./selectors */ "./src/ducks/future/selectors.js");







/** Returns estimatedBalance and number of planned transactions for currently filtered accounts */

var useEstimatedBudget = function useEstimatedBudget() {
  var recurrenceCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["recurrenceConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_5__["recurrenceConn"]); // Do not use the result of this query but make sure accounts are loaded since
  // we use a selector on them afterwards

  var accountsCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"]);
  var transactions = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(_selectors__WEBPACK_IMPORTED_MODULE_6__["getPlannedTransactions"]);
  var accounts = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_4__["getFilteredAccounts"]);
  var sumTransactions = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default()(transactions, function (x) {
      return x.amount;
    });
  }, [transactions]);
  var sumAccounts = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default()(accounts, function (x) {
      return x.balance;
    });
  }, [accounts]);
  var isLoading = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["isQueryLoading"])(recurrenceCol) || Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["isQueryLoading"])(accountsCol);
  return {
    isLoading: isLoading,
    estimatedBalance: isLoading ? null : sumAccounts + sumTransactions,
    sumTransactions: sumTransactions,
    currency: accounts && accounts.length ? accounts[0].currency : null,
    transactions: transactions
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useEstimatedBudget);

/***/ }),

/***/ "./src/ducks/groups/helpers.js":
/*!*************************************!*\
  !*** ./src/ducks/groups/helpers.js ***!
  \*************************************/
/*! exports provided: isFormerAutoGroup, isAutoGroup, getGroupAccountType, isReimbursementsVirtualGroup, getGroupLabel, getGroupBalance, buildAutoGroup, buildAutoGroups, translateAndSortGroups, renamedGroup, isLoanAccount, isLoanGroup, getGroupAccountIds */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFormerAutoGroup", function() { return isFormerAutoGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAutoGroup", function() { return isAutoGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupAccountType", function() { return getGroupAccountType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReimbursementsVirtualGroup", function() { return isReimbursementsVirtualGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupLabel", function() { return getGroupLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupBalance", function() { return getGroupBalance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildAutoGroup", function() { return buildAutoGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildAutoGroups", function() { return buildAutoGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "translateAndSortGroups", function() { return translateAndSortGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renamedGroup", function() { return renamedGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLoanAccount", function() { return isLoanAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLoanGroup", function() { return isLoanGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupAccountIds", function() { return getGroupAccountIds; });
/* harmony import */ var lodash_every__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/every */ "./node_modules/lodash/every.js");
/* harmony import */ var lodash_every__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_every__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_deburr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/deburr */ "./node_modules/lodash/deburr.js");
/* harmony import */ var lodash_deburr__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_deburr__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_client_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/client/utils */ "./src/ducks/client/utils.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! utils/resultWithArgs */ "./src/utils/resultWithArgs.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}












 // For automatically created groups, the `accountType` attribute is present.

var isFormerAutoGroup = function isFormerAutoGroup(group) {
  return group.accountType === null;
};
var isAutoGroup = function isAutoGroup(group) {
  return group.accountType !== undefined;
};
var getGroupAccountType = function getGroupAccountType(group) {
  return group.accountType;
};
var isReimbursementsVirtualGroup = function isReimbursementsVirtualGroup(group) {
  return Boolean(group.virtual && group._id === 'Reimbursements');
};
var getGroupLabel = function getGroupLabel(group, t) {
  if (isReimbursementsVirtualGroup(group)) {
    return t("Data.accountTypes.Reimbursements", {
      _: 'other'
    });
  } else if (group.virtual) {
    return t("Data.accountTypes.".concat(group.accountType), {
      _: 'other'
    }) + (cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug-groups') ? ' (virtual)' : '');
  } else if (isAutoGroup(group) && !isFormerAutoGroup(group)) {
    return t("Data.accountTypes.".concat(group.accountType)) + (cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('debug-groups') ? ' (auto)' : '');
  } else {
    return group.label;
  }
};
/**
 * Returns a group balance (all its accounts balance sumed)
 * @param {Object} group
 * @param {string[]} excludedAccountIds - Account ids that should be exclude from the sum
 * @returns {number}
 */

var getGroupBalance = function getGroupBalance(group) {
  var excludedAccountIds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var accounts = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(group, 'accounts.data');

  if (!accounts) {
    return 0;
  }

  var accountsToSum = accounts.filter(Boolean).filter(function (account) {
    return !excludedAccountIds.includes(account._id);
  });
  return lodash_sumBy__WEBPACK_IMPORTED_MODULE_2___default()(accountsToSum, ducks_account_helpers__WEBPACK_IMPORTED_MODULE_10__["getAccountBalance"]);
};
var buildAutoGroup = function buildAutoGroup(accountType, accounts) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var _options$virtual = options.virtual,
      virtual = _options$virtual === void 0 ? true : _options$virtual,
      _options$client = options.client,
      client = _options$client === void 0 ? null : _options$client;
  var group = {
    _type: doctypes__WEBPACK_IMPORTED_MODULE_8__["GROUP_DOCTYPE"],
    label: accountType,
    accountType: accountType
  };

  if (virtual) {
    group.virtual = true;
    group._id = accountType;
  }

  Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_9__["associateDocuments"])(group, 'accounts', doctypes__WEBPACK_IMPORTED_MODULE_8__["ACCOUNT_DOCTYPE"], accounts);

  if (client) {
    group.accounts = accounts.map(function (x) {
      return x._id;
    });
    return client.hydrateDocument(group);
  } else {
    Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_9__["associateDocuments"])(group, 'accounts', doctypes__WEBPACK_IMPORTED_MODULE_8__["ACCOUNT_DOCTYPE"], accounts);
    return group;
  }
};
var buildAutoGroups = function buildAutoGroups(accounts, options) {
  var accountsByType = lodash_groupBy__WEBPACK_IMPORTED_MODULE_5___default()(accounts, ducks_account_helpers__WEBPACK_IMPORTED_MODULE_10__["getAccountType"]);
  var virtualGroups = Object.entries(accountsByType).map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        accountType = _ref2[0],
        accounts = _ref2[1];

    return buildAutoGroup(accountType, accounts, options);
  });
  return virtualGroups;
};
/**
 * Returns a function that returns the translated label of a group
 *
 * @param {Object} group - Group
 * @param {Function} translate - Translation function
 * @returns {Object} Translated label
 */

var isOtherVirtualGroup = function isOtherVirtualGroup(group) {
  return group.virtual && group.label === 'Other';
};

var getCategory = function getCategory(group) {
  if (isReimbursementsVirtualGroup(group)) {
    return 'virtualReimbursements';
  } else if (isOtherVirtualGroup(group)) {
    return 'virtualOther';
  } else {
    return 'normal';
  }
};

var groupSortingPriorities = {
  normal: 0,
  virtualOther: 1,
  virtualReimbursements: function virtualReimbursements(group) {
    var balance = getGroupBalance(group);

    if (cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('demo') || cozy_flags__WEBPACK_IMPORTED_MODULE_6___default()('balance.reimbursements-top-position')) {
      // Must be first if we have reimbursements waiting
      return balance > 0 ? -1 : 2;
    } else {
      return 2;
    }
  }
};

var getGroupPriority = function getGroupPriority(wrappedGroup) {
  return Object(utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_11__["default"])(groupSortingPriorities, wrappedGroup.category, [wrappedGroup.group]);
};
/**
 * Translate groups labels then sort them on their translated label. But always put "others accounts" last
 * @param {Object[]} groups - The groups to sort
 * @param {Function} translate - The translation function
 * @returns {Object[]} The sorted wrapped groups ({ category, label, group })
 */


var translateAndSortGroups = function translateAndSortGroups(groups, translate) {
  // Wrap groups to add necessary information for sorting
  var wrappedGroups = groups.map(function (group) {
    return {
      group: group,
      category: getCategory(group),
      label: getGroupLabel(group, translate)
    };
  });
  return lodash_sortBy__WEBPACK_IMPORTED_MODULE_4___default()(wrappedGroups, function (wrappedGroup) {
    return [getGroupPriority(wrappedGroup), lodash_deburr__WEBPACK_IMPORTED_MODULE_3___default()(wrappedGroup.label).toLowerCase()];
  });
};
var renamedGroup = function renamedGroup(group, label) {
  var updatedGroup = _objectSpread({}, group, {
    label: label
  });

  if (group.accountType) {
    // As soon as the account is renamed it loses its accountType
    updatedGroup.accountType = null;
  }

  return updatedGroup;
};
var isLoanAccount = function isLoanAccount(account) {
  return account ? Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_10__["getAccountType"])(account) == 'Loan' : false;
};
var isLoanGroup = function isLoanGroup(group) {
  return group.accounts && group.accounts.data ? lodash_every__WEBPACK_IMPORTED_MODULE_0___default()(group.accounts.data, isLoanAccount) : false;
};
var getGroupAccountIds = function getGroupAccountIds(group) {
  return group.accounts ? group.accounts instanceof cozy_client__WEBPACK_IMPORTED_MODULE_7__["HasManyInPlace"] ? group.accounts.raw : group.accounts : [];
};

/***/ }),

/***/ "./src/ducks/loan/LoanDetailsPage.jsx":
/*!********************************************!*\
  !*** ./src/ducks/loan/LoanDetailsPage.jsx ***!
  \********************************************/
/*! exports provided: Row, Section, KeyInfosSection, PaymentsSection, CharacteristicsSection, CreditReserveSection, DumbLoanDetailsPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Row", function() { return Row; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyInfosSection", function() { return KeyInfosSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentsSection", function() { return PaymentsSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacteristicsSection", function() { return CharacteristicsSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreditReserveSection", function() { return CreditReserveSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbLoanDetailsPage", function() { return DumbLoanDetailsPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CompositeRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CompositeRow */ "./node_modules/cozy-ui/transpiled/react/CompositeRow/index.js");
/* harmony import */ var cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/NarrowContent */ "./node_modules/cozy-ui/transpiled/react/NarrowContent/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var ducks_balance__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/balance */ "./src/ducks/balance/index.js");
/* harmony import */ var components_Section__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Section */ "./src/components/Section/index.js");
/* harmony import */ var ducks_loan_LoanDetailsPage_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/loan/LoanDetailsPage.styl */ "./src/ducks/loan/LoanDetailsPage.styl");
/* harmony import */ var ducks_loan_LoanDetailsPage_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(ducks_loan_LoanDetailsPage_styl__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var ducks_loan_LoanProgress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/loan/LoanProgress */ "./src/ducks/loan/LoanProgress.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }
















var DATE_FORMAT = 'DD/MM/YY';

var DumbRow = function DumbRow(props) {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      f = _useI18n.f;

  var type = props.type,
      title = props.title,
      originalValue = props.value,
      caption = props.caption,
      className = props.className,
      rest = _objectWithoutProperties(props, ["type", "title", "value", "caption", "className"]);

  if (!originalValue) {
    return null;
  }

  var value;

  switch (type) {
    case 'amount':
      value = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__["default"], {
        total: originalValue,
        symbol: "\u20AC"
      });
      break;

    case 'date':
      value = f(originalValue, DATE_FORMAT);
      break;

    case 'rate':
      value = originalValue + '%';
      break;

    case 'nb-payments':
      value = 'x' + originalValue;
      break;

    default:
      value = originalValue;
      break;
  }

  var right = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: ducks_loan_LoanDetailsPage_styl__WEBPACK_IMPORTED_MODULE_9___default.a.LoanDetailsRow__value
  }, value);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_loan_LoanDetailsPage_styl__WEBPACK_IMPORTED_MODULE_9___default.a.LoanDetailsRow, className)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_5__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CompositeRow__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({
      'u-pl-2': !isMobile
    }),
    primaryText: title,
    secondaryText: caption,
    right: right
  }, rest))));
};

var Row = DumbRow;
var Section = function Section(props) {
  var title = props.title,
      children = props.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_8__["Section"], {
    title: title
  }, children);
};

var isExistingData = function isExistingData(data) {
  return data !== undefined && data !== null;
};

var KeyInfosSection = function KeyInfosSection(props) {
  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n2.t;

  var account = props.account;
  var borrowedAmount = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_12__["getBorrowedAmount"])(account);
  var balance = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'balance');
  var rate = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.rate');
  var shouldRender = [borrowedAmount, balance, rate].some(isExistingData);

  if (!shouldRender) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section, {
    title: t('LoanDetails.keyInfos.title')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "amount",
    title: t('LoanDetails.keyInfos.borrowedAmount'),
    value: borrowedAmount
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "amount",
    title: t('LoanDetails.keyInfos.remainingCapital'),
    value: Math.abs(balance)
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "rate",
    title: t('LoanDetails.keyInfos.interestRate'),
    value: rate
  }));
};
var PaymentsSection = function PaymentsSection(props) {
  var _useI18n3 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n3.t,
      f = _useI18n3.f;

  var account = props.account;
  var lastPaymentAmount = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.lastPaymentAmount');
  var nextPaymentAmount = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.nextPaymentAmount');
  var shouldRender = [lastPaymentAmount, nextPaymentAmount].some(isExistingData);

  if (!shouldRender) {
    return null;
  }

  var lastPaymentDate = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.lastPaymentDate');
  var nextPaymentDate = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.nextPaymentDate');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section, {
    title: t('LoanDetails.payments.title')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "amount",
    title: t('LoanDetails.payments.lastPayment'),
    value: lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.lastPaymentAmount'),
    caption: lastPaymentDate ? "".concat(t('LoanDetails.dateGlue'), " ").concat(f(lastPaymentDate, DATE_FORMAT)) : undefined
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "amount",
    title: t('LoanDetails.payments.nextPayment'),
    value: lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.nextPaymentAmount'),
    caption: nextPaymentDate ? "".concat(t('LoanDetails.dateGlue'), " ").concat(f(nextPaymentDate, DATE_FORMAT)) : undefined
  }));
};
var CharacteristicsSection = function CharacteristicsSection(props) {
  var _useI18n4 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n4.t;

  var account = props.account;
  var subscriptionDate = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.subscriptionDate');
  var maturityDate = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.maturityDate');
  var nbPaymentsLeft = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.nbPaymentsLeft');
  var nbPaymentsDone = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.nbPaymentsDone');
  var shouldRender = [subscriptionDate, maturityDate, nbPaymentsLeft, nbPaymentsDone].some(isExistingData);

  if (!shouldRender) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section, {
    title: t('LoanDetails.characteristics.title')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "date",
    title: t('LoanDetails.characteristics.subscriptionDate'),
    value: subscriptionDate
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "date",
    title: t('LoanDetails.characteristics.maturityDate'),
    value: maturityDate
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "nb-payments",
    title: t('LoanDetails.characteristics.nbPaymentsLeft'),
    value: nbPaymentsLeft
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "nb-payments",
    title: t('LoanDetails.characteristics.nbPaymentsDone'),
    value: nbPaymentsDone
  }));
};
var CreditReserveSection = function CreditReserveSection(props) {
  var _useI18n5 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n5.t;

  var account = props.account;
  var totalAmount = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.totalAmount');
  var availableAmount = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(account, 'loan.availableAmount');
  var shouldRender = account.type === 'RevolvingCredit' && [totalAmount, availableAmount].some(isExistingData);

  if (!shouldRender) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section, {
    title: t('LoanDetails.creditReserve.title')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "amount",
    title: t('LoanDetails.creditReserve.totalUsedAmount'),
    value: totalAmount
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
    type: "amount",
    title: t('LoanDetails.creditReserve.availableAmount'),
    value: availableAmount
  }));
};

var DumbLoanDetails = function DumbLoanDetails(props) {
  var account = props.account;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(KeyInfosSection, {
    account: account
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PaymentsSection, {
    account: account
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CharacteristicsSection, {
    account: account
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CreditReserveSection, {
    account: account
  }));
};

var LoanDetails = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(DumbLoanDetails);
var DumbLoanDetailsPage = function DumbLoanDetailsPage(props) {
  var _useBreakpoints2 = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__["default"])(),
      isMobile = _useBreakpoints2.isMobile;

  var account = props.filteringDoc;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance__WEBPACK_IMPORTED_MODULE_7__["BalanceDetailsHeader"], {
    showBalance: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_8__["Section"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_5__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({
      'u-pr-1': !isMobile
    })
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_loan_LoanProgress__WEBPACK_IMPORTED_MODULE_10__["default"], {
    account: account
  })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LoanDetails, {
    account: account
  }));
};
var LoanDetailsPage = DumbLoanDetailsPage;
/* harmony default export */ __webpack_exports__["default"] = (LoanDetailsPage);

/***/ }),

/***/ "./src/ducks/loan/LoanDetailsPage.styl":
/*!*********************************************!*\
  !*** ./src/ducks/loan/LoanDetailsPage.styl ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"LoanDetailsRow":"LoanDetailsRow--zRz6A","LoanDetailsRow__value":"LoanDetailsRow__value--25aMk"};

/***/ }),

/***/ "./src/ducks/loan/LoanListPage.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/loan/LoanListPage.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_Section__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/Section */ "./src/components/Section/index.js");
/* harmony import */ var ducks_loan_LoanProgress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/loan/LoanProgress */ "./src/ducks/loan/LoanProgress.jsx");
/* harmony import */ var cozy_ui_transpiled_react_CompositeRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CompositeRow */ "./node_modules/cozy-ui/transpiled/react/CompositeRow/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/NarrowContent */ "./node_modules/cozy-ui/transpiled/react/NarrowContent/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var components_withFilters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/withFilters */ "./src/components/withFilters.jsx");
/* harmony import */ var ducks_balance__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/balance */ "./src/ducks/balance/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");


















var PaddedOnDesktop = function PaddedOnDesktop(props) {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_14__["default"])(),
      isDesktop = _useBreakpoints.isDesktop;

  var children = props.children;

  if (isDesktop) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], null, children);
  }

  return children;
};

var DumbLoanListPage = function DumbLoanListPage(props) {
  var filteringDoc = props.filteringDoc,
      filterByDoc = props.filterByDoc,
      accountsCol = props.accounts;

  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(accountsCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["hasQueryBeenLoaded"])(accountsCol)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance__WEBPACK_IMPORTED_MODULE_10__["BalanceDetailsHeader"], {
      showBalance: true
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], {
      className: "u-flex u-flex-justify-center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__["default"], {
      size: "xxlarge"
    })));
  }

  var accounts = filteringDoc.accounts.data;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance__WEBPACK_IMPORTED_MODULE_10__["BalanceDetailsHeader"], {
    showBalance: true
  }), accounts.map(function (account) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_2__["Section"], {
      key: account._id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_7__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PaddedOnDesktop, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CompositeRow__WEBPACK_IMPORTED_MODULE_4__["default"], {
      primaryText: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "u-flex u-flex-items-center"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_8__["default"], {
        account: account
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_16__["default"], {
        className: "u-ml-1",
        variant: "h6"
      }, account.label)),
      right: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
        icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_15__["default"],
        color: "var(--coolGrey)"
      }),
      actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_loan_LoanProgress__WEBPACK_IMPORTED_MODULE_3__["default"], {
        account: account
      }),
      className: "u-c-pointer",
      onClick: function onClick() {
        filterByDoc(account);
      }
    }))));
  }));
};

var LoanListPage = lodash_flowRight__WEBPACK_IMPORTED_MODULE_12___default()(components_withFilters__WEBPACK_IMPORTED_MODULE_9__["default"], Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["queryConnect"])({
  accounts: doctypes__WEBPACK_IMPORTED_MODULE_13__["accountsConn"]
}))(DumbLoanListPage);
/* harmony default export */ __webpack_exports__["default"] = (LoanListPage);

/***/ }),

/***/ "./src/ducks/loan/LoanProgress.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/loan/LoanProgress.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_PercentageBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/PercentageBar */ "./node_modules/cozy-ui/transpiled/react/PercentageBar/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");







var LoanProgress = function LoanProgress(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var account = props.account;
  var percentage = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_3__["getReimbursedPercentage"])(account);
  var reimbursedAmount = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_3__["getReimbursedAmount"])(account);
  var borrowedAmount = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_3__["getBorrowedAmount"])(account);

  if (!reimbursedAmount && !borrowedAmount) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_PercentageBar__WEBPACK_IMPORTED_MODULE_1__["default"], {
    value: percentage,
    color: "var(--successColor)"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-flex u-mt-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-flex-grow-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__["default"], {
    total: reimbursedAmount,
    symbol: "\u20AC",
    coloredPositive: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, t('LoanProgress.reimbursedAmount'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-flex-grow-1 u-ta-right"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__["default"], {
    total: borrowedAmount,
    symbol: "\u20AC"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, t('LoanProgress.borrowedAmount')))));
};

/* harmony default export */ __webpack_exports__["default"] = (LoanProgress);

/***/ }),

/***/ "./src/ducks/loan/index.js":
/*!*********************************!*\
  !*** ./src/ducks/loan/index.js ***!
  \*********************************/
/*! exports provided: LoanDetailsPage, LoanListPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_loan_LoanDetailsPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/loan/LoanDetailsPage */ "./src/ducks/loan/LoanDetailsPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoanDetailsPage", function() { return ducks_loan_LoanDetailsPage__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_loan_LoanListPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/loan/LoanListPage */ "./src/ducks/loan/LoanListPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoanListPage", function() { return ducks_loan_LoanListPage__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/***/ }),

/***/ "./src/ducks/mobile/MobileRouter.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/mobile/MobileRouter.jsx ***!
  \*******************************************/
/*! exports provided: MobileRouter, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileRouter", function() { return MobileRouter; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_authentication__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-authentication */ "./node_modules/cozy-authentication/dist/index.js");
/* harmony import */ var cozy_pouch_link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-pouch-link */ "./node_modules/cozy-pouch-link/dist/index.js");
/* harmony import */ var cozy_pouch_link__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_pouch_link__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/AppLinker */ "../overrides/cozy-ui/transpiled/react/AppLinker/index.jsx");
/* harmony import */ var components_LogoutModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/LogoutModal */ "./src/components/LogoutModal/index.js");
/* harmony import */ var components_MigrateAdapterDialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/MigrateAdapterDialog */ "./src/components/MigrateAdapterDialog/index.js");
/* harmony import */ var ducks_mobile_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/mobile/constants */ "./src/ducks/mobile/constants.js");
/* harmony import */ var ducks_client_manifest__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/client/manifest */ "../overrides/cozy-banks/src/ducks/client/manifest.js");
/* harmony import */ var ducks_mobile_bar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/mobile/bar */ "./src/ducks/mobile/bar.js");
/* harmony import */ var ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/client/linksHelpers */ "./src/ducks/client/linksHelpers.js");
/* harmony import */ var targets_favicons_icon_banks_jpg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! targets/favicons/icon-banks.jpg */ "./src/targets/favicons/icon-banks.jpg");
/* harmony import */ var targets_favicons_icon_banks_jpg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(targets_favicons_icon_banks_jpg__WEBPACK_IMPORTED_MODULE_13__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














var MobileRouter = /*#__PURE__*/function (_React$Component) {
  _inherits(MobileRouter, _React$Component);

  function MobileRouter() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, MobileRouter);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MobileRouter)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      shouldDisplayMigrateDialog: false
    });

    _defineProperty(_assertThisInitialized(_this), "handleMigrateModaleAnswer", /*#__PURE__*/function () {
      var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(shouldMigrate) {
        var client, pouchLink, creds, url, oldAdapter, oldAdapterPlugin, newAdapterPlugin, plugins;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this.setState({
                  shouldDisplayMigrateDialog: false
                });

                if (!shouldMigrate) {
                  _context.next = 15;
                  break;
                }

                client = _this.props.client;
                pouchLink = client.links.find(function (link) {
                  return link instanceof cozy_pouch_link__WEBPACK_IMPORTED_MODULE_5___default.a;
                });
                _context.next = 6;
                return Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_12__["fetchCredentials"])();

              case 6:
                creds = _context.sent;
                url = creds.uri;
                oldAdapter = Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_12__["getOldAdapterName"])();
                oldAdapterPlugin = Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_12__["getAdapterPlugin"])(oldAdapter);
                newAdapterPlugin = Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_12__["getAdapterPlugin"])('indexeddb');
                plugins = [oldAdapterPlugin, newAdapterPlugin];
                _context.next = 14;
                return pouchLink.migrateAdapter({
                  fromAdapter: oldAdapter,
                  toAdapter: 'indexeddb',
                  url: url,
                  plugins: plugins
                });

              case 14:
                // Reload page to benefit from new adapter
                window.location.reload();

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    return _this;
  }

  _createClass(MobileRouter, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var shouldMigrate;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return Object(ducks_client_linksHelpers__WEBPACK_IMPORTED_MODULE_12__["shouldMigrateAdapter"])();

              case 2:
                shouldMigrate = _context2.sent;
                this.setState({
                  shouldDisplayMigrateDialog: shouldMigrate
                });

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          routes = _this$props.routes,
          client = _this$props.client;
      var shouldDisplayMigrateDialog = this.state.shouldDisplayMigrateDialog;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, shouldDisplayMigrateDialog && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_MigrateAdapterDialog__WEBPACK_IMPORTED_MODULE_8__["default"], {
        handleMigrateModaleAnswer: this.handleMigrateModaleAnswer
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_authentication__WEBPACK_IMPORTED_MODULE_4__["MobileRouter"], {
        protocol: ducks_mobile_constants__WEBPACK_IMPORTED_MODULE_9__["protocol"],
        history: react_router__WEBPACK_IMPORTED_MODULE_2__["hashHistory"],
        appIcon: targets_favicons_icon_banks_jpg__WEBPACK_IMPORTED_MODULE_13___default.a,
        appTitle: ducks_mobile_constants__WEBPACK_IMPORTED_MODULE_9__["appTitle"],
        appSlug: ducks_client_manifest__WEBPACK_IMPORTED_MODULE_10__["default"].slug,
        universalLinkDomain: Object(cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_6__["getUniversalLinkDomain"])(),
        onAuthenticated: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  react_router__WEBPACK_IMPORTED_MODULE_2__["hashHistory"].replace('/balances');
                  _context3.next = 3;
                  return Object(ducks_mobile_bar__WEBPACK_IMPORTED_MODULE_11__["default"])(client);

                case 3:
                case "end":
                  return _context3.stop();
              }
            }
          }, _callee3);
        })),
        LogoutComponent: components_LogoutModal__WEBPACK_IMPORTED_MODULE_7__["default"]
      }, routes));
    }
  }]);

  return MobileRouter;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["withClient"])(MobileRouter));

/***/ }),

/***/ "./src/ducks/mobile/bar.js":
/*!*********************************!*\
  !*** ./src/ducks/mobile/bar.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var utils_cozyBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/cozyBar */ "./src/utils/cozyBar.js");
/* harmony import */ var targets_favicons_icon_banks_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! targets/favicons/icon-banks.svg */ "./src/targets/favicons/icon-banks.svg");
/* harmony import */ var targets_favicons_icon_banks_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(targets_favicons_icon_banks_svg__WEBPACK_IMPORTED_MODULE_2__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}




var getLang = function getLang() {
  return navigator && navigator.language ? navigator.language.slice(0, 2) : 'en';
};
/**
 * Bar plugin for CozyClient
 *
 * Registers lifecycle handlers to
 *
 * - initialize the bar on login
 * - destroy it on logout
 */


/* harmony default export */ __webpack_exports__["default"] = (/*#__PURE__*/(function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client) {
    var handleMobileLogout;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            // Need to override the default logout from the bar
            handleMobileLogout = /*#__PURE__*/function () {
              var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        _context.prev = 0;
                        _context.next = 3;
                        return client.logout();

                      case 3:
                        _context.prev = 3;
                        client.emit('logout');
                        return _context.finish(3);

                      case 6:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee, null, [[0,, 3, 6]]);
              }));

              return function handleMobileLogout() {
                return _ref2.apply(this, arguments);
              };
            }();

            _context2.next = 3;
            return utils_cozyBar__WEBPACK_IMPORTED_MODULE_1__["default"].init({
              appNamePrefix: 'Cozy',
              appName: 'Banks',
              appEditor: 'Cozy',
              appSlug: 'banks',
              cozyClient: client,
              cozyURL: client.uri,
              iconPath: targets_favicons_icon_banks_svg__WEBPACK_IMPORTED_MODULE_2___default.a,
              lang: getLang(),
              replaceTitleOnMobile: true,
              onLogOut: handleMobileLogout
            });

          case 3:
            client.on('logout', function () {
              if (document.getElementById('coz-bar')) {
                document.getElementById('coz-bar').remove();
                document.body.setAttribute('style', '');
              }
            });

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function (_x) {
    return _ref.apply(this, arguments);
  };
})());

/***/ }),

/***/ "./src/ducks/mobile/constants.js":
/*!***************************************!*\
  !*** ./src/ducks/mobile/constants.js ***!
  \***************************************/
/*! exports provided: protocol, appTitle, SOFTWARE_ID */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "protocol", function() { return protocol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appTitle", function() { return appTitle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SOFTWARE_ID", function() { return SOFTWARE_ID; });
var protocol = 'cozybanks://';
var appTitle = 'Cozy Banks';
var SOFTWARE_ID = 'registry://banks';

/***/ }),

/***/ "./src/ducks/personal-info/Infos.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/personal-info/Infos.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Info */ "./node_modules/cozy-ui/transpiled/react/Icons/Info.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");







var PersonalInfoDescription = function PersonalInfoDescription() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], {
    align: "top"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Info__WEBPACK_IMPORTED_MODULE_4__["default"],
    className: "u-mr-1"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "h5"
  }, t('PersonalInfo.info.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "body1"
  }, t('PersonalInfo.info.description'))));
};

/* harmony default export */ __webpack_exports__["default"] = (PersonalInfoDescription);

/***/ }),

/***/ "./src/ducks/personal-info/PersonalInfoDialog.jsx":
/*!********************************************************!*\
  !*** ./src/ducks/personal-info/PersonalInfoDialog.jsx ***!
  \********************************************************/
/*! exports provided: PersonalInfoDialog, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PersonalInfoDialog", function() { return PersonalInfoDialog; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Field */ "./node_modules/cozy-ui/transpiled/react/Field/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var ducks_personal_info_Infos__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/personal-info/Infos */ "./src/ducks/personal-info/Infos.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var _nationalities_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./nationalities.json */ "./src/ducks/personal-info/nationalities.json");
var _nationalities_json__WEBPACK_IMPORTED_MODULE_15___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./nationalities.json */ "./src/ducks/personal-info/nationalities.json", 1);
/* harmony import */ var ducks_personal_info_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/personal-info/utils */ "./src/ducks/personal-info/utils.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


















var defaultNationality = {
  label: 'Française',
  value: 'FR'
};

var makeNationalitiesOptions = function makeNationalitiesOptions(lang) {
  return _nationalities_json__WEBPACK_IMPORTED_MODULE_15__.map(function (country) {
    return {
      label: country["".concat(lang, "_nationality")] || country['en_nationality'],
      value: country.alpha_2_code
    };
  }).sort(function (a, b) {
    return a.label > b.label;
  });
};
/**
 * Loads the myself contact and displays the form
 */


var PersonalInfoDialog = /*#__PURE__*/function (_React$Component) {
  _inherits(PersonalInfoDialog, _React$Component);

  function PersonalInfoDialog(props, context) {
    var _this;

    _classCallCheck(this, PersonalInfoDialog);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PersonalInfoDialog).call(this, props, context));
    _this.handleChangeField = _this.handleChangeField.bind(_assertThisInitialized(_this));
    _this.handleSave = _this.handleSave.bind(_assertThisInitialized(_this));
    _this.state = {
      saving: false,
      formData: {
        birthcity: '',
        birthcountry: '',
        nationality: defaultNationality
      },
      identity: null
    };
    _this.nationalityOptions = makeNationalitiesOptions(props.lang);
    return _this;
  }

  _createClass(PersonalInfoDialog, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__["trackPage"])('virements:informations');
      this.loadIdentityAndFillForm();
    }
    /**
     * Loads all identities specified in the sourceIdentitySelectors prop
     * and fills the form's nationality and birthcity
     */

  }, {
    key: "loadIdentityAndFillForm",
    value: function () {
      var _loadIdentityAndFillForm = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var _this$props, client, sourceIdentitySelectors_, identity, mergedIdentity, sourceIdentitySelectors, identities, _ref, _ref$birthcity, birthcity, _ref$birthcountry, birthcountry, nationalities, nationality;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this$props = this.props, client = _this$props.client, sourceIdentitySelectors_ = _this$props.sourceIdentitySelectors;

                if (!this.state.identity) {
                  _context.next = 3;
                  break;
                }

                return _context.abrupt("return");

              case 3:
                _context.prev = 3;
                sourceIdentitySelectors = sourceIdentitySelectors_.map(function (fn) {
                  return typeof fn === 'function' ? fn(client) : fn;
                });
                _context.next = 7;
                return Object(ducks_personal_info_utils__WEBPACK_IMPORTED_MODULE_16__["loadIdentities"])(client, sourceIdentitySelectors);

              case 7:
                identities = _context.sent;
                identity = identities.find(Object(ducks_personal_info_utils__WEBPACK_IMPORTED_MODULE_16__["isCurrentAppIdentity"])(client)) || {};
                mergedIdentity = lodash_omit__WEBPACK_IMPORTED_MODULE_3___default()(lodash_merge__WEBPACK_IMPORTED_MODULE_4___default.a.apply(void 0, [{}].concat(_toConsumableArray(identities))), ['_id', '_rev']) || {};
                _context.next = 16;
                break;

              case 12:
                _context.prev = 12;
                _context.t0 = _context["catch"](3);
                // New identity
                identity = {};
                mergedIdentity = {};

              case 16:
                _ref = mergedIdentity.contact || {}, _ref$birthcity = _ref.birthcity, birthcity = _ref$birthcity === void 0 ? '' : _ref$birthcity, _ref$birthcountry = _ref.birthcountry, birthcountry = _ref$birthcountry === void 0 ? '' : _ref$birthcountry, nationalities = _ref.nationalities;
                nationality = nationalities ? {
                  value: nationalities[0]
                } : null;
                this.setState({
                  identity: identity,
                  formData: {
                    birthcity: birthcity,
                    birthcountry: birthcountry,
                    nationality: this.nationalityOptions.find(function (x) {
                      return x.value === (nationality && nationality.value);
                    }) || defaultNationality
                  }
                });

              case 19:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[3, 12]]);
      }));

      function loadIdentityAndFillForm() {
        return _loadIdentityAndFillForm.apply(this, arguments);
      }

      return loadIdentityAndFillForm;
    }()
    /** Keeps state.formData up-to-date */

  }, {
    key: "handleChangeField",
    value: function handleChangeField(name, value) {
      var formData = _objectSpread({}, this.state.formData, _defineProperty({}, name, value));

      this.setState({
        formData: formData
      });
    }
    /**
     * Validates form and saves identity
     */

  }, {
    key: "handleSave",
    value: function () {
      var _handleSave = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(ev) {
        var _this$props2, client, onSaveSuccessful, t, _this$state, formData, identity, updatedIdentity;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this$props2 = this.props, client = _this$props2.client, onSaveSuccessful = _this$props2.onSaveSuccessful, t = _this$props2.t;
                _this$state = this.state, formData = _this$state.formData, identity = _this$state.identity;
                ev && ev.preventDefault();

                if (!(!formData.birthcity || !formData.birthcountry || !formData.nationality)) {
                  _context2.next = 8;
                  break;
                }

                this.setState({
                  validationError: true
                });
                return _context2.abrupt("return");

              case 8:
                this.setState({
                  validationError: false
                });

              case 9:
                this.setState({
                  saving: true
                });
                _context2.prev = 10;
                _context2.next = 13;
                return Object(ducks_personal_info_utils__WEBPACK_IMPORTED_MODULE_16__["saveIdentity"])(client, identity, {
                  birthcity: formData.birthcity,
                  birthcountry: formData.birthcountry,
                  nationalities: [formData.nationality.value]
                });

              case 13:
                updatedIdentity = _context2.sent;
                onSaveSuccessful && onSaveSuccessful(updatedIdentity);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__["default"].success(t('PersonalInfo.info-saved-successfully'));
                _context2.next = 18;
                return Object(ducks_personal_info_utils__WEBPACK_IMPORTED_MODULE_16__["updateBIUserConfig"])(client, updatedIdentity);

              case 18:
                Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__["trackEvent"])('sauver');

              case 19:
                _context2.prev = 19;
                this.setState({
                  saving: false
                });
                return _context2.finish(19);

              case 22:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[10,, 19, 22]]);
      }));

      function handleSave(_x) {
        return _handleSave.apply(this, arguments);
      }

      return handleSave;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props3 = this.props,
          t = _this$props3.t,
          onClose = _this$props3.onClose;
      var _this$state2 = this.state,
          saving = _this$state2.saving,
          formData = _this$state2.formData,
          validationError = _this$state2.validationError;

      if (!this.state.identity) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_11__["Dialog"], {
          open: true,
          onClose: onClose,
          title: t('PersonalInfo.modal-title'),
          content: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_14__["default"], null)
        });
      }

      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_11__["Dialog"], {
        open: true,
        onClose: onClose,
        title: t('PersonalInfo.modal-title'),
        content: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_10__["default"], {
          spacing: "xl"
        }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_10__["default"], {
          spacing: "s"
        }, validationError ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_17__["default"], {
          variant: "body1",
          className: "u-mb-1 u-error"
        }, t('PersonalInfo.validation-error')) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_9__["default"], {
          value: formData.birthcity,
          onChange: function onChange(ev) {
            return _this2.handleChangeField('birthcity', ev.target.value);
          },
          type: "text",
          name: "birthcity",
          label: t('PersonalInfo.birthcity'),
          placeholder: t('PersonalInfo.birthcity-placeholder'),
          className: "u-mh-0 u-mb-0 u-mt-0"
        }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_9__["default"], {
          value: formData.birthcountry,
          onChange: function onChange(ev) {
            return _this2.handleChangeField('birthcountry', ev.target.value);
          },
          type: "text",
          name: "birthcountry",
          label: t('PersonalInfo.birthcountry'),
          placeholder: t('PersonalInfo.birthcountry-placeholder'),
          className: "u-mh-0 u-mb-0 u-mt-0"
        }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_9__["default"], {
          onChange: function onChange(option) {
            return _this2.handleChangeField('nationality', option);
          },
          value: formData.nationality,
          type: "select",
          name: "nationality",
          options: this.nationalityOptions,
          label: t('PersonalInfo.nationality'),
          className: "u-mh-0 u-mb-0"
        })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_personal_info_Infos__WEBPACK_IMPORTED_MODULE_12__["default"], null)),
        actions: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
          extension: "full",
          busy: saving,
          disabled: saving,
          onClick: this.handleSave,
          label: t('PersonalInfo.save-cta'),
          variant: "primary"
        })
      });
    }
  }]);

  return PersonalInfoDialog;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);
PersonalInfoDialog.defaultProps = {
  // Can be overriden to specify other identity sources
  // The final
  sourceIdentitySelectors: [function (client) {
    return Object(ducks_personal_info_utils__WEBPACK_IMPORTED_MODULE_16__["getDefaultIdentitySelector"])(client);
  }]
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_6__["withClient"])(PersonalInfoDialog));

/***/ }),

/***/ "./src/ducks/personal-info/PersonalInfoGate.jsx":
/*!******************************************************!*\
  !*** ./src/ducks/personal-info/PersonalInfoGate.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./src/ducks/personal-info/utils.js");
/* harmony import */ var _PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PersonalInfoDialog */ "./src/ducks/personal-info/PersonalInfoDialog.jsx");









var hasQueryErrored = function hasQueryErrored(col) {
  return Boolean(col.lastError);
};

var PersonalInfoGate = function PersonalInfoGate(_ref) {
  var children = _ref.children;
  var personalInfoActive = cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.transfers.need-personal-information');
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  var query = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["identitiesQuery"])(Object(_utils__WEBPACK_IMPORTED_MODULE_6__["getDefaultIdentitySelector"])(client));
  var identityCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(query, {
    as: 'current-app-identity',
    fetchPolicy: function fetchPolicy(state) {
      return !state.lastError || Object(doctypes__WEBPACK_IMPORTED_MODULE_4__["older30s"])(state);
    }
  });
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useRouter"])();
  var handleClose = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    router.push('/balances');
  }, [router]);

  if (!Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["hasQueryBeenLoaded"])(identityCol) && !hasQueryErrored(identityCol)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_5__["default"], null);
  }

  var identity = identityCol.data && identityCol.data.length > 0 && identityCol.data[0];

  if (Object(_utils__WEBPACK_IMPORTED_MODULE_6__["isIdentitySufficientlyFilled"])(identity) || !personalInfoActive) {
    return children;
  } else {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, children, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_7__["default"], {
      onClose: handleClose
    }));
  }
};

/* harmony default export */ __webpack_exports__["default"] = (PersonalInfoGate);

/***/ }),

/***/ "./src/ducks/personal-info/index.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/personal-info/index.jsx ***!
  \*******************************************/
/*! exports provided: PersonalInfoDialog, PersonalInfoGate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_personal_info_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/personal-info/PersonalInfoDialog */ "../overrides/cozy-banks/src/ducks/personal-info/PersonalInfoDialog.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PersonalInfoDialog", function() { return ducks_personal_info_PersonalInfoDialog__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_personal_info_PersonalInfoGate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/personal-info/PersonalInfoGate */ "./src/ducks/personal-info/PersonalInfoGate.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PersonalInfoGate", function() { return ducks_personal_info_PersonalInfoGate__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/***/ }),

/***/ "./src/ducks/personal-info/nationalities.json":
/*!****************************************************!*\
  !*** ./src/ducks/personal-info/nationalities.json ***!
  \****************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, default */
/***/ (function(module) {

module.exports = [{"alpha_2_code":"AF","en_nationality":"Afghan","fr_nationality":"Afghane"},{"alpha_2_code":"AX","en_nationality":"Åland Island"},{"alpha_2_code":"AL","en_nationality":"Albanian","fr_nationality":"Albanaise"},{"alpha_2_code":"DZ","en_nationality":"Algerian","fr_nationality":"Algerienne"},{"alpha_2_code":"AS","en_nationality":"American Samoan"},{"alpha_2_code":"AD","en_nationality":"Andorran","fr_nationality":"Andorrane"},{"alpha_2_code":"AO","en_nationality":"Angolan","fr_nationality":"Angolaise"},{"alpha_2_code":"AI","en_nationality":"Anguillan"},{"alpha_2_code":"AQ","en_nationality":"Antarctic"},{"alpha_2_code":"AG","en_nationality":"Antiguan or Barbudan","fr_nationality":"Antiguaise et barbudienne"},{"alpha_2_code":"AR","en_nationality":"Argentine","fr_nationality":"Argentine"},{"alpha_2_code":"AM","en_nationality":"Armenian","fr_nationality":"Armenienne"},{"alpha_2_code":"AW","en_nationality":"Aruban"},{"alpha_2_code":"AU","en_nationality":"Australian","fr_nationality":"Australienne"},{"alpha_2_code":"AT","en_nationality":"Austrian","fr_nationality":"Autrichienne"},{"alpha_2_code":"AZ","en_nationality":"Azerbaijani, Azeri","fr_nationality":"Azerbaïdjanaise"},{"alpha_2_code":"BS","en_nationality":"Bahamian","fr_nationality":"Bahamienne"},{"alpha_2_code":"BH","en_nationality":"Bahraini","fr_nationality":"Bahreinienne"},{"alpha_2_code":"BD","en_nationality":"Bangladeshi","fr_nationality":"Bangladaise"},{"alpha_2_code":"BB","en_nationality":"Barbadian","fr_nationality":"Barbadienne"},{"alpha_2_code":"BY","en_nationality":"Belarusian","fr_nationality":"Bielorusse"},{"alpha_2_code":"BE","en_nationality":"Belgian","fr_nationality":"Belge"},{"alpha_2_code":"BZ","en_nationality":"Belizean","fr_nationality":"Belizienne"},{"alpha_2_code":"BJ","en_nationality":"Beninese, Beninois","fr_nationality":"Beninoise"},{"alpha_2_code":"BM","en_nationality":"Bermudian, Bermudan"},{"alpha_2_code":"BT","en_nationality":"Bhutanese","fr_nationality":"Bhoutanaise"},{"alpha_2_code":"BO","en_nationality":"Bolivian","fr_nationality":"Bolivienne"},{"alpha_2_code":"BQ","en_nationality":"Bonaire"},{"alpha_2_code":"BA","en_nationality":"Bosnian or Herzegovinian","fr_nationality":"Bosnienne"},{"alpha_2_code":"BW","en_nationality":"Motswana, Botswanan","fr_nationality":"Botswanaise"},{"alpha_2_code":"BV","en_nationality":"Bouvet Island"},{"alpha_2_code":"BR","en_nationality":"Brazilian","fr_nationality":"Bresilienne"},{"alpha_2_code":"IO","en_nationality":"BIOT"},{"alpha_2_code":"BN","en_nationality":"Bruneian","fr_nationality":"Bruneienne"},{"alpha_2_code":"BG","en_nationality":"Bulgarian","fr_nationality":"Bulgare"},{"alpha_2_code":"BF","en_nationality":"Burkinabé","fr_nationality":"Burkinabe"},{"alpha_2_code":"BI","en_nationality":"Burundian","fr_nationality":"Burundaise"},{"alpha_2_code":"CV","en_nationality":"Cabo Verdean","fr_nationality":"Cap-verdienne"},{"alpha_2_code":"KH","en_nationality":"Cambodian","fr_nationality":"Cambodgienne"},{"alpha_2_code":"CM","en_nationality":"Cameroonian","fr_nationality":"Camerounaise"},{"alpha_2_code":"CA","en_nationality":"Canadian","fr_nationality":"Canadienne"},{"alpha_2_code":"KY","en_nationality":"Caymanian"},{"alpha_2_code":"CF","en_nationality":"Central African","fr_nationality":"Centrafricaine"},{"alpha_2_code":"TD","en_nationality":"Chadian","fr_nationality":"Tchadienne"},{"alpha_2_code":"CL","en_nationality":"Chilean","fr_nationality":"Chilienne"},{"alpha_2_code":"CN","en_nationality":"Chinese","fr_nationality":"Chinoise"},{"alpha_2_code":"CX","en_nationality":"Christmas Island"},{"alpha_2_code":"CC","en_nationality":"Cocos Island"},{"alpha_2_code":"CO","en_nationality":"Colombian","fr_nationality":"Colombienne"},{"alpha_2_code":"KM","en_nationality":"Comoran, Comorian","fr_nationality":"Comorienne"},{"alpha_2_code":"CG","en_nationality":"Congolese","fr_nationality":"Congolaise"},{"alpha_2_code":"CD","en_nationality":"Congolese"},{"alpha_2_code":"CK","en_nationality":"Cook Island"},{"alpha_2_code":"CR","en_nationality":"Costa Rican","fr_nationality":"Costaricaine"},{"alpha_2_code":"CI","en_nationality":"Ivorian","fr_nationality":"Ivoirienne"},{"alpha_2_code":"HR","en_nationality":"Croatian","fr_nationality":"Croate"},{"alpha_2_code":"CU","en_nationality":"Cuban","fr_nationality":"Cubaine"},{"alpha_2_code":"CW","en_nationality":"Curaçaoan","fr_nationality":"Curaçaoane"},{"alpha_2_code":"CY","en_nationality":"Cypriot","fr_nationality":"Chypriote"},{"alpha_2_code":"CZ","en_nationality":"Czech","fr_nationality":"Tcheque"},{"alpha_2_code":"DK","en_nationality":"Danish","fr_nationality":"Danoise"},{"alpha_2_code":"DJ","en_nationality":"Djiboutian","fr_nationality":"Djiboutienne"},{"alpha_2_code":"DM","en_nationality":"Dominican","fr_nationality":"Dominiquaise"},{"alpha_2_code":"DO","en_nationality":"Dominican","fr_nationality":"Dominicaine"},{"alpha_2_code":"EC","en_nationality":"Ecuadorian","fr_nationality":"Equatorienne"},{"alpha_2_code":"EG","en_nationality":"Egyptian","fr_nationality":"Egyptienne"},{"alpha_2_code":"SV","en_nationality":"Salvadoran","fr_nationality":"Salvadorienne"},{"alpha_2_code":"GQ","en_nationality":"Equatorial Guinean, Equatoguinean","fr_nationality":"Equato-guineenne"},{"alpha_2_code":"ER","en_nationality":"Eritrean","fr_nationality":"Erythreenne"},{"alpha_2_code":"EE","en_nationality":"Estonian","fr_nationality":"Estonienne"},{"alpha_2_code":"ET","en_nationality":"Ethiopian","fr_nationality":"Ethiopienne"},{"alpha_2_code":"FK","en_nationality":"Falkland Island"},{"alpha_2_code":"FO","en_nationality":"Faroese"},{"alpha_2_code":"FJ","en_nationality":"Fijian","fr_nationality":"Fidjienne"},{"alpha_2_code":"FI","en_nationality":"Finnish","fr_nationality":"Finlandaise"},{"alpha_2_code":"FR","en_nationality":"French","fr_nationality":"Française"},{"alpha_2_code":"GF","en_nationality":"French Guianese"},{"alpha_2_code":"PF","en_nationality":"French Polynesian"},{"alpha_2_code":"TF","en_nationality":"French Southern Territories"},{"alpha_2_code":"GA","en_nationality":"Gabonese","fr_nationality":"Gabonaise"},{"alpha_2_code":"GM","en_nationality":"Gambian","fr_nationality":"Gambienne"},{"alpha_2_code":"GE","en_nationality":"Georgian","fr_nationality":"Georgienne"},{"alpha_2_code":"DE","en_nationality":"German","fr_nationality":"Allemande"},{"alpha_2_code":"GH","en_nationality":"Ghanaian","fr_nationality":"Ghaneenne"},{"alpha_2_code":"GI","en_nationality":"Gibraltar"},{"alpha_2_code":"GR","en_nationality":"Greek, Hellenic","fr_nationality":"Hellenique"},{"alpha_2_code":"GL","en_nationality":"Greenlandic"},{"alpha_2_code":"GD","en_nationality":"Grenadian","fr_nationality":"Grenadienne"},{"alpha_2_code":"GP","en_nationality":"Guadeloupe"},{"alpha_2_code":"GU","en_nationality":"Guamanian, Guambat"},{"alpha_2_code":"GT","en_nationality":"Guatemalan","fr_nationality":"Guatemalteque"},{"alpha_2_code":"GG","en_nationality":"Channel Island"},{"alpha_2_code":"GN","en_nationality":"Guinean","fr_nationality":"Guineenne"},{"alpha_2_code":"GW","en_nationality":"Bissau-Guinean","fr_nationality":"Bissau-Guinéenne"},{"alpha_2_code":"GY","en_nationality":"Guyanese","fr_nationality":"Guyanienne"},{"alpha_2_code":"HT","en_nationality":"Haitian","fr_nationality":"Haïtienne"},{"alpha_2_code":"HM","en_nationality":"Heard Island or McDonald Islands"},{"alpha_2_code":"VA","en_nationality":"Vatican","fr_nationality":"Vaticane"},{"alpha_2_code":"HN","en_nationality":"Honduran","fr_nationality":"Hondurienne"},{"alpha_2_code":"HK","en_nationality":"Hong Kong, Hong Kongese"},{"alpha_2_code":"HU","en_nationality":"Hungarian, Magyar","fr_nationality":"Hongroise"},{"alpha_2_code":"IS","en_nationality":"Icelandic","fr_nationality":"Islandaise"},{"alpha_2_code":"IN","en_nationality":"Indian","fr_nationality":"Indienne"},{"alpha_2_code":"ID","en_nationality":"Indonesian","fr_nationality":"Indonesienne"},{"alpha_2_code":"IR","en_nationality":"Iranian, Persian"},{"alpha_2_code":"IQ","en_nationality":"Iraqi","fr_nationality":"Irakienne"},{"alpha_2_code":"IE","en_nationality":"Irish","fr_nationality":"Irlandaise"},{"alpha_2_code":"IM","en_nationality":"Manx"},{"alpha_2_code":"IL","en_nationality":"Israeli","fr_nationality":"Israélienne"},{"alpha_2_code":"IT","en_nationality":"Italian","fr_nationality":"Italienne"},{"alpha_2_code":"JM","en_nationality":"Jamaican","fr_nationality":"Jamaïcaine"},{"alpha_2_code":"JP","en_nationality":"Japanese","fr_nationality":"Japonaise"},{"alpha_2_code":"JE","en_nationality":"Channel Island"},{"alpha_2_code":"JO","en_nationality":"Jordanian","fr_nationality":"Jordanienne"},{"alpha_2_code":"KZ","en_nationality":"Kazakhstani, Kazakh","fr_nationality":"Kazakhstanaise"},{"alpha_2_code":"KE","en_nationality":"Kenyan","fr_nationality":"Kenyane"},{"alpha_2_code":"KI","en_nationality":"I-Kiribati","fr_nationality":"Kiribatienne"},{"alpha_2_code":"KP","en_nationality":"North Korean","fr_nationality":"Nord-coréenne"},{"alpha_2_code":"KR","en_nationality":"South Korean","fr_nationality":"Sud-coréenne"},{"alpha_2_code":"KW","en_nationality":"Kuwaiti","fr_nationality":"Koweitienne"},{"alpha_2_code":"KG","en_nationality":"Kyrgyzstani, Kyrgyz, Kirgiz, Kirghiz","fr_nationality":"Kirghize"},{"alpha_2_code":"LA","en_nationality":"Lao, Laotian","fr_nationality":"Laotienne"},{"alpha_2_code":"LV","en_nationality":"Latvian","fr_nationality":"Lettone"},{"alpha_2_code":"LB","en_nationality":"Lebanese","fr_nationality":"Libanaise"},{"alpha_2_code":"LS","en_nationality":"Basotho","fr_nationality":"Lesothane"},{"alpha_2_code":"LR","en_nationality":"Liberian","fr_nationality":"Liberienne"},{"alpha_2_code":"LY","en_nationality":"Libyan","fr_nationality":"Libyenne"},{"alpha_2_code":"LI","en_nationality":"Liechtenstein","fr_nationality":"Liechtensteinoise"},{"alpha_2_code":"LT","en_nationality":"Lithuanian","fr_nationality":"Lituanienne"},{"alpha_2_code":"LU","en_nationality":"Luxembourg, Luxembourgish","fr_nationality":"Luxembourgeoise"},{"alpha_2_code":"MO","en_nationality":"Macanese, Chinese"},{"alpha_2_code":"MK","en_nationality":"Macedonian","fr_nationality":"Macedonienne"},{"alpha_2_code":"MG","en_nationality":"Malagasy","fr_nationality":"Malgache"},{"alpha_2_code":"MW","en_nationality":"Malawian","fr_nationality":"Malawienne"},{"alpha_2_code":"MY","en_nationality":"Malaysian","fr_nationality":"Malaisienne"},{"alpha_2_code":"MV","en_nationality":"Maldivian","fr_nationality":"Maldivienne"},{"alpha_2_code":"ML","en_nationality":"Malian, Malinese","fr_nationality":"Malienne"},{"alpha_2_code":"MT","en_nationality":"Maltese","fr_nationality":"Maltaise"},{"alpha_2_code":"MH","en_nationality":"Marshallese","fr_nationality":"Marshallaise"},{"alpha_2_code":"MQ","en_nationality":"Martiniquais, Martinican"},{"alpha_2_code":"MR","en_nationality":"Mauritanian","fr_nationality":"Mauritanienne"},{"alpha_2_code":"MU","en_nationality":"Mauritian","fr_nationality":"Mauricienne"},{"alpha_2_code":"YT","en_nationality":"Mahoran"},{"alpha_2_code":"MX","en_nationality":"Mexican","fr_nationality":"Mexicaine"},{"alpha_2_code":"FM","en_nationality":"Micronesian","fr_nationality":"Micronesienne"},{"alpha_2_code":"MD","en_nationality":"Moldovan","fr_nationality":"Moldave"},{"alpha_2_code":"MC","en_nationality":"Monégasque, Monacan","fr_nationality":"Monegasque"},{"alpha_2_code":"MN","en_nationality":"Mongolian","fr_nationality":"Mongole"},{"alpha_2_code":"ME","en_nationality":"Montenegrin","fr_nationality":"Montenegrine"},{"alpha_2_code":"MS","en_nationality":"Montserratian"},{"alpha_2_code":"MA","en_nationality":"Moroccan","fr_nationality":"Marocaine"},{"alpha_2_code":"MZ","en_nationality":"Mozambican","fr_nationality":"Mozambicaine"},{"alpha_2_code":"MM","en_nationality":"Burmese","fr_nationality":"Birmane"},{"alpha_2_code":"NA","en_nationality":"Namibian","fr_nationality":"Namibienne"},{"alpha_2_code":"NR","en_nationality":"Nauruan","fr_nationality":"Nauruane"},{"alpha_2_code":"NP","en_nationality":"Nepali, Nepalese","fr_nationality":"Nepalaise"},{"alpha_2_code":"NL","en_nationality":"Dutch, Netherlandic","fr_nationality":"Neerlandaise"},{"alpha_2_code":"NC","en_nationality":"New Caledonian"},{"alpha_2_code":"NZ","en_nationality":"New Zealand, NZ","fr_nationality":"Neo-zelandaise"},{"alpha_2_code":"NI","en_nationality":"Nicaraguan","fr_nationality":"Nicaraguayenne"},{"alpha_2_code":"NE","en_nationality":"Nigerien","fr_nationality":"Nigerienne"},{"alpha_2_code":"NG","en_nationality":"Nigerian","fr_nationality":"Nigeriane"},{"alpha_2_code":"NU","en_nationality":"Niuean"},{"alpha_2_code":"NF","en_nationality":"Norfolk Island"},{"alpha_2_code":"MP","en_nationality":"Northern Marianan"},{"alpha_2_code":"NO","en_nationality":"Norwegian","fr_nationality":"Norvegienne"},{"alpha_2_code":"OM","en_nationality":"Omani","fr_nationality":"Omanaise"},{"alpha_2_code":"PK","en_nationality":"Pakistani","fr_nationality":"Pakistanaise"},{"alpha_2_code":"PW","en_nationality":"Palauan","fr_nationality":"Palau"},{"alpha_2_code":"PS","en_nationality":"Palestinian","fr_nationality":"Palestinienne"},{"alpha_2_code":"PA","en_nationality":"Panamanian","fr_nationality":"Panameenne"},{"alpha_2_code":"PG","en_nationality":"Papua New Guinean, Papuan","fr_nationality":"Papouane-neoguineenne"},{"alpha_2_code":"PY","en_nationality":"Paraguayan","fr_nationality":"Paraguayenne"},{"alpha_2_code":"PE","en_nationality":"Peruvian","fr_nationality":"Peruvienne"},{"alpha_2_code":"PH","en_nationality":"Philippine, Filipino","fr_nationality":"Philippine"},{"alpha_2_code":"PN","en_nationality":"Pitcairn Island"},{"alpha_2_code":"PL","en_nationality":"Polish","fr_nationality":"Polonaise"},{"alpha_2_code":"PT","en_nationality":"Portuguese","fr_nationality":"Portugaise"},{"alpha_2_code":"PR","en_nationality":"Puerto Rican","fr_nationality":"Portoricaine"},{"alpha_2_code":"QA","en_nationality":"Qatari","fr_nationality":"Qatarienne"},{"alpha_2_code":"RE","en_nationality":"Réunionese, Réunionnais"},{"alpha_2_code":"RO","en_nationality":"Romanian","fr_nationality":"Roumaine"},{"alpha_2_code":"RU","en_nationality":"Russian","fr_nationality":"Russe"},{"alpha_2_code":"RW","en_nationality":"Rwandan","fr_nationality":"Rwandaise"},{"alpha_2_code":"BL","en_nationality":"Barthélemois"},{"alpha_2_code":"SH","en_nationality":"Saint Helenian"},{"alpha_2_code":"KN","en_nationality":"Kittitian or Nevisian","fr_nationality":"Kittitienne-et-nevicienne"},{"alpha_2_code":"LC","en_nationality":"Saint Lucian","fr_nationality":"Saint-Lucienne"},{"alpha_2_code":"MF","en_nationality":"Saint-Martinoise"},{"alpha_2_code":"PM","en_nationality":"Saint-Pierrais or Miquelonnais"},{"alpha_2_code":"VC","en_nationality":"Saint Vincentian, Vincentian","fr_nationality":"Saint-Vincentaise-et-Grenadine"},{"alpha_2_code":"WS","en_nationality":"Samoan","fr_nationality":"Samoane"},{"alpha_2_code":"SM","en_nationality":"Sammarinese","fr_nationality":"Saint-Marinaise"},{"alpha_2_code":"ST","en_nationality":"São Toméan","fr_nationality":"Santomeenne"},{"alpha_2_code":"SA","en_nationality":"Saudi, Saudi Arabian","fr_nationality":"Saoudienne"},{"alpha_2_code":"SN","en_nationality":"Senegalese","fr_nationality":"Senegalaise"},{"alpha_2_code":"RS","en_nationality":"Serbian","fr_nationality":"Serbe"},{"alpha_2_code":"SC","en_nationality":"Seychellois","fr_nationality":"Seychelloise"},{"alpha_2_code":"SL","en_nationality":"Sierra Leonean","fr_nationality":"Sierra-leonaise"},{"alpha_2_code":"SG","en_nationality":"Singaporean","fr_nationality":"Singapourienne"},{"alpha_2_code":"SX","en_nationality":"Sint Maarten","fr_nationality":"Saint-Martinoise"},{"alpha_2_code":"SK","en_nationality":"Slovak","fr_nationality":"Slovaque"},{"alpha_2_code":"SI","en_nationality":"Slovenian, Slovene","fr_nationality":"Slovene"},{"alpha_2_code":"SB","en_nationality":"Solomon Island","fr_nationality":"Salomonaise"},{"alpha_2_code":"SO","en_nationality":"Somali, Somalian","fr_nationality":"Somalienne"},{"alpha_2_code":"ZA","en_nationality":"South African","fr_nationality":"Sud-africaine"},{"alpha_2_code":"GS","en_nationality":"South Georgia or South Sandwich Islands"},{"alpha_2_code":"SS","en_nationality":"South Sudanese","fr_nationality":"Sud-Soudanaise"},{"alpha_2_code":"ES","en_nationality":"Spanish","fr_nationality":"Espagnole"},{"alpha_2_code":"LK","en_nationality":"Sri Lankan","fr_nationality":"Sri-lankaise"},{"alpha_2_code":"SD","en_nationality":"Sudanese","fr_nationality":"Soudanaise"},{"alpha_2_code":"SR","en_nationality":"Surinamese","fr_nationality":"Surinamaise"},{"alpha_2_code":"SJ","en_nationality":"Svalbard"},{"alpha_2_code":"SZ","en_nationality":"Swazi","fr_nationality":"Swazie"},{"alpha_2_code":"SE","en_nationality":"Swedish","fr_nationality":"Suédoise"},{"alpha_2_code":"CH","en_nationality":"Swiss","fr_nationality":"Suisse"},{"alpha_2_code":"SY","en_nationality":"Syrian","fr_nationality":"Syrienne"},{"alpha_2_code":"TW","en_nationality":"Chinese, Taiwanese","fr_nationality":"Taiwanaise"},{"alpha_2_code":"TJ","en_nationality":"Tajikistani","fr_nationality":"Tadjike"},{"alpha_2_code":"TZ","en_nationality":"Tanzanian","fr_nationality":"Tanzanienne"},{"alpha_2_code":"TH","en_nationality":"Thai","fr_nationality":"Thaïlandaise"},{"alpha_2_code":"TL","en_nationality":"Timorese","fr_nationality":"Est-timoraise"},{"alpha_2_code":"TG","en_nationality":"Togolese","fr_nationality":"Togolaise"},{"alpha_2_code":"TK","en_nationality":"Tokelauan"},{"alpha_2_code":"TO","en_nationality":"Tongan","fr_nationality":"Tonguienne"},{"alpha_2_code":"TT","en_nationality":"Trinidadian or Tobagonian","fr_nationality":"Trinidadienne"},{"alpha_2_code":"TN","en_nationality":"Tunisian","fr_nationality":"Tunisienne"},{"alpha_2_code":"TR","en_nationality":"Turkish","fr_nationality":"Turque"},{"alpha_2_code":"TM","en_nationality":"Turkmen","fr_nationality":"Turkmene"},{"alpha_2_code":"TC","en_nationality":"Turks and Caicos Island"},{"alpha_2_code":"TV","en_nationality":"Tuvaluan","fr_nationality":"Tuvaluane"},{"alpha_2_code":"UG","en_nationality":"Ugandan","fr_nationality":"Ougandaise"},{"alpha_2_code":"UA","en_nationality":"Ukrainian","fr_nationality":"Ukrainienne"},{"alpha_2_code":"AE","en_nationality":"Emirati, Emirian, Emiri","fr_nationality":"Emirienne"},{"alpha_2_code":"GB","en_nationality":"British, UK"},{"alpha_2_code":"UM","en_nationality":"American"},{"alpha_2_code":"US","en_nationality":"American","fr_nationality":"Americaine"},{"alpha_2_code":"UY","en_nationality":"Uruguayan","fr_nationality":"Uruguayenne"},{"alpha_2_code":"UZ","en_nationality":"Uzbekistani, Uzbek","fr_nationality":"Ouzbeke"},{"alpha_2_code":"VU","en_nationality":"Ni-Vanuatu, Vanuatuan","fr_nationality":"Vanuatuane"},{"alpha_2_code":"VE","en_nationality":"Venezuelan","fr_nationality":"Venezuelienne"},{"alpha_2_code":"VN","en_nationality":"Vietnamese","fr_nationality":"Vietnamienne"},{"alpha_2_code":"VG","en_nationality":"British Virgin Island"},{"alpha_2_code":"VI","en_nationality":"U.S. Virgin Island"},{"alpha_2_code":"WF","en_nationality":"Wallis and Futuna, Wallisian or Futunan"},{"alpha_2_code":"EH","en_nationality":"Sahrawi, Sahrawian, Sahraouian"},{"alpha_2_code":"YE","en_nationality":"Yemeni","fr_nationality":"Yemenite"},{"alpha_2_code":"ZM","en_nationality":"Zambian","fr_nationality":"Zambienne"},{"alpha_2_code":"ZW","en_nationality":"Zimbabwean","fr_nationality":"Zimbabweenne"}];

/***/ }),

/***/ "./src/ducks/personal-info/utils.js":
/*!******************************************!*\
  !*** ./src/ducks/personal-info/utils.js ***!
  \******************************************/
/*! exports provided: defaultIdentityIdentifier, identitiesQuery, requiredFieldChecks, isIdentitySufficientlyFilled, getDefaultIdentitySelector, loadIdentity, isCurrentAppIdentity, loadIdentities, saveIdentity, updateBIUserConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultIdentityIdentifier", function() { return defaultIdentityIdentifier; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "identitiesQuery", function() { return identitiesQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requiredFieldChecks", function() { return requiredFieldChecks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIdentitySufficientlyFilled", function() { return isIdentitySufficientlyFilled; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultIdentitySelector", function() { return getDefaultIdentitySelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadIdentity", function() { return loadIdentity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isCurrentAppIdentity", function() { return isCurrentAppIdentity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadIdentities", function() { return loadIdentities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveIdentity", function() { return saveIdentity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateBIUserConfig", function() { return updateBIUserConfig; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var utils_triggers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/triggers */ "./src/utils/triggers.js");
/* harmony import */ var cozy_harvest_lib_dist_services_budget_insight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-harvest-lib/dist/services/budget-insight */ "./node_modules/cozy-harvest-lib/dist/services/budget-insight.js");


function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}








var defaultIdentityIdentifier = 'regulatory-info';
var identitiesQuery = function identitiesQuery(selector) {
  return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["IDENTITIES_DOCTYPE"]).where(selector).indexFields([selector['cozyMetadata.createdByApp'] ? 'cozyMetadata.createdByApp' : null, selector.identifier ? 'identifier' : null].filter(Boolean));
};
var requiredFieldChecks = {
  'contact.birthcity': function contactBirthcity(x) {
    return x;
  },
  'contact.birthcountry': function contactBirthcountry(x) {
    return x;
  },
  'contact.nationalities': function contactNationalities(x) {
    return x && x.length > 0;
  }
};
/**
 * Runs on an identity to check if it is sufficiently filled for a transfer
 */

var isIdentitySufficientlyFilled = function isIdentitySufficientlyFilled(identity) {
  var fields = Object.entries(requiredFieldChecks).filter(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        fieldName = _ref2[0],
        fieldCheck = _ref2[1];

    return fieldCheck(lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(identity, fieldName));
  });
  return fields.length == Object.keys(requiredFieldChecks).length;
};
var getDefaultIdentitySelector = function getDefaultIdentitySelector(client) {
  return {
    'cozyMetadata.createdByApp': client.appMetadata.slug,
    identifier: defaultIdentityIdentifier
  };
};
var loadIdentity = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, selector) {
    var _yield$client$query, identities;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return client.query(identitiesQuery(selector));

          case 3:
            _yield$client$query = _context.sent;
            identities = _yield$client$query.data;
            return _context.abrupt("return", identities.length > 0 ? identities[0] : null);

          case 8:
            _context.prev = 8;
            _context.t0 = _context["catch"](0);
            return _context.abrupt("return", null);

          case 11:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 8]]);
  }));

  return function loadIdentity(_x, _x2) {
    return _ref3.apply(this, arguments);
  };
}();
var isCurrentAppIdentity = function isCurrentAppIdentity(client) {
  var currentAppSlug = client.appMetadata.slug;
  return function (identity) {
    return lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(identity, 'cozyMetadata.createdByApp') == currentAppSlug;
  };
};
/** Several several identities from several selectors */

var loadIdentities = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, selectors) {
    var identities;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return Promise.all(selectors.map(function (selector) {
              return loadIdentity(client, selector);
            }));

          case 2:
            identities = _context2.sent;
            return _context2.abrupt("return", identities);

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function loadIdentities(_x3, _x4) {
    return _ref4.apply(this, arguments);
  };
}();
/**
 * Saves personal info into app io.cozy.identities
 */

var saveIdentity = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, identity, contactAttrs) {
    var attributes, updatedIdentity, _yield$client$save, ret;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            attributes = {
              _type: doctypes__WEBPACK_IMPORTED_MODULE_5__["IDENTITIES_DOCTYPE"],
              contact: lodash_merge__WEBPACK_IMPORTED_MODULE_3___default()({}, identity.contact, contactAttrs),
              identifier: defaultIdentityIdentifier
            };
            updatedIdentity = _objectSpread({}, identity, attributes);
            _context3.next = 4;
            return client.save(updatedIdentity);

          case 4:
            _yield$client$save = _context3.sent;
            ret = _yield$client$save.data;
            return _context3.abrupt("return", ret);

          case 7:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function saveIdentity(_x5, _x6, _x7) {
    return _ref5.apply(this, arguments);
  };
}();
/**
 * Update BI user config with data from an io.cozy.identities
 * - Birth city
 * - Nationalities
 */

var updateBIUserConfig = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, identity) {
    var _yield$client$query2, allTriggers, triggers, konnector, i, trigger, konnId, respKonnector;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return client.query(doctypes__WEBPACK_IMPORTED_MODULE_5__["cronKonnectorTriggersConn"].query(), doctypes__WEBPACK_IMPORTED_MODULE_5__["cronKonnectorTriggersConn"]);

          case 2:
            _yield$client$query2 = _context4.sent;
            allTriggers = _yield$client$query2.data; // keep only successful bank triggers

            triggers = lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default()(allTriggers.filter(utils_triggers__WEBPACK_IMPORTED_MODULE_6__["isBankTrigger"]).filter(function (trigger) {
              return trigger.current_state.last_success;
            }), function (trigger) {
              return trigger.current_state.last_success;
            });
            i = triggers.length - 1;

          case 6:
            if (!(i >= 0 && !konnector)) {
              _context4.next = 16;
              break;
            } // last succesful trigger


            trigger = triggers[triggers.length - 1];
            konnId = trigger.message.konnector;
            _context4.next = 11;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["KONNECTOR_DOCTYPE"]).getById("io.cozy.konnectors/".concat(konnId)));

          case 11:
            respKonnector = _context4.sent;
            konnector = respKonnector.data.attributes;

          case 13:
            i--;
            _context4.next = 6;
            break;

          case 16:
            if (konnector) {
              _context4.next = 18;
              break;
            }

            throw new Error('Could not find suitable konnector to update BI user profile. Reconnect a banking konnector for BI user update to work.');

          case 18:
            _context4.next = 20;
            return Object(cozy_harvest_lib_dist_services_budget_insight__WEBPACK_IMPORTED_MODULE_7__["updateUserConfig"])({
              konnector: konnector,
              client: client,
              userConfig: identity.contact
            });

          case 20:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function updateBIUserConfig(_x8, _x9) {
    return _ref6.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/ducks/pin/PinAuth.jsx":
/*!***********************************!*\
  !*** ./src/ducks/pin/PinAuth.jsx ***!
  \***********************************/
/*! exports provided: GREEN_BACKGROUND_EFFECT_DURATION, RawPinAuth, DumbPinAuth, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GREEN_BACKGROUND_EFFECT_DURATION", function() { return GREEN_BACKGROUND_EFFECT_DURATION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RawPinAuth", function() { return RawPinAuth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbPinAuth", function() { return DumbPinAuth; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react//I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/withBreakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/withBreakpoints.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Left__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Left */ "./node_modules/cozy-ui/transpiled/react/Icons/Left.js");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/pin/styles.styl */ "./src/ducks/pin/styles.styl");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var ducks_pin_PinWrapper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/pin/PinWrapper */ "./src/ducks/pin/PinWrapper.jsx");
/* harmony import */ var ducks_pin_PinKeyboard__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/pin/PinKeyboard */ "./src/ducks/pin/PinKeyboard.jsx");
/* harmony import */ var ducks_pin_WithFingerprint__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/pin/WithFingerprint */ "./src/ducks/pin/WithFingerprint.jsx");
/* harmony import */ var ducks_pin_queries__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/pin/queries */ "./src/ducks/pin/queries.js");
/* harmony import */ var ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/pin/PinButton */ "./src/ducks/pin/PinButton.jsx");
/* harmony import */ var ducks_pin_constants__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/pin/constants */ "./src/ducks/pin/constants.js");
/* harmony import */ var assets_icons_icon_lock_open_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! assets/icons/icon-lock-open.svg */ "./src/assets/icons/icon-lock-open.svg");
/* harmony import */ var assets_icons_icon_fingerprint_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! assets/icons/icon-fingerprint.svg */ "./src/assets/icons/icon-fingerprint.svg");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


























var AttemptCount_ = function AttemptCount_(_ref) {
  var current = _ref.current,
      max = _ref.max;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['Pin__error']
  }, current > 0 ? t('Pin.attempt-count', {
    current: current,
    max: max
  }) : "\xA0");
};

var AttemptCount = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(AttemptCount_);

var DumbFingerprintParagraph = function DumbFingerprintParagraph(_ref2) {
  var t = _ref2.t,
      onSuccess = _ref2.onSuccess,
      onError = _ref2.onError,
      onCancel = _ref2.onCancel;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_WithFingerprint__WEBPACK_IMPORTED_MODULE_18__["default"], {
    autoLaunch: true,
    onSuccess: onSuccess,
    onError: onError,
    onCancel: onCancel
  }, function (method, promptFinger) {
    return method ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__["Media"], {
      style: {
        display: 'inline-flex'
      },
      onClick: promptFinger,
      className: "u-mv-half"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__["Img"], {
      className: "u-pr-half"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
      size: "1.5rem",
      icon: assets_icons_icon_fingerprint_svg__WEBPACK_IMPORTED_MODULE_23__["default"]
    })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_13__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, t('Pin.fingerprint-text')))) : null;
  });
};

var PinBackButton = function PinBackButton(_ref3) {
  var onClick = _ref3.onClick;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a.Pin__BackButton,
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Left__WEBPACK_IMPORTED_MODULE_14__["default"]
  }));
};

var GREEN_BACKGROUND_EFFECT_DURATION = 500;
var AUTH_METHODS = {
  biometric: 'biometric',
  keyboard: 'keyboard'
};
var AUTH_METHODS_OPTIONS = {
  keyboard: {
    successClassName: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['PinWrapper--success'],
    successDelay: GREEN_BACKGROUND_EFFECT_DURATION
  },
  biometric: {
    successClassName: null,
    successDelay: null
  }
};
var FingerprintParagraph = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(DumbFingerprintParagraph);
/**
 * Show pin keyboard and fingerprint button.
 * Automatically checks if it is the right pin while it is entered.
 *
 * - After <props.maxAttempt> bad attempts it logouts the user
 * - It automatically confirms when entered password's length is <props.maxLength>
 */

var PinAuth = /*#__PURE__*/function (_React$Component) {
  _inherits(PinAuth, _React$Component);

  function PinAuth(props) {
    var _this;

    _classCallCheck(this, PinAuth);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PinAuth).call(this, props));
    _this.handleBiometricSuccess = _this.handleBiometricSuccess.bind(_assertThisInitialized(_this));
    _this.handleBiometricError = _this.handleBiometricError.bind(_assertThisInitialized(_this));
    _this.handleBiometricCancel = _this.handleBiometricCancel.bind(_assertThisInitialized(_this));
    _this.handleEnteredPin = _this.handleEnteredPin.bind(_assertThisInitialized(_this));
    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_this));
    _this.handleBadAttempt = _this.handleBadAttempt.bind(_assertThisInitialized(_this));
    _this.state = {
      attempt: 0,
      pinValue: '',
      success: false,
      authMethod: null
    };
    _this.dots = react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();
    _this.clearPinWithAnimation = lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default()(_this.clearPinWithAnimation, 100, {
      leading: false,
      trailing: true
    });
    return _this;
  }

  _createClass(PinAuth, [{
    key: "handleBiometricSuccess",
    value: function handleBiometricSuccess() {
      this.handleAuthSuccess(AUTH_METHODS.biometric);
    }
  }, {
    key: "handleAuthSuccess",
    value: function handleAuthSuccess(authMethod) {
      var _this2 = this;

      if (!AUTH_METHODS_OPTIONS[authMethod]) {
        return;
      }

      this.setState({
        success: true,
        authMethod: authMethod
      });

      if (AUTH_METHODS_OPTIONS[authMethod].successDelay) {
        setTimeout(function () {
          _this2.props.onSuccess();
        }, AUTH_METHODS_OPTIONS[authMethod].successDelay);
      } else {
        this.props.onSuccess();
      }
    }
  }, {
    key: "handleBiometricError",
    value: function handleBiometricError() {
      var t = this.props.t;
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__["default"].info(t('Pin.bad-pin'));
    }
  }, {
    key: "handleBiometricCancel",
    value: function handleBiometricCancel() {// this.props.onCancel()
    }
  }, {
    key: "handleLogout",
    value: function handleLogout() {
      this.logout();
    }
  }, {
    key: "onMaxAttempt",
    value: function onMaxAttempt() {
      this.logout();
    }
  }, {
    key: "logout",
    value: function () {
      var _logout = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var client;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = this.props.client;
                _context.next = 3;
                return client.logout();

              case 3:
                window.location.reload();

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function logout() {
        return _logout.apply(this, arguments);
      }

      return logout;
    }()
  }, {
    key: "handleEnteredPin",
    value: function handleEnteredPin(pinValue) {
      if (this.cleaning) {
        return;
      }

      var _this$props = this.props,
          pinSetting = _this$props.pinSetting,
          t = _this$props.t;
      var pinDoc = pinSetting.data;

      if (!pinDoc) {
        cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__["default"].info(t('Pin.no-pin-configured'));
        return this.props.onSuccess();
      }

      this.setState({
        pinValue: pinValue
      });

      if (pinValue === pinDoc.pin) {
        this.handleAuthSuccess(AUTH_METHODS.keyboard);
        return;
      } else if (pinValue.length === this.props.maxLength) {
        var newAttempt = this.state.attempt + 1;

        if (newAttempt >= this.props.maxAttempt) {
          return this.onMaxAttempt();
        }

        return this.handleBadAttempt();
      }
    }
  }, {
    key: "handleBadAttempt",
    value: function () {
      var _handleBadAttempt = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                this.clearPinWithAnimation();
                this.setState({
                  attempt: this.state.attempt + 1
                });

              case 2:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function handleBadAttempt() {
        return _handleBadAttempt.apply(this, arguments);
      }

      return handleBadAttempt;
    }()
    /* Cleans PIN animatedly */

  }, {
    key: "clearPinWithAnimation",
    value: function clearPinWithAnimation() {
      var pinValue = this.state.pinValue;

      if (pinValue !== '') {
        this.cleaning = true;
        this.setState({
          pinValue: pinValue.substr(0, pinValue.length - 1)
        }, this.clearPinWithAnimation);
      } else {
        this.cleaning = false;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          t = _this$props2.t,
          largeEnough = _this$props2.breakpoints.largeEnough,
          pinSetting = _this$props2.pinSetting,
          onClickBackButton = _this$props2.onClickBackButton;
      var _this$state = this.state,
          attempt = _this$state.attempt,
          pinValue = _this$state.pinValue,
          success = _this$state.success,
          authMethod = _this$state.authMethod;
      var pinDoc = pinSetting.data;
      var topMessage = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, largeEnough ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
        icon: success ? assets_icons_icon_lock_open_svg__WEBPACK_IMPORTED_MODULE_22__["default"] : 'lock',
        size: "48px",
        className: "u-mb-half"
      }) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2", {
        className: "u-mv-half"
      }, this.props.message || t('Pin.please-enter-your-pin')), pinDoc && pinDoc.fingerprint ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FingerprintParagraph, {
        onSuccess: this.handleBiometricSuccess,
        onError: this.handleBiometricError,
        onCancel: this.handleBiometricCancel
      }) : null);
      var successClassName = AUTH_METHODS_OPTIONS[authMethod] && AUTH_METHODS_OPTIONS[authMethod].successClassName;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinWrapper__WEBPACK_IMPORTED_MODULE_16__["default"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(success && successClassName)
      }, onClickBackButton ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(PinBackButton, {
        onClick: onClickBackButton
      }) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinKeyboard__WEBPACK_IMPORTED_MODULE_17__["default"], {
        leftButton: this.props.leftButton !== undefined ? this.props.leftButton : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_20__["default"], {
          isText: true,
          onClick: this.handleLogout
        }, t('Pin.logout')),
        topMessage: topMessage,
        bottomMessage: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(AttemptCount, {
          max: this.props.maxAttempt,
          current: attempt
        }),
        shake: attempt,
        value: pinValue,
        onChange: this.handleEnteredPin
      }));
    }
  }]);

  return PinAuth;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

_defineProperty(PinAuth, "propTypes", {
  onSuccess: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
});

_defineProperty(PinAuth, "defaultProps", {
  maxAttempt: ducks_pin_constants__WEBPACK_IMPORTED_MODULE_21__["MAX_ATTEMPT"],
  maxLength: ducks_pin_constants__WEBPACK_IMPORTED_MODULE_21__["PIN_MAX_LENGTH"]
});

var RawPinAuth = PinAuth;
var DumbPinAuth = lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default()(Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_12__["default"])({
  largeEnough: [375] // iPhone 6+

}), cozy_client__WEBPACK_IMPORTED_MODULE_8__["withClient"], Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["connect"])(), Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])(), react_router__WEBPACK_IMPORTED_MODULE_7__["withRouter"])(PinAuth);
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__["queryConnect"])({
  pinSetting: ducks_pin_queries__WEBPACK_IMPORTED_MODULE_19__["pinSetting"]
})(DumbPinAuth));

/***/ }),

/***/ "./src/ducks/pin/PinButton.jsx":
/*!*************************************!*\
  !*** ./src/ducks/pin/PinButton.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/pin/styles.styl */ "./src/ducks/pin/styles.styl");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var shouldDisplayIOSVariant = Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__["isIOS"])();

var PinButton = function PinButton(_ref) {
  var _cx;

  var className = _ref.className,
      isText = _ref.isText,
      props = _objectWithoutProperties(_ref, ["className", "isText"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", _extends({}, props, {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Pin__button'], (_cx = {}, _defineProperty(_cx, ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Pin__button--text'], isText), _defineProperty(_cx, ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['Pin__button--ios'], shouldDisplayIOSVariant), _cx), className)
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (PinButton);

/***/ }),

/***/ "./src/ducks/pin/PinEditView.jsx":
/*!***************************************!*\
  !*** ./src/ducks/pin/PinEditView.jsx ***!
  \***************************************/
/*! exports provided: DumbPinEditView, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbPinEditView", function() { return DumbPinEditView; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var ducks_pin_PinKeyboard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/pin/PinKeyboard */ "./src/ducks/pin/PinKeyboard.jsx");
/* harmony import */ var ducks_pin_PinWrapper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/pin/PinWrapper */ "./src/ducks/pin/PinWrapper.jsx");
/* harmony import */ var ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/pin/PinButton */ "./src/ducks/pin/PinButton.jsx");
/* harmony import */ var ducks_pin_queries__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/pin/queries */ "./src/ducks/pin/queries.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/pin/styles.styl */ "./src/ducks/pin/styles.styl");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var ducks_pin_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/pin/constants */ "./src/ducks/pin/constants.js");
/* harmony import */ var assets_icons_icon_fingerprint_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/icons/icon-fingerprint.svg */ "./src/assets/icons/icon-fingerprint.svg");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



















var FullwidthButton = function FullwidthButton(props) {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_8__["default"], _extends({}, props, {
    className: "u-m-0 u-w-100"
  }));
};

var FingerprintChoice = function FingerprintChoice(_ref) {
  var onChoice = _ref.onChoice;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a.Pin__FingerprintChoice
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a.Pin__FingerprintChoice__top
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "u-mb-1-half",
    size: "72px",
    icon: assets_icons_icon_fingerprint_svg__WEBPACK_IMPORTED_MODULE_17__["default"]
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2", null, t('Pin.use-fingerprint.title')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, t('Pin.use-fingerprint.description'))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-flex-grow-0"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FullwidthButton, {
    theme: "secondary",
    label: t('Pin.use-fingerprint.yes'),
    onClick: onChoice.bind(null, true)
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FullwidthButton, {
    theme: "primary",
    label: t('Pin.use-fingerprint.no'),
    onClick: onChoice.bind(null, false)
  })));
};
/**
 * Handles pin edit
 *  - user has to repeat
 *  - show error if both pin are not the same
 *  - show spinner while pin in saving
 **/


var PinEditView = /*#__PURE__*/function (_React$Component) {
  _inherits(PinEditView, _React$Component);

  function PinEditView(props) {
    var _this;

    _classCallCheck(this, PinEditView);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PinEditView).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "state", {
      pin1: null,
      error: null,
      value: '',
      saving: false
    });

    _this.handleKeyboardChange = _this.handleKeyboardChange.bind(_assertThisInitialized(_this));
    _this.handleChooseFingerprint = _this.handleChooseFingerprint.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(PinEditView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener('back', this.props.onExit);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener('back', this.props.onExit);
    }
  }, {
    key: "savePin",
    value: function () {
      var _savePin = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(pinValue, fingerprint) {
        var client, doc;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = this.props.client;
                doc = this.props.pinSetting.data;
                _context.next = 4;
                return client.save(_objectSpread({
                  _type: doctypes__WEBPACK_IMPORTED_MODULE_14__["SETTINGS_DOCTYPE"],
                  _id: 'pin'
                }, doc, {
                  pin: pinValue,
                  fingerprint: fingerprint
                }));

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function savePin(_x, _x2) {
        return _savePin.apply(this, arguments);
      }

      return savePin;
    }()
  }, {
    key: "checkToSave",
    value: function () {
      var _checkToSave = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(pin) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (this.state.pin1) {
                  if (this.state.pin1 === pin) {
                    this.setState({
                      chosenPin: pin
                    });
                  } else {
                    this.setState({
                      error: 'different-pins',
                      pin1: null,
                      value: ''
                    });
                  }
                } else {
                  this.setState({
                    error: null,
                    pin1: pin,
                    value: ''
                  });
                }

              case 1:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function checkToSave(_x3) {
        return _checkToSave.apply(this, arguments);
      }

      return checkToSave;
    }()
  }, {
    key: "handleKeyboardChange",
    value: function handleKeyboardChange(value) {
      this.setState({
        value: value
      });

      if (value.length === ducks_pin_constants__WEBPACK_IMPORTED_MODULE_16__["PIN_MAX_LENGTH"]) {
        this.checkToSave(value);
      }
    }
  }, {
    key: "handleChooseFingerprint",
    value: function () {
      var _handleChooseFingerprint = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(fingerprintChoice) {
        var t;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                t = this.props.t;
                _context3.prev = 1;
                _context3.next = 4;
                return this.savePin(this.state.chosenPin, fingerprintChoice);

              case 4:
                _context3.next = 10;
                break;

              case 6:
                _context3.prev = 6;
                _context3.t0 = _context3["catch"](1);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error(t('Pin.error-save'));
                throw _context3.t0;

              case 10:
                _context3.prev = 10;
                this.setState({
                  saving: false
                });
                return _context3.finish(10);

              case 13:
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].success(t('Pin.successfully-changed'));
                this.props.onSaved();

              case 15:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[1, 6, 10, 13]]);
      }));

      function handleChooseFingerprint(_x4) {
        return _handleChooseFingerprint.apply(this, arguments);
      }

      return handleChooseFingerprint;
    }()
  }, {
    key: "render",
    value: function render() {
      var t = this.props.t;

      if (this.state.saving) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinWrapper__WEBPACK_IMPORTED_MODULE_11__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__["default"], null));
      }

      var topMessage = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2", null, !this.state.pin1 ? t('Pin.please-choose-pin') : t('Pin.please-repeat-pin'));
      var bottomMessage = this.state.error ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_15___default.a['Pin__error']
      }, t("Pin.errors.".concat(this.state.error))) : null;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinWrapper__WEBPACK_IMPORTED_MODULE_11__["default"], null, !this.state.chosenPin ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinKeyboard__WEBPACK_IMPORTED_MODULE_10__["default"], {
        leftButton: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isText: true,
          onClick: this.props.onExit
        }, t('General.back')),
        topMessage: topMessage,
        bottomMessage: bottomMessage,
        value: this.state.value,
        onChange: this.handleKeyboardChange
      }) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FingerprintChoice, {
        onChoice: this.handleChooseFingerprint
      }));
    }
  }]);

  return PinEditView;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

PinEditView.propTypes = {
  onSaved: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
var DumbPinEditView = PinEditView;
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_9__["withClient"], Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["queryConnect"])({
  pinSetting: ducks_pin_queries__WEBPACK_IMPORTED_MODULE_13__["pinSetting"]
}))(PinEditView));

/***/ }),

/***/ "./src/ducks/pin/PinGuard.jsx":
/*!************************************!*\
  !*** ./src/ducks/pin/PinGuard.jsx ***!
  \************************************/
/*! exports provided: DumbPinGuard, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbPinGuard", function() { return DumbPinGuard; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_pin_PinTimeout_debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/pin/PinTimeout.debug */ "./src/ducks/pin/PinTimeout.debug.jsx");
/* harmony import */ var ducks_pin_PinAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/pin/PinAuth */ "./src/ducks/pin/PinAuth.jsx");
/* harmony import */ var ducks_pin_queries__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/pin/queries */ "./src/ducks/pin/queries.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./storage */ "./src/ducks/pin/storage.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var isPinOn = function isPinOn(pinSetting) {
  return Boolean(pinSetting && pinSetting.pin);
};
/**
 * Wraps an App and display a Pin screen after a period
 * of inactivity (touch/click/resume events on document).
 */


var PinGuard = /*#__PURE__*/function (_React$Component) {
  _inherits(PinGuard, _React$Component);

  function PinGuard(props) {
    var _this;

    _classCallCheck(this, PinGuard);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PinGuard).call(this, props));
    _this.state = _this.getInitialState();
    _this.handleInteraction = _this.handleInteraction.bind(_assertThisInitialized(_this));
    _this.handlePinSuccess = _this.handlePinSuccess.bind(_assertThisInitialized(_this));
    _this.handleResume = _this.handleResume.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(PinGuard, [{
    key: "getInitialState",
    value: function getInitialState() {
      var savedLast = _storage__WEBPACK_IMPORTED_MODULE_5__["lastInteractionStorage"].load();
      var last = savedLast || Date.now();
      var cachedPinSetting = _storage__WEBPACK_IMPORTED_MODULE_5__["pinSettingStorage"].load();
      return {
        last: last,
        // timestamp of last interaction
        showPin: true,
        cachedPinSetting: cachedPinSetting,
        hasBeenShownOnce: false
      };
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener('touchstart', this.handleInteraction);
      document.addEventListener('click', this.handleInteraction);
      document.addEventListener('resume', this.handleResume);
      document.addEventListener('visibilitychange', this.handleResume);
      this.restartTimeout();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener('touchstart', this.handleInteraction);
      document.removeEventListener('click', this.handleInteraction);
      document.removeEventListener('resume', this.handleResume);
      document.removeEventListener('visibilitychange', this.handleResume);
      this.stopTimeout();
    }
  }, {
    key: "checkToUpdateLocalPinDoc",
    value: function checkToUpdateLocalPinDoc(prevPinSetting) {
      var pinSetting = this.props.pinSetting;

      if (pinSetting.data !== prevPinSetting.data) {
        _storage__WEBPACK_IMPORTED_MODULE_5__["pinSettingStorage"].save(pinSetting.data);
        this.restartTimeout();

        if (!isPinOn(prevPinSetting.data) && isPinOn(pinSetting.data)) {
          this.markInteraction();
        }
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      this.checkToUpdateLocalPinDoc(prevProps.pinSetting);
    }
  }, {
    key: "isTooLate",
    value: function isTooLate(lastInteractionTimestamp) {
      return Date.now() - this.props.timeout > lastInteractionTimestamp;
    }
  }, {
    key: "checkToShowPin",
    value: function checkToShowPin() {
      var now = Date.now();

      if (this.isTooLate(now)) {
        this.showPin();
      }
    }
  }, {
    key: "handleResume",
    value: function handleResume() {
      // setTimeout might not work properly when the application is paused, do this
      // check to be sure that after resume, we display the pin if it
      // is needed
      this.checkToShowPin();
      this.reloadSetting();
    }
  }, {
    key: "reloadSetting",
    value: function reloadSetting() {
      this.props.pinSetting.fetch();
    }
  }, {
    key: "showPin",
    value: function showPin() {
      this.setState({
        showPin: true
      });
    }
  }, {
    key: "hidePin",
    value: function hidePin() {
      var _this2 = this;

      this.setState({
        showPin: false,
        hasBeenShownOnce: true
      }, function () {
        _this2.handleInteraction();
      });
    }
  }, {
    key: "markInteraction",
    value: function markInteraction() {
      var now = Date.now();
      this.setState({
        last: now
      });
      _storage__WEBPACK_IMPORTED_MODULE_5__["lastInteractionStorage"].save(now);
    }
  }, {
    key: "handleInteraction",
    value: function handleInteraction() {
      if (this.state.showPin) {
        return;
      }

      this.markInteraction();
      this.restartTimeout();
    }
  }, {
    key: "startTimeout",
    value: function startTimeout() {
      var _this3 = this;

      this.timeout = setTimeout(function () {
        _this3.showPin();
      }, this.props.timeout);
    }
  }, {
    key: "stopTimeout",
    value: function stopTimeout() {
      clearTimeout(this.timeout);
    }
  }, {
    key: "restartTimeout",
    value: function restartTimeout() {
      this.stopTimeout();
      this.startTimeout();
    }
  }, {
    key: "handlePinSuccess",
    value: function handlePinSuccess() {
      this.restartTimeout();
      this.hidePin();
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          pinSetting = _this$props.pinSetting,
          children = _this$props.children,
          showTimeout = _this$props.showTimeout,
          timeout = _this$props.timeout;
      var _this$state = this.state,
          cachedPinSetting = _this$state.cachedPinSetting,
          showPin = _this$state.showPin,
          hasBeenShownOnce = _this$state.hasBeenShownOnce,
          last = _this$state.last;
      var pinDoc = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["isQueryLoading"])(pinSetting) ? cachedPinSetting : pinSetting.data;

      if (!pinDoc || !pinDoc.pin) {
        return children;
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, hasBeenShownOnce ? children : null, showPin ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinAuth__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSuccess: this.handlePinSuccess
      }) : null, showTimeout ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinTimeout_debug__WEBPACK_IMPORTED_MODULE_1__["default"], {
        start: last,
        duration: timeout
      }) : null);
    }
  }]);

  return PinGuard;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(PinGuard, "defaultProps", {
  timeout: 30 * 1000
});

var DumbPinGuard = PinGuard;
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["queryConnect"])({
  pinSetting: ducks_pin_queries__WEBPACK_IMPORTED_MODULE_3__["pinSetting"]
})(PinGuard));

/***/ }),

/***/ "./src/ducks/pin/PinKeyboard.jsx":
/*!***************************************!*\
  !*** ./src/ducks/pin/PinKeyboard.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_range__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/range */ "./node_modules/lodash/range.js");
/* harmony import */ var lodash_range__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/pin/styles.styl */ "./src/ducks/pin/styles.styl");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/pin/PinButton */ "./src/ducks/pin/PinButton.jsx");
/* harmony import */ var ducks_pin_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/pin/constants */ "./src/ducks/pin/constants.js");
/* harmony import */ var assets_icons_icon_back_text_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/icons/icon-back-text.svg */ "./src/assets/icons/icon-back-text.svg");
/* harmony import */ var utils_effects__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/effects */ "./src/utils/effects.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var invisible = {
  opacity: 0
};
var lettersToNumber = {
  2: 'abc',
  3: 'def',
  4: 'ghi',
  5: 'jkl',
  6: 'mno',
  7: 'prqs',
  8: 'tuv',
  9: 'wxyz'
};
/**
 * Shows a value as Dots
 */

var Dots = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function Dots(_ref, ref) {
  var max = _ref.max,
      value = _ref.value;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    ref: ref,
    className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['Pin__dots']
  }, lodash_range__WEBPACK_IMPORTED_MODULE_2___default()(1, max + 1).map(function (i) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['Pin__dot'],
      key: i
    }, i <= value.length ? '●' : '_');
  }));
});
Dots.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/**
 * Allows to type a value with an onScreen keyboard.
 * If `onChange` is defined, it acts as a controlled component,
 * otherwise, it keeps an internal state.
 */

var PinKeyboard = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(PinKeyboard, _React$PureComponent);

  function PinKeyboard(props) {
    var _this;

    _classCallCheck(this, PinKeyboard);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PinKeyboard).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "state", {
      value: ''
    });

    _this.handleConfirm = _this.handleConfirm.bind(_assertThisInitialized(_this));
    _this.handleClickNumber = _this.handleClickNumber.bind(_assertThisInitialized(_this));
    _this.handleRemoveCharacter = _this.handleRemoveCharacter.bind(_assertThisInitialized(_this));
    _this.dotsRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    return _this;
  }

  _createClass(PinKeyboard, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var shake = this.props.shake;

      if (shake !== prevProps.shake && shake) {
        this.shakeDots();
      }
    }
  }, {
    key: "handleConfirm",
    value: function handleConfirm() {
      this.props.onConfirm(this.getValue());
    }
  }, {
    key: "getValue",
    value: function getValue() {
      return this.props.value || this.state.value;
    }
  }, {
    key: "handleClickNumber",
    value: function handleClickNumber(n) {
      var value = this.getValue();
      var newVal = (value + n).substr(0, this.props.pinMaxLength);
      this.handleNewValue(newVal);
    }
  }, {
    key: "handleRemoveCharacter",
    value: function handleRemoveCharacter() {
      var newVal = this.state.value.substr(0, this.state.value.length - 1);
      this.handleNewValue(newVal);
    }
  }, {
    key: "handleNewValue",
    value: function handleNewValue(newVal) {
      if (this.props.onChange) {
        this.props.onChange(newVal);
      } else {
        this.setState({
          value: newVal
        });
      }
    }
  }, {
    key: "shakeDots",
    value: function shakeDots() {
      if (this.dotsRef.current) {
        Object(utils_effects__WEBPACK_IMPORTED_MODULE_8__["shake"])(this.dotsRef.current);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          topMessage = _this$props.topMessage,
          bottomMessage = _this$props.bottomMessage;
      var value = this.getValue();
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.PinKeyboard
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.PinKeyboard__top
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.PinKeyboard__topMessage
      }, topMessage), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dots, {
        ref: this.dotsRef,
        max: this.props.pinMaxLength,
        value: value
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.PinKeyboard__bottomMessage
      }, bottomMessage)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.PinKeyboard__bottom
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a.PinKeyboard__keyboard
      }, lodash_range__WEBPACK_IMPORTED_MODULE_2___default()(1, 10).map(function (n) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
          onClick: _this2.handleClickNumber.bind(null, n.toString()),
          key: n
        }, n, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['Pin__letters']
        }, lettersToNumber[n]));
      }), this.props.leftButton || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
        style: invisible
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
        onClick: this.handleClickNumber.bind(null, '0')
      }, "0"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
        isText: true,
        onClick: this.handleRemoveCharacter
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
        size: "3rem",
        icon: assets_icons_icon_back_text_svg__WEBPACK_IMPORTED_MODULE_7__["default"]
      })))));
    }
  }]);

  return PinKeyboard;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

PinKeyboard.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  topMessage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,
  bottomMessage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,
  dotsRef: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
};
PinKeyboard.defaultProps = {
  pinMaxLength: ducks_pin_constants__WEBPACK_IMPORTED_MODULE_6__["PIN_MAX_LENGTH"]
};
/* harmony default export */ __webpack_exports__["default"] = (PinKeyboard);

/***/ }),

/***/ "./src/ducks/pin/PinTimeout.debug.jsx":
/*!********************************************!*\
  !*** ./src/ducks/pin/PinTimeout.debug.jsx ***!
  \********************************************/
/*! exports provided: RedAffix, Timeout, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RedAffix", function() { return RedAffix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timeout", function() { return Timeout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


var redAffixStyle = {
  color: 'white',
  background: 'crimson',
  borderRadius: 4,
  position: 'fixed',
  top: 0,
  zIndex: 100000
};
var RedAffix = function RedAffix(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: redAffixStyle
  }, props.children);
};
var Timeout = /*#__PURE__*/function (_React$Component) {
  _inherits(Timeout, _React$Component);

  function Timeout(props) {
    var _this;

    _classCallCheck(this, Timeout);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Timeout).call(this, props));
    _this.update = _this.update.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(Timeout, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.interval = setInterval(this.update, 1000);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      clearInterval(this.interval);
    }
  }, {
    key: "update",
    value: function update() {
      this.setState({});
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          duration = _this$props.duration,
          start = _this$props.start;
      var delta = ((duration - (Date.now() - start)) / 1000).toFixed(0);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, delta, "s");
    }
  }]);

  return Timeout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var PinTimeout = function PinTimeout(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RedAffix, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Timeout, {
    start: props.start,
    duration: props.duration
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (PinTimeout);

/***/ }),

/***/ "./src/ducks/pin/PinWrapper.jsx":
/*!**************************************!*\
  !*** ./src/ducks/pin/PinWrapper.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var hooks_useLockedHTML__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hooks/useLockedHTML */ "./src/hooks/useLockedHTML.js");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/pin/styles.styl */ "./src/ducks/pin/styles.styl");
/* harmony import */ var ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Portal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Portal */ "./node_modules/cozy-ui/transpiled/react/Portal/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);







var PinWrapper = function PinWrapper(_ref) {
  var children = _ref.children,
      className = _ref.className;
  Object(hooks_useLockedHTML__WEBPACK_IMPORTED_MODULE_1__["default"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_3__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Portal__WEBPACK_IMPORTED_MODULE_4__["default"], {
    into: "body"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(ducks_pin_styles_styl__WEBPACK_IMPORTED_MODULE_2___default.a.PinWrapper, 'u-fx-from-bottom', className)
  }, children)));
};

/* harmony default export */ __webpack_exports__["default"] = (PinWrapper);

/***/ }),

/***/ "./src/ducks/pin/WithFingerprint.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/pin/WithFingerprint.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/* global Fingerprint */


var isUserCanceled = function isUserCanceled(err) {
  return err.includes('Canceled by user');
};

var isSystemCanceled = function isSystemCanceled(err) {
  return err.includes('UI canceled by system.');
};

var WithFingerprint = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(WithFingerprint, _React$PureComponent);

  function WithFingerprint(props) {
    var _this;

    _classCallCheck(this, WithFingerprint);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(WithFingerprint).call(this, props));
    _this.state = {};
    _this.setFingerprintWindowShowing = _this.setFingerprintWindowShowing.bind(_assertThisInitialized(_this));
    _this.handleSuccess = _this.handleSuccess.bind(_assertThisInitialized(_this));
    _this.handleError = _this.handleError.bind(_assertThisInitialized(_this));
    _this.handleResume = _this.handleResume.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(WithFingerprint, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.checkForFingerprintSystem();
      document.addEventListener('resume', this.handleResume);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener('resume', this.handleResume);
    }
  }, {
    key: "checkForFingerprintSystem",
    value: function checkForFingerprintSystem() {
      var _this2 = this;

      if (typeof Fingerprint === 'undefined') {
        return;
      }

      Fingerprint.isAvailable(function (method) {
        _this2.setState({
          method: method
        });

        if (_this2.props.autoLaunch) {
          _this2.setFingerprintWindowShowing();
        }
      }, function () {});
    }
  }, {
    key: "launchFingerprintWindow",
    value: function launchFingerprintWindow() {
      Fingerprint.show({
        clientId: 'cozy-banks',
        clientSecret: 'cozy-banks' //Only necessary for Android

      }, this.handleSuccess, this.handleError);
    }
  }, {
    key: "setFingerprintWindowShowing",
    value: function setFingerprintWindowShowing() {
      var _this3 = this;

      this.setState({
        showing: true
      }, function () {
        _this3.launchFingerprintWindow();
      });
    }
  }, {
    key: "handleResume",
    value: function handleResume() {
      // Since the touch id / faceid window disappears when app loses focus,
      // we have to use the showing state variable to manually re-show
      // the window
      this.checkToShowFingerprintWindow();
    }
  }, {
    key: "checkToShowFingerprintWindow",
    value: function checkToShowFingerprintWindow() {
      if (this.state.showing) {
        this.launchFingerprintWindow();
      }
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var _this4 = this;

      this.setState({
        showing: false
      }, function () {
        _this4.props.onSuccess();
      });
    }
  }, {
    key: "handleError",
    value: function handleError(err) {
      var _this5 = this;

      if (isUserCanceled(err)) {
        this.setState({
          showing: false
        }, function () {
          _this5.props.onCancel(err);
        });
      } else if (!isSystemCanceled(err)) {
        this.setState({
          showing: false
        }, function () {
          _this5.props.onError(err);
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children(this.state.method, this.setFingerprintWindowShowing);
    }
  }]);

  return WithFingerprint;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

/* harmony default export */ __webpack_exports__["default"] = (WithFingerprint);

/***/ }),

/***/ "./src/ducks/pin/constants.js":
/*!************************************!*\
  !*** ./src/ducks/pin/constants.js ***!
  \************************************/
/*! exports provided: PIN_MAX_LENGTH, MAX_ATTEMPT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PIN_MAX_LENGTH", function() { return PIN_MAX_LENGTH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_ATTEMPT", function() { return MAX_ATTEMPT; });
var PIN_MAX_LENGTH = 6;
var MAX_ATTEMPT = 5;

/***/ }),

/***/ "./src/ducks/pin/hoc.jsx":
/*!*******************************!*\
  !*** ./src/ducks/pin/hoc.jsx ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_pin_PinGuard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/pin/PinGuard */ "./src/ducks/pin/PinGuard.jsx");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);



var pinGuarded = function pinGuarded(pinGuardProps) {
  return function (Component) {
    var Wrapped = function Wrapped(props) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_pin_PinGuard__WEBPACK_IMPORTED_MODULE_0__["default"], pinGuardProps, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, props));
    };

    Wrapped.displayName = "PinGuarded(".concat(Component.displayName, ")");
    return Wrapped;
  };
};

/* harmony default export */ __webpack_exports__["default"] = (pinGuarded);

/***/ }),

/***/ "./src/ducks/pin/index.browser.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/pin/index.browser.jsx ***!
  \*****************************************/
/*! exports provided: pinGuarded */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pinGuarded", function() { return pinGuarded; });
/* harmony import */ var _hoc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hoc */ "./src/ducks/pin/hoc.jsx");
/* global __TARGET__ */


var desktopPinGuarded = function desktopPinGuarded() {
  return function (x) {
    return x;
  };
};

var pinGuarded =  false ? undefined : desktopPinGuarded;


/***/ }),

/***/ "./src/ducks/pin/plugin.js":
/*!*********************************!*\
  !*** ./src/ducks/pin/plugin.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage */ "./src/ducks/pin/storage.js");
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}


/**
 * Used to remove local storage on logout
 */

var PinPlugin = function PinPlugin(client) {
  _classCallCheck(this, PinPlugin);

  this.client = client;
  client.on('beforeLogout', function () {
    Object(_storage__WEBPACK_IMPORTED_MODULE_0__["clear"])();
  });
};

PinPlugin.pluginName = 'pin';
/* harmony default export */ __webpack_exports__["default"] = (PinPlugin);

/***/ }),

/***/ "./src/ducks/pin/queries.js":
/*!**********************************!*\
  !*** ./src/ducks/pin/queries.js ***!
  \**********************************/
/*! exports provided: pinIdentity, pinSetting, withCached */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pinIdentity", function() { return pinIdentity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pinSetting", function() { return pinSetting; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withCached", function() { return withCached; });
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/mapValues */ "./node_modules/lodash/mapValues.js");
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);




var pinIdentity = {
  doctype: doctypes__WEBPACK_IMPORTED_MODULE_0__["SETTINGS_DOCTYPE"],
  id: 'pin'
};
var pinSetting = {
  query: Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["Q"])(pinIdentity.doctype).getById(pinIdentity.id),
  fetchPolicy: cozy_client__WEBPACK_IMPORTED_MODULE_3___default.a.fetchPolicies.olderThan(30 * 1000),
  as: 'io.cozy.bank.settings/pin'
};
/**
 * Gives access to documents inside cozy-client's store
 * Useful when you know the necessary data has been fetched
 */

var withCached = function withCached(identityMapping) {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(function (state) {
    return lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default()(identityMapping, function (identity) {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["getDocumentFromState"])(state.cozy, identity.doctype, identity.id);
    });
  });
};

/***/ }),

/***/ "./src/ducks/pin/storage.js":
/*!**********************************!*\
  !*** ./src/ducks/pin/storage.js ***!
  \**********************************/
/*! exports provided: lastInteractionStorage, pinSettingStorage, clear */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lastInteractionStorage", function() { return lastInteractionStorage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pinSettingStorage", function() { return pinSettingStorage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clear", function() { return clear; });
var LAST_INTERACTION_KEY = 'cozy.pin-last-interaction';
var PIN_SETTING_KEY = 'cozy.pin-doc';

var storage = function storage(key, toString, fromString) {
  return {
    load: function load() {
      var saved = localStorage.getItem(key);

      if (!saved) {
        return saved;
      } else {
        try {
          return fromString(saved);
        } catch (e) {
          return null;
        }
      }
    },
    save: function save(val) {
      if (val === undefined) {
        return;
      }

      localStorage.setItem(key, toString(val));
    },
    remove: function remove() {
      localStorage.removeItem(key);
    }
  };
};

var lastInteractionStorage = storage(LAST_INTERACTION_KEY, function (x) {
  var n = parseInt(x);
  return isNaN(n) ? null : n;
}, function (n) {
  return n.toString();
});
var pinSettingStorage = storage(PIN_SETTING_KEY, JSON.stringify, JSON.parse);
var clear = function clear() {
  pinSettingStorage.remove();
  lastInteractionStorage.remove();
};

/***/ }),

/***/ "./src/ducks/pin/styles.styl":
/*!***********************************!*\
  !*** ./src/ducks/pin/styles.styl ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Pin__button":"Pin__button--6yJ_G","Pin__button--ios":"Pin__button--ios--3jIwo","Pin__button--text":"Pin__button--text--nSqeS","PinKeyboard":"PinKeyboard--iXKxc","PinKeyboard__top":"PinKeyboard__top--3x-OB","PinKeyboard__bottom":"PinKeyboard__bottom--1hCZZ","PinKeyboard__topMessage":"PinKeyboard__topMessage--3Tafo","PinKeyboard__keyboard":"PinKeyboard__keyboard--33riy","PinWrapper":"PinWrapper--2DEoN","PinWrapper--success":"PinWrapper--success--11nOc","Pin__dots":"Pin__dots--RUejx","Pin__dot":"Pin__dot--PFLL2","Pin__letters":"Pin__letters--2Z_QV","Pin__error":"Pin__error--rWyga","Pin__FingerprintChoice":"Pin__FingerprintChoice--3sm9w","Pin__FingerprintChoice__top":"Pin__FingerprintChoice__top--1rXu3","Pin__BackButton":"Pin__BackButton--2yAVX"};

/***/ }),

/***/ "./src/ducks/recurrence/Bundles.jsx":
/*!******************************************!*\
  !*** ./src/ducks/recurrence/Bundles.jsx ***!
  \******************************************/
/*! exports provided: BundleRow, BundlesTableHead, BundleMobileWrapper, BundlesTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BundleRow", function() { return BundleRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BundlesTableHead", function() { return BundlesTableHead; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BundleMobileWrapper", function() { return BundleMobileWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BundlesTable", function() { return BundlesTable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var date_fns_distance_in_words__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns/distance_in_words */ "./node_modules/date-fns/distance_in_words/index.js");
/* harmony import */ var date_fns_distance_in_words__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns_distance_in_words__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_CompositeRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/CompositeRow */ "./node_modules/cozy-ui/transpiled/react/CompositeRow/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var date_fns_locale_fr__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! date-fns/locale/fr */ "./node_modules/date-fns/locale/fr/index.js");
/* harmony import */ var date_fns_locale_fr__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(date_fns_locale_fr__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var date_fns_locale_en__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! date-fns/locale/en */ "./node_modules/date-fns/locale/en/index.js");
/* harmony import */ var date_fns_locale_en__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(date_fns_locale_en__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var date_fns_locale_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! date-fns/locale/es */ "./node_modules/date-fns/locale/es/index.js");
/* harmony import */ var date_fns_locale_es__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(date_fns_locale_es__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./styles.styl */ "./src/ducks/recurrence/styles.styl");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils */ "./src/ducks/recurrence/utils.js");

















var BundleFrequency = function BundleFrequency(_ref) {
  var bundle = _ref.bundle;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getFrequencyText"])(t, bundle));
};

var dateFnsLocales = {
  en: date_fns_locale_en__WEBPACK_IMPORTED_MODULE_12___default.a,
  fr: date_fns_locale_fr__WEBPACK_IMPORTED_MODULE_11___default.a,
  es: date_fns_locale_es__WEBPACK_IMPORTED_MODULE_13___default.a
};

var BundleDistance = function BundleDistance(_ref2) {
  var bundle = _ref2.bundle;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      lang = _useI18n2.lang;

  var d = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return date_fns_distance_in_words__WEBPACK_IMPORTED_MODULE_2___default()(Date.now(), bundle.latestDate, {
      addSuffix: true,
      locale: dateFnsLocales[lang] || dateFnsLocales.en
    });
  }, [bundle, lang]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, d);
};

var BundleMobileRow = function BundleMobileRow(_ref3) {
  var bundle = _ref3.bundle;
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_10__["useHistory"])();
  var catId = Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getCategories"])(bundle)[0];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CompositeRow__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: function onClick() {
      return history.push("/analysis/recurrence/".concat(bundle._id));
    },
    image: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_8__["default"], {
      categoryId: catId
    }),
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('u-pv-half u-ph-1 u-c-pointer', _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.BundleRow),
    key: bundle._id,
    primaryText: Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getLabel"])(bundle),
    secondaryText: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleDistance, {
      bundle: bundle
    }), " -", ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleFrequency, {
      bundle: bundle
    })),
    right: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleAmount, {
      bundle: bundle
    })
  });
};

var BundleAmount = function BundleAmount(_ref4) {
  var bundle = _ref4.bundle;
  var amount = Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getAmount"])(bundle);
  var currency = Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getCurrency"])(bundle);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_7__["default"], {
    total: amount,
    symbol: currency,
    coloredPositive: true
  });
};

var BundleDesktopRow = function BundleDesktopRow(_ref5) {
  var bundle = _ref5.bundle;
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_10__["useHistory"])();
  var catId = Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getCategories"])(bundle)[0];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
    className: "u-c-pointer",
    onClick: function onClick() {
      return history.push("analysis/recurrence/".concat(bundle._id));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeLabel
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_6__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_6__["Img"], {
    className: "u-mr-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_8__["default"], {
    categoryId: catId
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_6__["Bd"], null, Object(_utils__WEBPACK_IMPORTED_MODULE_15__["getLabel"])(bundle)))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_9__["TdSecondary"], {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeLastOccurence
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleDistance, {
    bundle: bundle
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_9__["TdSecondary"], {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeFrequency
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleFrequency, {
    bundle: bundle
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_9__["TdSecondary"], {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeAmount
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleAmount, {
    bundle: bundle
  })));
};

var BundleRow = function BundleRow(_ref6) {
  var bundle = _ref6.bundle;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleMobileRow, {
    bundle: bundle
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundleDesktopRow, {
    bundle: bundle
  });
};

var BundlesTableHead = function BundlesTableHead() {
  var _useI18n3 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n3.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_9__["default"], {
    color: "primary"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeLabel
  }, t('Recurrence.table.label')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeLastOccurence
  }, t('Recurrence.table.last-occurence')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeFrequency
  }, t('Recurrence.table.frequency')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ColumnSizeAmount
  }, t('Recurrence.table.amount')))));
};

var BundleMobileWrapper = function BundleMobileWrapper(_ref7) {
  var children = _ref7.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a.RecurrencesMobileContent
  }, children);
};

var BundlesTable = function BundlesTable(_ref8) {
  var children = _ref8.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, children));
};



/***/ }),

/***/ "./src/ducks/recurrence/DateSlider.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/recurrence/DateSlider.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns/add_days */ "./node_modules/date-fns/add_days/index.js");
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(date_fns_add_days__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/recurrence/constants */ "./src/ducks/recurrence/constants.js");



var sliderStyle = {
  width: '500px'
};

var DateSlider = function DateSlider(_ref) {
  var date = _ref.date,
      onChange = _ref.onChange;
  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    var deltaDays = parseInt(ev.target.value, 10);
    onChange(date_fns_add_days__WEBPACK_IMPORTED_MODULE_1___default()(Date.now(), deltaDays).toISOString().slice(0, 10));
  }, [onChange]);
  var value = Math.floor((new Date(date) - Date.now()) / ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_2__["ONE_DAY"]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, date, ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "range",
    value: value,
    min: -780,
    max: 0,
    step: 1,
    onChange: handleChange,
    style: sliderStyle
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (DateSlider);

/***/ }),

/***/ "./src/ducks/recurrence/DebugRecurrencePage.jsx":
/*!******************************************************!*\
  !*** ./src/ducks/recurrence/DebugRecurrencePage.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_setWith__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/setWith */ "./node_modules/lodash/setWith.js");
/* harmony import */ var lodash_setWith__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_setWith__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_clone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/clone */ "./node_modules/lodash/clone.js");
/* harmony import */ var lodash_clone__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_clone__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Card */ "./node_modules/cozy-ui/transpiled/react/Card/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var components_Loading_Loading__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Loading/Loading */ "../overrides/cozy-banks/src/components/Loading/Loading.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_categories_tree__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/categories/tree */ "./src/ducks/categories/tree.json");
var ducks_categories_tree__WEBPACK_IMPORTED_MODULE_13___namespace = /*#__PURE__*/__webpack_require__.t(/*! ducks/categories/tree */ "./src/ducks/categories/tree.json", 1);
/* harmony import */ var _config_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./config.json */ "./src/ducks/recurrence/config.json");
var _config_json__WEBPACK_IMPORTED_MODULE_14___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./config.json */ "./src/ducks/recurrence/config.json", 1);
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./api */ "./src/ducks/recurrence/api.js");
/* harmony import */ var _RulesDetails__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./RulesDetails */ "./src/ducks/recurrence/RulesDetails.jsx");
/* harmony import */ var _DateSlider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DateSlider */ "./src/ducks/recurrence/DateSlider.jsx");
/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./rules */ "./src/ducks/recurrence/rules.js");
/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./search */ "./src/ducks/recurrence/search.js");
/* harmony import */ var _useStickyState__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./useStickyState */ "./src/ducks/recurrence/useStickyState.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/transactions/getCategoryId */ "./src/ducks/transactions/getCategoryId.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

























var immutableSet = function immutableSet(object, path, value) {
  return lodash_setWith__WEBPACK_IMPORTED_MODULE_2___default()(lodash_clone__WEBPACK_IMPORTED_MODULE_4___default()(object), path, value, lodash_clone__WEBPACK_IMPORTED_MODULE_4___default.a);
};

var RuleInput = function RuleInput(_ref) {
  var ruleName = _ref.ruleName,
      config = _ref.config,
      onChange = _ref.onChange;

  var handleChangeActive = function handleChangeActive() {
    onChange("".concat(ruleName, ".active"), !config.active);
  };

  var handleChangeOptions = function handleChangeOptions(ev) {
    var parsed = parseInt(ev.target.value, 10);

    if (isNaN(parsed)) {
      return;
    }

    onChange("".concat(ruleName, ".options"), parsed);
  };

  var ruleInfo = _rules__WEBPACK_IMPORTED_MODULE_18__["rulesPerName"][ruleName];

  if (!ruleInfo) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    key: ruleName,
    className: "u-m-half u-miw-6"
  }, ruleName, " (", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("em", null, ruleInfo.type, " - ", ruleInfo.stage), ")", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_23__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, ruleInfo.description), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
    type: "checkbox",
    onChange: handleChangeActive,
    checked: config.active
  }), config.options !== undefined ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
    type: "text",
    onChange: handleChangeOptions,
    value: config.options
  }) : null);
};

var Rules = function Rules(_ref2) {
  var rulesConfig = _ref2.rulesConfig,
      onChangeConfig = _ref2.onChangeConfig,
      onResetConfig = _ref2.onResetConfig;
  var handleChangeRule = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (path, value) {
    var updatedConfig = immutableSet(rulesConfig, path, value);
    onChangeConfig(updatedConfig);
  }, [rulesConfig, onChangeConfig]);
  var entries = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(Object.entries(rulesConfig), function (_ref3) {
      var _ref4 = _slicedToArray(_ref3, 1),
          ruleName = _ref4[0];

      return _rules__WEBPACK_IMPORTED_MODULE_18__["rulesPerName"][ruleName].stage;
    });
  }, [rulesConfig]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "u-mv-1"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_RulesDetails__WEBPACK_IMPORTED_MODULE_16__["default"], null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-flex u-flex-wrap"
  }, entries.map(function (_ref5) {
    var _ref6 = _slicedToArray(_ref5, 2),
        ruleName = _ref6[0],
        config = _ref6[1];

    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(RuleInput, {
      key: ruleName,
      ruleName: ruleName,
      config: config,
      onChange: handleChangeRule
    });
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
    onClick: onResetConfig
  }, "Reset")));
};

var hash = function hash(str) {
  var hash = 0,
      i,
      chr;

  for (i = 0; i < str.length; i++) {
    chr = str.charCodeAt(i);
    hash = (hash << 5) - hash + chr;
    hash |= 0; // Convert to 32bit integer
  }

  return hash;
};

var palette = ['#71c554', '#d67cd3', '#c5d65b', '#8e87e7', '#d3a336', '#6ba5de', '#ec5f62', '#69cc8e', '#e2779d', '#5ccec4', '#de8251', '#bab16c'];

var getColor = function getColor(bundle) {
  var h = Math.abs(hash(Object(_api__WEBPACK_IMPORTED_MODULE_15__["getAutomaticLabelFromBundle"])(bundle)));
  return palette[h % (palette.length - 1)];
};

var CategoryNames = function CategoryNames(_ref7) {
  var bundle = _ref7.bundle;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, bundle.categoryIds.map(function (catId, i) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      key: i,
      className: "u-flex u-flex-align-center"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_21__["default"], {
      className: "u-ml-0 u-mr-half",
      size: 16,
      style: {
        width: '1rem'
      },
      categoryId: catId
    }), ' ', ducks_categories_tree__WEBPACK_IMPORTED_MODULE_13__[catId]);
  }));
};

var newStyle = {
  color: 'var(--malachite)'
};

var BundleStats = function BundleStats(_ref8) {
  var bundle = _ref8.bundle;
  var deltas = bundle.stats ? bundle.stats.deltas : null;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, "mean frequency: ", deltas.mean.toFixed(0), " days", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "median frequency: ", deltas.median ? deltas.median.toFixed(0) : null, " days", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "sigma: ", deltas.sigma.toFixed(2), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "mad: ", deltas.mad.toFixed(2));
};

var RecurrenceBundle = function RecurrenceBundle(_ref9) {
  var bundle = _ref9.bundle;
  var jsonData = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return JSON.stringify(bundle.ops.map(function (o) {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["dehydrate"])(o);
    }));
  }, [bundle]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "u-m-half",
    style: {
      border: "2px solid ".concat(getColor(bundle))
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_23__["default"], {
    variant: "h5"
  }, Object(_api__WEBPACK_IMPORTED_MODULE_15__["getAutomaticLabelFromBundle"])(bundle)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
    type: "text",
    value: jsonData
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, "categories: ", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CategoryNames, {
    bundle: bundle
  }), "amounts: ", bundle.amounts, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "#operations: ", bundle.ops.length, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), bundle.stats ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(BundleStats, {
    bundle: bundle
  }) : null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("table", {
    style: {
      fontSize: 'small'
    }
  }, lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(bundle.ops, function (x) {
    return x.date;
  }).map(function (x) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", {
      key: x._id,
      style: x.new ? newStyle : null
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_21__["default"], {
      categoryId: Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_22__["default"])(x),
      size: 8
    })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, x.label), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, x.date.slice(0, 10)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", null, x.amount));
  })));
};

var makeTextFilter = function makeTextFilter(searchStr, accessor) {
  var lw = searchStr.toLowerCase();
  return function (item) {
    if (lw === '') {
      return true;
    } else {
      var itemText = accessor(item).toLowerCase();
      return itemText.includes(lw);
    }
  };
};

var DebugRecurrencePage = function DebugRecurrencePage() {
  var transactionCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_12__["transactionsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_12__["transactionsConn"]);
  var transactions = transactionCol.data;
  var loading = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["isQueryLoading"])(transactionCol) && transactions && transactions.length === 0;

  var _useStickyState = Object(_useStickyState__WEBPACK_IMPORTED_MODULE_20__["default"])(_config_json__WEBPACK_IMPORTED_MODULE_14__, 'banks.recurrence-config'),
      _useStickyState2 = _slicedToArray(_useStickyState, 3),
      rulesConfig = _useStickyState2[0],
      setRulesConfig = _useStickyState2[1],
      clearSavedConfig = _useStickyState2[2];

  var handleResetConfig = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    clearSavedConfig();
    setRulesConfig(_config_json__WEBPACK_IMPORTED_MODULE_14__);
  }, [clearSavedConfig, setRulesConfig]);
  var start = Date.now();

  var handleChangeRules = function handleChangeRules(newRules) {
    return setRulesConfig(newRules);
  };

  var rules = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return Object(_rules__WEBPACK_IMPORTED_MODULE_18__["getRulesFromConfig"])(rulesConfig);
  }, [rulesConfig]);

  var _useStickyState3 = Object(_useStickyState__WEBPACK_IMPORTED_MODULE_20__["default"])('2020-03-01', 'banks.recurrence.bundleDate'),
      _useStickyState4 = _slicedToArray(_useStickyState3, 2),
      bundlesDate = _useStickyState4[0],
      setBundlesDate = _useStickyState4[1];

  var _useStickyState5 = Object(_useStickyState__WEBPACK_IMPORTED_MODULE_20__["default"])('2020-04-01', 'banks.recurrence.currentDate'),
      _useStickyState6 = _slicedToArray(_useStickyState5, 2),
      currentDate = _useStickyState6[0],
      setCurrentDate = _useStickyState6[1];

  var _useStickyState7 = Object(_useStickyState__WEBPACK_IMPORTED_MODULE_20__["default"])(false, 'banks.recurrence.locked'),
      _useStickyState8 = _slicedToArray(_useStickyState7, 2),
      isLocked = _useStickyState8[0],
      setLocked = _useStickyState8[1];

  var bundlesTransactions = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return transactions ? transactions.filter(function (x) {
      return bundlesDate == null ? true : x.date < bundlesDate;
    }) : [];
  }, [transactions, bundlesDate]);
  var bundles = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return Object(_search__WEBPACK_IMPORTED_MODULE_19__["findRecurrences"])(bundlesTransactions, rules);
  }, [bundlesTransactions, rules]);
  var newTransactions = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return transactions ? transactions.filter(function (x) {
      return x.date < currentDate && x.date >= bundlesDate;
    }).map(function (x) {
      return _objectSpread({}, x, {
        new: true
      });
    }) : [];
  }, [transactions, currentDate, bundlesDate]);

  var _useStickyState9 = Object(_useStickyState__WEBPACK_IMPORTED_MODULE_20__["default"])('', 'banks.recurrence.bundleFilter'),
      _useStickyState10 = _slicedToArray(_useStickyState9, 2),
      bundleFilter = _useStickyState10[0],
      setBundleFilter = _useStickyState10[1];

  var updatedBundles = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var curBundles = bundles; // To mimic as much as possible the entry of new operations per day
    // (a connector is run per day), we update bundles day per day

    var byDay = lodash_groupBy__WEBPACK_IMPORTED_MODULE_5___default()(newTransactions, function (x) {
      return x.date.slice(0, 10);
    });
    var days = lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(Object.keys(byDay), function (x) {
      return x;
    });
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = days[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var day = _step.value;
        var newTransactionsOfDay = byDay[day];
        curBundles = Object(_search__WEBPACK_IMPORTED_MODULE_19__["updateRecurrences"])(bundles, newTransactionsOfDay, rules);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return curBundles;
  }, [bundles, newTransactions, rules]);
  var finalBundles = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var filteredBundles = updatedBundles.filter(makeTextFilter(bundleFilter, function (bundle) {
      return bundle.ops[0].label;
    }));
    var sortedBundles = lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(filteredBundles, function (bundle) {
      return bundle.ops[0].label;
    });
    return sortedBundles;
  }, [updatedBundles, bundleFilter]);
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useClient"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(),
      _useState2 = _slicedToArray(_useState, 2),
      savingBundles = _useState2[0],
      setSavingBundles = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(),
      _useState4 = _slicedToArray(_useState3, 2),
      resettingBundles = _useState4[0],
      setResettingBundles = _useState4[1];

  var handleSaveBundles = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            setSavingBundles(true);
            _context.prev = 1;
            _context.next = 4;
            return Object(_api__WEBPACK_IMPORTED_MODULE_15__["saveHydratedBundles"])(client, finalBundles);

          case 4:
            _context.next = 9;
            break;

          case 6:
            _context.prev = 6;
            _context.t0 = _context["catch"](1);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_8__["default"].error(_context.t0.message);

          case 9:
            _context.prev = 9;
            setSavingBundles(false);
            return _context.finish(9);

          case 12:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[1, 6, 9, 12]]);
  })), [finalBundles, client]);
  var handleResetBundles = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            setResettingBundles(true);
            _context2.prev = 1;
            _context2.next = 4;
            return Object(_api__WEBPACK_IMPORTED_MODULE_15__["resetBundles"])(client);

          case 4:
            _context2.next = 9;
            break;

          case 6:
            _context2.prev = 6;
            _context2.t0 = _context2["catch"](1);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_8__["default"].error(_context2.t0.message);

          case 9:
            _context2.prev = 9;
            setResettingBundles(false);
            return _context2.finish(9);

          case 12:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[1, 6, 9, 12]]);
  })), [client]);
  var handleChangeBundleFilter = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (ev) {
    setBundleFilter(ev.target.value);
  }, [setBundleFilter]);
  var handleSetCurrentDate = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (newCurrentDate) {
    if (isLocked) {
      var cd = new Date(currentDate);
      var bd = new Date(bundlesDate);
      var ncd = new Date(newCurrentDate);
      var diff = cd - bd;
      var nbd = new Date(ncd - diff);
      setBundlesDate(nbd.toISOString().slice(0, 10));
    }

    setCurrentDate(newCurrentDate);
  }, [setCurrentDate, setBundlesDate, currentDate, bundlesDate, isLocked]);
  var handleSetBundleDate = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (newBundleDate) {
    if (isLocked) {
      var cd = new Date(currentDate);
      var bd = new Date(bundlesDate);
      var nbd = new Date(newBundleDate);
      var diff = cd - bd;
      var ncd = new Date(+nbd + diff);
      setCurrentDate(ncd.toISOString().slice(0, 10));
    }

    setBundlesDate(newBundleDate);
  }, [setCurrentDate, setBundlesDate, currentDate, bundlesDate, isLocked]);
  var handleSetLocked = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    setLocked(!isLocked);
  }, [isLocked, setLocked]);
  var end = Date.now();
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: "u-ov-scroll"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Rules, {
    rulesConfig: rulesConfig,
    onResetConfig: handleResetConfig,
    onChangeConfig: handleChangeRules
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: handleSaveBundles,
    label: "save bundles",
    busy: savingBundles
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: handleResetBundles,
    label: "reset bundles",
    busy: resettingBundles
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, "transactions: ", transactions ? transactions.length : 0, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "bundleTransactions: ", bundlesTransactions.length, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "newTransactions: ", newTransactions.length, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "elapsed time: ", (end - start) / 1000, "s", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "bundle date:", ' ', react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_DateSlider__WEBPACK_IMPORTED_MODULE_17__["default"], {
    date: bundlesDate,
    onChange: handleSetBundleDate
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "current date:", ' ', react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_DateSlider__WEBPACK_IMPORTED_MODULE_17__["default"], {
    date: currentDate,
    onChange: handleSetCurrentDate
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "isLocked:", ' ', react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
    type: "checkbox",
    checked: isLocked,
    onChange: handleSetLocked
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "bundle filter:", ' '), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
    type: "text",
    value: bundleFilter,
    onChange: handleChangeBundleFilter
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), loading ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading_Loading__WEBPACK_IMPORTED_MODULE_10__["default"], null) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-flex",
    style: {
      flexWrap: 'wrap'
    }
  }, finalBundles.map(function (bundle, i) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(RecurrenceBundle, {
      key: i,
      bundle: bundle
    });
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (DebugRecurrencePage);

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/ActionItems/DeleteActionItem.jsx":
/*!******************************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/ActionItems/DeleteActionItem.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/ActionMenu */ "./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Trash */ "./node_modules/cozy-ui/transpiled/react/Icons/Trash.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");







var DeleteActionItem = function DeleteActionItem(_ref) {
  var onClick = _ref.onClick;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["ActionMenuItem"], {
    onClick: onClick,
    left: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_4__["default"]
    })
  }, t('Recurrence.action-menu.delete'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, t('Recurrence.action-menu.delete-caption')));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(DeleteActionItem));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/ActionItems/FinishedActionItem.jsx":
/*!********************************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/ActionItems/FinishedActionItem.jsx ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/ActionMenu */ "./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");





var FinishedActionItem = function FinishedActionItem(_ref) {
  var recurrence = _ref.recurrence,
      onClick = _ref.onClick;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["ActionMenuItem"], {
    onClick: onClick,
    left: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["ActionMenuRadio"], {
      readOnly: true,
      checked: Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_3__["isFinished"])(recurrence)
    })
  }, t('Recurrence.action-menu.finished'));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(FinishedActionItem));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/ActionItems/OngoingActionItem.jsx":
/*!*******************************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/ActionItems/OngoingActionItem.jsx ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/ActionMenu */ "./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");






var OngoingActionItem = function OngoingActionItem(_ref) {
  var recurrence = _ref.recurrence,
      onClick = _ref.onClick;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__["ActionMenuItem"], {
    onClick: onClick,
    left: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__["ActionMenuRadio"], {
      readOnly: true,
      checked: Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_4__["isOngoing"])(recurrence)
    })
  }, t('Recurrence.action-menu.ongoing'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, t('Recurrence.action-menu.ongoing-caption')));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(OngoingActionItem));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/ActionItems/RenameActionItem.jsx":
/*!******************************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/ActionItems/RenameActionItem.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/ActionMenu */ "./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Pen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Pen */ "./node_modules/cozy-ui/transpiled/react/Icons/Pen.js");






var RenameActionItem = function RenameActionItem(_ref) {
  var onClick = _ref.onClick;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["ActionMenuItem"], {
    onClick: onClick,
    left: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Pen__WEBPACK_IMPORTED_MODULE_4__["default"]
    })
  }, t('Recurrence.action-menu.rename'));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(RenameActionItem));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/BundleInfo.jsx":
/*!************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/BundleInfo.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Breadcrumbs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Breadcrumbs */ "./node_modules/cozy-ui/transpiled/react/Breadcrumbs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Bottom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Bottom */ "./node_modules/cozy-ui/transpiled/react/Icons/Bottom.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Dots__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Dots */ "./node_modules/cozy-ui/transpiled/react/Icons/Dots.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Fade__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/Fade */ "./node_modules/cozy-ui/transpiled/react/Fade/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_useToggle__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/useToggle */ "./src/components/useToggle.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var components_ActionMenuHelper__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! components/ActionMenuHelper */ "./src/components/ActionMenuHelper/index.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var ducks_transactions_header_TableHead__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/transactions/header/TableHead */ "./src/ducks/transactions/header/TableHead.jsx");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");
/* harmony import */ var ducks_recurrence_RecurrencePage_RecurrenceActionMenu__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/RecurrenceActionMenu */ "./src/ducks/recurrence/RecurrencePage/RecurrenceActionMenu.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_RecurrenceStatusMenu__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/RecurrenceStatusMenu */ "./src/ducks/recurrence/RecurrencePage/RecurrenceStatusMenu.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_RenameBundleDialog__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/RenameBundleDialog */ "./src/ducks/recurrence/RecurrencePage/RenameBundleDialog.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }





























 // Need to reset line-height to 1 for action menus to be correctly rendered
// inside Img element

var imgLineHeightStyle = {
  lineHeight: 1
};

var BundleInfo = function BundleInfo(_ref) {
  var bundle = _ref.bundle;
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_21__["useHistory"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_9__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useToggle = Object(components_useToggle__WEBPACK_IMPORTED_MODULE_18__["default"])(false),
      _useToggle2 = _slicedToArray(_useToggle, 3),
      showingActionsMenu = _useToggle2[0],
      showActionsMenu = _useToggle2[1],
      hideActionsMenu = _useToggle2[2];

  var _useToggle3 = Object(components_useToggle__WEBPACK_IMPORTED_MODULE_18__["default"])(false),
      _useToggle4 = _slicedToArray(_useToggle3, 3),
      showingRename = _useToggle4[0],
      showRename = _useToggle4[1],
      hideRename = _useToggle4[2];

  var goToRecurrenceRoot = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return history.push('/analysis/recurrence');
  }, [history]);
  var handleOpenRename = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    showRename();
  }, [showRename]);
  var handleDelete = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            goToRecurrenceRoot();
            _context.next = 4;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_26__["deleteRecurrence"])(client, bundle);

          case 4:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].success(t('Recurrence.delete-success'));
            _context.next = 10;
            break;

          case 7:
            _context.prev = 7;
            _context.t0 = _context["catch"](0);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error(t('Recurrence.delete-error'));

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 7]]);
  })), [bundle, client, goToRecurrenceRoot, t]);
  var handleSetStatusOngoing = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            _context2.next = 3;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_26__["setStatusOngoing"])(client, bundle);

          case 3:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].success(t('Recurrence.status.save-success'));
            _context2.next = 9;
            break;

          case 6:
            _context2.prev = 6;
            _context2.t0 = _context2["catch"](0);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error(t('Recurrence.status.save-error'));

          case 9:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 6]]);
  })), [bundle, client, t]);
  var handleSetStatusFinished = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.prev = 0;
            _context3.next = 3;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_26__["setStatusFinished"])(client, bundle);

          case 3:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].success(t('Recurrence.status.save-success'));
            _context3.next = 9;
            break;

          case 6:
            _context3.prev = 6;
            _context3.t0 = _context3["catch"](0);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error(t('Recurrence.status.save-error'));

          case 9:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[0, 6]]);
  })), [bundle, client, t]);

  if (!bundle) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_17__["default"], {
    fixed: true,
    theme: "inverted"
  }, isMobile ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_19__["default"], {
    theme: "primary",
    onClick: goToRecurrenceRoot
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_23__["BarTitle"], null, Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_22__["getLabel"])(bundle)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_24__["BarRight"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_14__["default"], {
    className: "u-mr-half",
    onClick: showActionsMenu
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_12__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Dots__WEBPACK_IMPORTED_MODULE_11__["default"]
  }))), showingActionsMenu && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_recurrence_RecurrencePage_RecurrenceActionMenu__WEBPACK_IMPORTED_MODULE_27__["default"], {
    onClose: hideActionsMenu,
    recurrence: bundle,
    onClickOngoing: handleSetStatusOngoing,
    onClickFinished: handleSetStatusFinished,
    onClickRename: handleOpenRename,
    onClickDelete: handleDelete
  })) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Media"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Bd"], {
    className: "u-ov-visible"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Fade__WEBPACK_IMPORTED_MODULE_15__["default"], {
    in: true
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_13__["default"], {
    variant: "h5"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Breadcrumbs__WEBPACK_IMPORTED_MODULE_8__["default"], {
    items: [{
      name: t('Recurrence.title'),
      onClick: goToRecurrenceRoot
    }, {
      name: Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_22__["getLabel"])(bundle)
    }],
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_19__["default"], {
    theme: "primary"
  })))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_5__["Img"], {
    className: "u-flex",
    style: imgLineHeightStyle
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_ActionMenuHelper__WEBPACK_IMPORTED_MODULE_20__["default"], {
    opener: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
      extension: "narrow",
      theme: "secondary",
      label: t("Recurrence.status.".concat(Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_26__["getStatus"])(bundle))),
      extraRight: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_12__["default"], {
        className: "u-ml-half",
        icon: cozy_ui_transpiled_react_Icons_Bottom__WEBPACK_IMPORTED_MODULE_10__["default"]
      })
    }),
    menu: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_recurrence_RecurrencePage_RecurrenceStatusMenu__WEBPACK_IMPORTED_MODULE_28__["default"], {
      recurrence: bundle,
      onClickRename: handleOpenRename,
      onClickOngoing: handleSetStatusOngoing,
      onClickFinished: handleSetStatusFinished
    })
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_ActionMenuHelper__WEBPACK_IMPORTED_MODULE_20__["default"], {
    opener: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
      iconOnly: true,
      label: t('Recurrence.action-menu.open-button'),
      extension: "narrow",
      icon: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_12__["default"], {
        icon: cozy_ui_transpiled_react_Icons_Dots__WEBPACK_IMPORTED_MODULE_11__["default"]
      }),
      theme: "secondary"
    }),
    menu: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_recurrence_RecurrencePage_RecurrenceActionMenu__WEBPACK_IMPORTED_MODULE_27__["default"], {
      recurrence: bundle,
      onClickRename: handleOpenRename,
      onClickOngoing: handleSetStatusOngoing,
      onClickFinished: handleSetStatusFinished,
      onClickDelete: handleDelete
    })
  })))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_header_TableHead__WEBPACK_IMPORTED_MODULE_25__["default"], null)), showingRename && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_recurrence_RecurrencePage_RenameBundleDialog__WEBPACK_IMPORTED_MODULE_29__["default"], {
    bundle: bundle,
    onSuccess: hideRename,
    dismissAction: hideRename
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(BundleInfo));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/BundleTransactions.jsx":
/*!********************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/BundleTransactions.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader/index.js");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var ducks_transactions_TransactionRow_TransactionRowDesktop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/transactions/TransactionRow/TransactionRowDesktop */ "./src/ducks/transactions/TransactionRow/TransactionRowDesktop.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_TransactionRowMobile__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/transactions/TransactionRow/TransactionRowMobile */ "./src/ducks/transactions/TransactionRow/TransactionRowMobile.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_recurrence_queries__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/recurrence/queries */ "./src/ducks/recurrence/queries.js");














var BundleTransactionMobile = function BundleTransactionMobile(_ref) {
  var transaction = _ref.transaction;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      f = _useI18n.f;

  var date = transaction.date;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_5__["default"], null, f(date, 'dddd D MMMM')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_TransactionRowMobile__WEBPACK_IMPORTED_MODULE_10__["default"], {
    showRecurrence: false,
    transaction: transaction
  }));
};

var BundleMobileWrapper = function BundleMobileWrapper(_ref2) {
  var children = _ref2.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-mt-3"
  }, children);
};

var BundleDesktopWrapper = function BundleDesktopWrapper(_ref3) {
  var children = _ref3.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_6__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, children));
};

var BundleTransactions = function BundleTransactions(_ref4) {
  var bundle = _ref4.bundle;
  var transactionsConn = Object(ducks_recurrence_queries__WEBPACK_IMPORTED_MODULE_12__["bundleTransactionsQueryConn"])({
    bundle: bundle
  });

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n2.t;

  var transactionCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(transactionsConn.query, transactionsConn);

  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(transactionCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["hasQueryBeenLoaded"])(transactionCol)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_8__["default"], null);
  }

  var transactions = transactionCol.data,
      fetchStatus = transactionCol.fetchStatus,
      lastError = transactionCol.lastError;
  var TransactionRow = isMobile ? BundleTransactionMobile : ducks_transactions_TransactionRow_TransactionRowDesktop__WEBPACK_IMPORTED_MODULE_9__["default"];
  var Wrapper = isMobile ? BundleMobileWrapper : BundleDesktopWrapper;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapper, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: "u-m-1"
  }), transactions.length === 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_7__["default"], null, fetchStatus === 'failed' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('Loading.error')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, lastError && lastError.message)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_4__["default"], {
    icon: {},
    title: t('Recurrence.no-transactions.title'),
    text: t('Recurrence.no-transactions.text')
  })), transactions.map(function (tr) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionRow, {
      showRecurrence: false,
      transaction: tr,
      key: tr._id
    });
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(BundleTransactions));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/RecurrenceActionMenu.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/RecurrenceActionMenu.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/ActionMenu */ "./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js");
/* harmony import */ var ducks_recurrence_RecurrencePage_ActionItems_OngoingActionItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/ActionItems/OngoingActionItem */ "./src/ducks/recurrence/RecurrencePage/ActionItems/OngoingActionItem.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_ActionItems_FinishedActionItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/ActionItems/FinishedActionItem */ "./src/ducks/recurrence/RecurrencePage/ActionItems/FinishedActionItem.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_ActionItems_RenameActionItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/ActionItems/RenameActionItem */ "./src/ducks/recurrence/RecurrencePage/ActionItems/RenameActionItem.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_ActionItems_DeleteActionItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/ActionItems/DeleteActionItem */ "./src/ducks/recurrence/RecurrencePage/ActionItems/DeleteActionItem.jsx");
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









 // TODO We should need to do this (isMobile ? portal : identity) but see
// Cozy-UI's issue: https://github.com/cozy/cozy-ui/issues/1462

var identity = function identity(x) {
  return x;
};

var portal = function portal(children) {
  return react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal(children, document.body);
};

var RecurrenceActionMenu = function RecurrenceActionMenu(_ref) {
  var recurrence = _ref.recurrence,
      onClickRename = _ref.onClickRename,
      onClickOngoing = _ref.onClickOngoing,
      onClickFinished = _ref.onClickFinished,
      onClickDelete = _ref.onClickDelete,
      props = _objectWithoutProperties(_ref, ["recurrence", "onClickRename", "onClickOngoing", "onClickFinished", "onClickDelete"]);

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var wrapper = isMobile ? portal : identity;
  return wrapper(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__["default"], props, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_ActionItems_RenameActionItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
    onClick: onClickRename
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_ActionItems_DeleteActionItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onClick: onClickDelete
  }), isMobile && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_ActionItems_OngoingActionItem__WEBPACK_IMPORTED_MODULE_5__["default"], {
    recurrence: recurrence,
    onClick: onClickOngoing
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_ActionItems_FinishedActionItem__WEBPACK_IMPORTED_MODULE_6__["default"], {
    recurrence: recurrence,
    onClick: onClickFinished
  })))));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(RecurrenceActionMenu));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/RecurrencePage.jsx":
/*!****************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/RecurrencePage.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_useDocument__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/useDocument */ "./src/components/useDocument.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_BundleTransactions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/BundleTransactions */ "./src/ducks/recurrence/RecurrencePage/BundleTransactions.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_BundleInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/BundleInfo */ "./src/ducks/recurrence/RecurrencePage/BundleInfo.jsx");











var RecurrencePage = function RecurrencePage() {
  var params = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_4__["useParams"])();
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_4__["useHistory"])();
  var recurrenceCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_2__["recurrenceConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_2__["recurrenceConn"]);
  var bundleId = params.bundleId;
  var bundle = Object(components_useDocument__WEBPACK_IMPORTED_MODULE_5__["default"])(doctypes__WEBPACK_IMPORTED_MODULE_2__["RECURRENCE_DOCTYPE"], bundleId);
  var shouldShowLoading = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(recurrenceCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["hasQueryBeenLoaded"])(recurrenceCol);
  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_7__["useTrackPage"])('recurrences:details');
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    // If the recurrence gets deleted, there is no bundle anymore and
    // we redirect to the recurrence list
    if (!shouldShowLoading && !bundle) {
      history.push('/analysis/recurrence');
    }
  }, [shouldShowLoading, bundle, history]);

  if (shouldShowLoading) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_3__["default"], null);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_6__["default"], {
    theme: "primary"
  }), bundle && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_BundleInfo__WEBPACK_IMPORTED_MODULE_9__["default"], {
    bundle: bundle
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_BundleTransactions__WEBPACK_IMPORTED_MODULE_8__["default"], {
    bundle: bundle
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (RecurrencePage);

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/RecurrenceStatusMenu.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/RecurrenceStatusMenu.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/ActionMenu */ "./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js");
/* harmony import */ var ducks_recurrence_RecurrencePage_ActionItems_OngoingActionItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/ActionItems/OngoingActionItem */ "./src/ducks/recurrence/RecurrencePage/ActionItems/OngoingActionItem.jsx");
/* harmony import */ var ducks_recurrence_RecurrencePage_ActionItems_FinishedActionItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/recurrence/RecurrencePage/ActionItems/FinishedActionItem */ "./src/ducks/recurrence/RecurrencePage/ActionItems/FinishedActionItem.jsx");
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var RecurrenceStatusMenu = function RecurrenceStatusMenu(_ref) {
  var recurrence = _ref.recurrence,
      onClickOngoing = _ref.onClickOngoing,
      onClickFinished = _ref.onClickFinished,
      props = _objectWithoutProperties(_ref, ["recurrence", "onClickOngoing", "onClickFinished"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_1__["default"], {
    variant: "normal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["default"], props, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_ActionItems_OngoingActionItem__WEBPACK_IMPORTED_MODULE_3__["default"], {
    recurrence: recurrence,
    onClick: onClickOngoing
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_RecurrencePage_ActionItems_FinishedActionItem__WEBPACK_IMPORTED_MODULE_4__["default"], {
    recurrence: recurrence,
    onClick: onClickFinished
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(RecurrenceStatusMenu));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/RenameBundleDialog.jsx":
/*!********************************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/RenameBundleDialog.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Field */ "./node_modules/cozy-ui/transpiled/react/Field/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }











var RenameBundleDialog = function RenameBundleDialog(_ref) {
  var bundle = _ref.bundle,
      dismissAction = _ref.dismissAction;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      t = _useI18n.t;

  var renameInputRef = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])();

  var handleRename = /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_9__["renameRecurrenceManually"])(client, bundle, renameInputRef.current.value);

            case 3:
              dismissAction();
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].success(t('Recurrence.rename.save-success'));
              _context.next = 10;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](0);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error(t('Recurrence.rename.save-error'));

            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 7]]);
    }));

    return function handleRename() {
      return _ref2.apply(this, arguments);
    };
  }();

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__["Dialog"], {
    open: true,
    size: "small",
    title: t('Recurrence.rename.modal-title'),
    content: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: "u-m-0",
      labelProps: {
        className: 'u-pt-0'
      },
      fieldProps: {
        defaultValue: Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_8__["getLabel"])(bundle)
      },
      inputRef: renameInputRef,
      label: t('Recurrence.table.label')
    }),
    actions: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
      theme: "primary",
      onClick: handleRename,
      label: t('Recurrence.rename.save')
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
      theme: "secondary",
      onClick: dismissAction,
      label: t('Recurrence.rename.cancel')
    }))
  });
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(RenameBundleDialog));

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencePage/index.js":
/*!******************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencePage/index.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _RecurrencePage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RecurrencePage */ "./src/ducks/recurrence/RecurrencePage/RecurrencePage.jsx");

/* harmony default export */ __webpack_exports__["default"] = (_RecurrencePage__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/ducks/recurrence/RecurrencesPage.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/recurrence/RecurrencesPage.jsx ***!
  \**************************************************/
/*! exports provided: RecurrencesPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecurrencesPage", function() { return RecurrencesPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/orderBy */ "./node_modules/lodash/orderBy.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Breadcrumbs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Breadcrumbs */ "./node_modules/cozy-ui/transpiled/react/Breadcrumbs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/styles */ "./node_modules/@material-ui/styles/esm/index.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var components_withError__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! components/withError */ "./src/components/withError.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_future_selectors__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/future/selectors */ "./src/ducks/future/selectors.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/recurrence/Bundles */ "../overrides/cozy-banks/src/ducks/recurrence/Bundles.jsx");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





























var sortBundlesForViewing = function sortBundlesForViewing(bundles) {
  return lodash_orderBy__WEBPACK_IMPORTED_MODULE_2___default()(bundles, [function (bundle) {
    return bundle.latestDate;
  }, function (bundle) {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_25__["getCategories"])(bundle)[0];
  }], ['desc', 'desc']);
};

var DeprecatedNotice = Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_12__["withStyles"])(function (theme) {
  return {
    root: _defineProperty({
      textTransform: 'none',
      justifyContent: 'center',
      fontWeight: 'normal'
    }, theme.breakpoints.down('sm'), {
      textAlign: 'center',
      padding: '1.5rem',
      top: '6rem',
      // twice the cozy-bar height
      zIndex: 1 // goes above the category icons

    })
  };
})(cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_10__["default"]);
var RecurrencesPage = function RecurrencesPage(_ref) {
  var emptyIcon = _ref.emptyIcon,
      showTitle = _ref.showTitle;
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_21__["useHistory"])();

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_7__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var bundleCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_14__["recurrenceConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_14__["recurrenceConn"]);
  var rawBundles = bundleCol.data;

  var _useMemo = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    var sorted = sortBundlesForViewing(rawBundles);
    return lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default()(sorted, function (x) {
      return Object(ducks_future_selectors__WEBPACK_IMPORTED_MODULE_24__["isDeprecatedBundle"])(x) ? 'deprecated' : 'live';
    });
  }, [rawBundles]),
      liveBundles = _useMemo.live,
      deprecatedBundles = _useMemo.deprecated;

  var hasBundles = typeof liveBundles !== 'undefined' && liveBundles.length || typeof deprecatedBundles !== 'undefined' && deprecatedBundles.length;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__["useI18n"])(),
      t = _useI18n.t;

  var BundlesWrapper = isMobile ? ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_26__["BundleMobileWrapper"] : ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_26__["BundlesTable"];
  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_22__["useTrackPage"])('recurrences');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_15__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_17__["default"], {
    fixed: true,
    theme: "inverted"
  }, !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Breadcrumbs__WEBPACK_IMPORTED_MODULE_9__["default"], {
    items: [{
      name: t('Recurrence.title'),
      onClick: function onClick() {
        return history.push('/analysis/recurrence');
      }
    }],
    theme: "primary"
  }), cozy_flags__WEBPACK_IMPORTED_MODULE_11___default()('debug') ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Link"], {
    to: "/recurrencedebug"
  }, "Go to debug") : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_18__["default"], {
    theme: "primary"
  }), isMobile ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_26__["BundlesTableHead"], null)) : null, isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_19__["default"], null, showTitle && t('Recurrence.title'))) : null), Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["isQueryLoading"])(bundleCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["hasQueryBeenLoaded"])(bundleCol) ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_13__["default"], null)) : hasBundles ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BundlesWrapper, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_23__["default"], {
    className: "u-m-1"
  }), typeof liveBundles !== 'undefined' && liveBundles.map(function (bundle) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_26__["BundleRow"], {
      key: bundle._id,
      bundle: bundle
    });
  }), typeof deprecatedBundles !== 'undefined' && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DeprecatedNotice, null, t('Recurrence.deprecated-bundles-help')), deprecatedBundles.map(function (bundle) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_recurrence_Bundles__WEBPACK_IMPORTED_MODULE_26__["BundleRow"], {
      key: bundle._id,
      bundle: bundle
    });
  }))) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_23__["default"], {
    className: "u-mt-3",
    style: {
      marginBottom: '-3rem'
    }
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: emptyIcon,
    title: t('Recurrence.no-recurrences.title'),
    text: t('Recurrence.no-recurrences.text')
  })));
};
RecurrencesPage.defaultProps = {
  emptyIcon: 'cozy',
  showTitle: true
};

var RecurrenceError = function RecurrenceError(_ref2) {
  var error = _ref2.error;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__["useI18n"])(),
      t = _useI18n2.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('Recurrence.display-error')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["ButtonLink"], {
    href: "#/recurrencedebug",
    label: t('Recurrence.go-to-debug-page')
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("pre", null, error.message, error.stack));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(components_withError__WEBPACK_IMPORTED_MODULE_20__["default"])(RecurrencesPage, RecurrenceError));

/***/ }),

/***/ "./src/ducks/recurrence/RulesDetails.jsx":
/*!***********************************************!*\
  !*** ./src/ducks/recurrence/RulesDetails.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var RuleDetails = function RuleDetails() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "How rules work"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ol", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "First operations are grouped into bundles based on their ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "amount"), ' ', "and their ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "category"), "."), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Filtering according to the ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "preStat"), " rules."), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Then stats are computed on those bundles to compute intervals in days between operations, their standard deviation and mean. The idea is to be able to remove bundles where operations are not evenly spaced in time."), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Filtering according to the ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "postStat"), " rules."), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Merging of similar bundles.")));
};

/* harmony default export */ __webpack_exports__["default"] = (RuleDetails);

/***/ }),

/***/ "./src/ducks/recurrence/api.js":
/*!*************************************!*\
  !*** ./src/ducks/recurrence/api.js ***!
  \*************************************/
/*! exports provided: getAutomaticLabelFromBundle, fetchHydratedBundles, createRecurrenceClientBundles, saveHydratedBundles, resetBundles, deleteRecurrence, renameRecurrenceManually, STATUS_ONGOING, STATUS_FINISHED, getStatus, isOngoing, isFinished, setStatus, setStatusOngoing, setStatusFinished, destroyRecurrenceIfEmpty */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAutomaticLabelFromBundle", function() { return getAutomaticLabelFromBundle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchHydratedBundles", function() { return fetchHydratedBundles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createRecurrenceClientBundles", function() { return createRecurrenceClientBundles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveHydratedBundles", function() { return saveHydratedBundles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetBundles", function() { return resetBundles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteRecurrence", function() { return deleteRecurrence; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameRecurrenceManually", function() { return renameRecurrenceManually; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STATUS_ONGOING", function() { return STATUS_ONGOING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STATUS_FINISHED", function() { return STATUS_FINISHED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStatus", function() { return getStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOngoing", function() { return isOngoing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFinished", function() { return isFinished; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStatus", function() { return setStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStatusOngoing", function() { return setStatusOngoing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStatusFinished", function() { return setStatusFinished; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "destroyRecurrenceIfEmpty", function() { return destroyRecurrenceIfEmpty; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/set */ "./node_modules/lodash/set.js");
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flatten */ "./node_modules/lodash/flatten.js");
/* harmony import */ var lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/maxBy */ "./node_modules/lodash/maxBy.js");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./queries */ "./src/ducks/recurrence/queries.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./logger */ "./src/ducks/recurrence/logger.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./constants */ "./src/ducks/recurrence/constants.js");


function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
/**
 * TODO Handle pagination
 *
 * As of now, paginations for recurrence bundles and for transactions inside
 * recurrence has not been dealt with, both in the API and on the UI side
 * of things. Since having more than 100 hundred recurrences is infrequent,
 * we do not think it is a major hurdle if users only see their 100 most recent
 * recurrences, or only the most recent 100 transactions inside this recurrence
 * bundle.
 */















var mostFrequent = function mostFrequent(iterable, fn) {
  var groups = lodash_groupBy__WEBPACK_IMPORTED_MODULE_8___default()(iterable, fn);
  return lodash_maxBy__WEBPACK_IMPORTED_MODULE_6___default()(Object.entries(groups), function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        ops = _ref2[1];

    return ops.length;
  })[0];
};

var getAutomaticLabelFromBundle = function getAutomaticLabelFromBundle(bundle) {
  return mostFrequent(bundle.ops, function (op) {
    return op.label;
  });
};

var addRelationship = function addRelationship(doc, relationshipName, definition) {
  return lodash_set__WEBPACK_IMPORTED_MODULE_1___default()(doc, ['relationships', relationshipName], {
    data: definition
  });
};

var getRecurrenceIdFromRawTransaction = function getRecurrenceIdFromRawTransaction(tr) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_7___default()(tr, 'relationships.recurrence.data._id', null);
};
/**
 * Fetch bundles and associated transactions from CouchDB
 * Returns "hydrated" bundles with an `ops` field containing all its transactions
 *
 * @param  {CozyClient} client
 * @return {Promise<HydratedRecurrences>}
 */


var fetchHydratedBundles = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    var recurrences, transactions, byRecurrence;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return client.queryAll(Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_10__["RECURRENCE_DOCTYPE"]).limitBy(1000));

          case 2:
            recurrences = _context.sent;
            _context.next = 5;
            return client.queryAll(Object(_queries__WEBPACK_IMPORTED_MODULE_9__["queryRecurrencesTransactions"])(recurrences).limitBy(1000));

          case 5:
            transactions = _context.sent;
            byRecurrence = lodash_groupBy__WEBPACK_IMPORTED_MODULE_8___default()(transactions, getRecurrenceIdFromRawTransaction);
            return _context.abrupt("return", recurrences.map(function (rec) {
              return _objectSpread({}, rec, {
                ops: byRecurrence[rec._id] || []
              });
            }));

          case 8:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function fetchHydratedBundles(_x) {
    return _ref3.apply(this, arguments);
  };
}();
var createRecurrenceClientBundles = function createRecurrenceClientBundles(recurrenceClientBundles) {
  return recurrenceClientBundles.map(function (bundle) {
    var withoutOps = lodash_omit__WEBPACK_IMPORTED_MODULE_4___default()(bundle, 'ops');
    withoutOps.accounts = lodash_uniq__WEBPACK_IMPORTED_MODULE_3___default()(bundle.ops.map(function (x) {
      return x.account;
    }));
    Object(_logger__WEBPACK_IMPORTED_MODULE_11__["log"])('info', "Setting accounts to ".concat(withoutOps.accounts));
    withoutOps.automaticLabel = getAutomaticLabelFromBundle(bundle);
    var latestOperation = lodash_maxBy__WEBPACK_IMPORTED_MODULE_6___default()(bundle.ops, function (x) {
      return x.date;
    });
    withoutOps.latestDate = latestOperation.date;
    withoutOps.latestAmount = latestOperation.amount;
    return withoutOps;
  });
};
/**
 * Saves recurrence bundles and update related transactions
 *
 * Recurrence bundles here are "hydrated" with an `ops` attribute with
 * all its operations. In CouchDB, the `ops` field is not present, the
 * transactions have a HasOne relationship to the bundle.
 *
 * @param  {CozyClient} client
 * @param  {HydratedRecurrence} recurrences - Bundles with `ops` attributes
 * @return {Promise}
 */

var saveHydratedBundles = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, recurrenceClientBundles) {
    var recurrenceCol, saveBundlesResp, bundlesWithIds, ops, opCollection;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            recurrenceCol = client.collection(doctypes__WEBPACK_IMPORTED_MODULE_10__["RECURRENCE_DOCTYPE"]);
            _context2.next = 3;
            return recurrenceCol.updateAll(createRecurrenceClientBundles(recurrenceClientBundles));

          case 3:
            saveBundlesResp = _context2.sent;
            bundlesWithIds = recurrenceClientBundles.map(function (recurrenceBundle, i) {
              return _objectSpread({}, recurrenceBundle, {
                _id: saveBundlesResp[i].id
              });
            });
            ops = lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default()(bundlesWithIds.map(function (recurrenceBundle) {
              return recurrenceBundle.ops.map(function (op) {
                return addRelationship(Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["dehydrate"])(op), 'recurrence', {
                  _id: recurrenceBundle._id,
                  _type: doctypes__WEBPACK_IMPORTED_MODULE_10__["RECURRENCE_DOCTYPE"]
                });
              });
            }));
            opCollection = client.collection('io.cozy.bank.operations');
            _context2.next = 9;
            return opCollection.updateAll(ops.map(function (op) {
              return lodash_omit__WEBPACK_IMPORTED_MODULE_4___default()(op, '_type');
            }));

          case 9:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function saveHydratedBundles(_x2, _x3) {
    return _ref4.apply(this, arguments);
  };
}();
var resetBundles = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client) {
    var recurrenceCol, _yield$recurrenceCol$, serverBundles;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            recurrenceCol = client.collection(doctypes__WEBPACK_IMPORTED_MODULE_10__["RECURRENCE_DOCTYPE"]);
            _context3.next = 3;
            return recurrenceCol.all();

          case 3:
            _yield$recurrenceCol$ = _context3.sent;
            serverBundles = _yield$recurrenceCol$.data;
            _context3.next = 7;
            return recurrenceCol.destroyAll(serverBundles);

          case 7:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function resetBundles(_x4) {
    return _ref5.apply(this, arguments);
  };
}();

var setTransactionAsUnrecurrent = function setTransactionAsUnrecurrent(transaction) {
  return addRelationship(transaction, 'recurrence', {
    _id: _constants__WEBPACK_IMPORTED_MODULE_12__["NOT_RECURRENT_ID"],
    _type: doctypes__WEBPACK_IMPORTED_MODULE_10__["RECURRENCE_DOCTYPE"]
  });
};

var deleteRecurrence = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, recurrence) {
    var opCollection, _yield$client$query, ops;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            opCollection = client.collection(doctypes__WEBPACK_IMPORTED_MODULE_10__["TRANSACTION_DOCTYPE"]);
            _context4.next = 3;
            return client.query(Object(_queries__WEBPACK_IMPORTED_MODULE_9__["queryRecurrenceTransactions"])(recurrence));

          case 3:
            _yield$client$query = _context4.sent;
            ops = _yield$client$query.data;
            _context4.next = 7;
            return opCollection.updateAll(ops.map(function (op) {
              return setTransactionAsUnrecurrent(lodash_omit__WEBPACK_IMPORTED_MODULE_4___default()(op, '_type'));
            }));

          case 7:
            _context4.next = 9;
            return client.destroy(recurrence);

          case 9:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function deleteRecurrence(_x5, _x6) {
    return _ref6.apply(this, arguments);
  };
}();
var renameRecurrenceManually = /*#__PURE__*/function () {
  var _ref7 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(client, recurrence, newLabel) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            return _context5.abrupt("return", client.save(_objectSpread({}, recurrence, {
              manualLabel: newLabel
            })));

          case 1:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function renameRecurrenceManually(_x7, _x8, _x9) {
    return _ref7.apply(this, arguments);
  };
}();
var STATUS_ONGOING = 'ongoing';
var STATUS_FINISHED = 'finished';
var getStatus = function getStatus(recurrence) {
  if (recurrence.status) {
    return recurrence.status;
  } else {
    return STATUS_ONGOING;
  }
};
var isOngoing = function isOngoing(recurrence) {
  var status = getStatus(recurrence);
  return status === STATUS_ONGOING;
};
var isFinished = function isFinished(recurrence) {
  var status = getStatus(recurrence);
  return status === STATUS_FINISHED;
};
var setStatus = /*#__PURE__*/function () {
  var _ref8 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(client, recurrence, status) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            client.save(_objectSpread({}, recurrence, {
              status: status
            }));

          case 1:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function setStatus(_x10, _x11, _x12) {
    return _ref8.apply(this, arguments);
  };
}();
var setStatusOngoing = /*#__PURE__*/function () {
  var _ref9 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(client, recurrence) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            return _context7.abrupt("return", setStatus(client, recurrence, STATUS_ONGOING));

          case 1:
          case "end":
            return _context7.stop();
        }
      }
    }, _callee7);
  }));

  return function setStatusOngoing(_x13, _x14) {
    return _ref9.apply(this, arguments);
  };
}();
var setStatusFinished = /*#__PURE__*/function () {
  var _ref10 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee8(client, recurrence) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            return _context8.abrupt("return", setStatus(client, recurrence, STATUS_FINISHED));

          case 1:
          case "end":
            return _context8.stop();
        }
      }
    }, _callee8);
  }));

  return function setStatusFinished(_x15, _x16) {
    return _ref10.apply(this, arguments);
  };
}();
var destroyRecurrenceIfEmpty = /*#__PURE__*/function () {
  var _ref11 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee9(client, partialRecurrence) {
    var _yield$client$query2, recurrenceTransactions, qdef, _yield$client$query3, recurrence;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee9$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            _context9.next = 2;
            return client.query(Object(_queries__WEBPACK_IMPORTED_MODULE_9__["queryRecurrenceTransactions"])(partialRecurrence));

          case 2:
            _yield$client$query2 = _context9.sent;
            recurrenceTransactions = _yield$client$query2.data;

            if (!(recurrenceTransactions.length === 0)) {
              _context9.next = 13;
              break;
            }

            qdef = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["Q"])(partialRecurrence._type).getById(partialRecurrence._id);
            _context9.next = 8;
            return client.query(qdef);

          case 8:
            _yield$client$query3 = _context9.sent;
            recurrence = _yield$client$query3.data;

            if (!recurrence) {
              _context9.next = 13;
              break;
            }

            _context9.next = 13;
            return client.destroy(recurrence);

          case 13:
          case "end":
            return _context9.stop();
        }
      }
    }, _callee9);
  }));

  return function destroyRecurrenceIfEmpty(_x17, _x18) {
    return _ref11.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/ducks/recurrence/config.json":
/*!******************************************!*\
  !*** ./src/ducks/recurrence/config.json ***!
  \******************************************/
/*! exports provided: amountShouldBeMoreThan, bundleSizeShouldBeMoreThan, categoryShouldBeSet, deltaMeanInferiorTo, deltaMeanSuperiorTo, madInferiorTo, mergeBundles, sigmaInferiorTo, addStats, splitBrands, default */
/***/ (function(module) {

module.exports = {"amountShouldBeMoreThan":{"active":true,"options":5},"bundleSizeShouldBeMoreThan":{"active":true,"options":2},"categoryShouldBeSet":{"active":true},"deltaMeanInferiorTo":{"active":true,"options":90},"deltaMeanSuperiorTo":{"active":true,"options":15},"madInferiorTo":{"active":true,"options":5},"mergeBundles":{"active":true},"sigmaInferiorTo":{"active":false,"options":5},"addStats":{"active":true},"splitBrands":{"active":true}};

/***/ }),

/***/ "./src/ducks/recurrence/constants.js":
/*!*******************************************!*\
  !*** ./src/ducks/recurrence/constants.js ***!
  \*******************************************/
/*! exports provided: NOT_RECURRENT_ID, ONE_DAY, PERCENTAGE_AMOUNTS_ACCEPTED */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NOT_RECURRENT_ID", function() { return NOT_RECURRENT_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ONE_DAY", function() { return ONE_DAY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PERCENTAGE_AMOUNTS_ACCEPTED", function() { return PERCENTAGE_AMOUNTS_ACCEPTED; });
var NOT_RECURRENT_ID = 'not-recurrent';
var ONE_DAY = 1000 * 60 * 60 * 24; // ms * s * min * hours, to be used with Date()

var PERCENTAGE_AMOUNTS_ACCEPTED = 0.05;

/***/ }),

/***/ "./src/ducks/recurrence/logger.js":
/*!****************************************!*\
  !*** ./src/ducks/recurrence/logger.js ***!
  \****************************************/
/*! exports provided: log */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "log", function() { return log; });
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-logger */ "./node_modules/cozy-logger/dist/index.js");
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_logger__WEBPACK_IMPORTED_MODULE_0__);

var log = cozy_logger__WEBPACK_IMPORTED_MODULE_0___default.a.namespace('recurrence');


/***/ }),

/***/ "./src/ducks/recurrence/queries.js":
/*!*****************************************!*\
  !*** ./src/ducks/recurrence/queries.js ***!
  \*****************************************/
/*! exports provided: queryRecurrenceTransactions, queryRecurrencesTransactions, bundleTransactionsQueryConn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queryRecurrenceTransactions", function() { return queryRecurrenceTransactions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queryRecurrencesTransactions", function() { return queryRecurrencesTransactions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bundleTransactionsQueryConn", function() { return bundleTransactionsQueryConn; });
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}



var older30s = cozy_client__WEBPACK_IMPORTED_MODULE_0___default.a.fetchPolicies.olderThan(30 * 1000);
var queryRecurrenceTransactions = function queryRecurrenceTransactions(recurrence) {
  return Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_1__["TRANSACTION_DOCTYPE"]).where({
    'relationships.recurrence.data._id': recurrence._id
  });
};
var queryRecurrencesTransactions = function queryRecurrencesTransactions(recurrences) {
  return Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_1__["TRANSACTION_DOCTYPE"]).where({
    'relationships.recurrence.data._id': {
      $in: recurrences.map(function (x) {
        return x._id;
      })
    }
  });
};
var bundleTransactionsQueryConn = function bundleTransactionsQueryConn(_ref) {
  var bundle = _ref.bundle;
  return {
    query: function query() {
      var initialQDef = queryRecurrenceTransactions(bundle);
      var qDef = initialQDef.indexFields(['relationships.recurrence.data._id', 'date']).sortBy([{
        'relationships.recurrence.data._id': 'desc'
      }, {
        date: 'desc'
      }]).where(_objectSpread({}, initialQDef.selector, {
        date: {
          $gt: null
        }
      })).UNSAFE_noLimit().include(['bills', 'account', 'reimbursements', 'recurrence']);
      return qDef;
    },
    as: "bundle-transactions-".concat(bundle._id),
    fetchPolicy: older30s
  };
};

/***/ }),

/***/ "./src/ducks/recurrence/rules.js":
/*!***************************************!*\
  !*** ./src/ducks/recurrence/rules.js ***!
  \***************************************/
/*! exports provided: median, mergeCategoryIds, mergeBundles, groupBundles, sameLabel, categoryShouldBeSet, bundleSizeShouldBeMoreThan, amountShouldBeMoreThan, deltaMeanSuperiorTo, deltaMeanInferiorTo, sigmaInferiorTo, madInferiorTo, addStats, brandSplit, rulesPerName, getRulesFromConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "median", function() { return median; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeCategoryIds", function() { return mergeCategoryIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mergeBundles", function() { return mergeBundles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupBundles", function() { return groupBundles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sameLabel", function() { return sameLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "categoryShouldBeSet", function() { return categoryShouldBeSet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bundleSizeShouldBeMoreThan", function() { return bundleSizeShouldBeMoreThan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "amountShouldBeMoreThan", function() { return amountShouldBeMoreThan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deltaMeanSuperiorTo", function() { return deltaMeanSuperiorTo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deltaMeanInferiorTo", function() { return deltaMeanInferiorTo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sigmaInferiorTo", function() { return sigmaInferiorTo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "madInferiorTo", function() { return madInferiorTo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addStats", function() { return addStats; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "brandSplit", function() { return brandSplit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rulesPerName", function() { return rulesPerName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRulesFromConfig", function() { return getRulesFromConfig; });
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sum */ "./node_modules/lodash/sum.js");
/* harmony import */ var lodash_sum__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sum__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_mergeWith__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/mergeWith */ "./node_modules/lodash/mergeWith.js");
/* harmony import */ var lodash_mergeWith__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_mergeWith__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_isArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/isArray */ "./node_modules/lodash/isArray.js");
/* harmony import */ var lodash_isArray__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_isArray__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isString */ "./node_modules/lodash/isString.js");
/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/some */ "./node_modules/lodash/some.js");
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_some__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/maxBy */ "./node_modules/lodash/maxBy.js");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/uniqBy */ "./node_modules/lodash/uniqBy.js");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/transactions/getCategoryId */ "./src/ducks/transactions/getCategoryId.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/brandDictionary/brands */ "./src/ducks/brandDictionary/brands.json");
var ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_14___namespace = /*#__PURE__*/__webpack_require__.t(/*! ducks/brandDictionary/brands */ "./src/ducks/brandDictionary/brands.json", 1);
/* harmony import */ var ducks_brandDictionary__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/brandDictionary */ "./src/ducks/brandDictionary/index.js");
/* harmony import */ var ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/recurrence/constants */ "./src/ducks/recurrence/constants.js");
function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}



















var mean = function mean(iterable) {
  return lodash_sum__WEBPACK_IMPORTED_MODULE_2___default()(iterable) / iterable.length;
};

var median = function median(iterable) {
  var sorted = lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(_toConsumableArray(iterable));

  if (sorted.length % 2 == 0) {
    var mid = sorted.length / 2;
    return (sorted[mid - 1] + sorted[mid]) / 2;
  } else {
    var _mid = Math.floor(sorted.length / 2);

    return sorted[_mid];
  }
};
/**
 * Computes stats on operations
 *
 * @param  {Array} operations
 * @return {Object}
 */

var makeStats = function makeStats(operations) {
  var dates = lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(operations, function (x) {
    return x.date;
  }).map(function (x) {
    return +new Date(x.date);
  }); // Days between a transaction and the next one.
  // First result is between first and second transactions
  // Second result is between second and third transactions etc.

  var deltas = dates.map(function (d, i) {
    return i === 0 ? null : (d - dates[i - 1]) / ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_16__["ONE_DAY"];
  }).slice(1); // Mean interval in days between operations

  var m = mean(deltas); // Median number of days between transactions

  var med = operations.length < 3 ? 30 : median(deltas);
  var sqDistToAverage = deltas.map(function (d) {
    return Math.pow(d, 2) - Math.pow(m, 2);
  }); // Standard deviation of bundle's date intervals

  var sigma = Math.sqrt(lodash_sum__WEBPACK_IMPORTED_MODULE_2___default()(sqDistToAverage) / deltas.length); // Median absolute deviation of bundle's date intervals

  var mad = median(deltas.map(function (d) {
    return Math.abs(d - med);
  }));
  return {
    deltas: {
      sigma: sigma,
      mean: m,
      median: med,
      mad: mad
    }
  };
};

var getTransactionDate = function getTransactionDate(x) {
  return x.date;
};

var mergeCategoryIds = function mergeCategoryIds(obj, src) {
  if (lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6___default()(obj.ops) || lodash_isEmpty__WEBPACK_IMPORTED_MODULE_6___default()(src.ops)) {
    return [];
  } // When merging two bundles, we put the most recent categoryId in front


  var mostRecentObjOp = lodash_maxBy__WEBPACK_IMPORTED_MODULE_9___default()(obj.ops, getTransactionDate);
  var mostRecentSrcOp = lodash_maxBy__WEBPACK_IMPORTED_MODULE_9___default()(src.ops, getTransactionDate);
  var mostRecentOp = lodash_maxBy__WEBPACK_IMPORTED_MODULE_9___default()([mostRecentObjOp, mostRecentSrcOp], getTransactionDate);
  var firstCat = Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_12__["default"])(mostRecentOp);
  var otherCats = lodash_uniq__WEBPACK_IMPORTED_MODULE_10___default()([].concat(_toConsumableArray(obj.categoryIds), _toConsumableArray(src.categoryIds)).filter(function (x) {
    return x !== firstCat;
  }));
  return [firstCat].concat(_toConsumableArray(otherCats));
};

function customizer(objValue, srcValue, key, obj, src) {
  if (key === 'categoryIds') {
    return mergeCategoryIds(obj, src);
  } else if (key == 'ops') {
    return lodash_uniqBy__WEBPACK_IMPORTED_MODULE_11___default()(objValue.concat(srcValue), function (x) {
      return x._id;
    });
  } else if (lodash_isString__WEBPACK_IMPORTED_MODULE_5___default()(objValue)) {
    return objValue;
  } else if (lodash_isArray__WEBPACK_IMPORTED_MODULE_4___default()(objValue)) {
    return objValue.concat(srcValue);
  } else if (lodash_isString__WEBPACK_IMPORTED_MODULE_5___default()(objValue)) {
    return "".concat(objValue, " / ").concat(srcValue);
  }
}

var mergeBundles = function mergeBundles(bundles) {
  if (bundles.length < 2) {
    return bundles[0];
  } else {
    var bundle = lodash_mergeWith__WEBPACK_IMPORTED_MODULE_3___default.a.apply(void 0, [bundles[0]].concat(_toConsumableArray(bundles.slice(1)), [customizer]));
    return bundle;
  }
};
var groupBundles = function groupBundles(bundles, rules) {
  var grouper = lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default()(rules);
  var groups = lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(bundles, grouper);
  return Object.values(groups).map(mergeBundles);
};
var sameLabel = function sameLabel(bundle) {
  if (bundle.ops && bundle.ops.length > 0) {
    return bundle.ops[0].label;
  } else {
    return Object(_utils__WEBPACK_IMPORTED_MODULE_13__["getLabel"])(bundle);
  }
};
var categoryShouldBeSet = function categoryShouldBeSet() {
  return function categoryShouldBeSet(bundle) {
    return bundle.categoryIds[0] !== '0';
  };
};
var bundleSizeShouldBeMoreThan = function bundleSizeShouldBeMoreThan(n) {
  return function bundleSizeShouldBeMoreThan(bundle) {
    return bundle.ops.length > n;
  };
};
var amountShouldBeMoreThan = function amountShouldBeMoreThan(amount) {
  var condition = function condition(bundleAmount) {
    return Math.abs(bundleAmount) > amount;
  };

  return function (bundle) {
    return lodash_some__WEBPACK_IMPORTED_MODULE_8___default()(bundle.amounts, condition);
  };
};
var deltaMeanSuperiorTo = function deltaMeanSuperiorTo(n) {
  return function deltaMeanSuperiorTo(bundle) {
    return bundle.stats.deltas.mean > n;
  };
};
var deltaMeanInferiorTo = function deltaMeanInferiorTo(n) {
  return function deltaMeanInferiorTo(bundle) {
    return bundle.stats.deltas.mean < n;
  };
};
var sigmaInferiorTo = function sigmaInferiorTo(n) {
  return function sigmaInferiorTo(bundle) {
    return bundle.stats.deltas.sigma < n;
  };
};
var madInferiorTo = function madInferiorTo(n) {
  return function madInferiorTo(bundle) {
    return bundle.stats.deltas.mad < n;
  };
};
var addStats = function addStats(bundle) {
  return _objectSpread({}, bundle, {
    stats: makeStats(bundle.ops)
  });
};
var brandSplit = function brandSplit() {
  return function (bundle) {
    var brandGroups = lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(bundle.ops, function (op) {
      var brand = Object(ducks_brandDictionary__WEBPACK_IMPORTED_MODULE_15__["findMatchingBrand"])(ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_14__, op.label);
      return brand ? brand.name : null;
    });
    return Object.values(brandGroups).map(function (ops) {
      var brand = Object(ducks_brandDictionary__WEBPACK_IMPORTED_MODULE_15__["findMatchingBrand"])(ducks_brandDictionary_brands__WEBPACK_IMPORTED_MODULE_14__, ops[0].label);
      return _objectSpread({}, bundle, {
        ops: ops,
        brand: brand ? brand.name : null,
        categoryIds: lodash_uniq__WEBPACK_IMPORTED_MODULE_10___default()(ops.map(function (o) {
          return Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_12__["default"])(o);
        })),
        amounts: lodash_uniq__WEBPACK_IMPORTED_MODULE_10___default()(ops.map(function (o) {
          return o.amount;
        }))
      });
    });
  };
};
var rulesPerName = {
  categoryShouldBeSet: {
    rule: categoryShouldBeSet,
    description: 'Filter out bundles where the category is not set',
    stage: 0,
    type: 'filter'
  },
  bundleSizeShouldBeMoreThan: {
    rule: bundleSizeShouldBeMoreThan,
    description: 'Filter out bundles where the size is below',
    stage: 0,
    type: 'filter'
  },
  amountShouldBeMoreThan: {
    rule: amountShouldBeMoreThan,
    description: 'Amount of bundle should be more than',
    stage: 0,
    type: 'filter'
  },
  splitBrands: {
    rule: brandSplit,
    description: 'Make sure two brands cannot be in the same bundle',
    stage: 1,
    type: 'split'
  },
  addStats: {
    rule: function rule() {
      return addStats;
    },
    description: 'Add stats',
    stage: 2,
    type: 'map'
  },
  deltaMeanSuperiorTo: {
    rule: deltaMeanSuperiorTo,
    description: 'Mean interval in days between operations should be more than',
    stage: 3,
    type: 'filter'
  },
  deltaMeanInferiorTo: {
    rule: deltaMeanInferiorTo,
    description: 'Mean interval in days between operations should be less than',
    stage: 3,
    type: 'filter'
  },
  sigmaInferiorTo: {
    rule: sigmaInferiorTo,
    description: "Standard deviation of bundle's date intervals should be less than",
    stage: 3,
    type: 'filter'
  },
  madInferiorTo: {
    rule: madInferiorTo,
    description: "Median absolute deviation of bundle's date intervals should be less than",
    stage: 3,
    type: 'filter'
  },
  mergeBundles: {
    rule: function rule() {
      return sameLabel;
    },
    description: 'Merge similar bundles',
    stage: 4,
    type: 'group'
  }
};
var getRulesFromConfig = function getRulesFromConfig(config) {
  return Object.entries(config).map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        ruleName = _ref2[0],
        config = _ref2[1];

    if (!config.active) {
      return null;
    }

    if (!rulesPerName[ruleName]) {
      // eslint-disable-next-line no-console
      console.warn("Unknown rule ".concat(ruleName));
      return null;
    }

    var _rulesPerName$ruleNam = rulesPerName[ruleName],
        makeRule = _rulesPerName$ruleNam.rule,
        rest = _objectWithoutProperties(_rulesPerName$ruleNam, ["rule"]);

    return _objectSpread({
      rule: makeRule(config.options)
    }, rest);
  }).filter(Boolean);
};

/***/ }),

/***/ "./src/ducks/recurrence/search.js":
/*!****************************************!*\
  !*** ./src/ducks/recurrence/search.js ***!
  \****************************************/
/*! exports provided: assert, findRecurrences, updateRecurrences, findAndUpdateRecurrences, updateAmountsCategoriesRecurrences */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assert", function() { return assert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findRecurrences", function() { return findRecurrences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateRecurrences", function() { return updateRecurrences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findAndUpdateRecurrences", function() { return findAndUpdateRecurrences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateAmountsCategoriesRecurrences", function() { return updateAmountsCategoriesRecurrences; });
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flatMap */ "./node_modules/lodash/flatMap.js");
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_differenceBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/differenceBy */ "./node_modules/lodash/differenceBy.js");
/* harmony import */ var lodash_differenceBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_differenceBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _config_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./config.json */ "./src/ducks/recurrence/config.json");
var _config_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./config.json */ "./src/ducks/recurrence/config.json", 1);
/* harmony import */ var ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transactions/getCategoryId */ "./src/ducks/transactions/getCategoryId.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_recurrence_rules__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/rules */ "./src/ducks/recurrence/rules.js");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_recurrence_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/recurrence/service */ "./src/ducks/recurrence/service.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./logger */ "./src/ducks/recurrence/logger.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}














var assert = function assert(pred, msg) {
  if (!pred) {
    throw new Error(msg);
  }
};
/**
 * How rules work:
 *
 * There are different stages that find and process bundles
 *
 * - Some stages filter bundles
 * - Some change the bundles (map)
 * - Some regroup bundles
 *
 * @param  {array} operations
 * @param  {array} rules
 * @return {array} recurrence groups
 */

var findRecurrences = function findRecurrences(operations, rules) {
  Object(_logger__WEBPACK_IMPORTED_MODULE_11__["log"])('info', 'Creating new bundle...');
  var groups = lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(operations, function (x) {
    return Object(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_6__["default"])(x);
  });
  var bundles = lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default()(Object.entries(groups), function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        categoryId = _ref2[0],
        ops = _ref2[1];

    var perAmount = lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(ops, function (op) {
      return op.amount;
    });
    return Object.entries(perAmount).map(function (_ref3) {
      var _ref4 = _slicedToArray(_ref3, 2),
          amount = _ref4[0],
          ops = _ref4[1];

      return {
        categoryIds: [categoryId],
        amounts: [parseInt(amount, 10)],
        ops: ops,
        automaticLabel: Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_7__["getLabel"])(ops[0])
      };
    });
  });
  Object(ducks_recurrence_service__WEBPACK_IMPORTED_MODULE_10__["logRecurrencesLabelAndTransactionsNumber"])({
    prefix: "Should create ".concat(bundles.length, " bundles before filtering them:"),
    recurrences: bundles
  });
  var rulesGroupedByStage = lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(rules, function (rule) {
    return rule.stage;
  });
  var rulesStageKeys = Object.keys(rulesGroupedByStage).sort();
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    var _loop = function _loop() {
      var rulesStageKey = _step.value;
      var rulesInfos = rulesGroupedByStage[rulesStageKey];
      assert(lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default()(rulesInfos.map(function (r) {
        return r.type;
      })).length === 1, 'Cannot have multiple types per stage');
      var type = rulesInfos[0].type;
      var rules = rulesInfos.map(function (ruleInfo) {
        return ruleInfo.rule;
      });

      if (type === 'filter') {
        bundles = bundles.filter(function (bundle) {
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = rulesInfos[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var ruleInfos = _step2.value;

              if (!ruleInfos.rule(bundle)) {
                Object(ducks_recurrence_service__WEBPACK_IMPORTED_MODULE_10__["logRecurrencesLabelAndTransactionsNumber"])({
                  prefix: "\u2757 Excluding bundle from creation. Reason: ".concat(ruleInfos.description, ". Excluded bundle:"),
                  recurrences: [bundle]
                });
                return false;
              }
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }

          return true;
        });
      } else if (type === 'map') {
        bundles = bundles.map(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(rules));
      } else if (type === 'group') {
        bundles = Object(ducks_recurrence_rules__WEBPACK_IMPORTED_MODULE_8__["groupBundles"])(bundles, rules);
      } else if (type === 'split') {
        if (rules.length > 1) {
          throw new Error('Cannot have multiple split rules in one stage');
        }

        bundles = lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default()(bundles, rules[0]);
      }
    };

    for (var _iterator = rulesStageKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      _loop();
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  Object(ducks_recurrence_service__WEBPACK_IMPORTED_MODULE_10__["logRecurrencesLabelAndTransactionsNumber"])({
    prefix: "\u2B50 Created: ".concat(bundles.length, " new bundles:"),
    recurrences: bundles
  });
  return bundles;
};
var updateRecurrences = function updateRecurrences(bundles, newTransactions, rules) {
  if (!newTransactions.length) {
    return bundles;
  }

  var newBundles = [];
  var updatedBundles = [];

  var _addTransactionToBund = Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_9__["addTransactionToBundles"])(bundles, newTransactions),
      newUpdatedBundles = _addTransactionToBund.updatedBundles,
      transactionsForUpdatedBundles = _addTransactionToBund.transactionsForUpdatedBundles;

  updatedBundles = newUpdatedBundles;
  var remainingTransactions = lodash_differenceBy__WEBPACK_IMPORTED_MODULE_4___default()(newTransactions, transactionsForUpdatedBundles);
  Object(_logger__WEBPACK_IMPORTED_MODULE_11__["log"])('info', "".concat(remainingTransactions.length, " remaining transactions to consider for creating new bundles"));

  if (remainingTransactions.length > 0) {
    newBundles = findRecurrences(remainingTransactions, rules);
  }

  var allBundles = [].concat(_toConsumableArray(updatedBundles), _toConsumableArray(newBundles)).map(ducks_recurrence_rules__WEBPACK_IMPORTED_MODULE_8__["addStats"]);
  return allBundles;
};
var findAndUpdateRecurrences = function findAndUpdateRecurrences(recurrences, operations) {
  Object(_logger__WEBPACK_IMPORTED_MODULE_11__["log"])('info', 'Find and update recurrences...');
  var rules = Object(ducks_recurrence_rules__WEBPACK_IMPORTED_MODULE_8__["getRulesFromConfig"])(_config_json__WEBPACK_IMPORTED_MODULE_5__);
  var updatedRecurrences;

  if (recurrences.length === 0) {
    updatedRecurrences = findRecurrences(operations, rules);
  } else {
    updatedRecurrences = updateRecurrences(recurrences, operations, rules);
  }

  return updatedRecurrences;
};
var updateAmountsCategoriesRecurrences = function updateAmountsCategoriesRecurrences(bundles) {
  var newBundles = _toConsumableArray(bundles).map(function (b) {
    return _objectSpread({}, b, {
      amounts: lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default()(b.ops.map(function (o) {
        return o.amount;
      })),
      categoryIds: lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default()(b.ops.map(ducks_transactions_getCategoryId__WEBPACK_IMPORTED_MODULE_6__["default"]))
    });
  });

  return newBundles;
};

/***/ }),

/***/ "./src/ducks/recurrence/service.js":
/*!*****************************************!*\
  !*** ./src/ducks/recurrence/service.js ***!
  \*****************************************/
/*! exports provided: NB_DAYS_LOOKBACK, logDifferences, logRecurrencesLabelAndTransactionsNumber, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NB_DAYS_LOOKBACK", function() { return NB_DAYS_LOOKBACK; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logDifferences", function() { return logDifferences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logRecurrencesLabelAndTransactionsNumber", function() { return logRecurrencesLabelAndTransactionsNumber; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger */ "./src/ducks/recurrence/logger.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_recurrence_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/recurrence/search */ "./src/ducks/recurrence/search.js");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_categories_tree__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/categories/tree */ "./src/ducks/categories/tree.json");
var ducks_categories_tree__WEBPACK_IMPORTED_MODULE_10___namespace = /*#__PURE__*/__webpack_require__.t(/*! ducks/categories/tree */ "./src/ducks/categories/tree.json", 1);
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! date-fns/add_days */ "./node_modules/date-fns/add_days/index.js");
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(date_fns_add_days__WEBPACK_IMPORTED_MODULE_11__);


function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}












var NB_DAYS_LOOKBACK = 100;
/**
 * Fetch transactions from 3 months back if there is already recurrences,
 * otherwise all transactions
 * @param {array} recurrences - Hydrated bundle of recurrences
 * @returns transactions
 */

var makeQueryForTransactions = function makeQueryForTransactions(recurrences) {
  if (recurrences.length === 0) {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"]);
  } else {
    var lookbackDateLimit = date_fns_add_days__WEBPACK_IMPORTED_MODULE_11___default()(new Date(), -NB_DAYS_LOOKBACK);
    var query = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_6__["TRANSACTION_DOCTYPE"]).where({
      date: {
        $gt: lookbackDateLimit.toISOString().slice(0, 10)
      }
    });
    return query;
  }
};

var getRecurrenceId = function getRecurrenceId(recurrence) {
  return recurrence._id;
};

var logDifferences = function logDifferences(oldRecurrences, updatedRecurrences) {
  var _groupBy = lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default()(updatedRecurrences, function (rec) {
    return Boolean(getRecurrenceId(rec));
  }),
      _groupBy$true = _groupBy.true,
      existingRecurrences = _groupBy$true === void 0 ? [] : _groupBy$true,
      _groupBy$false = _groupBy.false,
      newRecurrences = _groupBy$false === void 0 ? [] : _groupBy$false;

  var oldById = lodash_keyBy__WEBPACK_IMPORTED_MODULE_3___default()(oldRecurrences, getRecurrenceId);
  var existingById = lodash_keyBy__WEBPACK_IMPORTED_MODULE_3___default()(existingRecurrences, getRecurrenceId);
  var logForNewRecurrences = [];
  var logForExistingRecurrences = [];

  var _arr = Object.entries(existingById);

  for (var _i = 0; _i < _arr.length; _i++) {
    var _arr$_i = _slicedToArray(_arr[_i], 2),
        id = _arr$_i[0],
        existing = _arr$_i[1];

    logForExistingRecurrences.push("".concat(Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_9__["getLabel"])(existing), ": ").concat(existing.ops.length, " operations (+").concat(existing.ops.length - oldById[id].ops.length, ")"));
  }

  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = newRecurrences[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var rec = _step.value;
      logForNewRecurrences.push("".concat(Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_9__["getLabel"])(rec), ": ").concat(rec.ops.length, " operations (+").concat(rec.ops.length, "), category: ").concat(ducks_categories_tree__WEBPACK_IMPORTED_MODULE_10__[rec.categoryIds[0]]));
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  if (logForNewRecurrences.length > 0) {
    Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', "Modified ".concat(newRecurrences.length, " recurrences:\n").concat(logForNewRecurrences.join('\n')));
  }

  if (logForExistingRecurrences.length > 0) {
    Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', "".concat(existingRecurrences.length, " existing recurrences :\n").concat(logForExistingRecurrences.join('\n')));
  }
};
var logRecurrencesLabelAndTransactionsNumber = function logRecurrencesLabelAndTransactionsNumber(_ref) {
  var prefix = _ref.prefix,
      recurrences = _ref.recurrences,
      suffix = _ref.suffix;
  var recurrencesLogs = recurrences.map(function (recurrence) {
    if (!recurrence.ops) {
      return;
    }

    return "".concat(Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_9__["getLabel"])(recurrence), ": ").concat(recurrence.ops.length, " operations, category: ").concat(ducks_categories_tree__WEBPACK_IMPORTED_MODULE_10__[recurrence.categoryIds[0]]);
  });
  Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', [prefix, recurrencesLogs.join('\n'), suffix].filter(Boolean).join('\n'));
};
/**
 * Fetches
 *   - transactions in the last 100 days
 *   - current recurrences
 * and update recurrences and operations according to recurrence matching algorithm.
 * The date taken into account to create recurrences is `transaction.date` and not `transaction.realizationDate`.
 *
 * Called inside service.
 */

var main = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(_ref2) {
    var client, recurrences, transactionQuery, transactions, recurrencesAmountsCatIdsUpdated, updatedRecurrences, _groupBy2, _groupBy2$true, emptyRecurrences, _groupBy2$false, nonEmptyRecurrences, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, recurrence;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            client = _ref2.client;
            _context.prev = 1;
            _context.next = 4;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_8__["fetchHydratedBundles"])(client);

          case 4:
            recurrences = _context.sent;
            logRecurrencesLabelAndTransactionsNumber({
              prefix: "\u2B50 Founded: ".concat(recurrences.length, " existing recurrences:"),
              recurrences: recurrences
            });
            transactionQuery = makeQueryForTransactions(recurrences);
            Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', "Transactions selector is ".concat(JSON.stringify(transactionQuery.selector)));
            _context.next = 10;
            return client.queryAll(transactionQuery);

          case 10:
            transactions = _context.sent;

            if (recurrences.length > 0) {
              Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', "Loaded transactions from ".concat(NB_DAYS_LOOKBACK, " days back, ").concat(transactions.length, " transactions to consider"));
            } else {
              Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', "Loaded all transactions (since there were no recurrences yet), ".concat(transactions.length, " transactions to consider"));
            }

            recurrencesAmountsCatIdsUpdated = Object(ducks_recurrence_search__WEBPACK_IMPORTED_MODULE_7__["updateAmountsCategoriesRecurrences"])(recurrences);
            updatedRecurrences = Object(ducks_recurrence_search__WEBPACK_IMPORTED_MODULE_7__["findAndUpdateRecurrences"])(recurrencesAmountsCatIdsUpdated.map(function (r) {
              return _objectSpread({}, r);
            }), transactions).map(function (x) {
              return lodash_omit__WEBPACK_IMPORTED_MODULE_1___default()(x, '_type');
            });
            _groupBy2 = lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default()(updatedRecurrences, function (x) {
              return x.ops.length === 0;
            }), _groupBy2$true = _groupBy2.true, emptyRecurrences = _groupBy2$true === void 0 ? [] : _groupBy2$true, _groupBy2$false = _groupBy2.false, nonEmptyRecurrences = _groupBy2$false === void 0 ? [] : _groupBy2$false;
            _iteratorNormalCompletion2 = true;
            _didIteratorError2 = false;
            _iteratorError2 = undefined;
            _context.prev = 18;
            _iterator2 = emptyRecurrences[Symbol.iterator]();

          case 20:
            if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
              _context.next = 28;
              break;
            }

            recurrence = _step2.value;
            Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('info', "Removing empty recurrence ".concat(recurrence._id));
            _context.next = 25;
            return client.destroy(_objectSpread({
              _type: doctypes__WEBPACK_IMPORTED_MODULE_6__["RECURRENCE_DOCTYPE"]
            }, recurrence));

          case 25:
            _iteratorNormalCompletion2 = true;
            _context.next = 20;
            break;

          case 28:
            _context.next = 34;
            break;

          case 30:
            _context.prev = 30;
            _context.t0 = _context["catch"](18);
            _didIteratorError2 = true;
            _iteratorError2 = _context.t0;

          case 34:
            _context.prev = 34;
            _context.prev = 35;

            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
              _iterator2.return();
            }

          case 37:
            _context.prev = 37;

            if (!_didIteratorError2) {
              _context.next = 40;
              break;
            }

            throw _iteratorError2;

          case 40:
            return _context.finish(37);

          case 41:
            return _context.finish(34);

          case 42:
            _context.next = 44;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_8__["saveHydratedBundles"])(client, nonEmptyRecurrences);

          case 44:
            _context.next = 50;
            break;

          case 46:
            _context.prev = 46;
            _context.t1 = _context["catch"](1);
            Object(_logger__WEBPACK_IMPORTED_MODULE_4__["log"])('error', "[recurrence service] ".concat(_context.t1, " ").concat(_context.t1.stack));
            throw _context.t1;

          case 50:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[1, 46], [18, 30, 34, 42], [35,, 37, 41]]);
  }));

  return function main(_x) {
    return _ref3.apply(this, arguments);
  };
}();

/* harmony default export */ __webpack_exports__["default"] = (main);

/***/ }),

/***/ "./src/ducks/recurrence/styles.styl":
/*!******************************************!*\
  !*** ./src/ducks/recurrence/styles.styl ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ColumnSizeLabel":"ColumnSizeLabel--2RFj5","ColumnSizeLastOccurence":"ColumnSizeLastOccurence--RTVxO","ColumnSizeFrequency":"ColumnSizeFrequency--ozCee","ColumnSizeAmount":"ColumnSizeAmount--jU6KV","BundleRow":"BundleRow--1kJVk","BarButtonRight":"BarButtonRight--3RSGi"};

/***/ }),

/***/ "./src/ducks/recurrence/useStickyState.js":
/*!************************************************!*\
  !*** ./src/ducks/recurrence/useStickyState.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}



var useStickyState = function useStickyState(defaultValue, localStorageKey) {
  if (!localStorageKey) {
    throw new Error('Must pass a localStorageKey to useStickyState');
  }

  var savedValue = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    var savedValue = localStorage.getItem(localStorageKey);
    return savedValue ? JSON.parse(savedValue) : null;
  }, [localStorageKey]);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(savedValue || defaultValue),
      _useState2 = _slicedToArray(_useState, 2),
      value = _useState2[0],
      rawSetValue = _useState2[1];

  var setValue = function setValue(newValue) {
    localStorage.setItem(localStorageKey, JSON.stringify(newValue));
    rawSetValue(newValue);
  };

  var clearValue = function clearValue() {
    localStorage.removeItem(localStorageKey);
  };

  return [value, setValue, clearValue];
};

/* harmony default export */ __webpack_exports__["default"] = (useStickyState);

/***/ }),

/***/ "./src/ducks/recurrence/utils.js":
/*!***************************************!*\
  !*** ./src/ducks/recurrence/utils.js ***!
  \***************************************/
/*! exports provided: prettyLabel, getLabel, getCategories, getFrequencyWord, getFrequency, getFrequencyText, getAmount, getCurrency, getMinAmount, getMaxAmount, isBetween, makeRecurrenceFromTransaction, nextDate, isDeprecatedBundle, addTransactionToBundles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "prettyLabel", function() { return prettyLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLabel", function() { return getLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategories", function() { return getCategories; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFrequencyWord", function() { return getFrequencyWord; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFrequency", function() { return getFrequency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFrequencyText", function() { return getFrequencyText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAmount", function() { return getAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCurrency", function() { return getCurrency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMinAmount", function() { return getMinAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMaxAmount", function() { return getMaxAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBetween", function() { return isBetween; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeRecurrenceFromTransaction", function() { return makeRecurrenceFromTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nextDate", function() { return nextDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDeprecatedBundle", function() { return isDeprecatedBundle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addTransactionToBundles", function() { return addTransactionToBundles; });
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/uniqBy */ "./node_modules/lodash/uniqBy.js");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_startCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/startCase */ "./node_modules/lodash/startCase.js");
/* harmony import */ var lodash_startCase__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_startCase__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_min__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/min */ "./node_modules/lodash/min.js");
/* harmony import */ var lodash_min__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_min__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/max */ "./node_modules/lodash/max.js");
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_max__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! date-fns/add_days */ "./node_modules/date-fns/add_days/index.js");
/* harmony import */ var date_fns_add_days__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(date_fns_add_days__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var date_fns_parse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! date-fns/parse */ "./node_modules/date-fns/parse/index.js");
/* harmony import */ var date_fns_parse__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(date_fns_parse__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns/difference_in_days */ "./node_modules/date-fns/difference_in_days/index.js");
/* harmony import */ var date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/constants */ "./src/ducks/recurrence/constants.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_recurrence_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/recurrence/service */ "./src/ducks/recurrence/service.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}












var RECURRENCE_DOCTYPE = 'io.cozy.bank.recurrence';
var prettyLabel = function prettyLabel(label) {
  return label ? lodash_startCase__WEBPACK_IMPORTED_MODULE_1___default()(label.toLowerCase()) : '';
};
var getLabel = function getLabel(bundle) {
  if (bundle.manualLabel) {
    return bundle.manualLabel;
  } else {
    return prettyLabel(bundle.automaticLabel);
  }
};
var getCategories = function getCategories(bundle) {
  return bundle.categoryIds;
};
var getFrequencyWord = function getFrequencyWord(freq) {
  if (freq > 5 && freq <= 8) {
    return 'weekly';
  } else if (freq > 26 && freq <= 40) {
    return 'monthly';
  } else if (freq > 300 && freq <= 400) {
    return 'yearly';
  }
};
var getFrequency = function getFrequency(recurrence) {
  return recurrence.stats.deltas.median;
};
var getFrequencyText = function getFrequencyText(t, recurrence) {
  var frequency = Math.floor(getFrequency(recurrence));
  var freqWord = getFrequencyWord(frequency);
  var text = freqWord ? t("Recurrence.freq-info-word.".concat(freqWord)) : t("Recurrence.freq-info", {
    frequency: frequency
  });
  return text;
};
var getAmount = function getAmount(bundle) {
  return bundle.amounts[0];
};
var getCurrency = function getCurrency() {
  return '€';
};
var PERCENTAGE = Number(cozy_flags__WEBPACK_IMPORTED_MODULE_7___default()('banks.recurrency.percentage-amounts-accepted')) || ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_8__["PERCENTAGE_AMOUNTS_ACCEPTED"];
var getMinAmount = function getMinAmount(bundle) {
  var minAmount = Math.abs(lodash_min__WEBPACK_IMPORTED_MODULE_2___default()(bundle.amounts));
  return minAmount - minAmount * PERCENTAGE;
};
var getMaxAmount = function getMaxAmount(bundle) {
  var maxAmount = Math.abs(lodash_max__WEBPACK_IMPORTED_MODULE_3___default()(bundle.amounts));
  return maxAmount + maxAmount * PERCENTAGE;
};
var isBetween = function isBetween(_ref) {
  var value = _ref.value,
      min = _ref.min,
      max = _ref.max;
  return min <= value && value <= max;
};
/**
 * Make a recurrence from a transaction. The recurrence will inherit
 * the amount / account / category of the transaction
 *
 * @param  {Transaction} transaction (not hydrated)
 * @return {Recurrence}
 */

var makeRecurrenceFromTransaction = function makeRecurrenceFromTransaction(transaction) {
  var accountId = transaction.account;
  return {
    _type: RECURRENCE_DOCTYPE,
    automaticLabel: Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_9__["getLabel"])(transaction),
    stats: {
      deltas: {
        median: 30
      }
    },
    latestDate: transaction.date,
    latestAmount: transaction.amount,
    accounts: [accountId],
    amounts: [transaction.amount],
    categoryIds: [Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_9__["getCategoryId"])(transaction)]
  };
};
/** Gives the next date for a recurrence, based on the median stat and the latest date */

var nextDate = function nextDate(recurrence) {
  try {
    var rawLatestDate = recurrence.latestDate,
        median = recurrence.stats.deltas.median;
    var latestDate = date_fns_parse__WEBPACK_IMPORTED_MODULE_5___default()(rawLatestDate);
    var now = new Date(Date.now());
    var deltaDays = date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_6___default()(now, latestDate);
    var n = deltaDays / median;
    var r = Math.ceil(n);
    var candidate = date_fns_add_days__WEBPACK_IMPORTED_MODULE_4___default()(latestDate, r * median);

    if (date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_6___default()(candidate, now) <= 0) {
      return new Date(now);
    }

    return candidate;
  } catch (e) {
    // eslint-disable-next-line
    console.error('Error while computing next date', e);
    return null;
  }
};
var isDeprecatedBundle = function isDeprecatedBundle(recurrence) {
  var latestDate = date_fns_parse__WEBPACK_IMPORTED_MODULE_5___default()(recurrence.latestDate);
  var now = Date.now();
  return date_fns_difference_in_days__WEBPACK_IMPORTED_MODULE_6___default()(now, latestDate);
};
/**
 * Allows to add transactions to bundles which match with these conditions:
 * - Amount (with +/- percentage)
 * - CategoryId
 * - Account
 *
 * @param {Array<Recurrence>} bundles
 * @param {Array<Transaction>} transactions
 *
 * @returns {{transactionsForUpdatedBundles: Array<Transaction>, updatedBundles: Array<Recurrence>}}
 */

var addTransactionToBundles = function addTransactionToBundles(bundles, transactions) {
  var transactionsForUpdatedBundles = [];

  var updatedBundles = _toConsumableArray(bundles).map(function (b) {
    var bundle = _objectSpread({}, b);

    var minAmount = getMinAmount(bundle);
    var maxAmount = getMaxAmount(bundle);
    var transactionFounds = transactions.filter(function (transaction) {
      var _bundle$accounts;

      var hasSomeSameCategoryId = bundle.categoryIds.some(function (catId) {
        return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_9__["getCategoryId"])(transaction) === catId;
      });
      var hasAmountsBetweenExtremum = isBetween({
        value: Math.abs(transaction.amount),
        min: minAmount,
        max: maxAmount
      });
      var hasSomeSameAccount = (_bundle$accounts = bundle.accounts) === null || _bundle$accounts === void 0 ? void 0 : _bundle$accounts.some(function (account) {
        return account === transaction.account;
      });
      return hasSomeSameCategoryId && hasAmountsBetweenExtremum && hasSomeSameAccount;
    });

    if ((transactionFounds === null || transactionFounds === void 0 ? void 0 : transactionFounds.length) > 0) {
      bundle.ops = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default()([].concat(_toConsumableArray(bundle.ops), _toConsumableArray(transactionFounds)), function (o) {
        return o._id;
      });
      transactionsForUpdatedBundles = transactionsForUpdatedBundles.concat(transactionFounds);
    }

    return bundle;
  });

  Object(ducks_recurrence_service__WEBPACK_IMPORTED_MODULE_10__["logRecurrencesLabelAndTransactionsNumber"])({
    prefix: "\u2B50 Updated: ".concat(updatedBundles.length, " existing bundles:"),
    recurrences: updatedBundles
  });
  return {
    updatedBundles: updatedBundles,
    transactionsForUpdatedBundles: transactionsForUpdatedBundles
  };
};

/***/ }),

/***/ "./src/ducks/reimbursements/Reimbursements.jsx":
/*!*****************************************************!*\
  !*** ./src/ducks/reimbursements/Reimbursements.jsx ***!
  \*****************************************************/
/*! exports provided: DumbReimbursements, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbReimbursements", function() { return DumbReimbursements; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Divider */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Divider/index.js");
/* harmony import */ var ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/transactions/Transactions */ "./src/ducks/transactions/Transactions.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/reimbursements/Reimbursements.styl */ "./src/ducks/reimbursements/Reimbursements.styl");
/* harmony import */ var ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var components_KonnectorChip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/KonnectorChip */ "../overrides/cozy-banks/src/components/KonnectorChip/index.jsx");
/* harmony import */ var components_StoreLink__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! components/StoreLink */ "./src/components/StoreLink/index.js");
/* harmony import */ var components_Section__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Section */ "./src/components/Section/index.js");
/* harmony import */ var components_withFilters__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/withFilters */ "./src/components/withFilters.jsx");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var ducks_transactions_TransactionActionsProvider__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/transactions/TransactionActionsProvider */ "../overrides/cozy-banks/src/ducks/transactions/TransactionActionsProvider.jsx");
/* harmony import */ var ducks_brandDictionary_withBrands__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/brandDictionary/withBrands */ "./src/ducks/brandDictionary/withBrands.jsx");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./selectors */ "./src/ducks/reimbursements/selectors.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/transactions/scroll/getScrollingElement */ "./src/ducks/transactions/scroll/getScrollingElement.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



























var Caption = function Caption(props) {
  var className = props.className,
      rest = _objectWithoutProperties(props, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12___default.a.Caption, className)
  }, rest));
};

var NoPendingReimbursements = function NoPendingReimbursements(_ref) {
  var period = _ref.period,
      doc = _ref.doc;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      t = _useI18n.t;

  var categoryName = doc.categoryId ? Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_23__["getCategoryName"])(doc.categoryId) : null;
  var message = categoryName ? t("Reimbursements.noPending.".concat(categoryName), {
    period: period
  }) : t('Reimbursements.noPending.generic', {
    period: period
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: "u-pv-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Caption, null, message));
};

var NoReimbursedExpenses = function NoReimbursedExpenses(_ref2) {
  var hasHealthBrands = _ref2.hasHealthBrands,
      doc = _ref2.doc;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      t = _useI18n2.t;

  var categoryName = doc.categoryId ? Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_23__["getCategoryName"])(doc.categoryId) : null;
  var message;

  if (doc._type === doctypes__WEBPACK_IMPORTED_MODULE_2__["GROUP_DOCTYPE"]) {
    message = t('Reimbursements.noReimbursed.group');
  } else if (categoryName) {
    message = t("Reimbursements.noReimbursed.".concat(categoryName));
  } else {
    message = t('Reimbursements.noReimbursed.generic');
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: "u-pv-0"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Caption, null, message), !hasHealthBrands && categoryName === 'healthExpenses' && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_StoreLink__WEBPACK_IMPORTED_MODULE_15__["default"], {
    type: "konnector",
    category: "insurance"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_KonnectorChip__WEBPACK_IMPORTED_MODULE_14__["KonnectorChip"], {
    konnectorType: "health"
  })));
};

var DumbReimbursements = /*#__PURE__*/function (_Component) {
  _inherits(DumbReimbursements, _Component);

  function DumbReimbursements() {
    _classCallCheck(this, DumbReimbursements);

    return _possibleConstructorReturn(this, _getPrototypeOf(DumbReimbursements).apply(this, arguments));
  }

  _createClass(DumbReimbursements, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.props.addFilterByPeriod(Object(date_fns__WEBPACK_IMPORTED_MODULE_18__["getYear"])(new Date()).toString());
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          groupedExpenses = _this$props.groupedExpenses,
          t = _this$props.t,
          f = _this$props.f,
          triggers = _this$props.triggers,
          transactions = _this$props.transactions,
          brands = _this$props.brands,
          currentPeriod = _this$props.currentPeriod,
          filteringDoc = _this$props.filteringDoc;

      if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["isQueryLoading"])(transactions) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["hasQueryBeenLoaded"])(transactions) || Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["isQueryLoading"])(triggers) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["hasQueryBeenLoaded"])(triggers)) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_13__["default"], {
          loadingType: true
        });
      }

      var reimbursedExpenses = groupedExpenses.reimbursed,
          pendingExpenses = groupedExpenses.pending;
      var pendingAmount = lodash_sumBy__WEBPACK_IMPORTED_MODULE_3___default()(pendingExpenses, function (t) {
        return -t.amount;
      });
      var hasHealthBrands = brands.filter(function (brand) {
        return brand.hasTrigger && brand.health;
      }).length > 0;
      var formattedPeriod = f(Object(ducks_filters__WEBPACK_IMPORTED_MODULE_22__["parsePeriod"])(currentPeriod), currentPeriod.length === 4 ? 'YYYY' : 'MMMM YYYY');
      var hasPendingExpenses = pendingExpenses && pendingExpenses.length > 0;
      var hasReimbursedExpenses = reimbursedExpenses && reimbursedExpenses.length > 0;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionActionsProvider__WEBPACK_IMPORTED_MODULE_19__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "".concat(ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12___default.a.Reimbursements, " ").concat(ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_24__["DESKTOP_SCROLLING_ELEMENT_CLASSNAME"])
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_16__["Section"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_16__["SectionTitle"], null, t('Reimbursements.pending'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_8__["default"], {
        symbol: "\u20AC",
        total: pendingAmount,
        className: ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12___default.a.Reimbursements__figure,
        signed: true
      }), ' '), hasPendingExpenses ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_10__["TransactionList"], {
        transactions: pendingExpenses,
        className: ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12___default.a.Reimbursements__transactionsList,
        showTriggerErrors: false
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_9__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NoPendingReimbursements, {
        period: formattedPeriod,
        doc: filteringDoc
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_16__["Section"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Section__WEBPACK_IMPORTED_MODULE_16__["SectionTitle"], null, t('Reimbursements.alreadyReimbursed')), hasReimbursedExpenses ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_10__["TransactionList"], {
        transactions: reimbursedExpenses,
        className: ducks_reimbursements_Reimbursements_styl__WEBPACK_IMPORTED_MODULE_12___default.a.Reimbursements__transactionsList,
        showTriggerErrors: false
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_9__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NoReimbursedExpenses, {
        hasHealthBrands: hasHealthBrands,
        doc: filteringDoc
      })))));
    }
  }]);

  return DumbReimbursements;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

function mapStateToProps(state) {
  return {
    groupedExpenses: Object(_selectors__WEBPACK_IMPORTED_MODULE_21__["getGroupedFilteredExpenses"])(state),
    currentPeriod: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_22__["getPeriod"])(state),
    filteringDoc: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_22__["getFilteringDoc"])(state)
  };
}

var Reimbursements = lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["translate"])(), Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["queryConnect"])({
  transactions: doctypes__WEBPACK_IMPORTED_MODULE_2__["transactionsConn"]
}), Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps), components_withFilters__WEBPACK_IMPORTED_MODULE_17__["default"], // We need to have a different query name otherwise we end with an infinite
// loading
Object(ducks_brandDictionary_withBrands__WEBPACK_IMPORTED_MODULE_20__["default"])({
  queryName: 'reimbursementsPageTriggers'
}))(DumbReimbursements);
/* harmony default export */ __webpack_exports__["default"] = (Reimbursements);

/***/ }),

/***/ "./src/ducks/reimbursements/Reimbursements.styl":
/*!******************************************************!*\
  !*** ./src/ducks/reimbursements/Reimbursements.styl ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Header--fixed":"Header--fixed--1lN6g","HeaderColor_normal":"HeaderColor_normal--2DNMD","HeaderColor_inverted":"HeaderColor_inverted--20DxN","Header--paper":"Header--paper--2FDHN","Reimbursements":"Reimbursements--2knKG","Reimbursements__figure":"Reimbursements__figure--1ydgo","Reimbursements__transactionsList":"Reimbursements__transactionsList--2FDMs","Caption":"Caption--18J0v"};

/***/ }),

/***/ "./src/ducks/reimbursements/ReimbursementsPage.jsx":
/*!*********************************************************!*\
  !*** ./src/ducks/reimbursements/ReimbursementsPage.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Title__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Title */ "./src/components/Title/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var components_SelectDates__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/SelectDates */ "./src/components/SelectDates/index.jsx");
/* harmony import */ var ducks_reimbursements_Reimbursements__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/reimbursements/Reimbursements */ "./src/ducks/reimbursements/Reimbursements.jsx");
/* harmony import */ var ducks_reimbursements_ReimbursementsPage_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/reimbursements/ReimbursementsPage.styl */ "./src/ducks/reimbursements/ReimbursementsPage.styl");
/* harmony import */ var ducks_reimbursements_ReimbursementsPage_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(ducks_reimbursements_ReimbursementsPage_styl__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var ducks_filters_useFilteringDoc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/filters/useFilteringDoc */ "./src/ducks/filters/useFilteringDoc.js");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_14__);
















var getTitleTranslationKey = function getTitleTranslationKey(doc) {
  var base = 'Reimbursements.title';
  var lastPart;

  if (doc._type === doctypes__WEBPACK_IMPORTED_MODULE_13__["GROUP_DOCTYPE"]) {
    lastPart = 'group';
  } else if (doc.categoryId) {
    lastPart = Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_12__["getCategoryName"])(doc.categoryId);
  } else {
    lastPart = 'othersExpenses';
  }

  var key = [base, lastPart].join('.');
  return key;
};

var Title = function Title(_ref) {
  var doc = _ref.doc;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var translationKey = getTitleTranslationKey(doc);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title__WEBPACK_IMPORTED_MODULE_5__["PageTitle"], null, t(translationKey));
};

var start2016 = new Date(2015, 11, 31);

var getDefaultOptions = function getDefaultOptions() {
  var options = [];
  var now = Object(date_fns__WEBPACK_IMPORTED_MODULE_14__["endOfDay"])(new Date());

  for (var i = 0; i < Object(date_fns__WEBPACK_IMPORTED_MODULE_14__["differenceInCalendarMonths"])(now, start2016); i++) {
    var month = Object(date_fns__WEBPACK_IMPORTED_MODULE_14__["format"])(Object(date_fns__WEBPACK_IMPORTED_MODULE_14__["subMonths"])(now, i), 'YYYY-MM');
    options.push({
      yearMonth: month
    });
  }

  return options;
};

var ReimbursementsPage = function ReimbursementsPage() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var filteringDoc = Object(ducks_filters_useFilteringDoc__WEBPACK_IMPORTED_MODULE_11__["default"])();
  var options = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return getDefaultOptions();
  }, []);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_3__["default"], {
    theme: "inverted",
    fixed: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()({
      'u-ph-half': isMobile,
      'u-pv-0': isMobile,
      'u-pb-half': isMobile
    })
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_reimbursements_ReimbursementsPage_styl__WEBPACK_IMPORTED_MODULE_10___default.a.ReimbursementsPage__title
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    theme: "primary",
    arrow: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Title, {
    doc: filteringDoc
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_SelectDates__WEBPACK_IMPORTED_MODULE_8__["ConnectedSelectDates"], {
    showFullYear: true,
    color: "primary",
    options: options
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_reimbursements_Reimbursements__WEBPACK_IMPORTED_MODULE_9__["default"], null));
};

/* harmony default export */ __webpack_exports__["default"] = (ReimbursementsPage);

/***/ }),

/***/ "./src/ducks/reimbursements/ReimbursementsPage.styl":
/*!**********************************************************!*\
  !*** ./src/ducks/reimbursements/ReimbursementsPage.styl ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ReimbursementsPage__title":"ReimbursementsPage__title--aDQP2"};

/***/ }),

/***/ "./src/ducks/reimbursements/index.js":
/*!*******************************************!*\
  !*** ./src/ducks/reimbursements/index.js ***!
  \*******************************************/
/*! exports provided: ReimbursementsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_reimbursements_ReimbursementsPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/reimbursements/ReimbursementsPage */ "./src/ducks/reimbursements/ReimbursementsPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ReimbursementsPage", function() { return ducks_reimbursements_ReimbursementsPage__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/ducks/reimbursements/selectors.js":
/*!***********************************************!*\
  !*** ./src/ducks/reimbursements/selectors.js ***!
  \***********************************************/
/*! exports provided: getGroupedHealthExpensesByPeriod, getGroupedHealthExpenses, getExpensesByFilteringDoc, getFilteredExpenses, getGroupedFilteredExpenses, getHealthReimbursementLateLimitSelector, getLateHealthExpenses */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupedHealthExpensesByPeriod", function() { return getGroupedHealthExpensesByPeriod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupedHealthExpenses", function() { return getGroupedHealthExpenses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getExpensesByFilteringDoc", function() { return getExpensesByFilteringDoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFilteredExpenses", function() { return getFilteredExpenses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupedFilteredExpenses", function() { return getGroupedFilteredExpenses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHealthReimbursementLateLimitSelector", function() { return getHealthReimbursementLateLimitSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLateHealthExpenses", function() { return getLateHealthExpenses; });
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var ducks_settings_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/selectors */ "./src/ducks/settings/selectors.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");









var groupExpenses = function groupExpenses(expenses) {
  var _groupBy = lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(expenses, ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__["getReimbursementStatus"]),
      _groupBy$reimbursed = _groupBy.reimbursed,
      reimbursed = _groupBy$reimbursed === void 0 ? [] : _groupBy$reimbursed,
      _groupBy$pending = _groupBy.pending,
      pending = _groupBy$pending === void 0 ? [] : _groupBy$pending;

  return {
    reimbursed: reimbursed,
    pending: pending
  };
};

var getGroupedHealthExpensesByPeriod = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([ducks_filters__WEBPACK_IMPORTED_MODULE_1__["getHealthExpensesByPeriod"]], groupExpenses);
var getGroupedHealthExpenses = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([ducks_filters__WEBPACK_IMPORTED_MODULE_1__["getHealthExpenses"]], groupExpenses);
var getExpensesByFilteringDoc = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([selectors__WEBPACK_IMPORTED_MODULE_2__["getTransactions"], ducks_filters__WEBPACK_IMPORTED_MODULE_1__["getFilteringDoc"]], function (transactions, filteringDoc) {
  var filter;

  if (filteringDoc._type === 'io.cozy.bank.accounts') {
    filter = filteringDoc.categoryId ? ducks_account_helpers__WEBPACK_IMPORTED_MODULE_7__["reimbursementsVirtualAccountsSpecs"][filteringDoc.categoryId].filter : ducks_account_helpers__WEBPACK_IMPORTED_MODULE_7__["othersFilter"];
  } else if (filteringDoc._type === 'io.cozy.bank.groups') {
    filter = ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__["isExpense"];
  }

  return transactions.filter(filter);
});
var getFilteredExpenses = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([getExpensesByFilteringDoc, ducks_filters__WEBPACK_IMPORTED_MODULE_1__["getPeriod"], ducks_filters__WEBPACK_IMPORTED_MODULE_1__["getDateGetter"]], function (transactions, period, dateGetter) {
  return Object(ducks_filters__WEBPACK_IMPORTED_MODULE_1__["filterByPeriod"])(transactions, period, dateGetter);
});
var getGroupedFilteredExpenses = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([getFilteredExpenses], groupExpenses);
var getHealthReimbursementLateLimitSelector = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([ducks_settings_selectors__WEBPACK_IMPORTED_MODULE_6__["getSettings"]], function (settings) {
  return Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_5__["getHealthReimbursementLateLimit"])(settings);
});
var getLateHealthExpenses = Object(reselect__WEBPACK_IMPORTED_MODULE_3__["createSelector"])([getGroupedHealthExpenses, getHealthReimbursementLateLimitSelector], function (groupedHealthExpenses, healthReimbursementLateLimit) {
  return groupedHealthExpenses.pending.filter(function (tr) {
    return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__["isReimbursementLate"])(tr, healthReimbursementLateLimit);
  });
});

/***/ }),

/***/ "./src/ducks/search/CompositeHeader.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/search/CompositeHeader.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");



var CompositeHeader = function CompositeHeader(_ref) {
  var title = _ref.title,
      image = _ref.image;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-ta-center"
  }, image, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__["default"], {
    variant: "h3",
    classes: {
      root: 'u-mb-half'
    }
  }, title));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(CompositeHeader));

/***/ }),

/***/ "./src/ducks/search/EarliestTransactionDate.jsx":
/*!******************************************************!*\
  !*** ./src/ducks/search/EarliestTransactionDate.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Tooltip */ "./node_modules/cozy-ui/transpiled/react/Tooltip/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_History__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/History */ "./node_modules/cozy-ui/transpiled/react/Icons/History.js");








var EarliestTransactionDate = function EarliestTransactionDate(_ref) {
  var transaction = _ref.transaction,
      transactionCol = _ref.transactionCol,
      onFetchMore = _ref.onFetchMore;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t,
      f = _useI18n.f;

  if (!transaction) return null;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, t('Search.since', {
    date: f(transaction.date, 'D MMM YYYY')
  }), transactionCol.hasMore ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Tooltip__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: t('Search.search-older-transactions')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    disabled: Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(transactionCol),
    onClick: onFetchMore
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
    icon: cozy_ui_transpiled_react_Icons_History__WEBPACK_IMPORTED_MODULE_6__["default"]
  }))) : null);
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(EarliestTransactionDate));

/***/ }),

/***/ "./src/ducks/search/SearchHeader.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/search/SearchHeader.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var ducks_transactions_header_TableHead__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/header/TableHead */ "./src/ducks/transactions/header/TableHead.jsx");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var components_Title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Title */ "./src/components/Title/index.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");
/* harmony import */ var components_BarSearchInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/BarSearchInput */ "./src/components/BarSearchInput/index.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_search_EarliestTransactionDate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/search/EarliestTransactionDate */ "./src/ducks/search/EarliestTransactionDate.jsx");
/* harmony import */ var ducks_selection_SelectionIconLink__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/selection/SelectionIconLink */ "./src/ducks/selection/SelectionIconLink.jsx");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");















var SearchHeader = function SearchHeader(_ref) {
  var results = _ref.results,
      search = _ref.search,
      setSearch = _ref.setSearch,
      searchSufficient = _ref.searchSufficient,
      handleFetchMore = _ref.handleFetchMore,
      transactionCol = _ref.transactionCol,
      earliestTransaction = _ref.earliestTransaction;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var _useSelectionContext = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_13__["useSelectionContext"])(),
      isSelectionModeActive = _useSelectionContext.isSelectionModeActive,
      setIsSelectionModeActive = _useSelectionContext.setIsSelectionModeActive;

  var handleReset = function handleReset(inputNode) {
    setSearch('');
    setIsSelectionModeActive(false);
    inputNode.focus();
  };

  var handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    setSearch(ev.target.value);
    if (results.length === 0) setIsSelectionModeActive(false);
  }, [results.length, setIsSelectionModeActive, setSearch]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_5__["default"], {
    theme: "inverted",
    fixed: true
  }, isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    to: "/balances",
    arrow: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_8__["BarCenter"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BarSearchInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
    placeholder: t('Search.input-placeholder'),
    value: search,
    autofocus: true,
    onChange: handleChange,
    onReset: handleReset
  }), results.length > 0 && search.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_selection_SelectionIconLink__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isSelectionModeActive: isSelectionModeActive,
    setIsSelectionModeActive: setIsSelectionModeActive
  }))) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_10__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    to: "/balances",
    arrow: true
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title__WEBPACK_IMPORTED_MODULE_6__["PageTitle"], {
    className: "u-lh-tiny"
  }, searchSufficient && results.length ? t('Search.title-results', {
    smart_count: results.length
  }) : t('Search.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_EarliestTransactionDate__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onFetchMore: handleFetchMore,
    transaction: earliestTransaction,
    transactionCol: transactionCol
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_8__["BarSearch"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BarSearchInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
    placeholder: t('Search.input-placeholder'),
    value: search,
    onChange: handleChange,
    autofocus: true,
    onReset: handleReset
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_header_TableHead__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isSubcategory: false
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SearchHeader));

/***/ }),

/***/ "./src/ducks/search/SearchIconLink.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/search/SearchIconLink.jsx ***!
  \*********************************************/
/*! exports provided: MobileBarSearchIconLink, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileBarSearchIconLink", function() { return MobileBarSearchIconLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Magnifier */ "./node_modules/cozy-ui/transpiled/react/Icons/Magnifier.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var components_Bar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Bar */ "../overrides/cozy-banks/src/components/Bar.jsx");








var SearchIconLink = function SearchIconLink(_ref) {
  var className = _ref.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_1__["default"], {
    component: "a",
    href: "#/search",
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('u-mr-half', className)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_4__["default"]
  }));
};

var MobileBarSearchIconLink = function MobileBarSearchIconLink() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Bar__WEBPACK_IMPORTED_MODULE_6__["BarRight"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SearchIconLink, null)) : null;
};
/* harmony default export */ __webpack_exports__["default"] = (SearchIconLink);

/***/ }),

/***/ "./src/ducks/search/SearchPage.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/search/SearchPage.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_minBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/minBy */ "./node_modules/lodash/minBy.js");
/* harmony import */ var lodash_minBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_minBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fuse.js/dist/fuse.js */ "./node_modules/fuse.js/dist/fuse.js");
/* harmony import */ var fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/NarrowContent */ "./node_modules/cozy-ui/transpiled/react/NarrowContent/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/transactions/Transactions */ "./src/ducks/transactions/Transactions.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! components/HeaderLoadingProgress */ "./src/components/HeaderLoadingProgress.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/transactions/scroll/getScrollingElement */ "./src/ducks/transactions/scroll/getScrollingElement.jsx");
/* harmony import */ var ducks_search_helpers__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/search/helpers */ "./src/ducks/search/helpers.js");
/* harmony import */ var ducks_search_queries__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/search/queries */ "./src/ducks/search/queries.js");
/* harmony import */ var ducks_search_EarliestTransactionDate__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/search/EarliestTransactionDate */ "./src/ducks/search/EarliestTransactionDate.jsx");
/* harmony import */ var ducks_search_CompositeHeader__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/search/CompositeHeader */ "./src/ducks/search/CompositeHeader.jsx");
/* harmony import */ var ducks_search_SearchSuggestions__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/search/SearchSuggestions */ "./src/ducks/search/SearchSuggestions.jsx");
/* harmony import */ var ducks_search_SearchHeader__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/search/SearchHeader */ "./src/ducks/search/SearchHeader.jsx");
/* harmony import */ var assets_search_illu_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! assets/search-illu.svg */ "./src/assets/search-illu.svg");
/* harmony import */ var assets_search_illu_svg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(assets_search_illu_svg__WEBPACK_IMPORTED_MODULE_25__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



























var emptyResults = [];
var transactionListOptions = {
  mobileSectionDateFormat: 'ddd D MMMM YYYY'
};
var emptyButtonStyle = {
  maxWidth: '80%'
};

var SearchPage = function SearchPage() {
  var params = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_17__["useParams"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_8__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(params.search ? decodeURIComponent(params.search) : ''),
      _useState2 = _slicedToArray(_useState, 2),
      search = _useState2[0],
      setSearch = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState4 = _slicedToArray(_useState3, 2),
      resultIds = _useState4[0],
      setResultIds = _useState4[1];

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["useTrackPage"])('recherche');
  var transactionCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["useQuery"])(ducks_search_queries__WEBPACK_IMPORTED_MODULE_20__["searchConn"].query, ducks_search_queries__WEBPACK_IMPORTED_MODULE_20__["searchConn"]);
  var _transactionCol$data = transactionCol.data,
      transactions = _transactionCol$data === void 0 ? emptyResults : _transactionCol$data,
      lastUpdate = transactionCol.lastUpdate;
  var earliestTransaction = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_minBy__WEBPACK_IMPORTED_MODULE_1___default()(transactions, ducks_search_helpers__WEBPACK_IMPORTED_MODULE_19__["getTransactionDate"]);
  }, [transactions]);
  var fuse = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    var fuse = new fuse_js_dist_fuse_js__WEBPACK_IMPORTED_MODULE_4___default.a(transactions || [], {
      keys: ['label'],
      ignoreLocation: true,
      includeScore: true,
      includeMatches: true,
      minMatchCharLength: 3
    });
    return fuse;
  }, [lastUpdate]); // eslint-disable-line react-hooks/exhaustive-deps

  var searchSufficient = Object(ducks_search_helpers__WEBPACK_IMPORTED_MODULE_19__["isSearchSufficient"])(search);
  var performSearch = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(function (searchValue) {
      var results = fuse.search(searchValue).filter(function (result) {
        return result.score < 0.3;
      });
      var orderedResults = Object(ducks_search_helpers__WEBPACK_IMPORTED_MODULE_19__["orderSearchResults"])(results);
      var transactions = orderedResults.map(function (result) {
        return result.item;
      });
      setResultIds(transactions.map(function (tr) {
        return tr._id;
      }));
    }, 200);
  }, [fuse, setResultIds]);
  var handleFetchMore = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    if (!Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["isQueryLoading"])(transactionCol)) {
      transactionCol.fetchMore();
    }
  }, [transactionCol]); // at mount time, perform a search if there is the search params

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (params.search) {
      performSearch(params.search);
    }
  }, []); // eslint-disable-line react-hooks/exhaustive-deps

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (lastUpdate && search) {
      performSearch(search);
    }
  }, [lastUpdate, performSearch, search]);
  var results = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    var transactionsById = lodash_keyBy__WEBPACK_IMPORTED_MODULE_3___default()(transactions, function (tr) {
      return tr._id;
    });
    return resultIds.map(function (rid) {
      return transactionsById[rid];
    }).filter(Boolean);
  }, [transactions, resultIds]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_14__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_SearchHeader__WEBPACK_IMPORTED_MODULE_24__["default"], {
    results: results,
    search: search,
    setSearch: setSearch,
    searchSufficient: searchSufficient,
    handleFetchMore: handleFetchMore,
    transactionCol: transactionCol,
    earliestTransaction: earliestTransaction
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isFetching: transactionCol.fetchStatus === 'loading'
  }), isMobile && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
    color: "textSecondary",
    className: "u-p-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_EarliestTransactionDate__WEBPACK_IMPORTED_MODULE_21__["default"], {
    onFetchMore: handleFetchMore,
    transaction: earliestTransaction,
    transactionCol: transactionCol
  })), (!searchSufficient || !lastUpdate) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_NarrowContent__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: "u-m-auto"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_CompositeHeader__WEBPACK_IMPORTED_MODULE_22__["default"], {
    image: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: assets_search_illu_svg__WEBPACK_IMPORTED_MODULE_25___default.a,
      width: "116px",
      className: "u-mt-1 u-mb-1"
    }),
    title: t('Search.type-a-search')
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_search_SearchSuggestions__WEBPACK_IMPORTED_MODULE_23__["default"], null))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_transactions_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_18__["DESKTOP_SCROLLING_ELEMENT_CLASSNAME"]
  }, searchSufficient && lastUpdate && (results.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_13__["TransactionsListContext"].Provider, {
    value: transactionListOptions
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_13__["TransactionList"], {
    transactions: results,
    showTriggerErrors: false
  })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: "u-mt-large",
    title: t('Search.no-transactions-found', {
      search: search
    })
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
    style: emptyButtonStyle,
    theme: "secondary",
    label: t('Search.search-older-transactions'),
    onClick: handleFetchMore
  })))));
};

/* harmony default export */ __webpack_exports__["default"] = (SearchPage);

/***/ }),

/***/ "./src/ducks/search/SearchSuggestions.jsx":
/*!************************************************!*\
  !*** ./src/ducks/search/SearchSuggestions.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");




var SearchSuggestions = function SearchSuggestions() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    align: "center",
    variant: "body1"
  }, t('Search.suggestions'));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SearchSuggestions));

/***/ }),

/***/ "./src/ducks/search/helpers.js":
/*!*************************************!*\
  !*** ./src/ducks/search/helpers.js ***!
  \*************************************/
/*! exports provided: getTransactionDate, isSearchSufficient, byRoundedScore, byDate, orderSearchResults */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionDate", function() { return getTransactionDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSearchSufficient", function() { return isSearchSufficient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "byRoundedScore", function() { return byRoundedScore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "byDate", function() { return byDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "orderSearchResults", function() { return orderSearchResults; });
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/orderBy */ "./node_modules/lodash/orderBy.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_0__);

var getTransactionDate = function getTransactionDate(x) {
  return x.date;
};
var isSearchSufficient = function isSearchSufficient(searchStr) {
  return searchStr.length > 2;
};
var byRoundedScore = function byRoundedScore(result) {
  return parseFloat(result.score.toFixed(1), 10);
};
var byDate = function byDate(result) {
  return result.item.date;
};
var orderSearchResults = function orderSearchResults(results) {
  return lodash_orderBy__WEBPACK_IMPORTED_MODULE_0___default()(results, [byRoundedScore, byDate], ['asc', 'desc']);
};

/***/ }),

/***/ "./src/ducks/search/index.jsx":
/*!************************************!*\
  !*** ./src/ducks/search/index.jsx ***!
  \************************************/
/*! exports provided: SearchPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SearchPage_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SearchPage.jsx */ "./src/ducks/search/SearchPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SearchPage", function() { return _SearchPage_jsx__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/ducks/search/queries.js":
/*!*************************************!*\
  !*** ./src/ducks/search/queries.js ***!
  \*************************************/
/*! exports provided: searchConn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "searchConn", function() { return searchConn; });
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");


var searchConn = {
  query: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_1__["TRANSACTION_DOCTYPE"]).where({
    _id: {
      $gt: null
    }
  }).indexFields(['date']).sortBy([{
    date: 'desc'
  }]).limitBy(1000),
  as: 'transactions-searchPage'
};

/***/ }),

/***/ "./src/ducks/selection/SelectionBar.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/selection/SelectionBar.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_SelectionBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/SelectionBar */ "./node_modules/cozy-ui/transpiled/react/SelectionBar/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");
/* harmony import */ var ducks_selection_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/selection/helpers */ "./src/ducks/selection/helpers.js");
/* harmony import */ var ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/TransactionRow */ "./src/ducks/transactions/TransactionRow/index.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }










var SelectionBar = function SelectionBar(_ref) {
  var transactions = _ref.transactions;

  var _useSelectionContext = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_5__["useSelectionContext"])(),
      isSelectionModeActive = _useSelectionContext.isSelectionModeActive,
      selected = _useSelectionContext.selected,
      emptyAndDeactivateSelection = _useSelectionContext.emptyAndDeactivateSelection;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var beforeUpdates = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    emptyAndDeactivateSelection();
  }, [emptyAndDeactivateSelection]);

  var afterUpdates = function afterUpdates() {
    cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].success(t('Categorization.success', {
      smart_count: selected.length
    }));
  };

  var onError = function onError() {
    cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error(t('Categorization.error'));
  };

  var _useTransactionCatego = Object(ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_7__["useTransactionCategoryModal"])({
    transactions: selected,
    beforeUpdates: beforeUpdates,
    afterUpdates: afterUpdates,
    onError: onError
  }),
      _useTransactionCatego2 = _slicedToArray(_useTransactionCatego, 3),
      showTransactionCategoryModal = _useTransactionCatego2[0],
      transactionCategoryModal = _useTransactionCatego2[2];

  var actions = Object(ducks_selection_helpers__WEBPACK_IMPORTED_MODULE_6__["useSelectionBarActions"])({
    items: transactions,
    showTransactionCategoryModal: showTransactionCategoryModal
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isSelectionModeActive && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_SelectionBar__WEBPACK_IMPORTED_MODULE_2__["default"], {
    actions: actions,
    selected: selected,
    hideSelectionBar: emptyAndDeactivateSelection
  }), transactionCategoryModal);
};

SelectionBar.propTypes = {
  transactions: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SelectionBar));

/***/ }),

/***/ "./src/ducks/selection/SelectionIconLink.jsx":
/*!***************************************************!*\
  !*** ./src/ducks/selection/SelectionIconLink.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Checkbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Checkbox */ "./node_modules/cozy-ui/transpiled/react/Icons/Checkbox.js");





var SelectionIconLink = function SelectionIconLink(_ref) {
  var isSelectionModeActive = _ref.isSelectionModeActive,
      setIsSelectionModeActive = _ref.setIsSelectionModeActive;
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    if (!isSelectionModeActive) setIsSelectionModeActive(true);
  }, [isSelectionModeActive, setIsSelectionModeActive]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "u-mr-half",
    onClick: handleClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Checkbox__WEBPACK_IMPORTED_MODULE_3__["default"]
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SelectionIconLink));

/***/ }),

/***/ "./src/ducks/selection/helpers.js":
/*!****************************************!*\
  !*** ./src/ducks/selection/helpers.js ***!
  \****************************************/
/*! exports provided: useSelectionBarActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useSelectionBarActions", function() { return useSelectionBarActions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_GraphCircle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/GraphCircle */ "./node_modules/cozy-ui/transpiled/react/Icons/GraphCircle.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_SelectAll__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/SelectAll */ "./node_modules/cozy-ui/transpiled/react/Icons/SelectAll.js");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");





var useSelectionBarActions = function useSelectionBarActions(_ref) {
  var items = _ref.items,
      showTransactionCategoryModal = _ref.showTransactionCategoryModal;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isDesktop = _useBreakpoints.isDesktop;

  var _useSelectionContext = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_4__["useSelectionContext"])(),
      emptySelection = _useSelectionContext.emptySelection,
      emptyAndDeactivateSelection = _useSelectionContext.emptyAndDeactivateSelection,
      fillSelectionWith = _useSelectionContext.fillSelectionWith;

  var fillSelection = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    return fillSelectionWith(items);
  }, [fillSelectionWith, items]);
  var unSelectAllAction = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    isDesktop ? emptyAndDeactivateSelection() : emptySelection();
  }, [emptyAndDeactivateSelection, emptySelection, isDesktop]);
  var actions = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return {
      categorize: {
        action: function action() {
          return showTransactionCategoryModal();
        },
        displayCondition: function displayCondition(selected) {
          return selected.length > 0;
        },
        icon: cozy_ui_transpiled_react_Icons_GraphCircle__WEBPACK_IMPORTED_MODULE_2__["default"]
      },
      selectAll: {
        action: function action() {
          return fillSelection();
        },
        displayCondition: function displayCondition(selected) {
          return selected.length !== items.length;
        },
        icon: cozy_ui_transpiled_react_Icons_SelectAll__WEBPACK_IMPORTED_MODULE_3__["default"],
        disabled: function disabled() {
          return false;
        }
      },
      unselectAll: {
        action: function action() {
          return unSelectAllAction();
        },
        displayCondition: function displayCondition(selected) {
          return selected.length === items.length;
        },
        icon: cozy_ui_transpiled_react_Icons_SelectAll__WEBPACK_IMPORTED_MODULE_3__["default"]
      }
    };
  }, [fillSelection, items.length, showTransactionCategoryModal, unSelectAllAction]);
  return actions;
};

/***/ }),

/***/ "./src/ducks/settings/AccountListItem.jsx":
/*!************************************************!*\
  !*** ./src/ducks/settings/AccountListItem.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/KonnectorIcon */ "./node_modules/cozy-harvest-lib/dist/components/KonnectorIcon.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Right */ "./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Warning */ "./node_modules/cozy-ui/transpiled/react/Icons/Warning.js");












var konnectorIconStyle = {
  width: 16,
  height: 16
};

var AccountListItem = function AccountListItem(_ref) {
  var account = _ref.account,
      onClick = _ref.onClick,
      secondary = _ref.secondary,
      isLoading = _ref.isLoading,
      hasError = _ref.hasError;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_2__["default"], {
    button: true,
    divider: true,
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_3__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_6__["AccountIconContainer"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_KonnectorIcon__WEBPACK_IMPORTED_MODULE_4__["default"], {
    style: konnectorIconStyle,
    konnectorSlug: account.cozyMetadata ? account.cozyMetadata.createdByApp : null
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__["default"], {
    primary: Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_10__["getAccountInstitutionLabel"])(account),
    secondary: secondary
  }), hasError && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_11__["default"],
    color: "var(--errorColor)",
    className: "u-mr-half",
    "data-testid": "error-konn"
  }), isLoading ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_7__["default"], {
    size: "large"
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_9__["default"],
    className: "u-coolGrey"
  }));
};

AccountListItem.propTypes = {
  account: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  secondary: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired, prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired]),
  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  hasError: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (AccountListItem);

/***/ }),

/***/ "./src/ducks/settings/AccountsListSettings.jsx":
/*!*****************************************************!*\
  !*** ./src/ducks/settings/AccountsListSettings.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_harvest_lib_dist_components_DisconnectedAccountModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/DisconnectedAccountModal */ "./node_modules/cozy-harvest-lib/dist/components/DisconnectedAccountModal.js");
/* harmony import */ var ducks_settings_HarvestBankAccountSettings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/settings/HarvestBankAccountSettings */ "./src/ducks/settings/HarvestBankAccountSettings.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Unlink__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Unlink */ "./node_modules/cozy-ui/transpiled/react/Icons/Unlink.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_settings_AccountListItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/settings/AccountListItem */ "./src/ducks/settings/AccountListItem.jsx");
/* harmony import */ var _helpers_jobs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./helpers/jobs */ "./src/ducks/settings/helpers/jobs.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
















var utils = cozy_client__WEBPACK_IMPORTED_MODULE_6__["models"].utils;
/**
 * Returns the connection id of an account
 *
 * To achieve backward compatibility of the UI when accounts
 * are not connected to any io.cozy.accounts (since banking
 * connectors historically did not store the io.cozy.accounts
 * in the io.cozy.bank.accounts), the connectionId
 * that is assumed for bank accounts that have not been connected
 * is the konnector slug. This means that every account for
 * a given konnector will be regrouped (instead of being grouped
 * by io.cozy.accounts).
 */

var getConnectionIdFromAccount = function getConnectionIdFromAccount(account) {
  return account.connection && account.connection.raw ? account.connection.raw._id : utils.getCreatedByApp(account);
};

var AccountsListSettings = function AccountsListSettings(_ref) {
  var _ref$accounts = _ref.accounts,
      myAccounts = _ref$accounts === void 0 ? [] : _ref$accounts,
      jobsInProgress = _ref.jobsInProgress;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useClient"])();
  var appsInMaintenance = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useAppsInMaintenance"])(client);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      konnInError = _useState2[0],
      setKonnInError = _useState2[1];

  var accounts = _toConsumableArray(myAccounts).concat(Object(_helpers_jobs__WEBPACK_IMPORTED_MODULE_14__["transformJobsToFakeAccounts"])(jobsInProgress));

  var connectionGroups = Object.values(lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default()(accounts, function (acc) {
    return getConnectionIdFromAccount(acc);
  })).map(function (accounts) {
    return {
      accounts: accounts,
      connection: accounts[0].connection.data,
      connectionId: getConnectionIdFromAccount(accounts[0])
    };
  });
  var slugInMaintenance = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return appsInMaintenance.map(function (appsInMaintenance) {
      return appsInMaintenance.slug;
    });
  }, [appsInMaintenance]);
  var triggers = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_12__["cronKonnectorTriggersConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_12__["cronKonnectorTriggersConn"]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var _triggers$data;

    var errors = (triggers === null || triggers === void 0 ? void 0 : (_triggers$data = triggers.data) === null || _triggers$data === void 0 ? void 0 : _triggers$data.filter(function (trigger) {
      return lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(trigger, 'current_state.status') === 'errored';
    }).map(function (trigger) {
      return lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(trigger, 'message.konnector');
    })) || [];
    setKonnInError(errors); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [triggers.lastUpdate]); // Depending on whether the bank account is still connected to an
  // io.cozy.accounts, we will either show the AccountModal or the
  // DisconnectedAccountModal

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null),
      _useState4 = _slicedToArray(_useState3, 2),
      editionModalOptions = _useState4[0],
      setEditionModalOptions = _useState4[1];

  var secondary = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (connection, isLoading) {
    if (connection) {
      if (isLoading) {
        return t('Settings.accounts-tab.import-in-progress');
      }

      var isInMaintenance = slugInMaintenance.includes(connection === null || connection === void 0 ? void 0 : connection.account_type);

      if (isInMaintenance) {
        return t('Settings.accounts-tab.in-maintenance');
      }

      return connection.auth.identifier;
    } else {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
        icon: cozy_ui_transpiled_react_Icons_Unlink__WEBPACK_IMPORTED_MODULE_11__["default"],
        size: "8",
        className: "u-mr-half"
      }), t('Harvest.disconnected-account'));
    }
  }, [slugInMaintenance, t]);

  var hasError = function hasError(connection) {
    return konnInError.includes(connection === null || connection === void 0 ? void 0 : connection.account_type);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_9__["Unpadded"], {
    horizontal: true,
    className: ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_10__["default"].active ? 'u-mv-1' : 'u-mb-1'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_5__["default"], null, connectionGroups.map(function (_ref2) {
    var accounts = _ref2.accounts,
        connection = _ref2.connection,
        connectionId = _ref2.connectionId;
    var isLoading = jobsInProgress.some(function (j) {
      return j.account === connectionId;
    }) || accounts[0].inProgress;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_AccountListItem__WEBPACK_IMPORTED_MODULE_13__["default"], {
      key: accounts[0]._id,
      account: accounts[0],
      secondary: secondary(connection, isLoading),
      onClick: function onClick() {
        return setEditionModalOptions({
          connection: connection,
          connectionId: connectionId
        });
      },
      isLoading: isLoading,
      hasError: hasError(connection)
    });
  })), editionModalOptions ? editionModalOptions.connection ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_HarvestBankAccountSettings__WEBPACK_IMPORTED_MODULE_8__["default"], {
    connectionId: editionModalOptions.connection._id,
    onDismiss: function onDismiss() {
      return setEditionModalOptions(null);
    }
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_DisconnectedAccountModal__WEBPACK_IMPORTED_MODULE_7__["default"], {
    onClose: function onClose() {
      return setEditionModalOptions(null);
    },
    accounts: accounts.filter(function (acc) {
      return getConnectionIdFromAccount(acc) === editionModalOptions.connectionId;
    })
  }) : null);
};

/* harmony default export */ __webpack_exports__["default"] = (AccountsListSettings);

/***/ }),

/***/ "./src/ducks/settings/AccountsSettings.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/settings/AccountsSettings.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Buttons */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Buttons/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Plus */ "./node_modules/cozy-ui/transpiled/react/Icons/Plus.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/settings/AddAccountLink */ "../overrides/cozy-banks/src/ducks/settings/AddAccountLink.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_context_BanksContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/context/BanksContext */ "./src/ducks/context/BanksContext.jsx");
/* harmony import */ var ducks_settings_AccountsListSettings__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/settings/AccountsListSettings */ "./src/ducks/settings/AccountsListSettings.jsx");















var AccountsSettings = function AccountsSettings() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_10__["useTrackPage"])('parametres:comptes');
  var accountsCollection = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_11__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_11__["accountsConn"]);

  var _useBanksContext = Object(ducks_context_BanksContext__WEBPACK_IMPORTED_MODULE_12__["useBanksContext"])(),
      _useBanksContext$jobs = _useBanksContext.jobsInProgress,
      jobsInProgress = _useBanksContext$jobs === void 0 ? [] : _useBanksContext$jobs,
      hasJobsInProgress = _useBanksContext.hasJobsInProgress;

  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["isQueryLoading"])(accountsCollection) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["hasQueryBeenLoaded"])(accountsCollection)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_8__["default"], null);
  }

  var sortedAccounts = lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default()(accountsCollection.data, ['institutionLabel', 'label']);
  var accountBySharingDirection = lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default()(sortedAccounts, function (account) {
    return account.shared === undefined;
  });
  var myAccounts = accountBySharingDirection[true];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, myAccounts || hasJobsInProgress ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_AccountsListSettings__WEBPACK_IMPORTED_MODULE_13__["default"], {
    accounts: myAccounts,
    jobsInProgress: jobsInProgress,
    t: t
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, t('Accounts.no-accounts')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_AddAccountLink__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_4__["default"], {
    color: "primary"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_6__["default"],
    className: "u-mr-half"
  }), ' ', t('Accounts.add-bank'))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(AccountsSettings));

/***/ }),

/***/ "./src/ducks/settings/AppVersion.jsx":
/*!*******************************************!*\
  !*** ./src/ducks/settings/AppVersion.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_settings_AppVersion_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/settings/AppVersion.styl */ "./src/ducks/settings/AppVersion.styl");
/* harmony import */ var ducks_settings_AppVersion_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_AppVersion_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");


function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var takeLast = function takeLast(arr, n) {
  var l = arr.length;
  var start = Math.max(0, l - n);
  var end = l;
  return arr.slice(start, end);
};

var pairs = /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function pairs(arr) {
  var i;
  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function pairs$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          i = 1;

        case 1:
          if (!(i < arr.length)) {
            _context.next = 7;
            break;
          }

          _context.next = 4;
          return [arr[i - 1], arr[i]];

        case 4:
          i++;
          _context.next = 1;
          break;

        case 7:
        case "end":
          return _context.stop();
      }
    }
  }, pairs);
});

var AppVersion = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(AppVersion, _React$PureComponent);

  function AppVersion(props) {
    var _this;

    _classCallCheck(this, AppVersion);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppVersion).call(this, props));
    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));
    _this.clicks = [];
    return _this;
  }

  _createClass(AppVersion, [{
    key: "handleClick",
    value: function handleClick() {
      this.clicks.push({
        date: Date.now()
      });
      this.clicks = takeLast(this.clicks, 3);

      if (this.clicks.length < 3) {
        return;
      }

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = pairs(this.clicks)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _slicedToArray(_step.value, 2),
              prevClick = _step$value[0],
              click = _step$value[1];

          var delta = click.date - prevClick.date;

          if (delta > 1000) {
            // Clicks are not close enough
            return;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('Debug flag activated');
      cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('debug', true);
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        onClick: this.handleClick,
        className: ducks_settings_AppVersion_styl__WEBPACK_IMPORTED_MODULE_3___default.a['app-version']
      }, "Version ", this.props.version);
    }
  }]);

  return AppVersion;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent);

AppVersion.propTypes = {
  version: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (AppVersion);

/***/ }),

/***/ "./src/ducks/settings/AppVersion.styl":
/*!********************************************!*\
  !*** ./src/ducks/settings/AppVersion.styl ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"app-version":"app-version--3Y-fY"};

/***/ }),

/***/ "./src/ducks/settings/BalanceLowerRules.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/settings/BalanceLowerRules.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _makeRuleComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./makeRuleComponent */ "./src/ducks/settings/makeRuleComponent.jsx");
/* harmony import */ var _specs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./specs */ "./src/ducks/settings/specs.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var getBalanceLowerDescriptionKey = function getBalanceLowerDescriptionKey(props) {
  if (props.doc && props.doc.accountOrGroup) {
    return 'Notifications.if-balance-lower.descriptionWithAccountGroup';
  } else {
    return 'Notifications.if-balance-lower.description';
  }
};

var getBalanceLowerDescriptionProps = function getBalanceLowerDescriptionProps(props) {
  return {
    accountOrGroupLabel: props.doc.accountOrGroup ? props.getAccountOrGroupLabel(props.doc.accountOrGroup) : null,
    value: props.doc.value
  };
};

var initialBalanceLowerRules = [{
  id: 0,
  value: 30,
  accountOrGroup: null,
  enabled: false
}];
var newBalanceLowerRule = {
  enabled: true,
  value: 100,
  accountOrGroup: null
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_makeRuleComponent__WEBPACK_IMPORTED_MODULE_0__["default"])({
  displayName: 'BalanceLower',
  getInitialRules: function getInitialRules() {
    return initialBalanceLowerRules;
  },
  spec: _specs__WEBPACK_IMPORTED_MODULE_1__["balanceLower"],
  getNewRule: function getNewRule() {
    return _objectSpread({}, newBalanceLowerRule);
  },
  getRuleDescriptionKey: getBalanceLowerDescriptionKey,
  getRuleDescriptionProps: getBalanceLowerDescriptionProps,
  trackPageName: 'parametres:configuration:alerte-solde_bas'
}));

/***/ }),

/***/ "./src/ducks/settings/CategoryAlerts/AccountGroupChoice.jsx":
/*!******************************************************************!*\
  !*** ./src/ducks/settings/CategoryAlerts/AccountGroupChoice.jsx ***!
  \******************************************************************/
/*! exports provided: AccountGroupChoice, DumbAccountGroupChoice, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountGroupChoice", function() { return AccountGroupChoice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbAccountGroupChoice", function() { return DumbAccountGroupChoice; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_account_helpers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/account/helpers.js */ "./src/ducks/account/helpers.js");
/* harmony import */ var components_DialogSections__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/DialogSections */ "./src/components/DialogSections/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");










/**
 * Displays Rows to select among either
 *
 * - all accounts
 * - an account
 * - a group
 */

var AccountGroupChoice = function AccountGroupChoice(_ref) {
  var current = _ref.current,
      accountsCol = _ref.accounts,
      groupsCol = _ref.groups,
      onSelect = _ref.onSelect,
      canSelectAll = _ref.canSelectAll,
      filter = _ref.filter;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var unfilteredAccounts = accountsCol.data || [];
  var unfilteredGroups = groupsCol.data || [];
  var accounts = filter ? unfilteredAccounts.filter(filter) : unfilteredAccounts;
  var groups = filter ? unfilteredGroups.filter(filter) : unfilteredGroups;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogSections"], null, canSelectAll ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogSection"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogListItem"], {
    label: t('AccountSwitch.all-accounts'),
    hasRadio: true,
    isSelected: !current,
    onClick: function onClick() {
      return onSelect(null);
    }
  }))) : null, accounts.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogSection"], {
    label: t('AccountSwitch.accounts')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_9__["default"], null, accounts.map(function (account) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogListItem"], {
      divider: true,
      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_5__["default"], {
        account: account
      }),
      key: account._id,
      isSelected: current && current._id === account._id,
      hasRadio: true,
      label: Object(ducks_account_helpers_js__WEBPACK_IMPORTED_MODULE_7__["getAccountLabel"])(account),
      onClick: function onClick() {
        return onSelect(account);
      }
    });
  }))) : null, groups.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogSection"], {
    label: t('AccountSwitch.groups')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_9__["default"], null, groups.map(function (group) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_DialogSections__WEBPACK_IMPORTED_MODULE_8__["DialogListItem"], {
      divider: true,
      key: group._id,
      isSelected: current && current._id === group._id,
      hasRadio: true,
      label: Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_6__["getGroupLabel"])(group, t),
      onClick: function onClick() {
        return onSelect(group);
      }
    });
  }))) : null);
};
AccountGroupChoice.propTypes = {
  onSelect: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
AccountGroupChoice.defaultProps = {
  canSelectAll: true
};
var DumbAccountGroupChoice = AccountGroupChoice;
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["queryConnect"])({
  accounts: doctypes__WEBPACK_IMPORTED_MODULE_3__["accountsConn"],
  groups: doctypes__WEBPACK_IMPORTED_MODULE_3__["groupsConn"]
})(DumbAccountGroupChoice));

/***/ }),

/***/ "./src/ducks/settings/CategoryAlerts/AccountOrGroupLabel.jsx":
/*!*******************************************************************!*\
  !*** ./src/ducks/settings/CategoryAlerts/AccountOrGroupLabel.jsx ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");



/**
 * From a partial doc { _id, _type }, finds the account/group from the redux store
 * and displays its label
 */

var AccountOrGroupLabel = function AccountOrGroupLabel(_ref) {
  var groupsById = _ref.groupsById,
      accountsById = _ref.accountsById,
      doc = _ref.doc;
  var docInfo;

  if (doc._type == doctypes__WEBPACK_IMPORTED_MODULE_2__["ACCOUNT_DOCTYPE"]) {
    docInfo = accountsById[doc._id];
  } else if (doc._type == doctypes__WEBPACK_IMPORTED_MODULE_2__["GROUP_DOCTYPE"]) {
    docInfo = groupsById[doc._id];
  }

  return docInfo ? docInfo.label : null;
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(function (state) {
  return {
    groupsById: Object(selectors__WEBPACK_IMPORTED_MODULE_0__["getGroupsById"])(state),
    accountsById: Object(selectors__WEBPACK_IMPORTED_MODULE_0__["getAccountsById"])(state)
  };
})(AccountOrGroupLabel));

/***/ }),

/***/ "./src/ducks/settings/CategoryAlerts/CategoryAlertCard.jsx":
/*!*****************************************************************!*\
  !*** ./src/ducks/settings/CategoryAlerts/CategoryAlertCard.jsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_categories__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories */ "./src/ducks/categories/index.js");
/* harmony import */ var ducks_settings_CategoryAlerts_CategoryAlertEditModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/CategoryAlerts/CategoryAlertEditModal */ "./src/ducks/settings/CategoryAlerts/CategoryAlertEditModal.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_SettingCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/SettingCard */ "./src/components/SettingCard/index.jsx");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var ducks_settings_EditableSettingCard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/settings/EditableSettingCard */ "./src/ducks/settings/EditableSettingCard.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }












var CategoryAlertPropType = prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
  categoryId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  maxThreshold: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
});

var CategoryAlertDebug = function CategoryAlertDebug(_ref) {
  var alert = _ref.alert;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("hr", null), "alert id: ", alert.id, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "last notification date: ", alert.lastNotificationDate, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "last notification amount: ", alert.lastNotificationAmount, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), "category id: ", alert.categoryId);
};
/**
 * Shows informations on a category alert
 *
 * - Category name
 * - Category icon
 * - Balance threshold
 *
 * Displays edition modal and calls saveAlert callback
 * Displays removal button and calls removeAlert callback
 *
 */


var CategoryAlertCard = function CategoryAlertCard(_ref2) {
  var removeAlert = _ref2.removeAlert,
      updateAlert = _ref2.updateAlert,
      alert = _ref2.alert,
      getAccountOrGroupLabel = _ref2.getAccountOrGroupLabel;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      editing = _useState2[0],
      setEditing = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      saving = _useState4[0],
      setSaving = _useState4[1];

  var handleCardClick = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (ev) {
    if (ev.defaultPrevented) {
      return;
    }

    setEditing(true);
  }, [setEditing]);
  var handleEditAlert = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(updatedAlert) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              setEditing(null);
              setSaving(true);
              _context.prev = 2;
              _context.next = 5;
              return updateAlert(updatedAlert);

            case 5:
              _context.prev = 5;
              setSaving(false);
              return _context.finish(5);

            case 8:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[2,, 5, 8]]);
    }));

    return function (_x) {
      return _ref3.apply(this, arguments);
    };
  }(), [updateAlert, setEditing, setSaving]);
  var handleRemoveAlert = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    setEditing(null);
    removeAlert(alert);
  }, [alert, removeAlert]);
  var categoryName = t("Data.".concat(alert.categoryIsParent ? 'categories' : 'subcategories', ".").concat(Object(ducks_categories__WEBPACK_IMPORTED_MODULE_4__["getCategoryName"])(alert.categoryId)));
  var accountOrGroupKey = alert.accountOrGroup ? alert.accountOrGroup._type === doctypes__WEBPACK_IMPORTED_MODULE_7__["ACCOUNT_DOCTYPE"] ? 'Settings.budget-category-alerts.for-account' : 'Settings.budget-category-alerts.for-group' : null;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_SettingCard__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onClick: handleCardClick
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-media u-media-top"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-media-fixed u-mr-1"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories__WEBPACK_IMPORTED_MODULE_4__["CategoryIcon"], {
    categoryId: alert.categoryId
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-media-grow"
  }, saving ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__["default"], {
    size: "small"
  }) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: Object(_helpers__WEBPACK_IMPORTED_MODULE_9__["markdownBold"])(t('Settings.budget-category-alerts.budget-inferior-to', {
        threshold: alert.maxThreshold
      }))
    }
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: Object(_helpers__WEBPACK_IMPORTED_MODULE_9__["markdownBold"])(t('Settings.budget-category-alerts.for-category', {
        categoryName: categoryName
      }))
    }
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null), alert.accountOrGroup ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: Object(_helpers__WEBPACK_IMPORTED_MODULE_9__["markdownBold"])(t(accountOrGroupKey, {
        accountOrGroupLabel: getAccountOrGroupLabel(alert.accountOrGroup)
      }))
    }
  })) : t('Settings.budget-category-alerts.for-all-accounts'), cozy_flags__WEBPACK_IMPORTED_MODULE_10___default()('budget-alerts.debug') ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CategoryAlertDebug, {
    alert: alert
  }) : null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-media-fixed u-ml-1"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_EditableSettingCard__WEBPACK_IMPORTED_MODULE_11__["SettingCardRemoveConfirmation"], {
    title: t('Settings.rules.remove-modal.title'),
    description: t('Settings.rules.remove-modal.desc'),
    onRemove: handleRemoveAlert
  })))), editing ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_CategoryAlerts_CategoryAlertEditModal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onDismiss: function onDismiss() {
      return setEditing(null);
    },
    initialDoc: alert,
    onEdit: handleEditAlert
  }) : null);
};

CategoryAlertCard.propTypes = {
  alert: CategoryAlertPropType
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_helpers__WEBPACK_IMPORTED_MODULE_9__["withAccountOrGroupLabeller"])('getAccountOrGroupLabel')(CategoryAlertCard));

/***/ }),

/***/ "./src/ducks/settings/CategoryAlerts/CategoryAlertEditModal.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/settings/CategoryAlerts/CategoryAlertEditModal.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_EditionModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/EditionModal */ "./src/components/EditionModal/index.jsx");
/* harmony import */ var _specs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../specs */ "./src/ducks/settings/specs.js");






/**
 * Modal to edit a category alert
 *
 * - Edit category
 * - Edit threshold for the alert
 * - Edit account/group for the alert
 */

var CategoryAlertEditModal = function CategoryAlertEditModal(_ref) {
  var initialDoc = _ref.initialDoc,
      onEdit = _ref.onEdit,
      onDismiss = _ref.onDismiss;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_3__["useTrackPage"])('parametres:configuration:alerte-budget');
  var modalTitle = _specs__WEBPACK_IMPORTED_MODULE_5__["categoryBudgets"].modalTitle;

  var okButtonLabel = function okButtonLabel(doc) {
    return doc.id !== undefined ? t('Settings.budget-category-alerts.edit.update-ok') : t('Settings.budget-category-alerts.edit.create-ok');
  };

  var cancelButtonLabel = function cancelButtonLabel() {
    return t('Settings.budget-category-alerts.edit.cancel');
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_EditionModal__WEBPACK_IMPORTED_MODULE_4__["default"], {
    initialDoc: initialDoc,
    onEdit: onEdit,
    fieldSpecs: _specs__WEBPACK_IMPORTED_MODULE_5__["categoryBudgets"].fieldSpecs,
    fieldOrder: _specs__WEBPACK_IMPORTED_MODULE_5__["categoryBudgets"].fieldOrder,
    fieldLabels: _specs__WEBPACK_IMPORTED_MODULE_5__["categoryBudgets"].fieldLabels,
    onDismiss: onDismiss,
    okButtonLabel: okButtonLabel,
    cancelButtonLabel: cancelButtonLabel,
    modalTitle: modalTitle
  });
};

CategoryAlertEditModal.propTypes = {
  initialDoc: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  onEdit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onDismiss: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (CategoryAlertEditModal);

/***/ }),

/***/ "./src/ducks/settings/CategoryAlerts/CategoryAlertSettingsPane.jsx":
/*!*************************************************************************!*\
  !*** ./src/ducks/settings/CategoryAlerts/CategoryAlertSettingsPane.jsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/Sections */ "./src/ducks/settings/Sections.jsx");
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var ducks_settings_CategoryAlerts_CategoryAlertCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/settings/CategoryAlerts/CategoryAlertCard */ "./src/ducks/settings/CategoryAlerts/CategoryAlertCard.jsx");
/* harmony import */ var ducks_settings_CategoryAlerts_CategoryAlertEditModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/settings/CategoryAlerts/CategoryAlertEditModal */ "./src/ducks/settings/CategoryAlerts/CategoryAlertEditModal.jsx");
/* harmony import */ var ducks_budgetAlerts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/budgetAlerts */ "./src/ducks/budgetAlerts/index.js");
/* harmony import */ var _Rules__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Rules */ "./src/ducks/settings/Rules.jsx");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }













var updateBudgetAlerts = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, settings, categoryBudgetAlerts) {
    var updatedSettings;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            updatedSettings = _objectSpread({}, settings, {
              categoryBudgetAlerts: categoryBudgetAlerts
            });
            _context.next = 3;
            return client.save(updatedSettings);

          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function updateBudgetAlerts(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();

var CategoryAlertsPane = function CategoryAlertsPane() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  var settingsCollection = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["settingsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_5__["settingsConn"]);
  var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_7__["getDefaultedSettingsFromCollection"])(settingsCollection);
  var onUpdateError = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error(t('Settings.rules.saving-error'));
  }, [t]);
  var onUpdate = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (updatedAlerts) {
    return updateBudgetAlerts(client, settings, updatedAlerts);
  }, [client, settings]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_6__["SubSection"], {
    title: t('Settings.budget-category-alerts.pane-title'),
    description: t('Settings.budget-category-alerts.pane-description')
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Rules__WEBPACK_IMPORTED_MODULE_11__["default"], {
    rules: settings.categoryBudgetAlerts,
    onUpdate: onUpdate,
    onError: onUpdateError,
    addButtonLabelKey: "Settings.rules.create",
    makeNewItem: ducks_budgetAlerts__WEBPACK_IMPORTED_MODULE_10__["makeNewAlert"],
    ItemEditionModal: ducks_settings_CategoryAlerts_CategoryAlertEditModal__WEBPACK_IMPORTED_MODULE_9__["default"],
    trackPageName: "alerte-budget"
  }, function (alert, i, createOrUpdateAlert, removeAlert) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      key: i
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_CategoryAlerts_CategoryAlertCard__WEBPACK_IMPORTED_MODULE_8__["default"], {
      updateAlert: createOrUpdateAlert,
      removeAlert: removeAlert,
      alert: alert
    }));
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (CategoryAlertsPane);

/***/ }),

/***/ "./src/ducks/settings/CategoryAlerts/helpers.js":
/*!******************************************************!*\
  !*** ./src/ducks/settings/CategoryAlerts/helpers.js ***!
  \******************************************************/
/*! exports provided: getAccountOrGroupChoiceFromAlert, getCategoryChoiceFromAlert, getMaxThresholdChoiceFromAlert, updatedAlertFromCategoryChoice, updatedAlertFromAccountOrGroupChoice, updatedAlertFromMaxThresholdChoice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountOrGroupChoiceFromAlert", function() { return getAccountOrGroupChoiceFromAlert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCategoryChoiceFromAlert", function() { return getCategoryChoiceFromAlert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMaxThresholdChoiceFromAlert", function() { return getMaxThresholdChoiceFromAlert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatedAlertFromCategoryChoice", function() { return updatedAlertFromCategoryChoice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatedAlertFromAccountOrGroupChoice", function() { return updatedAlertFromAccountOrGroupChoice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatedAlertFromMaxThresholdChoice", function() { return updatedAlertFromMaxThresholdChoice; });
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var getAccountOrGroupChoiceFromAlert = function getAccountOrGroupChoiceFromAlert(alert) {
  return alert.accountOrGroup;
};
var getCategoryChoiceFromAlert = function getCategoryChoiceFromAlert(alert) {
  return {
    id: alert.categoryId,
    isParent: alert.categoryIsParent
  };
};
var getMaxThresholdChoiceFromAlert = function getMaxThresholdChoiceFromAlert(alert) {
  return alert.maxThreshold;
};
var updatedAlertFromCategoryChoice = function updatedAlertFromCategoryChoice(initialAlert, category) {
  return _objectSpread({}, initialAlert, {
    categoryIsParent: !!category.isParent,
    categoryId: category.id
  });
};
var updatedAlertFromAccountOrGroupChoice = function updatedAlertFromAccountOrGroupChoice(initialAlert, accountOrGroup) {
  return _objectSpread({}, initialAlert, {
    accountOrGroup: accountOrGroup ? {
      _type: accountOrGroup._type,
      _id: accountOrGroup._id
    } : null
  });
};
var updatedAlertFromMaxThresholdChoice = function updatedAlertFromMaxThresholdChoice(initialAlert, value) {
  return _objectSpread({}, initialAlert, {
    maxThreshold: parseInt(value)
  });
};

/***/ }),

/***/ "./src/ducks/settings/Configuration.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/settings/Configuration.jsx ***!
  \**********************************************/
/*! exports provided: Configuration, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Configuration", function() { return Configuration; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Buttons */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Buttons/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/set */ "./node_modules/lodash/set.js");
/* harmony import */ var lodash_set__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var ducks_settings_PinSettings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/settings/PinSettings */ "./src/ducks/settings/PinSettings.jsx");
/* harmony import */ var ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/settings/Sections */ "./src/ducks/settings/Sections.jsx");
/* harmony import */ var ducks_settings_DelayedDebitAlertRules__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/settings/DelayedDebitAlertRules */ "./src/ducks/settings/DelayedDebitAlertRules.jsx");
/* harmony import */ var ducks_settings_CategoryAlerts_CategoryAlertSettingsPane__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/settings/CategoryAlerts/CategoryAlertSettingsPane */ "./src/ducks/settings/CategoryAlerts/CategoryAlertSettingsPane.jsx");
/* harmony import */ var _EditableSettingCard__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./EditableSettingCard */ "./src/ducks/settings/EditableSettingCard.jsx");
/* harmony import */ var ducks_settings_ToggleRow__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/settings/ToggleRow */ "./src/ducks/settings/ToggleRow.jsx");
/* harmony import */ var _BalanceLowerRules__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./BalanceLowerRules */ "./src/ducks/settings/BalanceLowerRules.jsx");
/* harmony import */ var _TransactionGreaterRules__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./TransactionGreaterRules */ "./src/ducks/settings/TransactionGreaterRules.jsx");
/* harmony import */ var ducks_personal_info__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/personal-info */ "./src/ducks/personal-info/index.jsx");
/* harmony import */ var _specs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./specs */ "./src/ducks/settings/specs.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");


function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* global __TARGET__ */






















var toggleToTrackEvents = {
  'community.localModelOverride': 'categorie_automatique'
};
/**
 * Configure notifications and other features
 */

var Configuration = /*#__PURE__*/function (_React$Component) {
  _inherits(Configuration, _React$Component);

  function Configuration(props) {
    var _this;

    _classCallCheck(this, Configuration);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Configuration).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "saveDocument", /*#__PURE__*/function () {
      var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(doc) {
        var client;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = _this.props.client;
                _context.next = 3;
                return client.save(doc);

              case 3:
                _this.forceUpdate();

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    _defineProperty(_assertThisInitialized(_this), "onToggle", function (key) {
      return function (checked) {
        var settingsCollection = _this.props.settingsCollection;
        var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__["getDefaultedSettingsFromCollection"])(settingsCollection);
        lodash_set__WEBPACK_IMPORTED_MODULE_6___default()(settings, [].concat(_toConsumableArray(key.split('.')), ['enabled']), checked);

        _this.saveDocument(settings);

        if (toggleToTrackEvents[key]) {
          Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_21__["trackEvent"])({
            name: "".concat(toggleToTrackEvents[key], "-").concat(checked ? 'on' : 'off')
          });
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "onChangeDoc", function (key) {
      return function (value) {
        var settingsCollection = _this.props.settingsCollection;
        var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__["getDefaultedSettingsFromCollection"])(settingsCollection);
        lodash_set__WEBPACK_IMPORTED_MODULE_6___default()(settings, _toConsumableArray(key.split('.')), value);

        _this.saveDocument(settings);
      };
    });

    _this.state = {
      showPersonalInfoDialog: false
    };
    _this.handleToggleAmountBlur = _this.handleToggleAmountBlur.bind(_assertThisInitialized(_this));
    _this.onChangeBalanceLower = _this.onChangeDoc('notifications.balanceLower');
    _this.onChangeTransactionGreater = _this.onChangeDoc('notifications.transactionGreater');
    _this.onChangeDelayedDebit = _this.onChangeDoc('notifications.delayedDebit');
    _this.onChangeLateHealthReimbursement = _this.onChangeDoc('notifications.lateHealthReimbursement');
    _this.onToggleDelayedDebit = _this.onToggle('notifications.delayedDebit');
    _this.onToggleHealthBillLinked = _this.onToggle('notifications.healthBillLinked');
    _this.onToggleLateHealthReimbursement = _this.onToggle('notifications.lateHealthReimbursement');
    _this.onToggleLocalModelOverride = _this.onToggle('community.localModelOverride');
    return _this;
  }

  _createClass(Configuration, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_21__["trackPage"])('parametres:configuration');
    }
  }, {
    key: "handleToggleAmountBlur",
    value: function handleToggleAmountBlur(checked) {
      cozy_flags__WEBPACK_IMPORTED_MODULE_9___default()('amount-blur', checked);
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_21__["trackEvent"])({
        name: "masquer_elements-".concat(checked ? 'on' : 'off')
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          t = _this$props.t,
          settingsCollection = _this$props.settingsCollection;

      if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["isQueryLoading"])(settingsCollection) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["hasQueryBeenLoaded"])(settingsCollection)) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_8__["default"], null);
      }

      var settings = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__["getDefaultedSettingsFromCollection"])(settingsCollection);
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["Section"], {
        title: t('Notifications.title'),
        description: t('Notifications.description')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["SubSection"], {
        title: t('Notifications.if-balance-lower.settingTitle')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_BalanceLowerRules__WEBPACK_IMPORTED_MODULE_17__["default"], {
        rules: settings.notifications.balanceLower,
        getAccountOrGroupLabel: this.props.getAccountOrGroupLabel,
        onChangeRules: this.onChangeBalanceLower
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["SubSection"], {
        title: t('Notifications.if-transaction-greater.settingTitle')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransactionGreaterRules__WEBPACK_IMPORTED_MODULE_18__["default"], {
        rules: settings.notifications.transactionGreater,
        getAccountOrGroupLabel: this.props.getAccountOrGroupLabel,
        onChangeRules: this.onChangeTransactionGreater
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_CategoryAlerts_CategoryAlertSettingsPane__WEBPACK_IMPORTED_MODULE_14__["default"], null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["SubSection"], {
        title: t('Notifications.delayed-debit.settingTitle'),
        description: t('Notifications.delayed-debit.settingDescription')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_DelayedDebitAlertRules__WEBPACK_IMPORTED_MODULE_13__["default"], {
        onToggle: this.onToggleDelayedDebit,
        onChangeRules: this.onChangeDelayedDebit,
        rules: settings.notifications.delayedDebit
      })), cozy_flags__WEBPACK_IMPORTED_MODULE_9___default()('banks.health-reimbursements.deactivated') ? null : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["SubSection"], {
        title: t('Notifications.health-section.title'),
        description: t('Notifications.health-section.description')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: "u-stack-xs"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_EditableSettingCard__WEBPACK_IMPORTED_MODULE_15__["default"], {
        title: t('Notifications.when-health-bill-linked.settingTitle'),
        descriptionKey: "Notifications.when-health-bill-linked.description",
        onToggle: this.onToggleHealthBillLinked,
        doc: settings.notifications.healthBillLinked
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_EditableSettingCard__WEBPACK_IMPORTED_MODULE_15__["default"], {
        title: t('Notifications.when-late-health-reimbursement.settingTitle'),
        descriptionKey: 'Notifications.when-late-health-reimbursement.description',
        onToggle: this.onToggleLateHealthReimbursement,
        onChangeDoc: this.onChangeLateHealthReimbursement,
        doc: settings.notifications.lateHealthReimbursement,
        editModalProps: _specs__WEBPACK_IMPORTED_MODULE_20__["lateHealthReimbursement"]
      })))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["Section"], {
        title: t('AdvancedFeaturesSettings.title'),
        description: t('AdvancedFeaturesSettings.automatic-categorization.title')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["SubSection"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_ToggleRow__WEBPACK_IMPORTED_MODULE_16__["default"], {
        description: t('AdvancedFeaturesSettings.automatic-categorization.local-model-override.description'),
        onToggle: this.onToggleLocalModelOverride,
        enabled: settings.community.localModelOverride.enabled,
        name: "localModelOverride"
      }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["Section"], {
        title: t('Settings.security.title')
      },  false ? undefined : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["SubSection"], {
        title: t('Settings.security.amount-blur.title')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_ToggleRow__WEBPACK_IMPORTED_MODULE_16__["default"], {
        description: t('Settings.security.amount-blur.description'),
        onToggle: this.handleToggleAmountBlur,
        enabled: Boolean(cozy_flags__WEBPACK_IMPORTED_MODULE_9___default()('amount-blur')),
        name: "amountBlur"
      }))), cozy_flags__WEBPACK_IMPORTED_MODULE_9___default()('banks.transfers.need-personal-information') ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_Sections__WEBPACK_IMPORTED_MODULE_12__["Section"], {
        title: t('Settings.personal-info.title')
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_3__["default"], {
        color: "primary",
        variant: "contained",
        onClick: function onClick() {
          return _this2.setState({
            showPersonalInfoDialog: true
          });
        }
      }, t('Settings.personal-info.edit')), this.state.showPersonalInfoDialog ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_personal_info__WEBPACK_IMPORTED_MODULE_19__["PersonalInfoDialog"], {
        onSaveSuccessful: function onSaveSuccessful() {
          _this2.setState({
            showPersonalInfoDialog: false
          });
        },
        onClose: function onClose() {
          return _this2.setState({
            showPersonalInfoDialog: false
          });
        }
      }) : null) : null, Configuration.renderExtraItems());
    }
  }]);

  return Configuration;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

_defineProperty(Configuration, "renderExtraItems", function () {
  return null;
});

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default()(cozy_client__WEBPACK_IMPORTED_MODULE_4__["withClient"], Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["queryConnect"])({
  settingsCollection: doctypes__WEBPACK_IMPORTED_MODULE_5__["settingsConn"]
}), Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_10__["withAccountOrGroupLabeller"])('getAccountOrGroupLabel'), cozy_flags__WEBPACK_IMPORTED_MODULE_9___default.a.connect, Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])())(Configuration));

/***/ }),

/***/ "./src/ducks/settings/DelayedDebitAlertRules.jsx":
/*!*******************************************************!*\
  !*** ./src/ducks/settings/DelayedDebitAlertRules.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");
/* harmony import */ var _specs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./specs */ "./src/ducks/settings/specs.js");
/* harmony import */ var _makeRuleComponent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./makeRuleComponent */ "./src/ducks/settings/makeRuleComponent.jsx");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var getCreditCardDefaultValue = function getCreditCardDefaultValue(props) {
  var accounts = props.ruleProps.accounts;
  var selectedAccount = (accounts.data || []).find(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_6__["isCreditCardAccount"]);
  return selectedAccount ? selectedAccount : null;
};

var getCheckingsDefaultValue = function getCheckingsDefaultValue(props) {
  var selectedCreditCard = getCreditCardDefaultValue(props);
  return selectedCreditCard && selectedCreditCard.checkingsAccount ? selectedCreditCard.checkingsAccount.data : null;
};

var getRelevantAccounts = function getRelevantAccounts(props) {
  var doc = props.doc;
  var accountsById = props.ruleProps.accountsById;
  var docCreditCardAccount = doc.creditCardAccount ? accountsById[doc.creditCardAccount._id] : null;
  var docCheckingsAccount = doc.checkingsAccount ? accountsById[doc.checkingsAccount._id] : null;
  var creditCardAccount = docCreditCardAccount || getCreditCardDefaultValue(props);
  var checkingsAccount = docCheckingsAccount || getCheckingsDefaultValue(props);
  return {
    docCreditCardAccount: docCreditCardAccount,
    creditCardAccount: creditCardAccount,
    docCheckingsAccount: docCheckingsAccount,
    checkingsAccount: checkingsAccount
  };
};

var getDescriptionProps = function getDescriptionProps(props) {
  var _getRelevantAccounts = getRelevantAccounts(props),
      docCreditCardAccount = _getRelevantAccounts.docCreditCardAccount,
      docCheckingsAccount = _getRelevantAccounts.docCheckingsAccount;

  var creditCardLabel = docCreditCardAccount ? Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_6__["getAccountLabel"])(docCreditCardAccount) : '...';
  var checkingsLabel = docCheckingsAccount ? Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_6__["getAccountLabel"])(docCheckingsAccount) : '...';
  return {
    creditCardLabel: creditCardLabel,
    checkingsLabel: checkingsLabel,
    value: props.doc.value
  };
};

var shouldOpenOnToggle = function shouldOpenOnToggle(props) {
  var _getRelevantAccounts2 = getRelevantAccounts(props),
      creditCardAccount = _getRelevantAccounts2.creditCardAccount,
      checkingsAccount = _getRelevantAccounts2.checkingsAccount;

  return !creditCardAccount || !checkingsAccount;
};

var newDelayedDebitRule = {
  enabled: true,
  value: 3
};
var initialDelayedDebitRules = [{
  enabled: false,
  value: 3
}];
var DelayedDebitRules = Object(_makeRuleComponent__WEBPACK_IMPORTED_MODULE_9__["default"])({
  displayName: 'DelayedDebit',
  getInitialRules: function getInitialRules() {
    return initialDelayedDebitRules;
  },
  spec: _specs__WEBPACK_IMPORTED_MODULE_8__["delayedDebits"],
  getNewRule: function getNewRule() {
    return _objectSpread({}, newDelayedDebitRule);
  },
  getRuleDescriptionKey: function getRuleDescriptionKey() {
    return 'Notifications.delayed-debit.description';
  },
  getRuleDescriptionProps: getDescriptionProps,
  shouldOpenOnToggle: shouldOpenOnToggle,
  trackPageName: 'parametres:configuration:alerte-paiement_differe'
});

var WaitForLoadingDelayedDebitRules = function WaitForLoadingDelayedDebitRules(props) {
  var accounts = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"]);
  var accountsById = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(selectors__WEBPACK_IMPORTED_MODULE_7__["getAccountsById"]);

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var ruleProps = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return {
      accounts: accounts,
      accountsById: accountsById
    };
  }, [accounts, accountsById]);

  if (!Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["hasQueryBeenLoaded"])(accounts)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_2__["default"], null);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DelayedDebitRules, {
    rules: props.rules,
    onChangeRules: props.onChangeRules,
    t: t,
    ruleProps: ruleProps
  });
};

/* harmony default export */ __webpack_exports__["default"] = (WaitForLoadingDelayedDebitRules);

/***/ }),

/***/ "./src/ducks/settings/EditableSettingCard.jsx":
/*!****************************************************!*\
  !*** ./src/ducks/settings/EditableSettingCard.jsx ***!
  \****************************************************/
/*! exports provided: CrossButton, SettingCardRemoveConfirmation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CrossButton", function() { return CrossButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingCardRemoveConfirmation", function() { return SettingCardRemoveConfirmation; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! utils/resultWithArgs */ "./src/utils/resultWithArgs.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var components_useConfirmation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/useConfirmation */ "./src/components/useConfirmation.jsx");
/* harmony import */ var components_SettingCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/SettingCard */ "./src/components/SettingCard/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Switch */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Switch/index.js");
/* harmony import */ var components_EditionModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/EditionModal */ "./src/components/EditionModal/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_CrossMedium__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/CrossMedium */ "./node_modules/cozy-ui/transpiled/react/Icons/CrossMedium.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }














var styles = {
  crossButton: {
    position: 'absolute',
    top: '0.25rem',
    right: '0.25rem'
  }
};
var CrossButton = function CrossButton(_ref) {
  var onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: onClick,
    style: styles.crossButton
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    color: "var(--coolGrey)",
    icon: cozy_ui_transpiled_react_Icons_CrossMedium__WEBPACK_IMPORTED_MODULE_12__["default"],
    size: 12
  }));
};
var SettingCardRemoveConfirmation = function SettingCardRemoveConfirmation(_ref2) {
  var onRemove = _ref2.onRemove,
      description = _ref2.description,
      title = _ref2.title;

  var _useConfirmation = Object(components_useConfirmation__WEBPACK_IMPORTED_MODULE_7__["default"])({
    onConfirm: onRemove,
    title: title,
    description: description
  }),
      component = _useConfirmation.component,
      requestOpen = _useConfirmation.requestOpen;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CrossButton, {
    onClick: requestOpen
  }), component);
}; // Since the toggle has a large height, we need to compensate negatively
// so that the height of the switch does not impact the height of the card

var toggleStyle = {
  margin: '-8px 0'
};

var resolveDescriptionKey = function resolveDescriptionKey(props) {
  var propArgs = [props];
  var descriptionKeyStr = Object(utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_5__["default"])(props, 'descriptionKey', propArgs);
  var descriptionProps = Object(utils_resultWithArgs__WEBPACK_IMPORTED_MODULE_5__["default"])(props, 'descriptionProps', propArgs) || props.doc;
  return props.t(descriptionKeyStr, descriptionProps);
};

var SettingCardSwitch = function SettingCardSwitch(_ref3) {
  var checked = _ref3.checked,
      onClick = _ref3.onClick,
      onChange = _ref3.onChange;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_9__["default"], {
    disableRipple: true,
    className: "u-mh-s",
    checked: checked,
    color: "primary",
    onClick: onClick,
    onChange: onChange
  });
};

var EditableSettingCard = function EditableSettingCard(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var onChangeDoc = props.onChangeDoc,
      onToggle = props.onToggle,
      onRemove = props.onRemove,
      removeModalTitle = props.removeModalTitle,
      removeModalDescription = props.removeModalDescription,
      editModalProps = props.editModalProps,
      shouldOpenOnToggle = props.shouldOpenOnToggle,
      doc = props.doc,
      canBeRemoved = props.canBeRemoved,
      onRemoveDoc = props.onRemoveDoc,
      trackPageName = props.trackPageName;
  var enabled = doc.enabled;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      editing = _useState2[0],
      setEditing = _useState2[1];

  var description = resolveDescriptionKey(_objectSpread({}, props, {
    t: t
  }));

  var handleSwitchChange = function handleSwitchChange() {
    var shouldOpen = shouldOpenOnToggle ? shouldOpenOnToggle(props) : false;

    if (shouldOpen) {
      setEditing(true);
    } else {
      onToggle(!enabled);
    }
  };

  var onClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return editModalProps ? function () {
      return setEditing(true);
    } : null;
  }, [setEditing, editModalProps]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_SettingCard__WEBPACK_IMPORTED_MODULE_8__["default"], {
    enabled: enabled,
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], {
    className: "u-row-xs",
    align: "top"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: Object(_helpers__WEBPACK_IMPORTED_MODULE_6__["markdownBold"])(description)
    }
  })), onToggle ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    style: toggleStyle
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingCardSwitch, {
    checked: enabled,
    onClick: function onClick(e) {
      return e.stopPropagation();
    },
    onChange: handleSwitchChange
  })) : null, onRemove ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingCardRemoveConfirmation, {
    title: removeModalTitle,
    description: removeModalDescription,
    onRemove: onRemove
  }) : null)), editing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_EditionModal__WEBPACK_IMPORTED_MODULE_10__["default"], _extends({}, editModalProps, {
    canBeRemoved: canBeRemoved,
    onRemove: onRemoveDoc,
    removeModalTitle: removeModalTitle,
    removeModalDescription: removeModalDescription,
    initialDoc: doc,
    onEdit: function onEdit(updatedDoc) {
      onChangeDoc(updatedDoc);
      setEditing(false);
    },
    onDismiss: function onDismiss() {
      return setEditing(false);
    },
    okButtonLabel: function okButtonLabel() {
      return t('EditionModal.ok');
    },
    cancelButtonLabel: function cancelButtonLabel() {
      return t('EditionModal.cancel');
    },
    removeButtonLabel: function removeButtonLabel() {
      return t('EditionModal.remove');
    },
    trackPageName: trackPageName
  })) : null);
};

EditableSettingCard.propTypes = {
  doc: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(EditableSettingCard));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/AccountLine.jsx":
/*!**********************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/AccountLine.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Switch */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Switch/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/settings/GroupsSettings.styl */ "./src/ducks/settings/GroupsSettings.styl");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }










var AccountLine = function AccountLine(props) {
  var account = props.account,
      group = props.group,
      toggleAccount = props.toggleAccount,
      groupsByAccountId = props.groupsByAccountId;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(group ? Boolean(group.accounts.existsById(account._id)) : false),
      _useState2 = _slicedToArray(_useState, 2),
      toggleState = _useState2[0],
      setToggleState = _useState2[1];

  var handleClickSwitch = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(ev) {
      var newState, prevState;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              newState = ev.target.checked;
              prevState = Boolean(group.accounts.existsById(account._id));
              setToggleState(newState);
              _context.prev = 3;
              _context.next = 6;
              return toggleAccount(account._id, group, newState);

            case 6:
              _context.next = 13;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](3);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error(t('Groups.toggle-account-error')); // eslint-disable-next-line no-console

              console.warn('Error while ', _context.t0); // Rollback to previous state

              setToggleState(prevState);

            case 13:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[3, 8]]);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }(), [toggleAccount, account, group, setToggleState, t]);
  var groups = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    var accountGroups = groupsByAccountId[account._id] || [];
    return accountGroups.filter(function (accountGroup) {
      return accountGroup._id !== group._id;
    });
  }, [account._id, group._id, groupsByAccountId]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8___default.a.GrpStg__accntLabel
  }, account.shortLabel || account.label), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8___default.a.GrpStg__accntBank
  }, Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_7__["getAccountInstitutionLabel"])(account)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8___default.a.GrpStg__accntNumber
  }, account.number), !isMobile ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8___default.a.GrpStg__accntGroups
  }, groups.map(function (g) {
    return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_6__["getGroupLabel"])(g, t);
  }).join(', ')) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("td", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_8___default.a.GrpStg__accntToggle
  }, group ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_3__["default"], {
    disableRipple: true,
    color: "primary",
    id: account._id,
    checked: toggleState,
    onChange: handleClickSwitch
  }) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_3__["default"], {
    id: account._id,
    disabled: true
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(AccountLine));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/AccountsList.jsx":
/*!***********************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/AccountsList.jsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var utils_multiKeyBy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! utils/multiKeyBy */ "./src/utils/multiKeyBy.js");
/* harmony import */ var ducks_settings_GroupSettings_AccountLine__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/settings/GroupSettings/AccountLine */ "./src/ducks/settings/GroupSettings/AccountLine.jsx");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/settings/GroupsSettings.styl */ "./src/ducks/settings/GroupsSettings.styl");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
















var AccountsList = function AccountsList(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var accounts = props.accounts,
      group = props.group;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useClient"])();
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_9__["useRouter"])();

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_5__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var toggleAccount = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(accountId, group, enabled) {
      var accounts, res, doc;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              accounts = group.accounts;

              if (enabled) {
                accounts.addById(accountId);
              } else {
                accounts.removeById(accountId);
              }

              _context.next = 4;
              return client.save(group);

            case 4:
              res = _context.sent;
              doc = res === null || res === void 0 ? void 0 : res.data;

              if (doc && !group.id) {
                router.push("/settings/groups/".concat(doc.id));
              }

              Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_11__["trackEvent"])({
                name: "compte-".concat(enabled ? 'activer' : 'desactiver')
              });

            case 8:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x, _x2, _x3) {
      return _ref.apply(this, arguments);
    };
  }(), [client, router]);

  var _useQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_7__["groupsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_7__["groupsConn"]),
      groups = _useQuery.data;

  var groupsByAccountId = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return Object(utils_multiKeyBy__WEBPACK_IMPORTED_MODULE_12__["default"])(groups, ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_10__["getGroupAccountIds"]);
  }, [groups]);
  return accounts.length > 0 ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default.a.GrpStg__table
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default.a.GrpStg__accntLabel
  }, t('Groups.label')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default.a.GrpStg__accntBank
  }, t('Groups.bank')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default.a.GrpStg__accntNumber
  }, t('Groups.account-number')), !isMobile ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default.a.GrpStg__accntGroups
  }, t('Groups.groups')) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_14___default.a.GrpStg__accntToggle
  }, t('Groups.included')))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("tbody", null, accounts && lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default()(accounts, ['institutionLabel', 'label']).map(function (account) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_GroupSettings_AccountLine__WEBPACK_IMPORTED_MODULE_13__["default"], {
      account: account,
      group: group,
      groupsByAccountId: groupsByAccountId,
      toggleAccount: toggleAccount,
      key: account._id
    });
  }))) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
    variant: "body1"
  }, t('Groups.no-account')));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(AccountsList));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/ExistingGroupSettings.jsx":
/*!********************************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/ExistingGroupSettings.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_settings_GroupSettings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/GroupSettings */ "./src/ducks/settings/GroupSettings/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }









var ExistingGroupSettings = function ExistingGroupSettings(props) {
  var _useParams = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useParams"])(),
      groupId = _useParams.groupId;

  var groupCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_2__["GROUP_DOCTYPE"]).getById(groupId), {
    as: "io.cozy.bank.groups__".concat(groupId),
    singleDocData: true
  });

  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(groupCol)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_5__["default"], {
      theme: "primary"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_4__["default"], null));
  }

  var group = groupCol.data;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_5__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_GroupSettings__WEBPACK_IMPORTED_MODULE_6__["default"], _extends({
    group: group
  }, props)));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(ExistingGroupSettings));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/GroupSettings.jsx":
/*!************************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/GroupSettings.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var components_BackButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/BackButton */ "./src/components/BackButton/index.jsx");
/* harmony import */ var components_Title__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Title */ "./src/components/Title/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_settings_GroupSettings_RemoveGroupButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/settings/GroupSettings/RemoveGroupButton */ "./src/ducks/settings/GroupSettings/RemoveGroupButton.jsx");
/* harmony import */ var ducks_settings_GroupSettings_AccountsList__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/settings/GroupSettings/AccountsList */ "./src/ducks/settings/GroupSettings/AccountsList.jsx");
/* harmony import */ var ducks_settings_GroupSettings_RenameGroupForm__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/settings/GroupSettings/RenameGroupForm */ "./src/ducks/settings/GroupSettings/RenameGroupForm.jsx");















var stackStyle = {
  clear: 'left'
};

var GroupSettings = function GroupSettings(props) {
  var group = props.group;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (group) {
      if (group._id) {
        Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_7__["trackPage"])('parametres:groupes:detail');
      } else {
        Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_7__["trackPage"])('parametres:groupes:nouveau-groupe');
      }
    }
  }, [group]); // When deleting the group, there's a re-render between the deletion and the redirection. So we need to handle this case

  if (!group) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_11__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-flex u-flex-items-center  u-mb-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BackButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    to: "/settings/groups",
    arrow: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title__WEBPACK_IMPORTED_MODULE_10__["PageTitle"], {
    className: "u-flex u-items-center"
  }, Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_6__["getGroupLabel"])(group, t))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_4__["default"], {
    spacing: "s",
    style: stackStyle
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "h5"
  }, t('Groups.label')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_GroupSettings_RenameGroupForm__WEBPACK_IMPORTED_MODULE_14__["default"], {
    group: group
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "h5",
    gutterBottom: true
  }, t('Groups.accounts')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Query"], {
    query: doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"].query,
    as: doctypes__WEBPACK_IMPORTED_MODULE_5__["accountsConn"].as
  }, function (accountsCol) {
    var accounts = accountsCol.data;

    if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(accountsCol)) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_8__["default"], null);
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_GroupSettings_AccountsList__WEBPACK_IMPORTED_MODULE_13__["default"], {
      accounts: accounts,
      group: group
    });
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_GroupSettings_RemoveGroupButton__WEBPACK_IMPORTED_MODULE_12__["default"], {
    group: group
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(GroupSettings));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/NewGroupSettings.jsx":
/*!***************************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/NewGroupSettings.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_settings_GroupSettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/settings/GroupSettings */ "./src/ducks/settings/GroupSettings/index.js");
/* harmony import */ var ducks_settings_GroupSettings_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/GroupSettings/helpers */ "./src/ducks/settings/GroupSettings/helpers.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }







/**
 * We create NewGroupSettings else react-router will reuse
 * the existing <GroupSettings /> when a new account is created and we navigate
 * to the new group settings. We could do something in componentDidUpdate
 * to refetch the group but it seems easier to do that to force the usage
 * of a brand new component
 */

var NewGroupSettings = function NewGroupSettings(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useClient"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_3__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_GroupSettings__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, props, {
    group: Object(ducks_settings_GroupSettings_helpers__WEBPACK_IMPORTED_MODULE_5__["makeNewGroup"])(client, t)
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(NewGroupSettings));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/RemoveGroupButton.jsx":
/*!****************************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/RemoveGroupButton.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }










var RemoveGroupButton = function RemoveGroupButton(_ref) {
  var group = _ref.group;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_7__["useRouter"])();
  var handleRemove = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return client.destroy(group);

          case 3:
            Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["trackEvent"])({
              name: 'supprimer'
            });
            router.push('/settings/groups');
            _context.next = 11;
            break;

          case 7:
            _context.prev = 7;
            _context.t0 = _context["catch"](0);
            Object(lib_sentry__WEBPACK_IMPORTED_MODULE_6__["logException"])(_context.t0);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].error(t('Groups.deletion-error'));

          case 11:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 7]]);
  })), [group, router, client, t]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "u-mt-1 u-ml-0",
    theme: "danger-outline",
    onClick: handleRemove,
    label: t('Groups.delete')
  });
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(RemoveGroupButton));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/RenameGroupForm.jsx":
/*!**************************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/RenameGroupForm.jsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Input */ "./node_modules/cozy-ui/transpiled/react/Input/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/settings/GroupsSettings.styl */ "./src/ducks/settings/GroupsSettings.styl");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_11__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }













var RenameGroupForm = function RenameGroupForm(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      modifying = _useState2[0],
      setModifying = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      saving = _useState4[0],
      setSaving = _useState4[1];

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_8__["useRouter"])();
  var inputRef = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var group = props.group;
  var handleRename = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var updatedGroup, res, doc;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            setSaving(true);
            updatedGroup = Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_9__["renamedGroup"])(group, inputRef.current.value);
            _context.prev = 2;
            _context.next = 5;
            return client.save(updatedGroup);

          case 5:
            res = _context.sent;
            doc = res === null || res === void 0 ? void 0 : res.data;

            if (doc && !updatedGroup.id) {
              router.push("/settings/groups/".concat(doc.id));
            }

          case 8:
            _context.prev = 8;
            setSaving(false);
            setModifying(false);
            Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_10__["trackEvent"])({
              name: 'renommer'
            });
            return _context.finish(8);

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[2,, 8, 13]]);
  })), [client, group, router]);
  var handleModifyName = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    setModifying(true);
  }, [setModifying]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_11___default.a.GrpStg__form,
    onSubmit: function onSubmit(e) {
      return e.preventDefault();
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Media"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Img"], null, !modifying ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "body1"
  }, Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_9__["getGroupLabel"])(group, t)) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_4__["default"], {
    inputRef: inputRef,
    placeholder: t('Groups.name-placeholder'),
    autoFocus: true,
    type: "text",
    defaultValue: Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_9__["getGroupLabel"])(group, t)
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Img"], null, modifying ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    disabled: saving,
    theme: "regular",
    onClick: handleRename,
    label: t('Groups.save'),
    busy: saving
  }) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    theme: "text",
    onClick: handleModifyName,
    label: t('Groups.rename')
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(RenameGroupForm));

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/helpers.js":
/*!*****************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/helpers.js ***!
  \*****************************************************/
/*! exports provided: makeNewGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNewGroup", function() { return makeNewGroup; });
var makeNewGroup = function makeNewGroup(client, t) {
  var obj = client.makeNewDocument('io.cozy.bank.groups');
  obj.label = t('Groups.new-group');
  return obj;
};

/***/ }),

/***/ "./src/ducks/settings/GroupSettings/index.js":
/*!***************************************************!*\
  !*** ./src/ducks/settings/GroupSettings/index.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _GroupSettings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GroupSettings */ "./src/ducks/settings/GroupSettings/GroupSettings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _GroupSettings__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/ducks/settings/GroupsSettings.jsx":
/*!***********************************************!*\
  !*** ./src/ducks/settings/GroupsSettings.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Buttons */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Buttons/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Plus */ "./node_modules/cozy-ui/transpiled/react/Icons/Plus.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/settings/GroupsSettings.styl */ "./src/ducks/settings/GroupsSettings.styl");
/* harmony import */ var ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");



















var GroupList = function GroupList(_ref) {
  var groups = _ref.groups;
  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_13__["useRouter"])();

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  return groups.length ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12___default.a.GrpsStg__table
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12___default.a.GrpsStg__label
  }, t('Groups.label')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
    className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12___default.a.GrpsStg__accounts
  }, t('Groups.accounts')))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, groups.map(function (group) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["Row"], {
      nav: true,
      key: group._id,
      onClick: function onClick() {
        return router.push("/settings/groups/".concat(group._id));
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["Cell"], {
      main: true,
      className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12___default.a.GrpsStg__label
    }, Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_14__["getGroupLabel"])(group, t)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["Cell"], {
      className: ducks_settings_GroupsSettings_styl__WEBPACK_IMPORTED_MODULE_12___default.a.GrpsStg__accounts
    }, group.accounts.data.map(function (account) {
      return lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(account, 'shortLabel') || lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(account, 'label');
    }).filter(Boolean).join(', ')));
  }))) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
    variant: "body1"
  }, t('Groups.no-groups'));
};

var Groups = function Groups(props) {
  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n2.t;

  var router = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_13__["useRouter"])();

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_17__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_15__["useTrackPage"])('parametres:groupes');
  var groups = props.groups;
  var sortedGroups = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default()(groups.data.filter(function (x) {
      return x;
    }), function (group) {
      return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_14__["getGroupLabel"])(group, t);
    });
  }, [groups.data, t]);

  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["isQueryLoading"])(groups) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["hasQueryBeenLoaded"])(groups)) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_11__["default"], null);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_16__["default"].active ? isMobile ? 'u-mv-1' : '' : 'u-mb-1'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GroupList, {
    groups: sortedGroups
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Buttons__WEBPACK_IMPORTED_MODULE_4__["default"], {
    color: "primary",
    theme: "text",
    onClick: function onClick() {
      return router.push('/settings/groups/new');
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_7__["default"],
    className: "u-mr-half"
  }), " ", t('Groups.create'))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["queryConnect"])({
  groups: doctypes__WEBPACK_IMPORTED_MODULE_8__["groupsConn"],
  accounts: doctypes__WEBPACK_IMPORTED_MODULE_8__["accountsConn"]
})(Groups));

/***/ }),

/***/ "./src/ducks/settings/GroupsSettings.styl":
/*!************************************************!*\
  !*** ./src/ducks/settings/GroupsSettings.styl ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"GrpsStg__table":"GrpsStg__table--Mm_4e","GrpStg__table":"GrpStg__table--RDbil","GrpsStg__label":"GrpsStg__label--3XbyG","GrpsStg__accounts":"GrpsStg__accounts--3oCzC","GrpStg__form":"GrpStg__form--2JuUN","GrpStg__accntLabel":"GrpStg__accntLabel--1mVe6","GrpStg__accntBank":"GrpStg__accntBank--29uKw","GrpStg__accntNumber":"GrpStg__accntNumber--3Wn-o","GrpStg__accntGroups":"GrpStg__accntGroups--1FI6g","GrpStg__accntToggle":"GrpStg__accntToggle--23T_R","spin":"spin--2jAsI","shake":"shake--3QZ-E"};

/***/ }),

/***/ "./src/ducks/settings/HarvestBankAccountSettings.jsx":
/*!***********************************************************!*\
  !*** ./src/ducks/settings/HarvestBankAccountSettings.jsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Dialog */ "./node_modules/cozy-ui/transpiled/react/Dialog/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_keys_lib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-keys-lib */ "./node_modules/cozy-keys-lib/transpiled/index.js");
/* harmony import */ var cozy_harvest_lib_dist_components_AccountModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/AccountModal */ "./node_modules/cozy-harvest-lib/dist/components/AccountModal.js");
/* harmony import */ var cozy_harvest_lib_dist_components_EditAccountModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/EditAccountModal */ "./node_modules/cozy-harvest-lib/dist/components/EditAccountModal.js");
/* harmony import */ var cozy_harvest_lib_dist_components_HarvestVaultProvider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/HarvestVaultProvider */ "./node_modules/cozy-harvest-lib/dist/components/HarvestVaultProvider/index.js");
/* harmony import */ var cozy_harvest_lib_dist_components_hoc_tracking__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/hoc/tracking */ "./node_modules/cozy-harvest-lib/dist/components/hoc/tracking.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var _HarvestSwitch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./HarvestSwitch */ "./src/ducks/settings/HarvestSwitch.jsx");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
















var HarvestSpinner = function HarvestSpinner() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-m-2 u-ta-center"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_5__["default"], {
    size: "xxlarge"
  }));
};

var HarvestError = function HarvestError() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-m-2 u-error"
  }, t('Loading.error'));
};

var fetchPolicy = cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a.fetchPolicies.olderThan(30 * 1000);
/**
 * Data fetching component that fetches data necessary to render Harvest
 * components related to a particular connection.
 */

var HarvestLoader = function HarvestLoader(_ref) {
  var connectionId = _ref.connectionId,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Query"], {
    query: function query() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_13__["COZY_ACCOUNT_DOCTYPE"]).getById(connectionId);
    },
    as: "accounts/".concat(connectionId),
    fetchPolicy: fetchPolicy
  }, function (accountCol) {
    var account = accountCol.data,
        fetchStatus = accountCol.fetchStatus,
        lastUpdate = accountCol.lastUpdate; // Can happen for a short while when the account is deleted

    if (!account) {
      return null;
    }

    if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(accountCol) && !lastUpdate) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestSpinner, null);
    } else if (fetchStatus === 'error') {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestError, null);
    } else {
      var konnectorSlug = account.account_type;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Query"], {
        query: Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_13__["KONNECTOR_DOCTYPE"]).getById("".concat(doctypes__WEBPACK_IMPORTED_MODULE_13__["KONNECTOR_DOCTYPE"], "/").concat(konnectorSlug)),
        as: "konnectors/".concat(connectionId),
        fetchPolicy: fetchPolicy
      }, function (konnectorKol) {
        var data = konnectorKol.data,
            fetchStatus = konnectorKol.fetchStatus,
            lastUpdate = konnectorKol.lastUpdate;

        if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(konnectorKol) && !lastUpdate) {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestSpinner, null);
        }

        if (fetchStatus === 'error') {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestError, null);
        }

        var konnector = data.attributes; // We do not query directly the triggers for the connection as
        // we need to use the /jobs/triggers route. This route is only
        // used by cozy-client when all triggers are fetched
        // Related issue : https://github.com/cozy/cozy-client/issues/767

        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Query"], {
          query: doctypes__WEBPACK_IMPORTED_MODULE_13__["cronKonnectorTriggersConn"].query,
          as: doctypes__WEBPACK_IMPORTED_MODULE_13__["cronKonnectorTriggersConn"].as,
          fetchPolicy: doctypes__WEBPACK_IMPORTED_MODULE_13__["cronKonnectorTriggersConn"].fetchPolicy
        }, function (triggerCol) {
          var allTriggers = triggerCol.data,
              fetchStatus = triggerCol.fetchStatus,
              lastUpdate = triggerCol.lastUpdate;
          var triggers = allTriggers.filter(function (trigger) {
            return trigger.message && trigger.message.account === account._id;
          });

          if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["isQueryLoading"])(triggerCol) && !lastUpdate) {
            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestSpinner, null);
          } else if (fetchStatus === 'error') {
            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestError, null);
          } else {
            var accountsAndTriggers = [account].map(function (account) {
              return {
                account: account,
                trigger: triggers[0]
              };
            }).filter(function (x) {
              return x.trigger;
            });
            return children({
              triggers: triggers,
              konnector: konnector,
              accountsAndTriggers: accountsAndTriggers
            });
          }
        });
      });
    }
  });
};

var makeTrackerForHarvest = function makeTrackerForHarvest(tracker) {
  var trackPage = function trackPage(harvestPageName) {
    var pageName = "parametres:comptes:".concat(harvestPageName);
    tracker.trackPage(pageName);
  };

  var trackEvent = function trackEvent(event) {
    return tracker.trackEvent(event);
  };

  return {
    trackPage: trackPage,
    trackEvent: trackEvent
  };
};

var HarvestTrackingProvider = function HarvestTrackingProvider(_ref2) {
  var children = _ref2.children;
  var tracker = Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_11__["useTracker"])();
  var harvestTracker = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return makeTrackerForHarvest(tracker);
  }, [tracker]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_hoc_tracking__WEBPACK_IMPORTED_MODULE_10__["TrackingContext"].Provider, {
    value: harvestTracker
  }, children);
};
/**
 * Shows a modal displaying the AccountModal from Harvest
 */


var HarvestBankAccountSettings = function HarvestBankAccountSettings(_ref3) {
  var connectionId = _ref3.connectionId,
      _onDismiss = _ref3.onDismiss;

  var _useCozyDialog = Object(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__["useCozyDialog"])({
    open: true,
    size: 'medium'
  }),
      dialogProps = _useCozyDialog.dialogProps;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_HarvestVaultProvider__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_keys_lib__WEBPACK_IMPORTED_MODULE_6__["VaultUnlockProvider"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestTrackingProvider, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HarvestSwitch__WEBPACK_IMPORTED_MODULE_12__["default"], {
    initialFragment: "/accounts/".concat(connectionId),
    routes: [['/accounts/:connectionId', function (connectionId) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Dialog__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, dialogProps, {
        onClose: _onDismiss
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__["DialogCloseButton"], {
        onClick: _onDismiss
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestLoader, {
        connectionId: connectionId
      }, function (_ref4) {
        var triggers = _ref4.triggers,
            konnector = _ref4.konnector,
            accountsAndTriggers = _ref4.accountsAndTriggers;
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_AccountModal__WEBPACK_IMPORTED_MODULE_7__["default"], {
          initialActiveTab: "configuration",
          accountId: connectionId,
          triggers: triggers,
          konnector: konnector,
          accountsAndTriggers: accountsAndTriggers,
          onDismiss: function onDismiss() {
            _onDismiss();
          },
          showAccountSelection: false,
          showNewAccountButton: false
        });
      }));
    }], ['/accounts', function () {
      return null;
    }], ['/accounts/:connectionId/edit?reconnect', function (connectionId) {
      return (// TODO Avoid passing reconnect in props,
        // prefer to use location instead.
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditModal, {
          connectionId: connectionId,
          reconnect: true
        })
      );
    }], ['/accounts/:connectionId/edit', function (connectionId) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditModal, {
        connectionId: connectionId,
        reconnect: false
      });
    }]]
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_keys_lib__WEBPACK_IMPORTED_MODULE_6__["VaultUnlockPlaceholder"], null)));
};

var EditModal = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref5) {
  var reconnect = _ref5.reconnect,
      connectionId = _ref5.connectionId;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HarvestLoader, {
    connectionId: connectionId
  }, function (_ref6) {
    var konnector = _ref6.konnector,
        accountsAndTriggers = _ref6.accountsAndTriggers;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_EditAccountModal__WEBPACK_IMPORTED_MODULE_8__["default"], {
      konnector: konnector,
      accountId: connectionId,
      accounts: accountsAndTriggers,
      reconnect: reconnect
    });
  });
});
EditModal.displayName = 'EditAccountModalBanks';
/* harmony default export */ __webpack_exports__["default"] = (HarvestBankAccountSettings);

/***/ }),

/***/ "./src/ducks/settings/HarvestSwitch.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/settings/HarvestSwitch.jsx ***!
  \**********************************************/
/*! exports provided: routeToRegExp, extractParameters, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routeToRegExp", function() { return routeToRegExp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extractParameters", function() { return extractParameters; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_harvest_lib_dist_components_MountPointContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-harvest-lib/dist/components/MountPointContext */ "./node_modules/cozy-harvest-lib/dist/components/MountPointContext.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



 // Extracted from Backbone

var optionalParam = /\((.*?)\)/g;
var namedParam = /(\(\?)?:\w+/g;
var splatParam = /\*\w+/g; // eslint-disable-next-line no-useless-escape

var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;
/**
 * Transforms a route containing params (eg: /accounts/:id) into
 * a regex that can be used to match a fragment
 *
 * Extracted from Backbone
 */

var routeToRegExp = function routeToRegExp(route) {
  route = route.replace(escapeRegExp, '\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {
    return optional ? match : '([^/?]+)';
  }).replace(splatParam, '([^?]*?)');
  return new RegExp('^' + route + '(?:\\?([\\s\\S]*))?$');
};
/**
 * Given a generic route with params and a fragment, will
 * extract the params from the fragment as an array
 */

var extractParameters = function extractParameters(route, fragment) {
  var params = route.exec(fragment).slice(1);
  return params.map(function (param, i) {
    if (i === params.length - 1) return param || null;
    return param ? decodeURIComponent(param) : null;
  });
};
/**
 * Simili Switch, this component is here to facilitate the usage of Harvest
 * routes inside Banks. It should be removed when we update to react-router@5.
 *
 * Since Banks does not have react-router@5, we cannot use directly the Routes
 * from cozy-harvest-lib. To circumvent this problem, we rely on the fact that
 * Harvest components use a context provided pushHistory to navigate between
 * different parts of Harvest. This pushHistory is provided via the context,
 * which lets us override it with our own function, which stores the current
 * fragment inside the Switch state. The Switch then has its own logic to
 * match the current state fragment which its routes passed via props.
 *
 * It extracts the params from the fragment and passes it to the second
 * parameter of props.routes item, which is a render function which gets
 * passed the params.
 */

var Switch = /*#__PURE__*/function (_React$Component) {
  _inherits(Switch, _React$Component);

  function Switch(props, context) {
    var _this;

    _classCallCheck(this, Switch);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Switch).call(this, props, context)); // Transform routes into regexes

    _this.routes = props.routes.map(function (_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          route = _ref2[0],
          render = _ref2[1];

      return [routeToRegExp(route), render];
    });
    _this.state = {
      fragment: props.initialFragment
    };
    _this.pushHistory = _this.pushHistory.bind(_assertThisInitialized(_this));
    _this.mountPointContext = {
      pushHistory: _this.pushHistory
    };
    return _this;
  }

  _createClass(Switch, [{
    key: "pushHistory",
    value: function pushHistory(fragment) {
      this.setState({
        fragment: fragment
      });
    }
  }, {
    key: "render",
    value: function render() {
      var fragment = this.state.fragment;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this.routes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _slicedToArray(_step.value, 2),
              route = _step$value[0],
              render = _step$value[1];

          if (fragment.match(route)) {
            var params = extractParameters(route, fragment);
            var el = render.apply(void 0, _toConsumableArray(params));
            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_harvest_lib_dist_components_MountPointContext__WEBPACK_IMPORTED_MODULE_2__["MountPointContext"].Provider, {
              value: this.mountPointContext
            }, el);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "No match for ", fragment);
    }
  }]);

  return Switch;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

Switch.propTypes = {
  routes: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Switch);

/***/ }),

/***/ "./src/ducks/settings/PinSettings.jsx":
/*!********************************************!*\
  !*** ./src/ducks/settings/PinSettings.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_settings_ToggleRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/settings/ToggleRow */ "./src/ducks/settings/ToggleRow.jsx");
/* harmony import */ var ducks_pin_PinEditView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/pin/PinEditView */ "./src/ducks/pin/PinEditView.jsx");
/* harmony import */ var ducks_pin_PinAuth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/pin/PinAuth */ "./src/ducks/pin/PinAuth.jsx");
/* harmony import */ var ducks_pin_queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/pin/queries */ "./src/ducks/pin/queries.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var PinSettings = /*#__PURE__*/function (_React$Component) {
  _inherits(PinSettings, _React$Component);

  function PinSettings(props) {
    var _this;

    _classCallCheck(this, PinSettings);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PinSettings).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "state", {
      togglingOn: false,
      togglingOff: false
    });

    _this.handleExit = _this.handleExit.bind(_assertThisInitialized(_this));
    _this.handlePinSaved = _this.handlePinSaved.bind(_assertThisInitialized(_this));
    _this.handleToggle = _this.handleToggle.bind(_assertThisInitialized(_this));
    _this.handlePinDeactivated = _this.handlePinDeactivated.bind(_assertThisInitialized(_this));
    _this.handleTogglingOffCancel = _this.handleTogglingOffCancel.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(PinSettings, [{
    key: "getPinDoc",
    value: function getPinDoc() {
      var pinSetting = this.props.pinSetting;
      return pinSetting && pinSetting.data || null;
    }
  }, {
    key: "handleToggle",
    value: function handleToggle() {
      var pinDoc = this.getPinDoc();

      if (pinDoc && pinDoc.pin) {
        this.setState({
          togglingOff: true
        });
      } else {
        this.setState({
          togglingOn: true
        });
      }
    }
  }, {
    key: "handleTogglingOffCancel",
    value: function handleTogglingOffCancel() {
      this.setState({
        togglingOff: false
      });
    }
  }, {
    key: "handlePinSaved",
    value: function handlePinSaved() {
      this.setState({
        togglingOn: false
      });
    }
  }, {
    key: "handlePinDeactivated",
    value: function handlePinDeactivated() {
      var pinDoc = this.getPinDoc();

      if (pinDoc && pinDoc.pin) {
        this.props.client.save(_objectSpread({}, pinDoc, {
          pin: null
        }));
        this.setState({
          togglingOff: false
        });
      }
    }
  }, {
    key: "handleExit",
    value: function handleExit() {
      this.setState({
        togglingOn: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          pinSetting = _this$props.pinSetting,
          t = _this$props.t;
      var pinDoc = pinSetting.data;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_ToggleRow__WEBPACK_IMPORTED_MODULE_4__["default"], {
        title: t('Pin.settings.toggle-title'),
        description: t('Pin.settings.toggle-description'),
        onToggle: this.handleToggle,
        enabled: pinDoc ? Boolean(pinDoc.pin) : false,
        name: "pin-doc"
      }), this.state.togglingOn ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinEditView__WEBPACK_IMPORTED_MODULE_5__["default"], {
        onSaved: this.handlePinSaved,
        onExit: this.handleExit
      }) : null, this.state.togglingOff ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_pin_PinAuth__WEBPACK_IMPORTED_MODULE_6__["default"], {
        onClickBackButton: this.handleTogglingOffCancel,
        leftButton: null,
        onSuccess: this.handlePinDeactivated
      }) : null);
    }
  }]);

  return PinSettings;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(cozy_client__WEBPACK_IMPORTED_MODULE_1__["withClient"], Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])(), Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["queryConnect"])({
  pinSetting: ducks_pin_queries__WEBPACK_IMPORTED_MODULE_7__["pinSetting"]
}))(PinSettings));

/***/ }),

/***/ "./src/ducks/settings/Rules.jsx":
/*!**************************************!*\
  !*** ./src/ducks/settings/Rules.jsx ***!
  \**************************************/
/*! exports provided: AddRuleButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_settings_AddRuleButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/AddRuleButton */ "../overrides/cozy-banks/src/ducks/settings/AddRuleButton.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddRuleButton", function() { return ducks_settings_AddRuleButton__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _useList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useList */ "./src/ducks/settings/useList.js");
/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ruleUtils */ "./src/ducks/settings/ruleUtils.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }










/**
 * Displays a list of rules and allows to create or edit one
 *
 * Manages the stack of rules, the button to add a rule and
 * and the creation modal
 */

var Rules = function Rules(_ref) {
  var rules = _ref.rules,
      children = _ref.children,
      onUpdate = _ref.onUpdate,
      onError = _ref.onError,
      addButtonLabelKey = _ref.addButtonLabelKey,
      ItemEditionModal = _ref.ItemEditionModal,
      makeNewItem = _ref.makeNewItem,
      trackPageName = _ref.trackPageName;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var _useList = Object(_useList__WEBPACK_IMPORTED_MODULE_6__["default"])({
    list: rules,
    onUpdate: onUpdate,
    onError: onError,
    getId: _ruleUtils__WEBPACK_IMPORTED_MODULE_7__["getRuleId"],
    getNextId: _ruleUtils__WEBPACK_IMPORTED_MODULE_7__["getNextRuleId"]
  }),
      _useList2 = _slicedToArray(_useList, 3),
      items = _useList2[0],
      createOrUpdate = _useList2[1],
      remove = _useList2[2];

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      creating = _useState2[0],
      setCreating = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      saving = _useState4[0],
      setSaving = _useState4[1];

  var handleCreateItem = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(newItem) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              setCreating(false);
              _context.prev = 1;
              setSaving(true);
              _context.next = 5;
              return createOrUpdate(newItem);

            case 5:
              _context.prev = 5;
              setSaving(false);
              return _context.finish(5);

            case 8:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1,, 5, 8]]);
    }));

    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [createOrUpdate]);
  var handleAddRule = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    setCreating(true);
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["trackEvent"])({
      name: "".concat(Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["getPageLastPart"])(trackPageName), "-creer_alerte")
    });
  }, [trackPageName]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, items.length > 0 ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_3__["default"], {
    spacing: "xs"
  }, items ? items.map(function (item, i) {
    return children(item, i, createOrUpdate, remove);
  }) : null) : null, creating ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ItemEditionModal, {
    onDismiss: function onDismiss() {
      return setCreating(false);
    },
    initialDoc: makeNewItem(),
    onEdit: handleCreateItem,
    trackPageName: trackPageName
  }) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_settings_AddRuleButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    label: t(addButtonLabelKey),
    busy: saving,
    onClick: handleAddRule
  }));
};

Rules.propTypes = {
  rules: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  onUpdate: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  onError: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  addButtonLabelKey: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  makeNewItem: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  ItemEditionModal: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.elementType.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Rules);

/***/ }),

/***/ "./src/ducks/settings/Sections.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/settings/Sections.jsx ***!
  \*****************************************/
/*! exports provided: SubSectionTitle, Section, SubSection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubSectionTitle", function() { return SubSectionTitle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubSection", function() { return SubSection; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Sections_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Sections.styl */ "./src/ducks/settings/Sections.styl");
/* harmony import */ var _Sections_styl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Sections_styl__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






var SectionTitle = function SectionTitle(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "h5",
    className: "u-mb-half"
  }, children);
};

var SubSectionDescription = function SubSectionDescription(_ref2) {
  var children = _ref2.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "body1",
    color: "textSecondary"
  }, children);
};

var SubSectionTitle = function SubSectionTitle(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({
    variant: "h6",
    className: "u-mb-half"
  }, props));
};
var Section = function Section(_ref3) {
  var title = _ref3.title,
      description = _ref3.description,
      children = _ref3.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_Sections_styl__WEBPACK_IMPORTED_MODULE_2___default.a.Section, 'u-stack-m')
  }, title ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SectionTitle, null, title) : null, description ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "body1",
    color: "textSecondary"
  }, description) : null, children);
};
var SubSection = function SubSection(_ref4) {
  var children = _ref4.children,
      title = _ref4.title,
      description = _ref4.description,
      className = _ref4.className;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_Sections_styl__WEBPACK_IMPORTED_MODULE_2___default.a.SubSection, className, 'u-stack-s')
  }, title ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SubSectionTitle, null, title) : null, description ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SubSectionDescription, null, description) : null, children);
};

/***/ }),

/***/ "./src/ducks/settings/Sections.styl":
/*!******************************************!*\
  !*** ./src/ducks/settings/Sections.styl ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Section":"Section--qDsxd","SubSection":"SubSection--1XRL2"};

/***/ }),

/***/ "./src/ducks/settings/Settings.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/settings/Settings.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var ducks_settings_AppVersion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/settings/AppVersion */ "./src/ducks/settings/AppVersion.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var ducks_settings_Settings_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/Settings.styl */ "../overrides/cozy-banks/src/ducks/settings/Settings.styl");
/* harmony import */ var ducks_settings_Settings_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_Settings_styl__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/settings/TabsHeader */ "../overrides/cozy-banks/src/ducks/settings/TabsHeader/index.jsx");
/* harmony import */ var components_Delayed__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Delayed */ "./src/components/Delayed.jsx");
/* global __TARGET__, __APP_VERSION__ */










var Settings = function Settings(_ref) {
  var children = _ref.children,
      delayContent = _ref.delayContent;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_3__["default"], {
    theme: "primary"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_TabsHeader__WEBPACK_IMPORTED_MODULE_7__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Delayed__WEBPACK_IMPORTED_MODULE_8__["default"], {
    delay: delayContent
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: ducks_settings_Settings_styl__WEBPACK_IMPORTED_MODULE_5___default.a.Settings__Content
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: isMobile ? 'u-mb-half ' : 'u-mt-1'
  }), children)),  false && false);
};

Settings.defaultProps = {
  delayContent: 0
};
/* harmony default export */ __webpack_exports__["default"] = (Settings);

/***/ }),

/***/ "./src/ducks/settings/TabsHeader/index.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/settings/TabsHeader/index.jsx ***!
  \*************************************************/
/*! exports provided: tabNames, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tabNames", function() { return tabNames; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_Title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Title */ "./src/components/Title/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiTabs */ "./node_modules/cozy-ui/transpiled/react/MuiTabs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Divider */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Divider/index.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");









var tabNames = ['configuration', 'accounts', 'groups'];

var TabsHeader = function TabsHeader() {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var location = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_8__["useLocation"])();
  var history = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_8__["useHistory"])();
  var defaultTab = location.pathname.replace('/settings/', '');
  if (tabNames.indexOf(defaultTab) === -1) defaultTab = 'configuration';
  var goTo = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (url) {
    return function () {
      return history.push(url);
    };
  }, [history]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: isMobile ? 'u-p-0' : 'u-pb-half'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title__WEBPACK_IMPORTED_MODULE_3__["PageTitle"], null, t('Settings.title'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_5__["default"], {
    fixed: true,
    theme: isMobile ? 'inverted' : 'normal'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_6__["Tabs"], {
    value: tabNames.indexOf(defaultTab)
  }, tabNames.map(function (tabName, i) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiTabs__WEBPACK_IMPORTED_MODULE_6__["Tab"], {
      disableRipple: true,
      classes: {
        root: i === 0 && !isMobile ? 'u-ml-2' : 0
      },
      key: tabName,
      name: tabName,
      onClick: goTo("/settings/".concat(tabName)),
      label: t("Settings.".concat(tabName))
    });
  })), isMobile ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_7__["default"], null)));
};

/* harmony default export */ __webpack_exports__["default"] = (TabsHeader);

/***/ }),

/***/ "./src/ducks/settings/ToggleRow.jsx":
/*!******************************************!*\
  !*** ./src/ducks/settings/ToggleRow.jsx ***!
  \******************************************/
/*! exports provided: ToggleRowContent, ToggleRowDescription, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleRowContent", function() { return ToggleRowContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleRowDescription", function() { return ToggleRowDescription; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_settings_ToggleRow_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/settings/ToggleRow.styl */ "./src/ducks/settings/ToggleRow.styl");
/* harmony import */ var ducks_settings_ToggleRow_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ducks_settings_ToggleRow_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Switch */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Switch/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var ToggleRowContent = function ToggleRowContent(props) {
  var className = props.className,
      rest = _objectWithoutProperties(props, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_settings_ToggleRow_styl__WEBPACK_IMPORTED_MODULE_3___default.a.ToggleRow__body, className)
  }, rest));
};
var ToggleRowDescription = function ToggleRowDescription(props) {
  var className = props.className,
      rest = _objectWithoutProperties(props, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({
    variant: "body2",
    color: "textSecondary",
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_settings_ToggleRow_styl__WEBPACK_IMPORTED_MODULE_3___default.a.ToggleRow__description, className)
  }, rest));
};

var ToggleRow = function ToggleRow(_ref) {
  var enabled = _ref.enabled,
      description = _ref.description,
      onToggle = _ref.onToggle;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToggleRowContent, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToggleRowDescription, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: description
    }
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Switch__WEBPACK_IMPORTED_MODULE_4__["default"], {
    disableRipple: true,
    className: "u-mh-half",
    checked: enabled,
    color: "primary",
    onClick: function onClick(e) {
      return e.stopPropagation();
    },
    onChange: function onChange() {
      return onToggle(!enabled);
    },
    "aria-label": description
  }));
};

ToggleRow.propTypes = {
  enabled: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number]),
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  onChangeValue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  onToggle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (ToggleRow);

/***/ }),

/***/ "./src/ducks/settings/ToggleRow.styl":
/*!*******************************************!*\
  !*** ./src/ducks/settings/ToggleRow.styl ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"ToggleRow__body":"ToggleRow__body--1rtsq","ToggleRow__description":"ToggleRow__description--wUP8k"};

/***/ }),

/***/ "./src/ducks/settings/TransactionGreaterRules.jsx":
/*!********************************************************!*\
  !*** ./src/ducks/settings/TransactionGreaterRules.jsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _makeRuleComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./makeRuleComponent */ "./src/ducks/settings/makeRuleComponent.jsx");
/* harmony import */ var _specs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./specs */ "./src/ducks/settings/specs.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var getTransactionGreaterDescriptionKey = function getTransactionGreaterDescriptionKey(props) {
  if (props.doc && props.doc.accountOrGroup) {
    return 'Notifications.if-transaction-greater.descriptionWithAccountGroup';
  } else {
    return 'Notifications.if-transaction-greater.description';
  }
};

var getTransactionGreaterDescriptionProps = function getTransactionGreaterDescriptionProps(props) {
  return {
    accountOrGroupLabel: props.doc.accountOrGroup ? props.getAccountOrGroupLabel(props.doc.accountOrGroup) : null,
    value: props.doc.value
  };
};

var initialTransactionGreaterRules = [{
  id: 0,
  value: 100,
  accountOrGroup: null,
  enabled: false
}];
var newTransactionGreaterRule = {
  enabled: true,
  value: 100,
  accountOrGroup: null
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_makeRuleComponent__WEBPACK_IMPORTED_MODULE_0__["default"])({
  displayName: 'TransactionGreater',
  getInitialRules: function getInitialRules() {
    return initialTransactionGreaterRules;
  },
  spec: _specs__WEBPACK_IMPORTED_MODULE_1__["transactionGreater"],
  getNewRule: function getNewRule() {
    return _objectSpread({}, newTransactionGreaterRule);
  },
  getRuleDescriptionKey: getTransactionGreaterDescriptionKey,
  getRuleDescriptionProps: getTransactionGreaterDescriptionProps,
  trackPageName: 'parametres:configuration:alerte-mouvements'
}));

/***/ }),

/***/ "./src/ducks/settings/constants.js":
/*!*****************************************!*\
  !*** ./src/ducks/settings/constants.js ***!
  \*****************************************/
/*! exports provided: DOCTYPE, COLLECTION_NAME, DEFAULTS_SETTINGS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE", function() { return DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "COLLECTION_NAME", function() { return COLLECTION_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULTS_SETTINGS", function() { return DEFAULTS_SETTINGS; });
var DOCTYPE = 'io.cozy.bank.settings';
var COLLECTION_NAME = 'settings';
var DEFAULTS_SETTINGS = {
  _type: 'io.cozy.bank.settings',
  _id: 'configuration',
  id: 'configuration',
  autogroups: {
    processedAccounts: []
  },
  linkMyselfToAccounts: {
    processedAccounts: []
  },
  notifications: {
    lastSeq: 0,
    balanceLower: [{
      id: 0,
      value: 100,
      enabled: false
    }],
    transactionGreater: [{
      id: 0,
      value: 600,
      enabled: true
    }],
    healthBillLinked: {
      enabled: true
    },
    lateHealthReimbursement: {
      value: 30,
      enabled: false
    },
    delayedDebit: [{
      id: 0,
      enabled: false,
      value: 2
    }]
  },
  categoryBudgetAlerts: [],
  billsMatching: {
    billsLastSeq: '0',
    transactionsLastSeq: '0'
  },
  appSuggestions: {
    lastSeq: 0
  },
  community: {
    localModelOverride: {
      enabled: true
    }
  },
  categorization: {
    lastSeq: 0
  },
  showIncomeCategory: true
};

/***/ }),

/***/ "./src/ducks/settings/helpers.js":
/*!***************************************!*\
  !*** ./src/ducks/settings/helpers.js ***!
  \***************************************/
/*! exports provided: getDefaultedSettings, isConfigurationSetting, getDefaultedSettingsFromCollection, fetchSettings, reverseIndex, getWarningLimitsPerAccount, getNotificationFromConfig, getNotificationFromSettings, DEFAULT_HEALTH_REIMBURSEMENTS_LATE_LIMIT_IN_DAYS, getHealthReimbursementLateLimit, fetchCategoryAlerts, updateCategoryAlerts, getAccountOrGroupLabel, withAccountOrGroupLabeller, markdownBold, disableOutdatedNotifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultedSettings", function() { return getDefaultedSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isConfigurationSetting", function() { return isConfigurationSetting; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultedSettingsFromCollection", function() { return getDefaultedSettingsFromCollection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchSettings", function() { return fetchSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reverseIndex", function() { return reverseIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWarningLimitsPerAccount", function() { return getWarningLimitsPerAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNotificationFromConfig", function() { return getNotificationFromConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNotificationFromSettings", function() { return getNotificationFromSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_HEALTH_REIMBURSEMENTS_LATE_LIMIT_IN_DAYS", function() { return DEFAULT_HEALTH_REIMBURSEMENTS_LATE_LIMIT_IN_DAYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHealthReimbursementLateLimit", function() { return getHealthReimbursementLateLimit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchCategoryAlerts", function() { return fetchCategoryAlerts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateCategoryAlerts", function() { return updateCategoryAlerts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountOrGroupLabel", function() { return getAccountOrGroupLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withAccountOrGroupLabeller", function() { return withAccountOrGroupLabeller; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markdownBold", function() { return markdownBold; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disableOutdatedNotifications", function() { return disableOutdatedNotifications; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/maxBy */ "./node_modules/lodash/maxBy.js");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flatMap */ "./node_modules/lodash/flatMap.js");
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/mapValues */ "./node_modules/lodash/mapValues.js");
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var ducks_settings_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/settings/constants */ "../overrides/cozy-banks/src/ducks/settings/constants.js");
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-logger */ "./node_modules/cozy-logger/dist/index.js");
/* harmony import */ var cozy_logger__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_logger__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-client/dist/store */ "./node_modules/cozy-client/dist/store/index.js");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ruleUtils */ "./src/ducks/settings/ruleUtils.js");


function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}


















var log = cozy_logger__WEBPACK_IMPORTED_MODULE_8___default.a.namespace('settings.helpers');
var getDefaultedSettings = function getDefaultedSettings(incompleteSettings) {
  return lodash_merge__WEBPACK_IMPORTED_MODULE_5___default()({}, ducks_settings_constants__WEBPACK_IMPORTED_MODULE_7__["DEFAULTS_SETTINGS"], incompleteSettings);
};
/**
 * Make the difference between the pin setting doc and the doc where notifications
 * are configured
 */

var isConfigurationSetting = function isConfigurationSetting(settingDoc) {
  return settingDoc.notifications || settingDoc.autogroups || settingDoc.linkMyselfToAccounts || settingDoc.categoryBudgetAlerts || settingDoc.billsMatching || settingDoc.appSuggestions;
};
var getDefaultedSettingsFromCollection = function getDefaultedSettingsFromCollection(col) {
  var settings = col && col.data && col.data.find(isConfigurationSetting);
  return getDefaultedSettings(settings);
};
var fetchSettings = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    var settingsCol;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_10__["Q"])(ducks_settings_constants__WEBPACK_IMPORTED_MODULE_7__["DOCTYPE"]));

          case 2:
            settingsCol = _context.sent;
            return _context.abrupt("return", getDefaultedSettingsFromCollection(settingsCol));

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function fetchSettings(_x) {
    return _ref.apply(this, arguments);
  };
}();
var reverseIndex = function reverseIndex(items, getKeys) {
  var ri = {};
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var item = _step.value;
      var keys = getKeys(item);

      if (!keys) {
        continue;
      }

      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = keys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var key = _step2.value;
          ri[key] = ri[key] || [];
          ri[key].push(item);
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return ri;
};

var maxValue = function maxValue(arr, fn) {
  var minItem = lodash_maxBy__WEBPACK_IMPORTED_MODULE_1___default()(arr, fn);
  return minItem ? fn(minItem) : -Infinity;
};

var getWarningLimitsPerAccount = function getWarningLimitsPerAccount(balanceLowerRules, accounts, groups) {
  var enabledRules = balanceLowerRules.filter(function (x) {
    return x.enabled;
  });
  var accountIdToGroups = reverseIndex(groups, ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_14__["getGroupAccountIds"]);
  var rulesPerDoctype = lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default()(enabledRules, _ruleUtils__WEBPACK_IMPORTED_MODULE_17__["getRuleAccountOrGroupDoctype"]);
  var groupRulesById = lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default()(rulesPerDoctype[doctypes__WEBPACK_IMPORTED_MODULE_9__["GROUP_DOCTYPE"]], _ruleUtils__WEBPACK_IMPORTED_MODULE_17__["getRuleAccountOrGroupId"]);
  var accountRulesById = lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default()(rulesPerDoctype[doctypes__WEBPACK_IMPORTED_MODULE_9__["ACCOUNT_DOCTYPE"]], _ruleUtils__WEBPACK_IMPORTED_MODULE_17__["getRuleAccountOrGroupId"]);
  var unqualifiedRules = rulesPerDoctype['undefined'] || [];
  var limitPerAccount = {};
  var _iteratorNormalCompletion3 = true;
  var _didIteratorError3 = false;
  var _iteratorError3 = undefined;

  try {
    for (var _iterator3 = accounts[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
      var account = _step3.value;
      var groupRules = lodash_flatMap__WEBPACK_IMPORTED_MODULE_2___default()(accountIdToGroups[account._id] || [], function (group) {
        return groupRulesById[group._id];
      }).filter(Boolean);
      var accountRules = accountRulesById[account._id] || [];
      limitPerAccount[account._id] = maxValue([].concat(_toConsumableArray(unqualifiedRules), _toConsumableArray(accountRules), _toConsumableArray(groupRules)), _ruleUtils__WEBPACK_IMPORTED_MODULE_17__["getRuleValue"]);
    }
  } catch (err) {
    _didIteratorError3 = true;
    _iteratorError3 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
        _iterator3.return();
      }
    } finally {
      if (_didIteratorError3) {
        throw _iteratorError3;
      }
    }
  }

  return limitPerAccount;
};
var getNotificationFromConfig = function getNotificationFromConfig(config, name) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(config, ['notifications', name]);
};
var getNotificationFromSettings = function getNotificationFromSettings(settings, name) {
  if (!settings || settings.length === 0) {
    return null;
  }

  var configurationSettings = settings.find(isConfigurationSetting);
  return getNotificationFromConfig(configurationSettings, name);
};
var DEFAULT_HEALTH_REIMBURSEMENTS_LATE_LIMIT_IN_DAYS = 30;
var getHealthReimbursementLateLimit = function getHealthReimbursementLateLimit(settings) {
  var lateNotification = getNotificationFromSettings(settings, 'lateHealthReimbursement');
  return lateNotification && lateNotification.value || DEFAULT_HEALTH_REIMBURSEMENTS_LATE_LIMIT_IN_DAYS;
};
var fetchCategoryAlerts = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client) {
    var settings;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            _context2.next = 3;
            return fetchSettings(client);

          case 3:
            settings = _context2.sent;
            return _context2.abrupt("return", settings.categoryBudgetAlerts);

          case 7:
            _context2.prev = 7;
            _context2.t0 = _context2["catch"](0);
            log('error', "Error while fetching category alerts (".concat(_context2.t0.message, ")"));
            return _context2.abrupt("return", []);

          case 11:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 7]]);
  }));

  return function fetchCategoryAlerts(_x2) {
    return _ref2.apply(this, arguments);
  };
}();
var updateCategoryAlerts = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, updatedAlerts) {
    var settings;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return fetchSettings(client);

          case 2:
            settings = _context3.sent;
            settings.categoryBudgetAlerts = updatedAlerts;
            return _context3.abrupt("return", client.save(settings));

          case 5:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function updateCategoryAlerts(_x3, _x4) {
    return _ref3.apply(this, arguments);
  };
}();
var getAccountOrGroupLabel = function getAccountOrGroupLabel(accountOrGroup, t) {
  if (!accountOrGroup) {
    return null;
  }

  switch (accountOrGroup._type) {
    case doctypes__WEBPACK_IMPORTED_MODULE_9__["ACCOUNT_DOCTYPE"]:
      return Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_13__["getAccountLabel"])(accountOrGroup);

    case doctypes__WEBPACK_IMPORTED_MODULE_9__["GROUP_DOCTYPE"]:
      return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_14__["getGroupLabel"])(accountOrGroup, t);

    default:
      return '';
  }
};
var withAccountOrGroupLabeller = function withAccountOrGroupLabeller(propName) {
  return lodash_flowRight__WEBPACK_IMPORTED_MODULE_16___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_15__["translate"])(), Object(react_redux__WEBPACK_IMPORTED_MODULE_11__["connect"])(function (state, ownProps) {
    return _defineProperty({}, propName, function (partialDoc) {
      return getAccountOrGroupLabel(Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_12__["getDocumentFromState"])(state, partialDoc._type, partialDoc._id), ownProps.t);
    });
  }));
};
var boldRx = /\*(.*?)\*/g;
var markdownBold = function markdownBold(str) {
  return str.replace(boldRx, function (a) {
    return '<b>' + a.slice(1, -1) + '</b>';
  });
};
/**
 * Remove outdated accounts or groups from notifications
 *
 * Notifications that are attached to a group or an account are disabled
 *
 * Returns all the notifications that have been disabled
 */

var disableOutdatedNotifications = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client) {
    var allSettings, notifSettings, updates, updatedSettings;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return client.queryAll(Object(cozy_client__WEBPACK_IMPORTED_MODULE_10__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_9__["ACCOUNT_DOCTYPE"]));

          case 2:
            _context4.next = 4;
            return client.queryAll(Object(cozy_client__WEBPACK_IMPORTED_MODULE_10__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_9__["GROUP_DOCTYPE"]));

          case 4:
            _context4.next = 6;
            return client.queryAll(Object(cozy_client__WEBPACK_IMPORTED_MODULE_10__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_9__["SETTINGS_DOCTYPE"]));

          case 6:
            allSettings = _context4.sent;
            notifSettings = getDefaultedSettingsFromCollection(allSettings);

            if (notifSettings._rev) {
              _context4.next = 11;
              break;
            } // eslint-disable-next-line no-console


            console.info('No need to update notification settings, settings have not been saved yet');
            return _context4.abrupt("return");

          case 11:
            updates = [];
            updatedSettings = _objectSpread({}, notifSettings);
            updatedSettings.notifications = lodash_mapValues__WEBPACK_IMPORTED_MODULE_6___default()(notifSettings.notifications, function (notifOptions, notifName) {
              var cleanNotifOption = function cleanNotifOption(notifOption) {
                var notifAccountOrGroup = notifOption.accountOrGroup;

                if (!notifAccountOrGroup) {
                  return notifOption;
                }

                var doctype = notifAccountOrGroup._type;
                var doc = client.getDocumentFromState(doctype, notifAccountOrGroup._id);

                if (!doc || doc.deleted) {
                  // eslint-disable-next-line no-console
                  console.info("Disabling notification ".concat(notifName, ":").concat(notifOption.id, " since ").concat(doctype, " has been removed"));
                  updates.push(notifOption);
                  return _objectSpread({}, notifOption, {
                    accountOrGroup: null,
                    enabled: false
                  });
                }

                return notifOption;
              };

              return Array.isArray(notifOptions) ? notifOptions.map(cleanNotifOption) : cleanNotifOption(notifOptions);
            });
            _context4.next = 16;
            return client.save(updatedSettings);

          case 16:
            return _context4.abrupt("return", updates);

          case 17:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function disableOutdatedNotifications(_x5) {
    return _ref5.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/ducks/settings/helpers/jobs.js":
/*!********************************************!*\
  !*** ./src/ducks/settings/helpers/jobs.js ***!
  \********************************************/
/*! exports provided: transformJobsToFakeAccounts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transformJobsToFakeAccounts", function() { return transformJobsToFakeAccounts; });
var transformJobsToFakeAccounts = function transformJobsToFakeAccounts(jobsInProgress) {
  var jobsInAccounts = jobsInProgress.map(function (j) {
    return {
      inProgress: true,
      connection: {
        raw: {
          _id: j.account
        },
        data: j.account
      },
      connectionId: j.account,
      cozyMetadata: {
        createdByApp: j.konnector
      },
      institutionLabel: j.institutionLabel
    };
  });
  return jobsInAccounts;
};

/***/ }),

/***/ "./src/ducks/settings/index.js":
/*!*************************************!*\
  !*** ./src/ducks/settings/index.js ***!
  \*************************************/
/*! exports provided: getDefaultedSettingsFromCollection, Settings, AccountsSettings, GroupsSettings, ExistingGroupSettings, NewGroupSettings, Configuration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_settings_Settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/settings/Settings */ "../overrides/cozy-banks/src/ducks/settings/Settings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Settings", function() { return ducks_settings_Settings__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_settings_AccountsSettings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/settings/AccountsSettings */ "./src/ducks/settings/AccountsSettings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AccountsSettings", function() { return ducks_settings_AccountsSettings__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var ducks_settings_GroupSettings_ExistingGroupSettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/settings/GroupSettings/ExistingGroupSettings */ "./src/ducks/settings/GroupSettings/ExistingGroupSettings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExistingGroupSettings", function() { return ducks_settings_GroupSettings_ExistingGroupSettings__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var ducks_settings_GroupSettings_NewGroupSettings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/settings/GroupSettings/NewGroupSettings */ "./src/ducks/settings/GroupSettings/NewGroupSettings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NewGroupSettings", function() { return ducks_settings_GroupSettings_NewGroupSettings__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var ducks_settings_GroupsSettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/settings/GroupsSettings */ "./src/ducks/settings/GroupsSettings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GroupsSettings", function() { return ducks_settings_GroupsSettings__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var ducks_settings_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/Configuration */ "./src/ducks/settings/Configuration.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Configuration", function() { return ducks_settings_Configuration__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers */ "./src/ducks/settings/helpers.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDefaultedSettingsFromCollection", function() { return _helpers__WEBPACK_IMPORTED_MODULE_6__["getDefaultedSettingsFromCollection"]; });







 // components



/***/ }),

/***/ "./src/ducks/settings/makeRuleComponent.jsx":
/*!**************************************************!*\
  !*** ./src/ducks/settings/makeRuleComponent.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_EditionModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/EditionModal */ "./src/components/EditionModal/index.jsx");
/* harmony import */ var ducks_settings_Rules__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/settings/Rules */ "./src/ducks/settings/Rules.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var _EditableSettingCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EditableSettingCard */ "./src/ducks/settings/EditableSettingCard.jsx");
/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ruleUtils */ "./src/ducks/settings/ruleUtils.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











var makeRuleComponent = function makeRuleComponent(_ref) {
  var getRuleDescriptionProps = _ref.getRuleDescriptionProps,
      getRuleDescriptionKey = _ref.getRuleDescriptionKey,
      getNewRule = _ref.getNewRule,
      getInitialRules = _ref.getInitialRules,
      spec = _ref.spec,
      displayName = _ref.displayName,
      shouldOpenOnToggle = _ref.shouldOpenOnToggle,
      trackPageName = _ref.trackPageName;
  var EditionModal = Object(components_EditionModal__WEBPACK_IMPORTED_MODULE_4__["makeEditionModalFromSpec"])(spec);

  var RulesComponent = function RulesComponent(props) {
    var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
        t = _useI18n.t;

    var rawInitialRules = props.rules,
        getAccountOrGroupLabel = props.getAccountOrGroupLabel,
        onChangeRules = props.onChangeRules,
        ruleProps = props.ruleProps;
    var initialRules = Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_8__["ensureNewRuleFormat"])(rawInitialRules);

    var onError = function onError(err) {
      // eslint-disable-next-line no-console
      console.warn('Could not save rule'); // eslint-disable-next-line no-console

      console.error(err);
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_2__["default"].error(t('Settings.rules.saving-error'));
    };

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_Rules__WEBPACK_IMPORTED_MODULE_5__["default"], {
      rules: initialRules,
      onUpdate: onChangeRules,
      onError: onError,
      addButtonLabelKey: "Settings.rules.create",
      makeNewItem: getNewRule,
      ItemEditionModal: EditionModal,
      trackPageName: trackPageName
    }, function (rule, i, createOrUpdateRule, removeRule) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EditableSettingCard__WEBPACK_IMPORTED_MODULE_7__["default"], {
        doc: rule,
        key: i,
        onToggle: function onToggle(enabled) {
          createOrUpdateRule(_objectSpread({}, rule, {
            enabled: enabled
          }));
          Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_6__["trackEvent"])({
            name: "".concat(Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_6__["getPageLastPart"])(trackPageName), "-").concat(enabled ? 'on' : 'off')
          });
        },
        removeModalTitle: t('Settings.rules.remove-modal.title'),
        removeModalDescription: t('Settings.rules.remove-modal.desc'),
        onChangeDoc: createOrUpdateRule,
        onRemoveDoc: removeRule,
        canBeRemoved: initialRules.length > 1,
        editModalProps: spec,
        getAccountOrGroupLabel: getAccountOrGroupLabel,
        descriptionKey: getRuleDescriptionKey,
        descriptionProps: getRuleDescriptionProps,
        shouldOpenOnToggle: shouldOpenOnToggle,
        ruleProps: ruleProps,
        trackPageName: trackPageName
      });
    });
  };

  RulesComponent.defaultProps = {
    rules: getInitialRules()
  };
  RulesComponent.propTypes = {
    rules: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    onChangeRules: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
  };
  RulesComponent.displayName = displayName;
  return RulesComponent;
};

/* harmony default export */ __webpack_exports__["default"] = (makeRuleComponent);

/***/ }),

/***/ "./src/ducks/settings/ruleUtils.js":
/*!*****************************************!*\
  !*** ./src/ducks/settings/ruleUtils.js ***!
  \*****************************************/
/*! exports provided: getRuleValue, getRuleAccountOrGroupDoctype, getRuleAccountOrGroupId, ensureNewRuleFormat, getRuleId, getNextRuleId, ruleAccountFilter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRuleValue", function() { return getRuleValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRuleAccountOrGroupDoctype", function() { return getRuleAccountOrGroupDoctype; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRuleAccountOrGroupId", function() { return getRuleAccountOrGroupId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ensureNewRuleFormat", function() { return ensureNewRuleFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRuleId", function() { return getRuleId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNextRuleId", function() { return getNextRuleId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ruleAccountFilter", function() { return ruleAccountFilter; });
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/maxBy */ "./node_modules/lodash/maxBy.js");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}



var getRuleValue = function getRuleValue(rule) {
  return rule.value;
};
var getRuleAccountOrGroupDoctype = function getRuleAccountOrGroupDoctype(rule) {
  return rule.accountOrGroup ? rule.accountOrGroup._type : undefined;
};
var getRuleAccountOrGroupId = function getRuleAccountOrGroupId(rule) {
  return rule.accountOrGroup ? rule.accountOrGroup._id : undefined;
};
var ensureNewRuleFormat = function ensureNewRuleFormat(rules) {
  return !Array.isArray(rules) ? [_objectSpread({}, rules, {
    id: 0
  })] : rules;
};
var getRuleId = function getRuleId(rule) {
  return rule.id;
};
var getNextRuleId = function getNextRuleId(rules) {
  return rules.length === 0 ? 0 : getRuleId(lodash_maxBy__WEBPACK_IMPORTED_MODULE_0___default()(rules, getRuleId)) + 1;
};
var ruleAccountFilter = function ruleAccountFilter(rule, groups) {
  return function (account) {
    var accountOrGroup = rule.accountOrGroup;

    if (!accountOrGroup) {
      return true;
    } else if (accountOrGroup._type === doctypes__WEBPACK_IMPORTED_MODULE_1__["ACCOUNT_DOCTYPE"]) {
      return account._id === accountOrGroup._id;
    } else if (accountOrGroup._type === doctypes__WEBPACK_IMPORTED_MODULE_1__["GROUP_DOCTYPE"]) {
      var group = groups.find(function (group) {
        return accountOrGroup._id === group._id;
      });

      if (group && group.accounts) {
        return group.accounts.includes(account._id);
      } else {
        // In case of non existent group, prefer to consider that no accounts
        // belong to it
        return false;
      }
    }
  };
};

/***/ }),

/***/ "./src/ducks/settings/selectors.js":
/*!*****************************************!*\
  !*** ./src/ducks/settings/selectors.js ***!
  \*****************************************/
/*! exports provided: getSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSettings", function() { return getSettings; });
/* harmony import */ var selectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! selectors */ "./src/selectors/index.js");

var getSettings = Object(selectors__WEBPACK_IMPORTED_MODULE_0__["queryDataSelector"])('settings');

/***/ }),

/***/ "./src/ducks/settings/specs.js":
/*!*************************************!*\
  !*** ./src/ducks/settings/specs.js ***!
  \*************************************/
/*! exports provided: balanceLower, transactionGreater, lateHealthReimbursement, categoryBudgets, delayedDebits */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "balanceLower", function() { return balanceLower; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transactionGreater", function() { return transactionGreater; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lateHealthReimbursement", function() { return lateHealthReimbursement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "categoryBudgets", function() { return categoryBudgets; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delayedDebits", function() { return delayedDebits; });
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var components_EditionModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/EditionModal */ "./src/components/EditionModal/index.jsx");
/* harmony import */ var ducks_client_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/client/utils */ "./src/ducks/client/utils.js");
/* harmony import */ var _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CategoryAlerts/helpers */ "./src/ducks/settings/CategoryAlerts/helpers.js");
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}
/**
 * Contains edition specs for alerts settings
 *
 * - How an alert is shown (which locales, which properties)
 * - How an alert is edited (which fields)
 */







var getValueFromNotification = function getValueFromNotification(notification) {
  return notification.value;
};

var updatedNotificationFromValue = function updatedNotificationFromValue(notification, value) {
  return _objectSpread({}, notification, {
    value: value
  });
};

var getAccountOrGroupFromNotification = function getAccountOrGroupFromNotification(notification) {
  return notification.accountOrGroup;
};

var updatedNotificationFromAccountGroup = function updatedNotificationFromAccountGroup(notification, accountOrGroup) {
  return _objectSpread({}, notification, {
    accountOrGroup: Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_2__["getDocumentIdentity"])(accountOrGroup)
  });
};

var balanceLower = {
  modalTitle: 'Notifications.editModal.title',
  fieldSpecs: {
    value: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].number,
      getValue: getValueFromNotification,
      updater: updatedNotificationFromValue,
      sectionProps: {
        unit: '€'
      }
    },
    accountOrGroup: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].accountOrGroup,
      getValue: getAccountOrGroupFromNotification,
      updater: updatedNotificationFromAccountGroup
    }
  },
  fieldOrder: ['value', 'accountOrGroup'],
  fieldLabels: {
    value: 'Notifications.if-balance-lower.fieldLabels.value',
    accountOrGroup: 'Notifications.if-balance-lower.fieldLabels.accountOrGroup'
  }
};
var transactionGreater = {
  modalTitle: 'Notifications.editModal.title',
  fieldSpecs: {
    value: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].number,
      getValue: getValueFromNotification,
      updater: updatedNotificationFromValue,
      sectionProps: {
        unit: '€'
      }
    },
    accountOrGroup: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].accountOrGroup,
      getValue: getAccountOrGroupFromNotification,
      updater: updatedNotificationFromAccountGroup
    }
  },
  fieldOrder: ['value', 'accountOrGroup'],
  fieldLabels: {
    value: 'Notifications.if-transaction-greater.fieldLabels.value',
    accountOrGroup: 'Notifications.if-transaction-greater.fieldLabels.accountOrGroup'
  }
};
var lateHealthReimbursement = {
  modalTitle: 'Notifications.editModal.title',
  fieldSpecs: {
    value: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].number,
      getValue: getValueFromNotification,
      updater: updatedNotificationFromValue,
      sectionProps: {
        unitKey: 'Notifications.when-late-health-reimbursement.unit'
      }
    }
  },
  fieldOrder: ['value'],
  fieldLabels: {
    value: 'Notifications.when-late-health-reimbursement.fieldLabels.value'
  }
};
var categoryBudgets = {
  modalTitle: 'Settings.budget-category-alerts.edit.modal-title',
  fieldOrder: ['accountOrGroup', 'category', 'maxThreshold'],
  fieldLabels: {
    accountOrGroup: 'Settings.budget-category-alerts.edit.account-group-label',
    category: 'Settings.budget-category-alerts.edit.category-label',
    maxThreshold: 'Settings.budget-category-alerts.edit.threshold-label'
  },
  fieldSpecs: {
    accountOrGroup: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].accountOrGroup,
      getValue: _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__["getAccountOrGroupChoiceFromAlert"],
      updater: _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__["updatedAlertFromAccountOrGroupChoice"]
    },
    category: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].category,
      getValue: _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__["getCategoryChoiceFromAlert"],
      updater: _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__["updatedAlertFromCategoryChoice"]
    },
    maxThreshold: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].threshold,
      getValue: _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__["getMaxThresholdChoiceFromAlert"],
      updater: _CategoryAlerts_helpers__WEBPACK_IMPORTED_MODULE_3__["updatedAlertFromMaxThresholdChoice"]
    }
  }
};

var makeAccountChoiceFromAccount = function makeAccountChoiceFromAccount(account) {
  return account ? Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_2__["getDocumentIdentity"])(account) : null;
};

var delayedDebits = {
  modalTitle: 'Notifications.editModal.title',
  fieldOrder: ['creditCardAccount', 'checkingsAccount', 'value'],
  fieldLabels: {
    creditCardAccount: 'Notifications.delayed-debit.fieldLabels.creditCardAccount',
    checkingsAccount: 'Notifications.delayed-debit.fieldLabels.checkingsAccount',
    value: 'Notifications.delayed-debit.fieldLabels.days'
  },
  fieldSpecs: {
    creditCardAccount: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].account,
      chooserProps: {
        canSelectAll: false,
        filter: ducks_account_helpers__WEBPACK_IMPORTED_MODULE_0__["isCreditCardAccount"]
      },
      getValue: function getValue(initialDoc) {
        return makeAccountChoiceFromAccount(initialDoc.creditCardAccount);
      },
      updater: function updater(doc, creditCardAccount) {
        return _objectSpread({}, doc, {
          creditCardAccount: Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_2__["getDocumentIdentity"])(creditCardAccount)
        });
      }
    },
    checkingsAccount: {
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].account,
      chooserProps: {
        canSelectAll: false,
        filter: ducks_account_helpers__WEBPACK_IMPORTED_MODULE_0__["isCheckingsAccount"]
      },
      getValue: function getValue(initialDoc) {
        return makeAccountChoiceFromAccount(initialDoc.checkingsAccount);
      },
      updater: function updater(doc, checkingsAccount) {
        return _objectSpread({}, doc, {
          checkingsAccount: Object(ducks_client_utils__WEBPACK_IMPORTED_MODULE_2__["getDocumentIdentity"])(checkingsAccount)
        });
      }
    },
    value: {
      sectionProps: {
        unitKey: 'Notifications.delayed-debit.unit'
      },
      type: components_EditionModal__WEBPACK_IMPORTED_MODULE_1__["CHOOSING_TYPES"].number,
      getValue: function getValue(doc) {
        return doc.value;
      },
      updater: function updater(doc, value) {
        return _objectSpread({}, doc, {
          value: value
        });
      }
    }
  }
};

/***/ }),

/***/ "./src/ducks/settings/useList.js":
/*!***************************************!*\
  !*** ./src/ducks/settings/useList.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}


/**
 * Replace item in arr, finding item through idFn.
 * If previous item cannot be found, the new item is pushed at the
 * end of the array.
 */

var replaceBy = function replaceBy(arr, item, idFn) {
  var id = idFn(item);
  var index = arr.findIndex(function (x) {
    return idFn(x) === id;
  });
  return index !== -1 ? [].concat(_toConsumableArray(arr.slice(0, index)), [item], _toConsumableArray(arr.slice(index + 1))) : [].concat(_toConsumableArray(arr), [item]);
};

var useList = function useList(_ref) {
  var initialList = _ref.list,
      onUpdate = _ref.onUpdate,
      onError = _ref.onError,
      getId = _ref.getId,
      getNextId = _ref.getNextId;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(initialList),
      _useState2 = _slicedToArray(_useState, 2),
      list = _useState2[0],
      setList = _useState2[1];

  var updateList = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(updatedList) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              setList(updatedList);
              _context.prev = 1;
              _context.next = 4;
              return onUpdate(updatedList);

            case 4:
              _context.next = 10;
              break;

            case 6:
              _context.prev = 6;
              _context.t0 = _context["catch"](1);
              setList(list);
              onError(_context.t0);

            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1, 6]]);
    }));

    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [onUpdate, list, onError]);
  var createOrUpdate = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(updatedItem) {
      var updatedList;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              if (updatedItem.id === undefined) {
                updatedItem.id = getNextId(list);
              }

              updatedList = replaceBy(list, updatedItem, getId);
              _context2.next = 4;
              return updateList(updatedList);

            case 4:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));

    return function (_x2) {
      return _ref3.apply(this, arguments);
    };
  }(), [list, getId, updateList, getNextId]);

  var remove = /*#__PURE__*/function () {
    var _ref4 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(itemToRemove) {
      var idToRemove, updatedList;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              idToRemove = getId(itemToRemove);
              updatedList = list.filter(function (item) {
                return getId(item) !== idToRemove;
              });
              _context3.next = 4;
              return updateList(updatedList);

            case 4:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    }));

    return function remove(_x3) {
      return _ref4.apply(this, arguments);
    };
  }();

  return [list, createOrUpdate, remove];
};

/* harmony default export */ __webpack_exports__["default"] = (useList);

/***/ }),

/***/ "./src/ducks/tracking/browser.jsx":
/*!****************************************!*\
  !*** ./src/ducks/tracking/browser.jsx ***!
  \****************************************/
/*! exports provided: getTracker, trackEvent, TrackerContext, TrackerProvider, useTracker, getParentPage, trackPage, trackParentPage, useTrackPage, replaceLastPart, getPageLastPart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trackEvent", function() { return trackEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackerContext", function() { return TrackerContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackerProvider", function() { return TrackerProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTracker", function() { return useTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentPage", function() { return getParentPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trackPage", function() { return trackPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trackParentPage", function() { return trackParentPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTrackPage", function() { return useTrackPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "replaceLastPart", function() { return replaceLastPart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPageLastPart", function() { return getPageLastPart; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/tracking/tracker */ "../overrides/cozy-banks/src/ducks/tracking/tracker.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getTracker", function() { return ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_1__["getTracker"]; });




var trackEvent = function trackEvent(options) {
  var tracker = Object(ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_1__["getTracker"])();
  tracker.trackEvent(options);
};
var TrackerContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])();
var TrackerProvider = function TrackerProvider(_ref) {
  var children = _ref.children;
  var tracker = Object(ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_1__["getTracker"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TrackerContext.Provider, {
    value: tracker
  }, children);
};
var useTracker = function useTracker() {
  return Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(TrackerContext);
}; // When components are rendered, it is possible that several events are sent
// through the useTrackPage event since useEffect can be called at any time.
// To prevent double hits, we discard pages with the same page name when they
// are sent too close to each other (300ms is the limit).

var DOUBLE_HIT_THRESHOLD = 300;
var lastTrackedPage, lastTrackTime;
var getParentPage = function getParentPage(pageName) {
  if (!pageName) {
    return null;
  }

  var lastIndex = pageName.lastIndexOf(':');
  return pageName.substring(0, lastIndex);
};

var enhancedTrackPage = function enhancedTrackPage(tracker, pageNameArg) {
  var parentPage = getParentPage(lastTrackedPage);
  var pageName = typeof pageNameArg === 'function' ? pageNameArg(lastTrackedPage, parentPage) : pageNameArg;

  if (pageName === false) {
    return;
  }

  var trackTime = Date.now();

  if (lastTrackTime && lastTrackedPage === pageName && trackTime - lastTrackTime < DOUBLE_HIT_THRESHOLD) {
    // Prevent double hits
    return;
  }

  lastTrackTime = trackTime;
  lastTrackedPage = pageName;
  tracker.trackPage(pageName);
};

var trackPage = function trackPage(pageName) {
  var tracker = Object(ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_1__["getTracker"])();
  enhancedTrackPage(tracker, pageName);
};
var trackParentPage = function trackParentPage() {
  var tracker = Object(ducks_tracking_tracker__WEBPACK_IMPORTED_MODULE_1__["getTracker"])();
  enhancedTrackPage(tracker, function (lastPage, parentPage) {
    return parentPage;
  });
};
var useTrackPage = function useTrackPage(pageName) {
  var tracker = useTracker();
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!pageName || !tracker) {
      return;
    }

    enhancedTrackPage(tracker, pageName);
  }, []); // eslint-disable-line react-hooks/exhaustive-deps
};
var replaceLastPart = function replaceLastPart(pageName, newLastPart) {
  return pageName ? "".concat(pageName.split(':').slice(0, -1).join(':'), ":").concat(newLastPart) : pageName;
};
var getPageLastPart = function getPageLastPart(pageName) {
  if (!pageName) {
    return null;
  }

  var lastIndex = pageName.lastIndexOf(':');
  return pageName.substring(lastIndex + 1);
};

/***/ }),

/***/ "./src/ducks/tracking/tracker.js":
/*!***************************************!*\
  !*** ./src/ducks/tracking/tracker.js ***!
  \***************************************/
/*! exports provided: trackerShim, getMatomoTracker, getTracker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trackerShim", function() { return trackerShim; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMatomoTracker", function() { return getMatomoTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTracker", function() { return getTracker; });
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/memoize */ "./node_modules/lodash/memoize.js");
/* harmony import */ var lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_memoize__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/tracker */ "./node_modules/cozy-ui/transpiled/react/helpers/tracker.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* global __PIWIK_TRACKER_URL__, __PIWIK_SITEID__ */



/* global __PIWIK_TRACKER_URL__, __PIWIK_SITEID__ */


var trackerShim = {
  trackPage: function trackPage() {},
  trackEvent: function trackEvent() {},
  name: 'shim'
};
var getMatomoTracker = lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default()(function () {
  var trackerInstance = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_2__["getTracker"])("https://matomo.cozycloud.cc/piwik.php", 8, true, //
  false);

  if (!trackerInstance) {
    return trackerShim;
  }

  trackerInstance.push(['setTrackerUrl', 'https://matomo.cozycloud.cc/matomo.php']);
  trackerInstance.push(['setSiteId', 8]);
  return {
    name: 'matomo',
    trackEvent: function trackEvent(event) {
      var name = event.name,
          action = event.action,
          category = event.category;

      if (!name) {
        throw new Error('An event must have at least a name');
      }

      if (cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.show-tracking.events')) {
        cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].info("Tracking event: ".concat(JSON.stringify(event)));
      }

      trackerInstance.push(['trackEvent', category, name, action]);
    },
    trackPage: function trackPage(pagePath) {
      var message = "Tracking page ".concat(pagePath);

      if (cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.show-tracking.pages')) {
        cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].info(message);
      }

      trackerInstance.push(['setCustomUrl', 'https://cozy-banks/' + pagePath.replace(/:/g, '/')]);
      trackerInstance.push(['trackPageView']);
    }
  };
});
var getTracker = getMatomoTracker;

/***/ }),

/***/ "./src/ducks/transactions/TransactionActions.jsx":
/*!*******************************************************!*\
  !*** ./src/ducks/transactions/TransactionActions.jsx ***!
  \*******************************************************/
/*! exports provided: SyncTransactionActions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SyncTransactionActions", function() { return SyncTransactionActions; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ducks_transactions_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/actions */ "./src/ducks/transactions/actions/index.js");
/* harmony import */ var ducks_transactions_TransactionActionsContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/TransactionActionsContext */ "./src/ducks/transactions/TransactionActionsContext.jsx");
/* harmony import */ var components_withContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/withContext */ "./src/components/withContext.jsx");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Is used in both TransactionActionMenu and TransactionMenu
 * to show possible actions related to a transaction.
 *
 * The TransactionAction (the action the user is most susceptible
 * to need) can also be shown in desktop mode, directly in the
 * table.
 */





 // TODO delete or rename this variable (see https://gitlab.cozycloud.cc/labs/cozy-bank/merge_requests/237)

var PRIMARY_ACTION_COLOR = cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_3___default.a.dodgerBlue;

var MenuAction = function MenuAction(_ref) {
  var action = _ref.action,
      transaction = _ref.transaction,
      actionProps = _ref.actionProps,
      _ref$compact = _ref.compact,
      compact = _ref$compact === void 0 ? false : _ref$compact,
      menuPosition = _ref.menuPosition,
      isModalItem = _ref.isModalItem;
  var Component = action.Component;
  var color = action.disabled ? cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_3___default.a.charcoalGrey : action.color || actionProps.color || PRIMARY_ACTION_COLOR;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, {
    action: action,
    transaction: transaction,
    actionProps: actionProps,
    color: color,
    compact: compact,
    menuPosition: menuPosition,
    isModalItem: isModalItem
  });
};

MenuAction.propTypes = {
  actionProps: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
};
var SyncTransactionActions = function SyncTransactionActions(_ref2) {
  var transaction = _ref2.transaction,
      actions = _ref2.actions,
      actionProps = _ref2.actionProps,
      displayDefaultAction = _ref2.displayDefaultAction,
      onlyDefault = _ref2.onlyDefault,
      _ref2$menuPosition = _ref2.menuPosition,
      menuPosition = _ref2$menuPosition === void 0 ? 'left' : _ref2$menuPosition,
      isModalItem = _ref2.isModalItem,
      compact = _ref2.compact,
      className = _ref2.className;
  var Tag = isModalItem ? react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment : 'span';
  var childProps = !isModalItem ? {
    className: className
  } : null;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Tag, childProps, (displayDefaultAction || onlyDefault) && actions.default && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(MenuAction, {
    action: actions.default,
    isDefault: true,
    transaction: transaction,
    actionProps: actionProps,
    menuPosition: menuPosition,
    isModalItem: isModalItem,
    compact: compact
  }), !onlyDefault && actions.others.map(function (action, index) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(MenuAction, {
      key: index,
      action: action,
      transaction: transaction,
      actionProps: actionProps,
      isModalItem: isModalItem
    });
  }));
};

var TransactionActions = /*#__PURE__*/function (_Component) {
  _inherits(TransactionActions, _Component);

  function TransactionActions() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, TransactionActions);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TransactionActions)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      actions: false,
      actionProps: false
    });

    return _this;
  }

  _createClass(TransactionActions, [{
    key: "findMatchingActions",
    value: function () {
      var _findMatchingActions2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var transaction, bill, actionProps, actions;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                transaction = this.props.transaction;

                if (!transaction) {
                  _context.next = 8;
                  break;
                }

                bill = this.props.bill;
                actionProps = {
                  bill: bill,
                  brands: this.props.brands,
                  urls: this.props.urls
                };
                _context.next = 6;
                return Object(ducks_transactions_actions__WEBPACK_IMPORTED_MODULE_4__["findMatchingActions"])(transaction, actionProps);

              case 6:
                actions = _context.sent;

                if (!this.unmounted) {
                  this.setState({
                    actions: actions,
                    actionProps: actionProps
                  });
                }

              case 8:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function findMatchingActions() {
        return _findMatchingActions2.apply(this, arguments);
      }

      return findMatchingActions;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.findMatchingActions();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.unmounted = true;
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      if (nextProps.transaction !== this.props.transaction) {
        this.setState({
          actions: false
        });
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(nextProps) {
      var _this$props = this.props,
          transaction = _this$props.transaction,
          brands = _this$props.brands,
          urls = _this$props.urls,
          bill = _this$props.bill;

      if (nextProps.transaction !== transaction || nextProps.urls !== urls || nextProps.brands !== brands || nextProps.bill !== bill) {
        this.findMatchingActions();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          actions = _this$state.actions,
          actionProps = _this$state.actionProps;
      if (!actions) return null;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SyncTransactionActions, _extends({
        actions: actions,
        actionProps: actionProps
      }, this.props));
    }
  }]);

  return TransactionActions;
}(react__WEBPACK_IMPORTED_MODULE_1__["Component"]);

TransactionActions.propTypes = {
  transaction: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(components_withContext__WEBPACK_IMPORTED_MODULE_6__["default"])(ducks_transactions_TransactionActionsContext__WEBPACK_IMPORTED_MODULE_5__["TransactionActionsContext"])(TransactionActions));

/***/ }),

/***/ "./src/ducks/transactions/TransactionActionsContext.jsx":
/*!**************************************************************!*\
  !*** ./src/ducks/transactions/TransactionActionsContext.jsx ***!
  \**************************************************************/
/*! exports provided: TransactionActionsContext, DumbTransactionActionsProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionActionsContext", function() { return TransactionActionsContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbTransactionActionsProvider", function() { return DumbTransactionActionsProvider; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var TransactionActionsContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();
var DumbTransactionActionsProvider = /*#__PURE__*/function (_React$Component) {
  _inherits(DumbTransactionActionsProvider, _React$Component);

  function DumbTransactionActionsProvider() {
    _classCallCheck(this, DumbTransactionActionsProvider);

    return _possibleConstructorReturn(this, _getPrototypeOf(DumbTransactionActionsProvider).apply(this, arguments));
  }

  _createClass(DumbTransactionActionsProvider, [{
    key: "render",
    value: function render() {
      var value = lodash_omit__WEBPACK_IMPORTED_MODULE_1___default()(this.props, 'children');
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionActionsContext.Provider, {
        value: value
      }, this.props.children);
    }
  }]);

  return DumbTransactionActionsProvider;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/***/ }),

/***/ "./src/ducks/transactions/TransactionApplicationDateEditor.jsx":
/*!*********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionApplicationDateEditor.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_DateMonthPicker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/DateMonthPicker */ "./node_modules/cozy-ui/transpiled/react/DateMonthPicker/index.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }





var TransactionApplicationDateEditor = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["withClient"])(function (props) {
  var client = props.client,
      transaction = props.transaction,
      beforeUpdate = props.beforeUpdate,
      afterUpdate = props.afterUpdate;

  var handleSelect = /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(monthDate) {
      var newTransaction;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return beforeUpdate(props);

            case 2:
              _context.next = 4;
              return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__["updateApplicationDate"])(client, transaction, monthDate);

            case 4:
              newTransaction = _context.sent;
              _context.next = 7;
              return afterUpdate(newTransaction);

            case 7:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function handleSelect(_x) {
      return _ref.apply(this, arguments);
    };
  }();

  var date = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__["getDate"])(transaction);
  var applicationDate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_4__["getApplicationDate"])(transaction);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "u-p-half"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_DateMonthPicker__WEBPACK_IMPORTED_MODULE_3__["default"], {
    initialValue: (applicationDate || date).slice(0, 10),
    onSelect: handleSelect
  }));
});
/* harmony default export */ __webpack_exports__["default"] = (TransactionApplicationDateEditor);

/***/ }),

/***/ "./src/ducks/transactions/TransactionCategoryEditor.jsx":
/*!**************************************************************!*\
  !*** ./src/ducks/transactions/TransactionCategoryEditor.jsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_CategoryChoice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/categories/CategoryChoice */ "./src/ducks/categories/CategoryChoice.jsx");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }






/**
 * Edits a transaction's category through CategoryChoice
 */

var TransactionCategoryEditor = function TransactionCategoryEditor(_ref) {
  var transactions = _ref.transactions,
      beforeUpdates = _ref.beforeUpdates,
      afterUpdates = _ref.afterUpdates,
      onError = _ref.onError,
      onCancel = _ref.onCancel;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();
  var categoryId = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
    return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_3__["getCategoryId"])(transactions[0]);
  }, [transactions]);
  var handleSelectCategory = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(category) {
      var newTransactions, qdef;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!beforeUpdates) {
                _context.next = 3;
                break;
              }

              _context.next = 3;
              return beforeUpdates();

            case 3:
              newTransactions = transactions.map(function (transaction) {
                return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_3__["setTransactionCategory"])(transaction, category);
              });
              _context.prev = 4;
              _context.next = 7;
              return client.saveAll(newTransactions);

            case 7:
              _context.next = 16;
              break;

            case 9:
              _context.prev = 9;
              _context.t0 = _context["catch"](4);
              qdef = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["Q"])(doctypes__WEBPACK_IMPORTED_MODULE_5__["TRANSACTION_DOCTYPE"]).getByIds(newTransactions.map(function (t) {
                return t._id;
              })); // eslint-disable-next-line no-console

              console.error('Error while batch saving, requerying operations to mitigate conflicts in the future', _context.t0);
              client.query(qdef);

              if (onError) {
                onError(_context.t0);
              }

              return _context.abrupt("return");

            case 16:
              if (afterUpdates) {
                afterUpdates(newTransactions);
              }

            case 17:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[4, 9]]);
    }));

    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), [afterUpdates, beforeUpdates, client, onError, transactions]);
  var handleCancel = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return onCancel();

          case 2:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  })), [onCancel]);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_CategoryChoice__WEBPACK_IMPORTED_MODULE_4__["default"], {
    modal: true,
    categoryId: categoryId,
    onSelect: handleSelectCategory,
    onCancel: handleCancel
  });
};

TransactionCategoryEditor.defaultProps = {
  modal: false
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(TransactionCategoryEditor));

/***/ }),

/***/ "./src/ducks/transactions/TransactionHeader.jsx":
/*!******************************************************!*\
  !*** ./src/ducks/transactions/TransactionHeader.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyTheme */ "./node_modules/cozy-ui/transpiled/react/CozyTheme/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var ducks_balance__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/balance */ "./src/ducks/balance/index.js");
/* harmony import */ var ducks_transactions_TransactionSelectDates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transactions/TransactionSelectDates */ "./src/ducks/transactions/TransactionSelectDates.jsx");
/* harmony import */ var ducks_balance_HistoryChart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/balance/HistoryChart */ "./src/ducks/balance/HistoryChart.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_withSize__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/withSize */ "./src/components/withSize.jsx");
/* harmony import */ var _header_TableHead__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./header/TableHead */ "./src/ducks/transactions/header/TableHead.jsx");
/* harmony import */ var _TransactionsHeader_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./TransactionsHeader.styl */ "./src/ducks/transactions/TransactionsHeader.styl");
/* harmony import */ var _TransactionsHeader_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_TransactionsHeader_styl__WEBPACK_IMPORTED_MODULE_12__);














var TransactionHeaderSelectDates = function TransactionHeaderSelectDates(_ref) {
  var transactions = _ref.transactions,
      handleChangeMonth = _ref.handleChangeMonth,
      currentMonth = _ref.currentMonth;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionSelectDates__WEBPACK_IMPORTED_MODULE_6__["default"], {
    transactions: transactions,
    value: currentMonth,
    onChange: handleChangeMonth,
    color: "primary",
    className: "u-p-0"
  });
};

var TransactionHeaderBalanceHistory = function TransactionHeaderBalanceHistory(_ref2) {
  var size = _ref2.size,
      currentMonth = _ref2.currentMonth;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var height = isMobile ? 66 : 96;
  var marginBottom = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return isMobile ? 48 : 64;
  }, [isMobile]);
  var historyChartMargin = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return {
      top: 26,
      bottom: marginBottom,
      left: 0,
      right: isMobile ? 16 : 32
    };
  }, [isMobile, marginBottom]);

  if (!size || !size.width) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      style: {
        height: height
      }
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance_HistoryChart__WEBPACK_IMPORTED_MODULE_7__["ConnectedHistoryChart"], {
    animation: false,
    margin: historyChartMargin,
    currentMonth: currentMonth,
    height: height + marginBottom,
    minWidth: size.width,
    className: _TransactionsHeader_styl__WEBPACK_IMPORTED_MODULE_12___default.a.TransactionsHeader__chart
  });
};

var TransactionHeader = function TransactionHeader(_ref3) {
  var transactions = _ref3.transactions,
      currentMonth = _ref3.currentMonth,
      handleChangeMonth = _ref3.handleChangeMonth,
      size = _ref3.size;

  var _useBreakpoints2 = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isMobile = _useBreakpoints2.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_balance__WEBPACK_IMPORTED_MODULE_5__["BalanceDetailsHeader"], {
    showLegalMention: false
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionHeaderBalanceHistory, {
    currentMonth: currentMonth,
    size: size
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()({
      'u-ph-half': isMobile,
      'u-pv-0': isMobile,
      'u-pb-half': isMobile
    }, _TransactionsHeader_styl__WEBPACK_IMPORTED_MODULE_12___default.a.TransactionsHeader__selectDatesContainer)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionHeaderSelectDates, {
    transactions: transactions,
    handleChangeMonth: handleChangeMonth,
    currentMonth: currentMonth
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "u-mt-1"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyTheme__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "inverted"
  }, transactions.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_header_TableHead__WEBPACK_IMPORTED_MODULE_11__["default"], null)));
};

TransactionHeader.propTypes = {
  showBackButton: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (Object(components_withSize__WEBPACK_IMPORTED_MODULE_10__["default"])()(Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(TransactionHeader)));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/DeleteTransactionRow.jsx":
/*!**************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/DeleteTransactionRow.jsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Trash */ "./node_modules/cozy-ui/transpiled/react/Icons/Trash.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }













var DeleteTransactionRow = function DeleteTransactionRow(_ref) {
  var transaction = _ref.transaction;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      showingDeleteConfirmation = _useState2[0],
      setShowDeleteConfirmation = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      deleting = _useState4[0],
      setDeleting = _useState4[1];

  var handleRequestDeleteTransaction = function handleRequestDeleteTransaction() {
    setShowDeleteConfirmation(true);
  };

  var handleCancelDeleteTransactions = function handleCancelDeleteTransactions() {
    setShowDeleteConfirmation(false);
  };

  var handleConfirmDeleteTransaction = /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              setDeleting(true);
              _context.next = 4;
              return client.destroy(transaction);

            case 4:
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].success(t('Transactions.infos.delete-transaction.deleting-success'));
              _context.next = 12;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](0);
              // eslint-disable-next-line no-console
              console.warn('Error while deleting transaction'); // eslint-disable-next-line no-console

              console.error(_context.t0);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"].error(t('Transactions.infos.delete-transaction.deleting-error'));

            case 12:
              _context.prev = 12;
              setDeleting(false);
              return _context.finish(12);

            case 15:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 7, 12, 15]]);
    }));

    return function handleConfirmDeleteTransaction() {
      return _ref2.apply(this, arguments);
    };
  }();

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_6__["default"], {
    button: true,
    onClick: handleRequestDeleteTransaction
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_7__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "u-error",
    icon: cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_9__["default"]
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__["default"], {
    primary: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "u-error"
    }, t('Transactions.infos.delete-transaction.row-label'))
  })), showingDeleteConfirmation ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_10__["ConfirmDialog"], {
    open: true,
    title: t('Transactions.infos.delete-transaction.confirm-modal.title'),
    content: t('Transactions.infos.delete-transaction.confirm-modal.content'),
    onClose: handleCancelDeleteTransactions,
    actions: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
      theme: "secondary",
      onClick: handleCancelDeleteTransactions,
      label: t('Transactions.infos.delete-transaction.confirm-modal.cancel'),
      disabled: deleting
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
      theme: "danger",
      onClick: handleConfirmDeleteTransaction,
      label: t('Transactions.infos.delete-transaction.confirm-modal.confirm'),
      disabled: deleting,
      busy: deleting
    }))
  }) : null);
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(DeleteTransactionRow));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/RecurrenceRow.jsx":
/*!*******************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/RecurrenceRow.jsx ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var components_ListItemArrow__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/ListItemArrow */ "./src/components/ListItemArrow.jsx");
/* harmony import */ var components_IconRecurrence__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/IconRecurrence */ "./src/components/IconRecurrence.jsx");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_transactions_TransactionModal_helpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/transactions/TransactionModal/helpers */ "./src/ducks/transactions/TransactionModal/helpers.js");















var RecurrenceRow = function RecurrenceRow(_ref) {
  var transaction = _ref.transaction,
      onClick = _ref.onClick;
  var location = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_11__["useLocation"])();
  var recurrence = transaction.recurrence && transaction.recurrence.data;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var recurrenceRoute = recurrence ? "/analysis/recurrence/".concat(recurrence._id) : null;
  var vAlignTop = Boolean(recurrence);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_3__["default"], {
    divider: true,
    button: true,
    disableRipple: true,
    alignItems: vAlignTop ? 'flex-start' : undefined,
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_4__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: components_IconRecurrence__WEBPACK_IMPORTED_MODULE_10__["default"],
    className: vAlignTop ? 'u-mt-1-half' : null
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, recurrence ? t('Recurrence.choice.recurrent') : t('Recurrence.choice.not-recurrent'), recurrence ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["getFrequencyText"])(t, recurrence)), location.pathname !== recurrenceRoute ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Link"], {
    to: recurrenceRoute,
    className: "u-link"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-mh-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onClick: ducks_transactions_TransactionModal_helpers__WEBPACK_IMPORTED_MODULE_13__["stopPropagation"],
    variant: "outlined",
    size: "small",
    className: "u-w-100 u-ph-2 u-mt-half u-flex-justify-center"
  }, t('Recurrence.see-transaction-history')))) : null) : null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_ListItemArrow__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: vAlignTop ? 'u-mt-1-half' : null
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(RecurrenceRow));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/SearchForTransactionIcon.jsx":
/*!******************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/SearchForTransactionIcon.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_transactions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions */ "./src/ducks/transactions/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Magnifier */ "./node_modules/cozy-ui/transpiled/react/Icons/Magnifier.js");





var SearchForTransactionIcon = function SearchForTransactionIcon(_ref) {
  var transaction = _ref.transaction;
  var label = Object(ducks_transactions__WEBPACK_IMPORTED_MODULE_1__["getLabel"])(transaction);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#/search/".concat(encodeURIComponent(label))
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "u-ml-half u-coolGrey",
    icon: cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_3__["default"]
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(SearchForTransactionIcon));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionApplicationDateEditorDialog.jsx":
/*!********************************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionApplicationDateEditorDialog.jsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_RawContentDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RawContentDialog */ "./src/components/RawContentDialog.jsx");
/* harmony import */ var ducks_transactions_TransactionApplicationDateEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/TransactionApplicationDateEditor */ "./src/ducks/transactions/TransactionApplicationDateEditor.jsx");






var TransactionApplicationDateEditorDialog = function TransactionApplicationDateEditorDialog(_ref) {
  var transaction = _ref.transaction,
      beforeUpdate = _ref.beforeUpdate,
      afterUpdate = _ref.afterUpdate,
      onClose = _ref.onClose;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["useTrackPage"])(function (lastTracked) {
    return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["replaceLastPart"])(lastTracked, "depense-affectation_mois");
  });
  var handleClose = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["trackPage"])(function (lastTracked) {
      return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["replaceLastPart"])(lastTracked, 'depense');
    });
    onClose();
  }, [onClose]);

  var handleBeforeUpdate = function handleBeforeUpdate() {
    beforeUpdate();
    handleClose();
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_RawContentDialog__WEBPACK_IMPORTED_MODULE_3__["default"], {
    open: true,
    size: "small",
    title: t('Transactions.infos.chooseApplicationDate'),
    onClose: handleClose,
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionApplicationDateEditor__WEBPACK_IMPORTED_MODULE_4__["default"], {
      beforeUpdate: handleBeforeUpdate,
      afterUpdate: afterUpdate,
      transaction: transaction
    })
  });
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionApplicationDateEditorDialog));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionCategoryEditorDialog.jsx":
/*!*************************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionCategoryEditorDialog.jsx ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var ducks_transactions_TransactionCategoryEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/TransactionCategoryEditor */ "./src/ducks/transactions/TransactionCategoryEditor.jsx");





var TransactionCategoryEditorDialog = function TransactionCategoryEditorDialog(_ref) {
  var transaction = _ref.transaction,
      onClose = _ref.onClose;

  var onAfterUpdates = function onAfterUpdates(transactions) {
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_1__["trackEvent"])({
      name: Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__["getCategoryName"])(transactions[0].manualCategoryId)
    });
  };

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_1__["useTrackPage"])(function (lastTracked) {
    return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_1__["replaceLastPart"])(lastTracked, 'depense-categorie');
  });
  var handlePop = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_1__["trackPage"])(function (lastTracked) {
      return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_1__["replaceLastPart"])(lastTracked, 'depense');
    });
    onClose();
  }, [onClose]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionCategoryEditor__WEBPACK_IMPORTED_MODULE_3__["default"], {
    beforeUpdates: handlePop,
    afterUpdates: onAfterUpdates,
    onCancel: handlePop,
    transactions: [transaction]
  });
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionCategoryEditorDialog));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionInfos.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionInfos.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionModal.styl */ "./src/ducks/transactions/TransactionModal/TransactionModal.styl");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_1__);



var TransactionInfo = function TransactionInfo(_ref) {
  var label = _ref.label,
      value = _ref.value;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_1___default.a.TransactionInfo
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_1___default.a.TransactionInfoLabel
  }, label, " :"), value);
};

var TransactionInfos = function TransactionInfos(_ref2) {
  var infos = _ref2.infos;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, infos.map(function (_ref3) {
    var label = _ref3.label,
        value = _ref3.value;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionInfo, {
      key: label,
      label: label,
      value: value
    });
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionInfos));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionLabel.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionLabel.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var ducks_transactions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions */ "./src/ducks/transactions/index.js");
/* harmony import */ var ducks_transactions_TransactionModal_SearchForTransactionIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/TransactionModal/SearchForTransactionIcon */ "./src/ducks/transactions/TransactionModal/SearchForTransactionIcon.jsx");





var TransactionLabel = function TransactionLabel(_ref) {
  var transaction = _ref.transaction;
  var label = Object(ducks_transactions__WEBPACK_IMPORTED_MODULE_2__["getLabel"])(transaction);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-flex"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__["default"], {
    variant: "h6",
    gutterBottom: true,
    className: "u-ellipsis",
    title: label
  }, label), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionModal_SearchForTransactionIcon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    transaction: transaction
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionLabel));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionModal.jsx":
/*!**********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionModal.jsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_useDocument__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/useDocument */ "./src/components/useDocument.js");
/* harmony import */ var components_RouterContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/RouterContext */ "./src/components/RouterContext.jsx");
/* harmony import */ var components_RawContentDialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/RawContentDialog */ "./src/components/RawContentDialog.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModalInfoContent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionModalInfoContent */ "./src/ducks/transactions/TransactionModal/TransactionModalInfoContent.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }












var TransactionModal = function TransactionModal(_ref) {
  var requestClose = _ref.requestClose,
      transactionId = _ref.transactionId,
      props = _objectWithoutProperties(_ref, ["requestClose", "transactionId"]);

  var transaction = Object(components_useDocument__WEBPACK_IMPORTED_MODULE_6__["default"])(doctypes__WEBPACK_IMPORTED_MODULE_3__["TRANSACTION_DOCTYPE"], transactionId);
  var location = Object(components_RouterContext__WEBPACK_IMPORTED_MODULE_7__["useLocation"])();
  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__["useTrackPage"])(function (lastTracked) {
    // We cannot simply add ":depense" to the last tracked page because
    // we need to limit the number of segments to 3 of the hit. This is
    // why when coming from the balances page, we change the page to
    // mon_compte:depense and when coming from the category details page, we
    // replace the :details portion by :depense by splitting & slicing.
    if (lastTracked == 'mon_compte:compte') {
      return 'mon_compte:depense';
    } else {
      return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__["replaceLastPart"])(lastTracked, 'depense');
    }
  });
  var handleClose = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    if (location.pathname.startsWith('/balances/details')) {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__["trackPage"])('mon_compte:compte');
    } else if (location.pathname.startsWith('/analysis/categories')) {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__["trackPage"])(function (lastTracked) {
        return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__["replaceLastPart"])(lastTracked, 'details');
      });
    } else {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_5__["trackParentPage"])();
    }

    ev.preventDefault();
    requestClose();
  }, [location, requestClose]);

  if (!transaction) {
    return null; // transaction is being deleted
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_RawContentDialog__WEBPACK_IMPORTED_MODULE_8__["default"], {
    size: "medium",
    open: true,
    onClose: handleClose,
    title: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "u-ta-center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__["default"], {
      total: transaction.amount,
      symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_4__["getCurrencySymbol"])(transaction.currency),
      signed: true
    })),
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionModal_TransactionModalInfoContent__WEBPACK_IMPORTED_MODULE_9__["default"], _extends({}, props, {
      transactionId: transactionId,
      requestClose: handleClose
    }))
  });
};

TransactionModal.propTypes = {
  requestClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  transactionId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TransactionModal);

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionModal.styl":
/*!***********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionModal.styl ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"TransactionModalRowIcon-reversed":"TransactionModalRowIcon-reversed--DJr1c","TransactionInfo":"TransactionInfo--21wct","TransactionInfoLabel":"TransactionInfoLabel--1csq2"};

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionModalInfoContent.jsx":
/*!*********************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionModalInfoContent.jsx ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Restore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Restore */ "./node_modules/cozy-ui/transpiled/react/Icons/Restore.js");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Spinner */ "./node_modules/cozy-ui/transpiled/react/Spinner/index.js");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var components_ListItemArrow__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/ListItemArrow */ "./src/components/ListItemArrow.jsx");
/* harmony import */ var components_IconCalendar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! components/IconCalendar */ "./src/components/IconCalendar.jsx");
/* harmony import */ var components_useDocument__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/useDocument */ "./src/components/useDocument.js");
/* harmony import */ var components_IconCredit__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/IconCredit */ "./src/components/IconCredit.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_transactions_TransactionActions__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/transactions/TransactionActions */ "./src/ducks/transactions/TransactionActions.jsx");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_helpers__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/transactions/TransactionModal/helpers */ "./src/ducks/transactions/TransactionModal/helpers.js");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionLabel__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionLabel */ "./src/ducks/transactions/TransactionModal/TransactionLabel.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionInfos__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionInfos */ "./src/ducks/transactions/TransactionModal/TransactionInfos.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_RecurrenceRow__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ducks/transactions/TransactionModal/RecurrenceRow */ "./src/ducks/transactions/TransactionModal/RecurrenceRow.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_DeleteTransactionRow__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ducks/transactions/TransactionModal/DeleteTransactionRow */ "./src/ducks/transactions/TransactionModal/DeleteTransactionRow.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionCategoryEditorDialog__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionCategoryEditorDialog */ "./src/ducks/transactions/TransactionModal/TransactionCategoryEditorDialog.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionApplicationDateEditorDialog__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionApplicationDateEditorDialog */ "./src/ducks/transactions/TransactionModal/TransactionApplicationDateEditorDialog.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionRecurrenceEditorDialog__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionRecurrenceEditorDialog */ "./src/ducks/transactions/TransactionModal/TransactionRecurrenceEditorDialog.jsx");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionModal.styl */ "./src/ducks/transactions/TransactionModal/TransactionModal.styl");
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_32__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

































/**
 * Shows information of the transaction
 *
 * Can edit
 * - the recurrence
 * - the category of transaction
 * - the date
 *
 * Shows also actions that are possible to do on a transaction (depends
 * on the transaction).
 */

var TransactionModalInfoContent = function TransactionModalInfoContent(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t,
      f = _useI18n.f;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();
  var transactionId = props.transactionId,
      requestClose = props.requestClose;
  var transaction = Object(components_useDocument__WEBPACK_IMPORTED_MODULE_16__["default"])(doctypes__WEBPACK_IMPORTED_MODULE_2__["TRANSACTION_DOCTYPE"], transactionId);
  var typeIcon = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: components_IconCredit__WEBPACK_IMPORTED_MODULE_17__["default"],
    width: 16,
    className: "".concat(transaction.amount < 0 ? ducks_transactions_TransactionModal_TransactionModal_styl__WEBPACK_IMPORTED_MODULE_32___default.a['TransactionModalRowIcon-reversed'] : '', " u-mt-1-half")
  });
  var categoryId = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getCategoryId"])(transaction);
  var account = transaction.account.data;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null),
      _useState2 = _slicedToArray(_useState, 2),
      selectedRow = _useState2[0],
      setSelectedRow = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      applicationDateBusy = _useState4[0],
      setApplicationDateBusy = _useState4[1];

  var handleAfterUpdateApplicationDate = function handleAfterUpdateApplicationDate(updatedTransaction) {
    setApplicationDateBusy(false);
    Object(ducks_transactions_TransactionModal_helpers__WEBPACK_IMPORTED_MODULE_24__["showAlertAfterApplicationDateUpdate"])(updatedTransaction, t, f);
    var date = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getApplicationDate"])(updatedTransaction) || Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getDate"])(updatedTransaction);
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_18__["trackEvent"])({
      name: date
    });
  };

  var handleResetApplicationDate = /*#__PURE__*/function () {
    var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(ev) {
      var newTransaction;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              ev.preventDefault();
              ev.stopPropagation();
              _context.prev = 2;
              setApplicationDateBusy(true);
              _context.next = 6;
              return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["updateApplicationDate"])(client, transaction, null);

            case 6:
              newTransaction = _context.sent;
              Object(ducks_transactions_TransactionModal_helpers__WEBPACK_IMPORTED_MODULE_24__["showAlertAfterApplicationDateUpdate"])(newTransaction, t, f);

            case 8:
              _context.prev = 8;
              setApplicationDateBusy(false);
              return _context.finish(8);

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[2,, 8, 11]]);
    }));

    return function handleResetApplicationDate(_x) {
      return _ref.apply(this, arguments);
    };
  }();

  var shouldShowRestoreApplicationDateIcon = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getApplicationDate"])(transaction) && !applicationDateBusy;

  var handleSelectRow = function handleSelectRow(row) {
    setSelectedRow(row);
  };

  var handleCloseChildModal = function handleCloseChildModal() {
    setSelectedRow(null);
  };

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_7__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
    divider: true,
    button: false,
    alignItems: "flex-start"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_9__["default"], null, typeIcon), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_10__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_TransactionLabel__WEBPACK_IMPORTED_MODULE_25__["default"], {
    transaction: transaction
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_TransactionInfos__WEBPACK_IMPORTED_MODULE_26__["default"], {
    infos: [{
      label: t('Transactions.infos.account'),
      value: Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_19__["getAccountLabel"])(account)
    }, {
      label: t('Transactions.infos.institution'),
      value: Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_19__["getAccountInstitutionLabel"])(account)
    }, {
      label: t('Transactions.infos.originalBankLabel'),
      value: cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('originalBankLabel') && transaction.originalBankLabel
    }, {
      label: t('Transactions.infos.date'),
      value: f(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getDate"])(transaction), 'dddd D MMMM')
    }].filter(function (x) {
      return x.value;
    })
  }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
    divider: true,
    button: true,
    disableRipple: true,
    onClick: function onClick() {
      return handleSelectRow('category');
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_23__["default"], {
    categoryId: categoryId
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_10__["default"], null, t("Data.subcategories.".concat(Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_22__["getCategoryName"])(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getCategoryId"])(transaction))))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_ListItemArrow__WEBPACK_IMPORTED_MODULE_14__["default"], null)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_8__["default"], {
    divider: true,
    button: true,
    disableRipple: true,
    onClick: function onClick() {
      return handleSelectRow('application-date');
    }
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: components_IconCalendar__WEBPACK_IMPORTED_MODULE_15__["default"]
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_10__["default"], null, t('Transactions.infos.assignedToPeriod', {
    date: f(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getApplicationDate"])(transaction) || Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getDate"])(transaction), 'MMM YYYY')
  })), shouldShowRestoreApplicationDateIcon && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_13__["default"], {
    onClick: handleResetApplicationDate
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    color: "var(--slateGrey)",
    icon: cozy_ui_transpiled_react_Icons_Restore__WEBPACK_IMPORTED_MODULE_11__["default"]
  })), applicationDateBusy && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_12__["default"], null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_ListItemArrow__WEBPACK_IMPORTED_MODULE_14__["default"], null)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_RecurrenceRow__WEBPACK_IMPORTED_MODULE_27__["default"], {
    transaction: transaction,
    onClick: function onClick() {
      return handleSelectRow('recurrence');
    }
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionActions__WEBPACK_IMPORTED_MODULE_21__["default"], {
    transaction: transaction,
    displayDefaultAction: true,
    isModalItem: true
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_DeleteTransactionRow__WEBPACK_IMPORTED_MODULE_28__["default"], {
    transaction: transaction,
    onDelete: requestClose
  }), selectedRow === 'category' && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_TransactionCategoryEditorDialog__WEBPACK_IMPORTED_MODULE_29__["default"], {
    transaction: transaction,
    onClose: handleCloseChildModal
  }), selectedRow === 'application-date' && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_TransactionApplicationDateEditorDialog__WEBPACK_IMPORTED_MODULE_30__["default"], {
    beforeUpdate: function beforeUpdate() {
      return setApplicationDateBusy(true);
    },
    afterUpdate: handleAfterUpdateApplicationDate,
    transaction: transaction,
    onClose: handleCloseChildModal
  }), selectedRow === 'recurrence' && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionModal_TransactionRecurrenceEditorDialog__WEBPACK_IMPORTED_MODULE_31__["default"], {
    transaction: transaction,
    onClose: handleCloseChildModal
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(TransactionModalInfoContent));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/TransactionRecurrenceEditorDialog.jsx":
/*!***************************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/TransactionRecurrenceEditorDialog.jsx ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var components_RawContentDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/RawContentDialog */ "./src/components/RawContentDialog.jsx");
/* harmony import */ var ducks_transactions_TransactionRecurrenceEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/TransactionRecurrenceEditor */ "./src/ducks/transactions/TransactionRecurrenceEditor.jsx");






var TransactionRecurrenceEditorDialog = function TransactionRecurrenceEditorDialog(_ref) {
  var transaction = _ref.transaction,
      onClose = _ref.onClose;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["useTrackPage"])(function (lastTracked) {
    return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["replaceLastPart"])(lastTracked, 'depense-affectation_recurrence');
  });
  var handleClose = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["trackPage"])(function (lastTracked) {
      return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_2__["replaceLastPart"])(lastTracked, 'depense');
    });
    onClose();
  }, [onClose]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_RawContentDialog__WEBPACK_IMPORTED_MODULE_3__["default"], {
    size: "small",
    open: true,
    onClose: handleClose,
    title: t('Transactions.infos.chooseRecurrence'),
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRecurrenceEditor__WEBPACK_IMPORTED_MODULE_4__["default"], {
      onSelect: function onSelect(x) {
        return x;
      },
      beforeUpdate: handleClose,
      onCancel: handleClose,
      transaction: transaction
    })
  });
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionRecurrenceEditorDialog));

/***/ }),

/***/ "./src/ducks/transactions/TransactionModal/helpers.js":
/*!************************************************************!*\
  !*** ./src/ducks/transactions/TransactionModal/helpers.js ***!
  \************************************************************/
/*! exports provided: showAlertAfterApplicationDateUpdate, stopPropagation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showAlertAfterApplicationDateUpdate", function() { return showAlertAfterApplicationDateUpdate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopPropagation", function() { return stopPropagation; });
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");


var showAlertAfterApplicationDateUpdate = function showAlertAfterApplicationDateUpdate(transaction, t, f) {
  var date = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getApplicationDate"])(transaction) || Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getDate"])(transaction);
  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_0__["default"].success(t('Transactions.infos.applicationDateChangedAlert', {
    applicationDate: f(date, 'MMMM')
  }));
};
var stopPropagation = function stopPropagation(ev) {
  return ev.stopPropagation();
};

/***/ }),

/***/ "./src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx":
/*!*********************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Openwith */ "./node_modules/cozy-ui/transpiled/react/Icons/Openwith.js");
/* harmony import */ var ducks_settings_HarvestBankAccountSettings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/HarvestBankAccountSettings */ "./src/ducks/settings/HarvestBankAccountSettings.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }









var ReconnectTriggerButton = function ReconnectTriggerButton(_ref) {
  var trigger = _ref.trigger,
      label = _ref.label;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(),
      _useState2 = _slicedToArray(_useState, 2),
      harvestConnectionId = _useState2[0],
      setHarvestConnectionId = _useState2[1];

  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    setHarvestConnectionId(trigger.message.account);
  }, [trigger]);

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["ButtonLink"], {
    theme: "secondary",
    extension: isMobile ? 'full' : 'narrow',
    className: "u-mh-0",
    label: label || t('Transactions.trigger-error.cta'),
    icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_5__["default"],
    onClick: handleClick
  }), harvestConnectionId ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_settings_HarvestBankAccountSettings__WEBPACK_IMPORTED_MODULE_6__["default"], {
    connectionId: harvestConnectionId,
    onDismiss: function onDismiss() {
      return setHarvestConnectionId(null);
    }
  }) : null);
};

ReconnectTriggerButton.propTypes = {
  /** @type {io.cozy.triggers} The trigger that needs to be reconnected */
  trigger: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,

  /** @type {Error} The error that needs to be solved */
  error: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,

  /** @type {String} An alternative label for the button */
  label: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (ReconnectTriggerButton);

/***/ }),

/***/ "./src/ducks/transactions/TransactionPageErrors/TransactionPageErrors.jsx":
/*!********************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionPageErrors/TransactionPageErrors.jsx ***!
  \********************************************************************************/
/*! exports provided: TransactionPageErrors, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionPageErrors", function() { return TransactionPageErrors; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_transactions_TriggerErrorCard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transactions/TriggerErrorCard */ "./src/ducks/transactions/TriggerErrorCard.jsx");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_Carrousel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Carrousel */ "./src/components/Carrousel.jsx");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var ducks_transactions_TransactionPageErrors_errors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/transactions/TransactionPageErrors/errors */ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/errors.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












/**
 * Shows connection errors for the currently filtered bank accounts.
 * If there is more than 1 error, a carrousel wraps the errors.
 */

var TransactionPageErrors = function TransactionPageErrors(props) {
  var errors = Object(ducks_transactions_TransactionPageErrors_errors__WEBPACK_IMPORTED_MODULE_10__["getTransactionPageErrors"])(props);
  var count = errors.length;
  var Wrapper = count > 1 ? components_Carrousel__WEBPACK_IMPORTED_MODULE_8__["default"] : react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment;
  var wrapperProps = count > 1 ? {
    className: 'u-bg-errorBackground'
  } : null;

  if (cozy_flags__WEBPACK_IMPORTED_MODULE_9___default()('demo')) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapper, wrapperProps, errors.map(function (error, i) {
    var Component = TransactionPageErrors.errorTypeToComponent[error.type];

    if (!Component) {
      throw new Error("No component available for error ".concat(error.type));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
      className: "u-flex-shrink-0",
      error: error,
      key: error._id,
      index: i,
      count: count
    });
  }));
}; // Use static property to be able to override

TransactionPageErrors.errorTypeToComponent = {
  'errored-trigger': ducks_transactions_TriggerErrorCard__WEBPACK_IMPORTED_MODULE_6__["default"]
};
TransactionPageErrors.propTypes = {
  triggerCol: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  accounts: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default()(Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state) {
  return {
    accounts: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_4__["getFilteredAccounts"])(state)
  };
}), Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["queryConnect"])({
  triggerCol: _objectSpread({}, doctypes__WEBPACK_IMPORTED_MODULE_7__["cronKonnectorTriggersConn"], {
    fetchPolicy: cozy_client__WEBPACK_IMPORTED_MODULE_5___default.a.fetchPolicies.noFetch
  })
}), react__WEBPACK_IMPORTED_MODULE_0___default.a.memo)(TransactionPageErrors));

/***/ }),

/***/ "./src/ducks/transactions/TransactionPageErrors/errors.js":
/*!****************************************************************!*\
  !*** ./src/ducks/transactions/TransactionPageErrors/errors.js ***!
  \****************************************************************/
/*! exports provided: getTransactionPageErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionPageErrors", function() { return getTransactionPageErrors; });
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/mapValues */ "./node_modules/lodash/mapValues.js");
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var utils_triggers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/triggers */ "./src/utils/triggers.js");
/* harmony import */ var cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-client/dist/models */ "./node_modules/cozy-client/dist/models/index.js");
/* harmony import */ var cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_5__);






var triggerUtils = cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__["trigger"].triggers,
    triggerStates = cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__["trigger"].triggerStates;
/**
 * Returns errors that should be displayed in the error container
 *
 * @returns
 */

var getTransactionPageErrors = function getTransactionPageErrors(_ref) {
  var triggerCol = _ref.triggerCol,
      accounts = _ref.accounts;
  var konnectorToAccounts = lodash_keyBy__WEBPACK_IMPORTED_MODULE_1___default()(accounts, cozy_client_dist_models__WEBPACK_IMPORTED_MODULE_4__["utils"].getCreatedByApp);
  var konnectorToInstitutionLabel = lodash_mapValues__WEBPACK_IMPORTED_MODULE_2___default()(konnectorToAccounts, function (acc) {
    return acc && acc.institutionLabel;
  });
  var triggers = triggerCol.data;
  var bankKonnectorTriggers = triggers.filter(triggerUtils.isKonnectorWorker).filter(utils_triggers__WEBPACK_IMPORTED_MODULE_3__["isBankTrigger"]);
  var erroredTriggers = lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default()(bankKonnectorTriggers.filter(triggerStates.isErrored).filter(triggerUtils.hasActionableError).filter(function (tr) {
    return konnectorToAccounts[tr.message.konnector];
  }), function (tr) {
    return tr.message.konnector;
  });

  if (!erroredTriggers.length > 0 && cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('banks.debug.force-trigger-error')) {
    erroredTriggers.push(bankKonnectorTriggers[0]);
    erroredTriggers.push(bankKonnectorTriggers[0]);
  }

  return erroredTriggers.map(function (tr) {
    return {
      trigger: tr,
      type: 'errored-trigger',
      bankName: konnectorToInstitutionLabel[tr.message.konnector],
      _id: tr._id
    };
  });
};

/***/ }),

/***/ "./src/ducks/transactions/TransactionPageErrors/index.js":
/*!***************************************************************!*\
  !*** ./src/ducks/transactions/TransactionPageErrors/index.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_transactions_TransactionPageErrors_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/transactions/TransactionPageErrors/TransactionPageErrors */ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/TransactionPageErrors.jsx");

/* harmony default export */ __webpack_exports__["default"] = (ducks_transactions_TransactionPageErrors_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/ducks/transactions/TransactionRecurrenceEditor.jsx":
/*!****************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRecurrenceEditor.jsx ***!
  \****************************************************************/
/*! exports provided: makeOptionFromRecurrence, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeOptionFromRecurrence", function() { return makeOptionFromRecurrence; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_min__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/min */ "./node_modules/lodash/min.js");
/* harmony import */ var lodash_min__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_min__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/max */ "./node_modules/lodash/max.js");
/* harmony import */ var lodash_max__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_max__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_NestedSelect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/NestedSelect */ "./node_modules/cozy-ui/transpiled/react/NestedSelect/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Plus */ "./node_modules/cozy-ui/transpiled/react/Icons/Plus.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/recurrence/constants */ "./src/ducks/recurrence/constants.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var _TransactionRecurrenceEditor_styl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./TransactionRecurrenceEditor.styl */ "./src/ducks/transactions/TransactionRecurrenceEditor.styl");
/* harmony import */ var _TransactionRecurrenceEditor_styl__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_TransactionRecurrenceEditor_styl__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }




















var RECURRENT_ID = 'recurrent';
var NEW_RECURRENCE_ID = 'new-recurrence'; // TODO Add currency into recurrences object

var formatRecurrenceAmount = function formatRecurrenceAmount(amount, recurrence) {
  if (recurrence.currency) {
    return "".concat(Math.abs(amount)).concat(recurrence.currency);
  } else {
    return "".concat(Math.abs(amount)).concat(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_18__["DEFAULT_CURRENCY_SYMBOL"]);
  }
};

var makeOptionFromRecurrence = function makeOptionFromRecurrence(rec, t, accountsById) {
  var minAmount = lodash_min__WEBPACK_IMPORTED_MODULE_1___default()(rec.amounts);
  var maxAmount = lodash_max__WEBPACK_IMPORTED_MODULE_2___default()(rec.amounts);
  var freqDescription = Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["getFrequencyText"])(t, rec);
  var amountDescription = minAmount === maxAmount ? t('Recurrence.description-amount', {
    amount: formatRecurrenceAmount(minAmount, rec)
  }) : t('Recurrence.description-amounts', {
    minAmount: formatRecurrenceAmount(minAmount, rec),
    maxAmount: formatRecurrenceAmount(maxAmount, rec)
  });
  var accountDescription = rec.accounts ? rec.accounts.map(function (accountId) {
    var account = accountsById[accountId];
    return account ? account.label : null;
  }).filter(Boolean).join(' · ') : null;
  return {
    _id: rec._id,
    _type: doctypes__WEBPACK_IMPORTED_MODULE_11__["RECURRENCE_DOCTYPE"],
    key: rec._id,
    title: Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["getLabel"])(rec),
    icon: react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_15__["default"], {
      categoryId: Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["getCategories"])(rec)[0]
    }),
    description: [freqDescription, amountDescription, accountDescription].filter(Boolean).join(' · ')
  };
};

var NewRecurrenceIcon = function NewRecurrenceIcon() {
  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_10__["default"],
    className: _TransactionRecurrenceEditor_styl__WEBPACK_IMPORTED_MODULE_16___default.a.FakeCategoryIcon
  });
};

var makeNewRecurrenceOption = function makeNewRecurrenceOption(t) {
  return {
    _id: NEW_RECURRENCE_ID,
    _type: doctypes__WEBPACK_IMPORTED_MODULE_11__["RECURRENCE_DOCTYPE"],
    title: t('Recurrence.choice.new-recurrence'),
    icon: react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(NewRecurrenceIcon, null)
  };
};

var isSelectedHelper = function isSelectedHelper(item, currentId) {
  if (item._id === ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_13__["NOT_RECURRENT_ID"] && !currentId) {
    return true;
  }

  if (item._id === RECURRENT_ID && currentId) {
    return true;
  }

  if (item._id === currentId) {
    return true;
  }

  return false;
};

var TransactionRecurrenceEditor = function TransactionRecurrenceEditor(_ref) {
  var transaction = _ref.transaction,
      beforeUpdate = _ref.beforeUpdate,
      afterUpdate = _ref.afterUpdate;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__["useI18n"])(),
      t = _useI18n.t;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useClient"])();
  var current = transaction.recurrence.data;
  var currentId = current && current._id;
  var recurrenceCol = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_11__["recurrenceConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_11__["recurrenceConn"]);

  var _useQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useQuery"])(doctypes__WEBPACK_IMPORTED_MODULE_11__["accountsConn"].query, doctypes__WEBPACK_IMPORTED_MODULE_11__["accountsConn"]),
      accounts = _useQuery.data;

  var accountsById = Object(react__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default()(accounts, function (x) {
      return x._id;
    });
  }, [accounts]);
  var allRecurrences = recurrenceCol.data;
  var recurrenceOptions = Object(react__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return allRecurrences ? [makeNewRecurrenceOption(t)].concat(lodash_sortBy__WEBPACK_IMPORTED_MODULE_3___default()(allRecurrences, ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["getLabel"]).map(function (recurrence) {
      return makeOptionFromRecurrence(recurrence, t, accountsById);
    })) : null;
  }, [accountsById, allRecurrences, t]);

  var handleSelect = /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(recurrenceChoice) {
      var _yield$client$save, recurrence, newTransaction;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!beforeUpdate) {
                _context.next = 3;
                break;
              }

              _context.next = 3;
              return beforeUpdate();

            case 3:
              if (!(recurrenceChoice._id === NEW_RECURRENCE_ID)) {
                _context.next = 9;
                break;
              }

              _context.next = 6;
              return client.save(Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["makeRecurrenceFromTransaction"])(Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["dehydrate"])(transaction)));

            case 6:
              _yield$client$save = _context.sent;
              recurrence = _yield$client$save.data;
              recurrenceChoice = {
                _id: recurrence._id,
                _type: doctypes__WEBPACK_IMPORTED_MODULE_11__["RECURRENCE_DOCTYPE"]
              };

            case 9:
              _context.next = 11;
              return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_14__["updateTransactionRecurrence"])(client, transaction, recurrenceChoice);

            case 11:
              newTransaction = _context.sent;

              if (!afterUpdate) {
                _context.next = 15;
                break;
              }

              _context.next = 15;
              return afterUpdate(newTransaction);

            case 15:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function handleSelect(_x) {
      return _ref2.apply(this, arguments);
    };
  }();

  if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["isQueryLoading"])(recurrenceCol) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["hasQueryBeenLoaded"])(recurrenceCol)) {
    return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_17__["default"], {
      spinnerSize: "xlarge"
    });
  }

  var isSelected = function isSelected(item) {
    return isSelectedHelper(item, currentId);
  };

  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_NestedSelect__WEBPACK_IMPORTED_MODULE_7__["default"], {
    radioPosition: "left",
    isSelected: isSelected,
    onSelect: handleSelect,
    options: {
      children: [{
        _id: ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_13__["NOT_RECURRENT_ID"],
        _type: doctypes__WEBPACK_IMPORTED_MODULE_11__["RECURRENCE_DOCTYPE"],
        title: t('Recurrence.choice.not-recurrent')
      }, {
        _id: RECURRENT_ID,
        title: t('Recurrence.choice.recurrent'),
        description: current && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
          className: "u-ellipsis"
        }, Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_12__["getLabel"])(current)),
        children: recurrenceOptions
      }]
    }
  });
};

/* harmony default export */ __webpack_exports__["default"] = (TransactionRecurrenceEditor);

/***/ }),

/***/ "./src/ducks/transactions/TransactionRecurrenceEditor.styl":
/*!*****************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRecurrenceEditor.styl ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"FakeCategoryIcon":"FakeCategoryIcon--oKsuw"};

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/AccountCaption.jsx":
/*!******************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/AccountCaption.jsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");




var AccountCaption = function AccountCaption(_ref) {
  var account = _ref.account;
  var accountInstitutionLabel = Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__["getAccountInstitutionLabel"])(account);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_1__["default"], {
    className: "u-ellipsis",
    variant: "caption",
    color: "textSecondary"
  }, Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__["getAccountLabel"])(account), accountInstitutionLabel && " - ".concat(accountInstitutionLabel));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(AccountCaption));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/ApplicationDateCaption.jsx":
/*!**************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/ApplicationDateCaption.jsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Logout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Logout */ "./node_modules/cozy-ui/transpiled/react/Icons/Logout.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");







var ApplicationDateCaption = function ApplicationDateCaption(_ref) {
  var transaction = _ref.transaction;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      f = _useI18n.f;

  var applicationDate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_5__["getApplicationDate"])(transaction);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    size: 10,
    icon: cozy_ui_transpiled_react_Icons_Logout__WEBPACK_IMPORTED_MODULE_4__["default"]
  }), " ", f(applicationDate, 'MMMM'));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(ApplicationDateCaption));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/RecurrenceCaption.jsx":
/*!*********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/RecurrenceCaption.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/recurrence/utils */ "./src/ducks/recurrence/utils.js");
/* harmony import */ var assets_icons_icon_recurrence_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! assets/icons/icon-recurrence.svg */ "./src/assets/icons/icon-recurrence.svg");







var RecurrenceCaption = function RecurrenceCaption(_ref) {
  var recurrence = _ref.recurrence;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var freqText = Object(ducks_recurrence_utils__WEBPACK_IMPORTED_MODULE_4__["getFrequencyText"])(t, recurrence);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, freqText, " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], {
    icon: assets_icons_icon_recurrence_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
    size: "10"
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(RecurrenceCaption));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/TransactionDate.jsx":
/*!*******************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/TransactionDate.jsx ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");




var TransactionDate = function TransactionDate(_ref) {
  var isExtraLarge = _ref.isExtraLarge,
      transaction = _ref.transaction;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t,
      f = _useI18n.f;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    title: transaction.realisationDate && transaction.date !== transaction.realisationDate ? t('Transactions.will-be-debited-on', {
      date: f(transaction.date, 'D MMMM YYYY')
    }) : null
  }, f(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_2__["getDate"])(transaction), "D ".concat(isExtraLarge ? 'MMMM' : 'MMM', " YYYY")));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionDate));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/TransactionOpener.jsx":
/*!*********************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/TransactionOpener.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_transactions_TransactionRow_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/TransactionRow/helpers */ "./src/ducks/transactions/TransactionRow/helpers.js");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/Transactions.styl */ "./src/ducks/transactions/Transactions.styl");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_4__);






var isTouchEventsCatched = function isTouchEventsCatched(ev) {
  // exclude actions from being catched by touch
  if (Object(ducks_transactions_TransactionRow_helpers__WEBPACK_IMPORTED_MODULE_3__["hasParentWithClass"])(ev.target, ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_4___default.a.TransactionRowMobile__actions)) {
    return false;
  }

  return true;
};

var TransactionOpener = function TransactionOpener(_ref) {
  var transaction = _ref.transaction,
      toggleSelection = _ref.toggleSelection,
      isSelectionModeActive = _ref.isSelectionModeActive,
      showTransactionModal = _ref.showTransactionModal,
      children = _ref.children;
  var rowRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var canEditTransaction = transaction._id;
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    return ev.preventDefault();
  }, []);
  var handleTap = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    if (isSelectionModeActive) {
      toggleSelection(transaction);
    } else {
      canEditTransaction && showTransactionModal();
    }
  }, [canEditTransaction, isSelectionModeActive, showTransactionModal, toggleSelection, transaction]);
  var handlePress = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    canEditTransaction && toggleSelection(transaction);
  }, [canEditTransaction, toggleSelection, transaction]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!rowRef || !rowRef.current) return;
    var hammer = new hammerjs__WEBPACK_IMPORTED_MODULE_2___default.a(rowRef.current);
    hammer.on('tap', function (ev) {
      if (isTouchEventsCatched(ev)) {
        // setTimeout needed to trigger onClick event first, and so make preventDefault() work
        setTimeout(function () {
          handleTap();
        }, 10);
      }
    });
    hammer.on('press', function (ev) {
      if (isTouchEventsCatched(ev)) {
        handlePress();
      }
    });
    return function () {
      hammer && hammer.destroy();
    };
  }, [handlePress, handleTap, showTransactionModal, toggleSelection, transaction, transaction._id]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    ref: rowRef,
    onClick: handleClick
  }, children);
};

TransactionOpener.propTypes = {
  transaction: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
  toggleSelection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  isSelectionModeActive: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  showTransactionModal: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionOpener));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/TransactionRowDesktop.jsx":
/*!*************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/TransactionRowDesktop.jsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/IconButton */ "./node_modules/cozy-ui/transpiled/react/IconButton/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Checkbox */ "./node_modules/cozy-ui/transpiled/react/Checkbox/index.js");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var ducks_transactions_TransactionActions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ducks/transactions/TransactionActions */ "./src/ducks/transactions/TransactionActions.jsx");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/transactions/Transactions.styl */ "./src/ducks/transactions/Transactions.styl");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/transactions/TransactionRow */ "./src/ducks/transactions/TransactionRow/index.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_ApplicationDateCaption__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/transactions/TransactionRow/ApplicationDateCaption */ "./src/ducks/transactions/TransactionRow/ApplicationDateCaption.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_AccountCaption__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/transactions/TransactionRow/AccountCaption */ "./src/ducks/transactions/TransactionRow/AccountCaption.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_TransactionDate__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/transactions/TransactionRow/TransactionDate */ "./src/ducks/transactions/TransactionRow/TransactionDate.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_RecurrenceCaption__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/transactions/TransactionRow/RecurrenceCaption */ "./src/ducks/transactions/TransactionRow/RecurrenceCaption.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
























var TransactionRowDesktop = function TransactionRowDesktop(_ref) {
  var transaction = _ref.transaction,
      isExtraLarge = _ref.isExtraLarge,
      filteringOnAccount = _ref.filteringOnAccount,
      onRef = _ref.onRef,
      showRecurrence = _ref.showRecurrence,
      isSelected = _ref.isSelected,
      isSelectionModeActive = _ref.isSelectionModeActive,
      toggleSelection = _ref.toggleSelection;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var boundOnRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return onRef ? onRef.bind(null, transaction._id) : null;
  }, [onRef, transaction]);
  var categoryId = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_14__["getCategoryId"])(transaction);
  var categoryName = Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_12__["getCategoryName"])(categoryId);
  var categoryTitle = t("Data.subcategories.".concat(categoryName));
  var account = transaction.account.data;
  var recurrence = transaction.recurrence ? transaction.recurrence.data : null;
  var trRest = cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('show-transactions-ids') ? {
    id: transaction._id
  } : {};
  var applicationDate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_14__["getApplicationDate"])(transaction);

  var _useTransactionModal = Object(ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_17__["useTransactionModal"])(transaction),
      _useTransactionModal2 = _slicedToArray(_useTransactionModal, 3),
      showTransactionModal = _useTransactionModal2[0],
      transactionModal = _useTransactionModal2[2];

  var _useTransactionCatego = Object(ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_17__["useTransactionCategoryModal"])({
    transactions: [transaction]
  }),
      _useTransactionCatego2 = _slicedToArray(_useTransactionCatego, 3),
      showTransactionCategoryModal = _useTransactionCatego2[0],
      categoryModal = _useTransactionCatego2[2];

  var handleClickCategory = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev.preventDefault();

    if (isSelectionModeActive) {
      toggleSelection(transaction);
    } else {
      showTransactionCategoryModal();
    }
  }, [isSelectionModeActive, showTransactionCategoryModal, toggleSelection, transaction]);
  var handleClickCheckbox = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev.preventDefault();
    toggleSelection(transaction);
  }, [toggleSelection, transaction]);
  var handleClickRow = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    if (ev.defaultPrevented) {
      return;
    }

    if (!ev.currentTarget.contains(ev.target)) {
      return;
    }

    if (isSelectionModeActive) {
      toggleSelection(transaction);
    } else {
      showTransactionModal();
    }
  }, [isSelectionModeActive, showTransactionModal, toggleSelection, transaction]); // Virtual transactions, like those generated from recurrences, cannot be edited

  var canEditTransaction = transaction._id;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", _extends({
    ref: boundOnRef
  }, trRest, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.TransactionRow, canEditTransaction ? ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a['TransactionRow--editable'] : null, _defineProperty({}, ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a['TransactionRow--selected'], isSelected)),
    onClick: canEditTransaction && handleClickRow
  }), canEditTransaction && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["TdSecondary"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.ColumnSizeCheckbox, 'u-pl-0 u-ta-center'),
    onClick: handleClickCheckbox
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_9__["default"], {
    "data-testid": "TransactionRow-checkbox-".concat(transaction._id),
    checked: isSelected,
    readOnly: true
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.ColumnSizeDesc, 'u-pv-half', canEditTransaction ? 'u-pl-0' : 'u-pl-1')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Img"], {
    title: categoryTitle
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_IconButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    disabled: !canEditTransaction,
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.CategoryIconButton,
    onClick: canEditTransaction && handleClickCategory
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_13__["default"], {
    categoryId: categoryId,
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a['bnk-op-caticon']
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_3__["Bd"], {
    className: "u-pl-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "u-pv-half",
    disableTypography: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_6__["default"], {
    variant: "body1"
  }, Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_14__["getLabel"])(transaction)), !filteringOnAccount && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_AccountCaption__WEBPACK_IMPORTED_MODULE_19__["default"], {
    account: account
  }), applicationDate && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_ApplicationDateCaption__WEBPACK_IMPORTED_MODULE_18__["default"], {
    transaction: transaction
  }), recurrence && showRecurrence && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_RecurrenceCaption__WEBPACK_IMPORTED_MODULE_21__["default"], {
    recurrence: recurrence
  }))))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["TdSecondary"], {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.ColumnSizeDate
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_TransactionDate__WEBPACK_IMPORTED_MODULE_20__["default"], {
    isExtraLarge: isExtraLarge,
    transaction: transaction
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["TdSecondary"], {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.ColumnSizeAmount
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_8__["default"], {
    total: transaction.amount || 0,
    symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_16__["getCurrencySymbol"])(transaction.currency),
    coloredPositive: true,
    signed: true
  })), ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_17__["showTransactionActions"] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_10__["TdSecondary"], {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_15___default.a.ColumnSizeAction
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionActions__WEBPACK_IMPORTED_MODULE_11__["default"], {
    transaction: transaction,
    onlyDefault: true
  }))), categoryModal, transactionModal);
};

TransactionRowDesktop.defaultProps = {
  showRecurrence: true
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionRowDesktop));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/TransactionRowMobile.jsx":
/*!************************************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/TransactionRowMobile.jsx ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Checkbox */ "./node_modules/cozy-ui/transpiled/react/Checkbox/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/Divider */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/Divider/index.js");
/* harmony import */ var ducks_transactions_TransactionActions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/transactions/TransactionActions */ "./src/ducks/transactions/TransactionActions.jsx");
/* harmony import */ var ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/categories/categoriesMap */ "./src/ducks/categories/categoriesMap.js");
/* harmony import */ var ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/categories/CategoryIcon */ "./src/ducks/categories/CategoryIcon.jsx");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/transactions/Transactions.styl */ "./src/ducks/transactions/Transactions.styl");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var utils_currencySymbol__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! utils/currencySymbol */ "./src/utils/currencySymbol.js");
/* harmony import */ var ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/transactions/TransactionRow */ "./src/ducks/transactions/TransactionRow/index.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_ApplicationDateCaption__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/transactions/TransactionRow/ApplicationDateCaption */ "./src/ducks/transactions/TransactionRow/ApplicationDateCaption.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_AccountCaption__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/transactions/TransactionRow/AccountCaption */ "./src/ducks/transactions/TransactionRow/AccountCaption.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_RecurrenceCaption__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/transactions/TransactionRow/RecurrenceCaption */ "./src/ducks/transactions/TransactionRow/RecurrenceCaption.jsx");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_TransactionOpener__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/transactions/TransactionRow/TransactionOpener */ "./src/ducks/transactions/TransactionRow/TransactionOpener.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


























var RowCheckbox = function RowCheckbox(_ref) {
  var isSelected = _ref.isSelected;

  var _useSelectionContext = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_22__["useSelectionContext"])(),
      isSelectionModeActive = _useSelectionContext.isSelectionModeActive;

  return isSelectionModeActive ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Img"], {
    style: {
      marginLeft: '-1rem'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Checkbox__WEBPACK_IMPORTED_MODULE_10__["default"], {
    checked: isSelected,
    readOnly: true
  })) : null;
};

var dividerStyle = {
  marginLeft: '3.5rem'
};

var TransactionRowMobile = function TransactionRowMobile(_ref2) {
  var transaction = _ref2.transaction,
      filteringOnAccount = _ref2.filteringOnAccount,
      onRef = _ref2.onRef,
      showRecurrence = _ref2.showRecurrence,
      isSelected = _ref2.isSelected,
      isSelectionModeActive = _ref2.isSelectionModeActive,
      toggleSelection = _ref2.toggleSelection,
      hasDivider = _ref2.hasDivider;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var account = transaction.account.data;
  var rowRest = {};

  var _useTransactionModal = Object(ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_18__["useTransactionModal"])(transaction),
      _useTransactionModal2 = _slicedToArray(_useTransactionModal, 3),
      showTransactionModal = _useTransactionModal2[0],
      transactionModal = _useTransactionModal2[2];

  var boundOnRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return onRef ? onRef.bind(null, transaction._id) : null;
  }, [onRef, transaction]);

  if (cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('show-transactions-ids')) {
    rowRest.id = transaction._id;
  }

  rowRest.className = classnames__WEBPACK_IMPORTED_MODULE_2___default()(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default.a.TransactionRowMobile);
  var applicationDate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__["getApplicationDate"])(transaction);
  var recurrence = transaction.recurrence ? transaction.recurrence.data : null;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_TransactionOpener__WEBPACK_IMPORTED_MODULE_23__["default"], {
    transaction: transaction,
    toggleSelection: toggleSelection,
    isSelectionModeActive: isSelectionModeActive,
    showTransactionModal: showTransactionModal
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_6__["default"], _extends({
    ref: boundOnRef
  }, rowRest, {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_defineProperty({}, ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default.a['TransactionRow--selected'], isSelected)),
    button: !!transaction._id
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Media"], {
    className: "u-w-100"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RowCheckbox, {
    isSelected: isSelected
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Media"], {
    className: "u-w-100"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Img"], {
    className: "u-mr-half",
    title: t("Data.subcategories.".concat(Object(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_13__["getCategoryName"])(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__["getCategoryId"])(transaction))))
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_CategoryIcon__WEBPACK_IMPORTED_MODULE_14__["default"], {
    categoryId: Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__["getCategoryId"])(transaction)
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Bd"], {
    className: "u-mr-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_7__["default"], {
    disableTypography: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "u-ellipsis",
    variant: "body1"
  }, Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__["getLabel"])(transaction)), !filteringOnAccount && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_AccountCaption__WEBPACK_IMPORTED_MODULE_20__["default"], {
    account: account
  }), applicationDate ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_ApplicationDateCaption__WEBPACK_IMPORTED_MODULE_19__["default"], {
    transaction: transaction
  }) : null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_4__["Img"], {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default.a.TransactionRowMobileImg
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
    total: transaction.amount,
    symbol: Object(utils_currencySymbol__WEBPACK_IMPORTED_MODULE_17__["getCurrencySymbol"])(transaction.currency),
    coloredPositive: true,
    signed: true
  }), recurrence && showRecurrence ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionRow_RecurrenceCaption__WEBPACK_IMPORTED_MODULE_21__["default"], {
    recurrence: recurrence
  }) : null)), ducks_transactions_TransactionRow__WEBPACK_IMPORTED_MODULE_18__["showTransactionActions"] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionActions__WEBPACK_IMPORTED_MODULE_12__["default"], {
    transaction: transaction,
    onlyDefault: true,
    compact: true,
    menuPosition: "right",
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('u-mb-half', ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default.a.TransactionRowMobile__actions)
  })))), hasDivider && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Divider__WEBPACK_IMPORTED_MODULE_11__["default"], {
    style: dividerStyle,
    variant: "inset"
  })), transactionModal);
};

TransactionRowMobile.propTypes = {
  transaction: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  showRecurrence: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  hasDivider: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
TransactionRowMobile.defaultProps = {
  showRecurrence: true
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionRowMobile));

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/helpers.js":
/*!**********************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/helpers.js ***!
  \**********************************************************/
/*! exports provided: hasParentWithClass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasParentWithClass", function() { return hasParentWithClass; });
var hasParentWithClass = function hasParentWithClass(el, cl) {
  while (el.parentNode) {
    el = el.parentNode;
    if (el.classList && el.classList.contains(cl)) return true;
  }

  return false;
};

/***/ }),

/***/ "./src/ducks/transactions/TransactionRow/index.jsx":
/*!*********************************************************!*\
  !*** ./src/ducks/transactions/TransactionRow/index.jsx ***!
  \*********************************************************/
/*! exports provided: showTransactionActions, useTransactionModal, useTransactionCategoryModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showTransactionActions", function() { return showTransactionActions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTransactionModal", function() { return useTransactionModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTransactionCategoryModal", function() { return useTransactionCategoryModal; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_transactions_TransactionModal_TransactionModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/TransactionModal/TransactionModal */ "./src/ducks/transactions/TransactionModal/TransactionModal.jsx");
/* harmony import */ var ducks_transactions_TransactionCategoryEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/TransactionCategoryEditor */ "./src/ducks/transactions/TransactionCategoryEditor.jsx");
/* harmony import */ var hooks_useSwitch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hooks/useSwitch */ "./src/hooks/useSwitch.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }






var showTransactionActions = !cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()('banks.transaction-actions.deactivated');
var useTransactionModal = function useTransactionModal(transaction) {
  var _useSwitch = Object(hooks_useSwitch__WEBPACK_IMPORTED_MODULE_4__["default"])(false),
      _useSwitch2 = _slicedToArray(_useSwitch, 3),
      modalOpened = _useSwitch2[0],
      show = _useSwitch2[1],
      hide = _useSwitch2[2];

  var modal = modalOpened ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionModal_TransactionModal__WEBPACK_IMPORTED_MODULE_2__["default"], {
    requestClose: hide,
    transactionId: transaction._id
  }) : null;
  return [show, hide, modal];
};
var useTransactionCategoryModal = function useTransactionCategoryModal(_ref) {
  var transactions = _ref.transactions,
      beforeUpdates = _ref.beforeUpdates,
      afterUpdates = _ref.afterUpdates,
      onError = _ref.onError;

  var _useSwitch3 = Object(hooks_useSwitch__WEBPACK_IMPORTED_MODULE_4__["default"])(false),
      _useSwitch4 = _slicedToArray(_useSwitch3, 3),
      modalOpened = _useSwitch4[0],
      show = _useSwitch4[1],
      hide = _useSwitch4[2];

  var handleBeforeUpdates = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    hide();
    beforeUpdates && beforeUpdates();
  }, [beforeUpdates, hide]);
  var modal = modalOpened ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionCategoryEditor__WEBPACK_IMPORTED_MODULE_3__["default"], {
    beforeUpdates: handleBeforeUpdates,
    afterUpdates: afterUpdates,
    transactions: transactions,
    onCancel: hide,
    onError: onError
  }) : null;
  return [show, hide, modal];
};

/***/ }),

/***/ "./src/ducks/transactions/TransactionSelectDates.jsx":
/*!***********************************************************!*\
  !*** ./src/ducks/transactions/TransactionSelectDates.jsx ***!
  \***********************************************************/
/*! exports provided: getOptions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOptions", function() { return getOptions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_SelectDates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/SelectDates */ "./src/components/SelectDates/index.jsx");
/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/last */ "./node_modules/lodash/last.js");
/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var hooks_useTransactionExtent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! hooks/useTransactionExtent */ "./src/hooks/useTransactionExtent.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }










var rangeMonth = function rangeMonth(startDate, endDate) {
  var options = [];

  for (var i = 0; i < Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["differenceInCalendarMonths"])(endDate, startDate) + 1; i++) {
    options.push(Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["subMonths"])(endDate, i));
  }

  return options;
};

var getYearMonth = function getYearMonth(transaction) {
  return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_6__["getDate"])(transaction).slice(0, 7);
};

var getOptions = function getOptions(transactions) {
  var availableMonths = lodash_uniq__WEBPACK_IMPORTED_MODULE_4___default()(transactions.map(getYearMonth)).sort();
  var mAvailableMonths = new Set(availableMonths);
  var start = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["parse"])(availableMonths[0], 'YYYY-MM');
  var lastMonth = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["parse"])(lodash_last__WEBPACK_IMPORTED_MODULE_3___default()(availableMonths), 'YYYY-MM');
  var today = new Date();
  var end = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["isAfter"])(lastMonth, today) ? lastMonth : today;
  return rangeMonth(start, end).map(function (month) {
    var fmted = Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["format"])(month, 'YYYY-MM');
    return {
      yearMonth: fmted,
      disabled: !mAvailableMonths.has(fmted)
    };
  });
};

var getMonthFromTransaction = function getMonthFromTransaction(transaction) {
  return transaction.date.slice(0, 7);
};

var TransactionSelectDates = function TransactionSelectDates(_ref) {
  var onExtentLoad = _ref.onExtentLoad,
      props = _objectWithoutProperties(_ref, ["onExtentLoad"]);

  var _useTransactionExtent = Object(hooks_useTransactionExtent__WEBPACK_IMPORTED_MODULE_7__["default"])(),
      _useTransactionExtent2 = _slicedToArray(_useTransactionExtent, 3),
      earliestTransaction = _useTransactionExtent2[0],
      latestTransaction = _useTransactionExtent2[1],
      loading = _useTransactionExtent2[2];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (loading || !onExtentLoad) {
      return;
    }

    onExtentLoad(earliestTransaction && latestTransaction ? [earliestTransaction, latestTransaction].map(getMonthFromTransaction) : []);
  }, [earliestTransaction, latestTransaction, loading, onExtentLoad]);
  var options = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    if (!earliestTransaction || !latestTransaction) {
      return [];
    }

    var earliestDate = earliestTransaction.date;
    var latestDate = latestTransaction.date;
    var range = Object(components_SelectDates__WEBPACK_IMPORTED_MODULE_2__["monthRange"])(new Date(earliestDate), new Date(latestDate)).map(function (date) {
      return {
        yearMonth: Object(date_fns__WEBPACK_IMPORTED_MODULE_5__["format"])(date, 'YYYY-MM'),
        disabled: false
      };
    }).reverse();
    return range;
  }, [earliestTransaction, latestTransaction]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_SelectDates__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({
    options: options
  }, props));
};

TransactionSelectDates.propTypes = {
  /**
   * When the time extent of the selector is available,
   * this callback is fired with [earliestMonth, latestMonth]
   *
   * @type {Function}
   */
  onExtentLoad: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(TransactionSelectDates));

/***/ }),

/***/ "./src/ducks/transactions/Transactions.jsx":
/*!*************************************************!*\
  !*** ./src/ducks/transactions/Transactions.jsx ***!
  \*************************************************/
/*! exports provided: sortByDate, TransactionsListContext, TransactionsDumb, TransactionList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sortByDate", function() { return sortByDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsListContext", function() { return TransactionsListContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsDumb", function() { return TransactionsDumb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionList", function() { return TransactionList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_toPairs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/toPairs */ "./node_modules/lodash/toPairs.js");
/* harmony import */ var lodash_toPairs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_toPairs__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListSubheader/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var ducks_transactions_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/transactions/TransactionPageErrors */ "./src/ducks/transactions/TransactionPageErrors/index.js");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/transactions/Transactions.styl */ "./src/ducks/transactions/Transactions.styl");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var ducks_transactions_scroll__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/transactions/scroll */ "./src/ducks/transactions/scroll/index.js");
/* harmony import */ var ducks_transactions_TransactionRow_TransactionRowMobile__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/transactions/TransactionRow/TransactionRowMobile */ "./src/ducks/transactions/TransactionRow/TransactionRowMobile.jsx");
/* harmony import */ var ducks_transactions_TransactionRow_TransactionRowDesktop__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/transactions/TransactionRow/TransactionRowDesktop */ "./src/ducks/transactions/TransactionRow/TransactionRowDesktop.jsx");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var hooks_useVisible__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! hooks/useVisible */ "./src/hooks/useVisible.jsx");
/* harmony import */ var ducks_selection_SelectionBar__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/selection/SelectionBar */ "./src/ducks/selection/SelectionBar.jsx");
/* harmony import */ var ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/context/SelectionContext */ "./src/ducks/context/SelectionContext.jsx");
/* harmony import */ var _scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./scroll/getScrollingElement */ "./src/ducks/transactions/scroll/getScrollingElement.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }


























var sortByDate = function sortByDate() {
  var transactions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  return lodash_sortBy__WEBPACK_IMPORTED_MODULE_8___default()(transactions, ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getDate"]).reverse();
};

var groupByDate = function groupByDate(transactions) {
  var byDate = lodash_groupBy__WEBPACK_IMPORTED_MODULE_3___default()(transactions, function (x) {
    return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_20__["getDate"])(x);
  });
  return lodash_toPairs__WEBPACK_IMPORTED_MODULE_4___default()(byDate);
};

var TransactionsListContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])({
  mobileSectionDateFormat: 'dddd D MMMM'
});
var observerOptions = {
  threshold: [0, 1],
  margin: '-200px 0px 0px 0px'
};
var emptyDesktopSectionStyle = {
  height: 80
};
var emptyMobileSectionStyle = {
  height: 100
};

var SectionMobile = function SectionMobile(_ref) {
  var initialVisible = _ref.initialVisible,
      props = _objectWithoutProperties(_ref, ["initialVisible"]);

  var _useVisible = Object(hooks_useVisible__WEBPACK_IMPORTED_MODULE_21__["default"])(initialVisible, observerOptions),
      _useVisible2 = _slicedToArray(_useVisible, 2),
      ref = _useVisible2[0],
      visible = _useVisible2[1];

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__["useI18n"])(),
      f = _useI18n.f;

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(TransactionsListContext),
      mobileSectionDateFormat = _useContext.mobileSectionDateFormat;

  var date = props.date,
      children = props.children;

  if (!visible) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_12__["default"], {
      ref: ref
    }, f(date, mobileSectionDateFormat)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      style: emptyMobileSectionStyle
    }));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListSubheader__WEBPACK_IMPORTED_MODULE_12__["default"], {
    ref: ref
  }, f(date, mobileSectionDateFormat)), children);
};

var VisibleSectionDesktop = function VisibleSectionDesktop(_ref2) {
  var initialVisible = _ref2.initialVisible,
      props = _objectWithoutProperties(_ref2, ["initialVisible"]);

  var _useVisible3 = Object(hooks_useVisible__WEBPACK_IMPORTED_MODULE_21__["default"])(initialVisible),
      _useVisible4 = _slicedToArray(_useVisible3, 2),
      ref = _useVisible4[0],
      visible = _useVisible4[1];

  return visible ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", _extends({
    ref: ref
  }, props)) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", {
    ref: ref,
    style: emptyDesktopSectionStyle
  });
};

var TransactionContainerMobile = function TransactionContainerMobile(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", props);
};
/**
 * Groups transactions by date and renders them as a list
 * On desktop, the section headers will not be shown
 */


var TransactionSections = function TransactionSections(_ref3) {
  var filteringOnAccount = _ref3.filteringOnAccount,
      className = _ref3.className,
      transactions = _ref3.transactions,
      onRowRef = _ref3.onRowRef;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__["default"])(),
      isDesktop = _useBreakpoints.isDesktop,
      isExtraLarge = _useBreakpoints.isExtraLarge;

  var _useSelectionContext = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_23__["useSelectionContext"])(),
      isSelected = _useSelectionContext.isSelected,
      isSelectionModeActive = _useSelectionContext.isSelectionModeActive,
      toggleSelection = _useSelectionContext.toggleSelection;

  var transactionsGrouped = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return groupByDate(transactions);
  }, [transactions]);
  var Section = isDesktop ? VisibleSectionDesktop : SectionMobile;
  var TransactionContainer = isDesktop ? components_Table__WEBPACK_IMPORTED_MODULE_14__["Table"] : TransactionContainerMobile;
  var Row = isDesktop ? ducks_transactions_TransactionRow_TransactionRowDesktop__WEBPACK_IMPORTED_MODULE_19__["default"] : ducks_transactions_TransactionRow_TransactionRowMobile__WEBPACK_IMPORTED_MODULE_18__["default"];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionContainer, {
    className: classnames__WEBPACK_IMPORTED_MODULE_9___default()(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_16___default.a.TransactionTable, className)
  }, transactionsGrouped.map(function (dateAndGroup, id) {
    var date = dateAndGroup[0];
    var transactionGroup = dateAndGroup[1];
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section, {
      date: date,
      key: id,
      initialVisible: id < 10
    }, transactionGroup.map(function (transaction, index) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Row, {
        key: transaction._id,
        onRef: onRowRef,
        transaction: transaction,
        isExtraLarge: isExtraLarge,
        filteringOnAccount: filteringOnAccount,
        isSelected: isSelected(transaction),
        isSelectionModeActive: isSelectionModeActive,
        toggleSelection: toggleSelection,
        hasDivider: transactionGroup.length > 1 && index !== transactionGroup.length - 1
      });
    }));
  }));
};

var TransactionsDumb = /*#__PURE__*/function (_React$Component) {
  _inherits(TransactionsDumb, _React$Component);

  function TransactionsDumb(props) {
    var _this;

    _classCallCheck(this, TransactionsDumb);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransactionsDumb).call(this, props));

    _defineProperty(_assertThisInitialized(_this), "state", {
      infiniteScrollTop: false
    });

    _defineProperty(_assertThisInitialized(_this), "getScrollingElement", function () {
      var isDesktop = _this.props.breakpoints.isDesktop;
      return Object(_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_24__["default"])(isDesktop);
    });

    _this.topmost = new ducks_transactions_scroll__WEBPACK_IMPORTED_MODULE_17__["TopMost"](_this.getScrollingElement);
    _this.handleRefRow = _this.handleRefRow.bind(_assertThisInitialized(_this));
    _this.handleScroll = (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_10__["isIOSApp"])() ? lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default.a : lodash_throttle__WEBPACK_IMPORTED_MODULE_7___default.a)(_this.handleScroll.bind(_assertThisInitialized(_this)), 300, {
      leading: false,
      trailing: true
    });
    return _this;
  }

  _createClass(TransactionsDumb, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      this.updateTransactions(this.props.transactions);
    }
  }, {
    key: "UNSAFE_componentWillUpdate",
    value: function UNSAFE_componentWillUpdate(nextProps) {
      if (this.props.transactions !== nextProps.transactions) {
        this.updateTransactions(nextProps.transactions);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      var emptyAndDeactivateSelection = this.props.emptyAndDeactivateSelection;
      emptyAndDeactivateSelection();
    }
  }, {
    key: "updateTransactions",
    value: function updateTransactions(transactions) {
      this.transactionsById = lodash_keyBy__WEBPACK_IMPORTED_MODULE_5___default()(transactions, '_id');
      this.transactions = sortByDate(transactions);
    }
  }, {
    key: "updateTopMostVisibleTransaction",
    value: function updateTopMostVisibleTransaction() {
      var topMostTransactionId = this.topmost.getTopMostVisibleNodeId();
      var topMostTransaction = this.transactionsById[topMostTransactionId];

      if (topMostTransaction && this.props.onChangeTopMostTransaction) {
        this.props.onChangeTopMostTransaction(topMostTransaction);
      }
    }
    /**
     * Debounced in the constructor
     */

  }, {
    key: "handleScroll",
    value: function handleScroll(getScrollInfo) {
      var onScroll = this.props.onScroll;

      if (onScroll) {
        onScroll(getScrollInfo);
      }

      this.updateTopMostVisibleTransaction();
    }
  }, {
    key: "handleRefRow",
    value: function handleRefRow(transactionId, ref) {
      var node = react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(ref); // eslint-disable-line

      this.topmost.addNode(transactionId, node);
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          showTriggerErrors = _this$props.showTriggerErrors,
          filteringOnAccount = _this$props.filteringOnAccount,
          className = _this$props.className,
          TransactionSections = _this$props.TransactionSections,
          onReachTop = _this$props.onReachTop,
          onReachBottom = _this$props.onReachBottom,
          canFetchMore = _this$props.canFetchMore;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_selection_SelectionBar__WEBPACK_IMPORTED_MODULE_22__["default"], {
        transactions: this.transactions
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_scroll__WEBPACK_IMPORTED_MODULE_17__["InfiniteScroll"], {
        manual: false,
        canLoadAtTop: false,
        canLoadAtBottom: canFetchMore,
        onReachTop: onReachTop,
        onReachBottom: onReachBottom,
        getScrollingElement: this.getScrollingElement,
        onScroll: this.handleScroll
      }, showTriggerErrors ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionPageErrors__WEBPACK_IMPORTED_MODULE_15__["default"], null) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionSections, {
        filteringOnAccount: filteringOnAccount,
        className: className,
        transactions: this.transactions,
        onRowRef: this.handleRefRow
      })));
    }
  }]);

  return TransactionsDumb;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);
TransactionsDumb.propTypes = {
  showTriggerErrors: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,

  /* Used in test to mock TransactionSections */
  TransactionSections: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.elementType
};
TransactionsDumb.defaultProps = {
  showTriggerErrors: true,
  TransactionSections: TransactionSections
};
var TransactionList = function TransactionList(props) {
  var _useSelectionContext2 = Object(ducks_context_SelectionContext__WEBPACK_IMPORTED_MODULE_23__["useSelectionContext"])(),
      emptyAndDeactivateSelection = _useSelectionContext2.emptyAndDeactivateSelection;

  var breakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_13__["default"])();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransactionsDumb, _extends({
    emptyAndDeactivateSelection: emptyAndDeactivateSelection,
    breakpoints: breakpoints
  }, props));
};

/***/ }),

/***/ "./src/ducks/transactions/Transactions.styl":
/*!**************************************************!*\
  !*** ./src/ducks/transactions/Transactions.styl ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Table":"Table--16x37","inverted":"inverted--1lpM2","Table-td-secondary":"Table-td-secondary--2fKAC","Table__Row":"Table__Row--3xTHv","Table__Cell":"Table__Cell--2LpTc","Table__Cell--main":"Table__Cell--main--18hAG","Table__Row--nav":"Table__Row--nav--1HTTH","ColumnSizeCheckbox":"ColumnSizeCheckbox--3tN_z","ColumnSizeDesc":"ColumnSizeDesc--279qr","ColumnSizeDate":"ColumnSizeDate--2L915","ColumnSizeAmount":"ColumnSizeAmount--2BYhe","ColumnSizeAction":"ColumnSizeAction--1jqKx","TransactionTable":"TransactionTable--lO-9I","bnk-transaction-mobile-action":"bnk-transaction-mobile-action--3HYrZ","bnk-op-caticon":"bnk-op-caticon--vZ5fG","bnk-op-actions":"bnk-op-actions--1NdNA","TransactionRow":"TransactionRow--DMD4U","TransactionRow--editable":"TransactionRow--editable--1VQYD","TransactionRow--selected":"TransactionRow--selected--GRI8E","bnk-table-desc--kids":"bnk-table-desc--kids--1iioX","bnk-table-desc--dailyLife":"bnk-table-desc--dailyLife--3EeqT","bnk-table-desc--educationAndTraining":"bnk-table-desc--educationAndTraining--3DZfF","bnk-table-desc--health":"bnk-table-desc--health--1tigU","bnk-table-desc--homeAndRealEstate":"bnk-table-desc--homeAndRealEstate--dFCgH","bnk-table-desc--incomeCat":"bnk-table-desc--incomeCat--3AQap","bnk-table-desc--activities":"bnk-table-desc--activities--1pj_f","bnk-table-desc--excludeFromBudgetCat":"bnk-table-desc--excludeFromBudgetCat--bgJvA","bnk-table-desc--services":"bnk-table-desc--services--8BAKy","bnk-table-desc--tax":"bnk-table-desc--tax--XFQBK","bnk-table-desc--transportation":"bnk-table-desc--transportation--1-hyn","bnk-table-desc--goingOutAndTravel":"bnk-table-desc--goingOutAndTravel--2ZOAA","bnk-table-desc--uncategorized":"bnk-table-desc--uncategorized--1-Mum","c-table-body":"c-table-body--2Jtyo","c-table-row":"c-table-row--22HNN","c-table-cell":"c-table-cell--3IUf6","bnk-table-desc":"bnk-table-desc--1LVEE","TransactionRowMobile":"TransactionRowMobile--CMg_S","TransactionRowMobile__actions":"TransactionRowMobile__actions--1OxLu","TransactionRowMobileImg":"TransactionRowMobileImg--2gKJ6","CategoryIconButton":"CategoryIconButton--3sG_O"};

/***/ }),

/***/ "./src/ducks/transactions/TransactionsHeader.styl":
/*!********************************************************!*\
  !*** ./src/ducks/transactions/TransactionsHeader.styl ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"TransactionsHeader__chart":"TransactionsHeader__chart--Ft9Oy","TransactionsHeader__selectDatesContainer":"TransactionsHeader__selectDatesContainer--3z-rP","TransactionHeader__accountSwitchContainer":"TransactionHeader__accountSwitchContainer--1axCO"};

/***/ }),

/***/ "./src/ducks/transactions/TransactionsPage.jsx":
/*!*****************************************************!*\
  !*** ./src/ducks/transactions/TransactionsPage.jsx ***!
  \*****************************************************/
/*! exports provided: predicateBetweenDates, DumbTransactionsPage, UnpluggedTransactionsPage, TransactionsPageWithBackButton, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "predicateBetweenDates", function() { return predicateBetweenDates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbTransactionsPage", function() { return DumbTransactionsPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnpluggedTransactionsPage", function() { return UnpluggedTransactionsPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsPageWithBackButton", function() { return TransactionsPageWithBackButton; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! components/HeaderLoadingProgress */ "./src/components/HeaderLoadingProgress.jsx");
/* harmony import */ var hooks_useLast__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! hooks/useLast */ "./src/hooks/useLast.jsx");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var ducks_future_FutureBalanceCard__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/future/FutureBalanceCard */ "./src/ducks/future/FutureBalanceCard.jsx");
/* harmony import */ var ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/transactions/Transactions */ "./src/ducks/transactions/Transactions.jsx");
/* harmony import */ var ducks_transactions_TransactionsPage_styl__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/transactions/TransactionsPage.styl */ "./src/ducks/transactions/TransactionsPage.styl");
/* harmony import */ var ducks_transactions_TransactionsPage_styl__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_TransactionsPage_styl__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var ducks_transactions_TransactionHeader__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/transactions/TransactionHeader */ "./src/ducks/transactions/TransactionHeader.jsx");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var ducks_transactions_TransactionActionsProvider__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/transactions/TransactionActionsProvider */ "../overrides/cozy-banks/src/ducks/transactions/TransactionActionsProvider.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ducks/transactions/queries */ "./src/ducks/transactions/queries.js");
/* harmony import */ var _scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./scroll/getScrollingElement */ "./src/ducks/transactions/scroll/getScrollingElement.jsx");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }































var getMonth = function getMonth(date) {
  return date.slice(0, 7);
};

var predicateBetweenDates = function predicateBetweenDates(t) {
  var fromDate = Date.parse('2021-12-09');
  var toDate = Date.parse('2021-12-11');
  var date = Date.parse(t.rawDate);
  var matchDate = date >= fromDate && date <= toDate;
  return matchDate;
};

var updateListStyle = function updateListStyle(listRef, headerRef) {
  // eslint-disable-next-line
  var headerNodeParent = react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(headerRef);

  if (!headerNodeParent) {
    headerNodeParent = document.querySelector('[role="header"]');
  }

  if (!headerNodeParent) {
    return;
  }

  var headerNode = headerNodeParent.firstChild; // eslint-disable-next-line

  var listNode = react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findDOMNode(listRef);

  if (document.body.getBoundingClientRect().width < 1024) {
    listNode.style.paddingTop = headerNode.getBoundingClientRect().height + 'px';
  } else {
    listNode.style.paddingTop = 0;
  }

  listNode.style.opacity = 1;
};

var TransactionsPage = /*#__PURE__*/function (_Component) {
  _inherits(TransactionsPage, _Component);

  function TransactionsPage(props) {
    var _this;

    _classCallCheck(this, TransactionsPage);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransactionsPage).call(this, props));
    _this.renderTransactions = _this.renderTransactions.bind(_assertThisInitialized(_this));
    _this.handleChangeTopmostTransaction = _this.handleChangeTopmostTransaction.bind(_assertThisInitialized(_this));
    _this.handleHeaderRef = _this.handleHeaderRef.bind(_assertThisInitialized(_this));
    _this.handleListRef = _this.handleListRef.bind(_assertThisInitialized(_this));
    _this.handleResize = lodash_debounce__WEBPACK_IMPORTED_MODULE_6___default()(_this.handleResize.bind(_assertThisInitialized(_this)), 500, {
      trailing: true,
      leading: false
    });
    _this.handleFetchMoreBecomeVisible = _this.handleFetchMoreBecomeVisible.bind(_assertThisInitialized(_this));
    _this.handleChangeMonth = _this.handleChangeMonth.bind(_assertThisInitialized(_this));
    _this.state = {
      currentMonth: null
    };
    return _this;
  }

  _createClass(TransactionsPage, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.trackPage();
      window.addEventListener('resize', this.handleResize);
      this.handleResize();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      window.removeEventListener('resize', this.handleResize);
    }
  }, {
    key: "handleResize",
    value: function handleResize() {
      updateListStyle(this.listRef, this.headerRef);
    }
  }, {
    key: "trackPage",
    value: function trackPage() {
      var router = this.props.router;
      var _router$params = router.params,
          categoryName = _router$params.categoryName,
          subcategoryName = _router$params.subcategoryName;

      if (categoryName && subcategoryName) {
        Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_27__["trackPage"])("analyse:".concat(categoryName ? categoryName : 'home').concat(subcategoryName ? ":details" : ''));
      } else {
        Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_27__["trackPage"])('mon_compte:compte');
      }
    }
  }, {
    key: "handleChangeTopmostTransaction",
    value: function handleChangeTopmostTransaction(transaction) {
      this.setState({
        currentMonth: getMonth(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_19__["getDisplayDate"])(transaction))
      });
    }
    /**
     * Updates this.state after
     *  - month change request from children
     *  - filtering doc change
     *
     * Will change the query that fetches the transactions
     */

  }, {
    key: "handleChangeMonth",
    value: function handleChangeMonth(month) {
      this.setState({
        currentMonth: month
      });
      this.props.onChangeMonth(month);
      var isDesktop = this.props.breakpoints.isDesktop;
      var scrollingElement = Object(_scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_29__["default"])(isDesktop);
      scrollingElement.scrollTo({
        top: 0
      });
    }
  }, {
    key: "renderTransactions",
    value: function renderTransactions() {
      var _this$props = this.props,
          t = _this$props.t,
          transactions = _this$props.transactions,
          filteringDoc = _this$props.filteringDoc,
          showTriggerErrors = _this$props.showTriggerErrors;
      var isFilteringOnAccount = filteringDoc && filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_14__["ACCOUNT_DOCTYPE"];
      var isFetching = Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["isQueryLoading"])(transactions) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["hasQueryBeenLoaded"])(transactions);

      if (isFetching) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_20__["default"], {
          loadingType: "movements"
        });
      }

      if (transactions.data === 0) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_16__["default"], {
          className: "u-pt-0"
        }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
          variant: "body1"
        }, t('Transactions.no-movements')));
      }

      var transactionsBetweenDates = transactions.data.filter(predicateBetweenDates);
      Object(lib_sentry__WEBPACK_IMPORTED_MODULE_13__["logInfo"])('> Transactions ' + transactionsBetweenDates.length // ' - ' +
      // JSON.stringify(transactionsBetweenDates)
      );
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_Transactions__WEBPACK_IMPORTED_MODULE_22__["TransactionList"], {
        showTriggerErrors: showTriggerErrors,
        onChangeTopMostTransaction: this.handleChangeTopmostTransaction,
        transactions: transactions.data,
        canFetchMore: transactions.hasMore,
        filteringOnAccount: isFilteringOnAccount,
        manualLoadMore: Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__["isMobileApp"])(),
        onReachBottom: this.handleFetchMoreBecomeVisible
      });
    }
  }, {
    key: "handleFetchMoreBecomeVisible",
    value: function () {
      var _handleFetchMoreBecomeVisible = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var transactions;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                transactions = this.props.transactions;

                if (!(transactions.hasMore && transactions.fetchStatus === 'loaded' && !this.fetchingMore)) {
                  _context.next = 9;
                  break;
                }

                _context.prev = 2;
                this.fetchingMore = true;
                _context.next = 6;
                return transactions.fetchMore();

              case 6:
                _context.prev = 6;
                this.fetchingMore = false;
                return _context.finish(6);

              case 9:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2,, 6, 9]]);
      }));

      function handleFetchMoreBecomeVisible() {
        return _handleFetchMoreBecomeVisible.apply(this, arguments);
      }

      return handleFetchMoreBecomeVisible;
    }()
  }, {
    key: "handleListRef",
    value: function handleListRef(ref) {
      this.listRef = ref;
    }
  }, {
    key: "handleHeaderRef",
    value: function handleHeaderRef(ref) {
      this.headerRef = ref;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          showHeader = _this$props2.showHeader,
          showFutureBalance = _this$props2.showFutureBalance,
          className = _this$props2.className,
          transactions = _this$props2.transactions,
          isFetchingNewData = _this$props2.isFetchingNewData;
      var theme = 'primary';
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionActionsProvider__WEBPACK_IMPORTED_MODULE_26__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_25__["default"], {
        theme: theme
      }), showHeader ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_TransactionHeader__WEBPACK_IMPORTED_MODULE_24__["default"], {
        ref: this.handleHeaderRef,
        transactions: transactions.data || [],
        handleChangeMonth: this.handleChangeMonth,
        currentMonth: this.state.currentMonth,
        showBackButton: this.props.showBackButton
      }) : null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_HeaderLoadingProgress__WEBPACK_IMPORTED_MODULE_17__["default"], {
        isFetching: isFetchingNewData || !!this.fetchingMore
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        ref: this.handleListRef,
        style: {
          opacity: 0
        },
        className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(ducks_transactions_TransactionsPage_styl__WEBPACK_IMPORTED_MODULE_23___default.a.TransactionPage__transactions, className, _scroll_getScrollingElement__WEBPACK_IMPORTED_MODULE_29__["DESKTOP_SCROLLING_ELEMENT_CLASSNAME"])
      }, cozy_flags__WEBPACK_IMPORTED_MODULE_12___default()('banks.future-balance') && showFutureBalance ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_future_FutureBalanceCard__WEBPACK_IMPORTED_MODULE_21__["default"], null) : null, this.renderTransactions()));
    }
  }]);

  return TransactionsPage;
}(react__WEBPACK_IMPORTED_MODULE_1__["Component"]);

TransactionsPage.defaultProps = {
  showHeader: true,
  showFutureBalance: true
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    filteringDoc: Object(ducks_filters__WEBPACK_IMPORTED_MODULE_15__["getFilteringDoc"])(state)
  };
};

var autoUpdateOptions = {
  add: false,
  remove: true,
  update: true
};

var setAutoUpdate = function setAutoUpdate(conn) {
  return _objectSpread({}, conn, {
    autoUpdate: autoUpdateOptions
  });
};

var addTransactions = function addTransactions(Component) {
  var Wrapped = function Wrapped(props) {
    var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null),
        _useState2 = _slicedToArray(_useState, 2),
        month = _useState2[0],
        setMonth = _useState2[1];

    var initialConn = Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_28__["makeFilteredTransactionsConn"])(props);
    var conn = Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(function () {
      return month ? setAutoUpdate(Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_28__["addMonthToConn"])(initialConn, month)) : setAutoUpdate(initialConn);
    }, [initialConn, month]);
    var transactions = Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["useQuery"])(conn.query, conn);

    if (transactions.data) {
      Object(lib_sentry__WEBPACK_IMPORTED_MODULE_13__["logInfo"])(' > Add transactions (transactions): ' + transactions.data.filter(predicateBetweenDates).length + ' ' + JSON.stringify(transactions.data.filter(predicateBetweenDates)));
    }

    var transactionsLoaded = Object(hooks_useLast__WEBPACK_IMPORTED_MODULE_18__["default"])(transactions, function (last, cur) {
      return !last || cur.lastUpdate;
    });

    if (transactionsLoaded.data) {
      Object(lib_sentry__WEBPACK_IMPORTED_MODULE_13__["logInfo"])(' > Add transactions (transactionsLoaded): ' + transactionsLoaded.data.filter(predicateBetweenDates).length + ' - ' + JSON.stringify(transactionsLoaded.data.filter(predicateBetweenDates)));
    }

    var handleChangeMonth = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (month) {
      setMonth(month);
    }, [setMonth]);
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, _extends({}, props, {
      transactions: transactionsLoaded,
      onChangeMonth: handleChangeMonth,
      isFetchingNewData: transactions !== transactionsLoaded
    }));
  };

  Wrapped.displayName = "withTransactions(".concat(Component.displayName || Component.name, ")");
  return Wrapped;
};

var DumbTransactionsPage = TransactionsPage;
var UnpluggedTransactionsPage = lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default()(react_router__WEBPACK_IMPORTED_MODULE_3__["withRouter"], Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])())(TransactionsPage);
var ConnectedTransactionsPage = lodash_flowRight__WEBPACK_IMPORTED_MODULE_7___default()(react_router__WEBPACK_IMPORTED_MODULE_3__["withRouter"], Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["queryConnect"])({
  accounts: doctypes__WEBPACK_IMPORTED_MODULE_14__["accountsConn"],
  groups: doctypes__WEBPACK_IMPORTED_MODULE_14__["groupsConn"],
  triggers: doctypes__WEBPACK_IMPORTED_MODULE_14__["cronKonnectorTriggersConn"]
}), addTransactions, Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps))(UnpluggedTransactionsPage);
var TransactionsPageWithBackButton = function TransactionsPageWithBackButton(props) {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ConnectedTransactionsPage, _extends({}, props, {
    showBackButton: true
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (ConnectedTransactionsPage);

/***/ }),

/***/ "./src/ducks/transactions/TransactionsPage.styl":
/*!******************************************************!*\
  !*** ./src/ducks/transactions/TransactionsPage.styl ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Header--fixed":"Header--fixed--2Ws28","HeaderColor_normal":"HeaderColor_normal--1Wksl","HeaderColor_inverted":"HeaderColor_inverted--3pqen","Header--paper":"Header--paper--2wlUK","TransactionPage__transactions":"TransactionPage__transactions--37GRS"};

/***/ }),

/***/ "./src/ducks/transactions/TriggerErrorCard.jsx":
/*!*****************************************************!*\
  !*** ./src/ducks/transactions/TriggerErrorCard.jsx ***!
  \*****************************************************/
/*! exports provided: DumbTriggerErrorCard, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbTriggerErrorCard", function() { return DumbTriggerErrorCard; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Infos__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Infos */ "./node_modules/cozy-ui/transpiled/react/Infos/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-harvest-lib */ "./node_modules/cozy-harvest-lib/dist/index.js");
/* harmony import */ var ducks_transactions_TransactionPageErrors_ReconnectTriggerButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/TransactionPageErrors/ReconnectTriggerButton */ "../overrides/cozy-banks/src/ducks/transactions/TransactionPageErrors/ReconnectTriggerButton.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Warning */ "./node_modules/cozy-ui/transpiled/react/Icons/Warning.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
// TODO Move this to Harvest









var TriggerErrorCard = function TriggerErrorCard(_ref) {
  var index = _ref.index,
      count = _ref.count,
      error = _ref.error,
      className = _ref.className;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t,
      lang = _useI18n.lang;

  var bankName = error.bankName,
      trigger = error.trigger;
  var konnError = new cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_4__["KonnectorJobError"](trigger.current_state.last_error); // We do not have a full konnector object here but we can create a simple
  // one, that is sufficient for getErrorLocaleBound, from the information in
  // the trigger

  var konnector = {
    slug: trigger.message.slug,
    name: bankName
  };
  var errorTitle = Object(cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_4__["getErrorLocaleBound"])(konnError, konnector, lang, 'title');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Infos__WEBPACK_IMPORTED_MODULE_2__["default"], {
    theme: "danger",
    className: 'u-bdrs-0 u-maw-none u-p-1-half ' + (className || ''),
    action: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_TransactionPageErrors_ReconnectTriggerButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
      trigger: trigger,
      error: error
    }),
    description: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
      className: "u-error",
      variant: "h5"
    }, errorTitle + (count > 1 ? " (".concat(index + 1, "/").concat(count, ")") : '')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
      variant: "body1"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Warning__WEBPACK_IMPORTED_MODULE_6__["default"],
      className: "u-mr-half"
    }), t('Transactions.trigger-error.description', {
      bankName: bankName
    })))
  });
};

var DumbTriggerErrorCard = TriggerErrorCard;
/* harmony default export */ __webpack_exports__["default"] = (TriggerErrorCard);

/***/ }),

/***/ "./src/ducks/transactions/actions/AppLinkAction.jsx":
/*!**********************************************************!*\
  !*** ./src/ducks/transactions/actions/AppLinkAction.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/omit */ "./node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_findKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/findKey */ "./node_modules/lodash/findKey.js");
/* harmony import */ var lodash_findKey__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_findKey__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_capitalize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/capitalize */ "./node_modules/lodash/capitalize.js");
/* harmony import */ var lodash_capitalize__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_capitalize__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/icons/actions/icon-link-out.svg */ "./src/assets/icons/actions/icon-link-out.svg");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Openwith */ "./node_modules/cozy-ui/transpiled/react/Icons/Openwith.js");













var name = 'app';

var getAppName = function getAppName(urls, transaction) {
  var filteredUrls = lodash_omit__WEBPACK_IMPORTED_MODULE_1___default()(urls, ['COLLECT', 'HOME']);
  var label = transaction.label.toLowerCase();
  return lodash_findKey__WEBPACK_IMPORTED_MODULE_2___default()(filteredUrls, function (url, appName) {
    return url && label.indexOf(appName.toLowerCase()) !== -1;
  });
};

var beautify = function beautify(appName) {
  return appName.toLowerCase() === 'edf' ? 'EDF' : lodash_capitalize__WEBPACK_IMPORTED_MODULE_3___default()(appName);
};

var transactionDialogListItemStyle = {
  color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_8___default.a.dodgerBlue
};

var Component = function Component(_ref) {
  var transaction = _ref.transaction,
      urls = _ref.actionProps.urls,
      isModalItem = _ref.isModalItem;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var appName = getAppName(urls, transaction);
  var label = t("Transactions.actions.".concat(name), {
    appName: beautify(appName)
  });
  var url = urls[appName];
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev && ev.preventDefault();
    open(url);
  }, [url]);

  if (isModalItem) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_9__["default"], {
      button: true,
      divider: true,
      onClick: handleClick,
      style: transactionDialogListItemStyle
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_10__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_12__["default"]
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_11__["default"], null, label));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_5__["default"], {
    size: "small",
    variant: "outlined",
    onClick: function onClick() {
      return open(url);
    }
  }, label, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_5__["default"].Separator, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_12__["default"]
  }));
};

var action = {
  name: name,
  icon: assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_7__["default"],
  match: function match(transaction, _ref2) {
    var urls = _ref2.urls;
    return getAppName(urls, transaction);
  },
  Component: Component
};
/* harmony default export */ __webpack_exports__["default"] = (action);

/***/ }),

/***/ "./src/ducks/transactions/actions/AttachedDocsAction/BillChip.jsx":
/*!************************************************************************!*\
  !*** ./src/ducks/transactions/actions/AttachedDocsAction/BillChip.jsx ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var ducks_transactions_FileOpener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/FileOpener */ "../overrides/cozy-banks/src/ducks/transactions/FileOpener.jsx");
/* harmony import */ var ducks_transactions_actions_AttachedDocsAction_FileIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transactions/actions/AttachedDocsAction/FileIcon */ "./src/ducks/transactions/actions/AttachedDocsAction/FileIcon.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var ducks_demo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/demo */ "./src/ducks/demo/index.js");
/* harmony import */ var ducks_brandDictionary__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/brandDictionary */ "./src/ducks/brandDictionary/index.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/* global __DEVELOPMENT__ */











var getChipLabel = function getChipLabel(t, vendorName) {
  return vendorName ? t('Transactions.actions.attachedDocs.billWithVendor', {
    vendorName: vendorName
  }) : t('Transactions.actions.attachedDocs.billWithoutVendor');
};

var getInvoiceId = function getInvoiceId(bill) {
  if (!bill.invoice) {
    if (true) {
      console.warn('Bill without invoice', bill); // eslint-disable-line no-console
    }

    throw new Error('Bill without invoice');
  }

  var _bill$invoice$split = bill.invoice.split(':'),
      _bill$invoice$split2 = _slicedToArray(_bill$invoice$split, 2),
      doctype = _bill$invoice$split2[0],
      id = _bill$invoice$split2[1];

  if (!doctype || !id) {
    throw new Error('Invoice is malformed. invoice: ' + bill.invoice);
  }

  return [doctype, id];
};

var BillChip = function BillChip(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var bill = props.bill,
      transaction = props.transaction;
  var invoiceId;

  try {
    invoiceId = getInvoiceId(bill)[1];
  } catch (err) {
    // eslint-disable-next-line no-console
    console.warn(err);
    return null;
  }

  var shouldUseAugmentedModal = cozy_flags__WEBPACK_IMPORTED_MODULE_4___default()('demo') && Object(ducks_demo__WEBPACK_IMPORTED_MODULE_8__["isAugmentedModalBill"])(bill);
  var Wrapper = shouldUseAugmentedModal ? ducks_demo__WEBPACK_IMPORTED_MODULE_8__["AugmentedModalOpener"] : ducks_transactions_FileOpener__WEBPACK_IMPORTED_MODULE_5__["default"]; // Bill's vendor can be a slug. We get the brand from our dictionary to be
  // sure that we show the brand name and not a konnector slug

  var _getBrands = Object(ducks_brandDictionary__WEBPACK_IMPORTED_MODULE_9__["getBrands"])(function (brand) {
    return brand.name === bill.vendor || brand.konnectorSlug && brand.konnectorSlug === bill.vendor;
  }),
      _getBrands2 = _slicedToArray(_getBrands, 1),
      brand = _getBrands2[0];

  var vendorName = brand && brand.name;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapper, {
    fileId: invoiceId,
    key: invoiceId,
    transaction: transaction
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_3__["default"], {
    component: "button",
    size: "small",
    variant: "outlined"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_AttachedDocsAction_FileIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    color: bill.isRefund ? 'var(--successColor)' : undefined,
    className: "u-flex-shrink-0"
  }), bill.isRefund ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, vendorName && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "u-success u-mr-half"
  }, vendorName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_7__["default"], {
    total: bill.amount,
    coloredPositive: true,
    signed: true,
    symbol: "\u20AC"
  })) : getChipLabel(t, vendorName)));
};

BillChip.propTypes = {
  bill: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (BillChip);

/***/ }),

/***/ "./src/ducks/transactions/actions/AttachedDocsAction/FileIcon.jsx":
/*!************************************************************************!*\
  !*** ./src/ducks/transactions/actions/AttachedDocsAction/FileIcon.jsx ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_FileOutline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/FileOutline */ "./node_modules/cozy-ui/transpiled/react/Icons/FileOutline.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var FileIcon = function FileIcon(props) {
  var className = props.className,
      rest = _objectWithoutProperties(props, ["className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
    icon: cozy_ui_transpiled_react_Icons_FileOutline__WEBPACK_IMPORTED_MODULE_3__["default"],
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('u-mr-half', className)
  }, rest));
};

/* harmony default export */ __webpack_exports__["default"] = (FileIcon);

/***/ }),

/***/ "./src/ducks/transactions/actions/AttachedDocsAction/index.jsx":
/*!*********************************************************************!*\
  !*** ./src/ducks/transactions/actions/AttachedDocsAction/index.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_transactions_actions_AttachedDocsAction_BillChip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/actions/AttachedDocsAction/BillChip */ "./src/ducks/transactions/actions/AttachedDocsAction/BillChip.jsx");
/* harmony import */ var assets_icons_icon_attachment_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/icons/icon-attachment.svg */ "./src/assets/icons/icon-attachment.svg");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/uniqBy */ "./node_modules/lodash/uniqBy.js");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }











var AttachmentIcon = function AttachmentIcon() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-mt-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
    icon: assets_icons_icon_attachment_svg__WEBPACK_IMPORTED_MODULE_3__["default"]
  }));
};

var AttachedDocsAction = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(AttachedDocsAction, _React$PureComponent);

  function AttachedDocsAction() {
    _classCallCheck(this, AttachedDocsAction);

    return _possibleConstructorReturn(this, _getPrototypeOf(AttachedDocsAction).apply(this, arguments));
  }

  _createClass(AttachedDocsAction, [{
    key: "renderTransactionRow",
    value: function renderTransactionRow() {
      var transaction = this.props.transaction;
      var bills = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default()([].concat(_toConsumableArray(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getBills"])(transaction)), _toConsumableArray(Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getReimbursementsBills"])(transaction))));
      return bills.map(function (bill) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_AttachedDocsAction_BillChip__WEBPACK_IMPORTED_MODULE_2__["default"], {
          transaction: transaction,
          bill: bill,
          key: bill._id
        });
      });
    }
  }, {
    key: "renderModalItem",
    value: function renderModalItem() {
      var transaction = this.props.transaction;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_6__["default"], {
        divider: true,
        alignItems: "flex-start"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_7__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
        icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AttachmentIcon, null)
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__["default"], null, Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["hasBills"])(transaction) && this.renderModalItemBills(), Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["hasReimbursements"])(transaction) && this.renderModalItemReimbursements()));
    }
  }, {
    key: "renderModalItemBills",
    value: function renderModalItemBills() {
      var transaction = this.props.transaction;
      var bills = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getBills"])(transaction);
      return bills.map(function (bill) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_AttachedDocsAction_BillChip__WEBPACK_IMPORTED_MODULE_2__["default"], {
          key: bill._id,
          bill: bill,
          transaction: transaction
        });
      });
    }
  }, {
    key: "renderModalItemReimbursements",
    value: function renderModalItemReimbursements() {
      var transaction = this.props.transaction;
      var bills = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getReimbursementsBills"])(transaction);
      return bills.map(function (bill) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_AttachedDocsAction_BillChip__WEBPACK_IMPORTED_MODULE_2__["default"], {
          key: bill._id,
          bill: bill,
          transaction: transaction
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      var isModalItem = this.props.isModalItem;

      if (isModalItem) {
        return this.renderModalItem();
      } else {
        return this.renderTransactionRow();
      }
    }
  }]);

  return AttachedDocsAction;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

var action = {
  name: 'AttachedDocs',
  match: function match(transaction) {
    return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["hasBills"])(transaction) || Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["hasReimbursements"])(transaction);
  },
  Component: AttachedDocsAction
};
/* harmony default export */ __webpack_exports__["default"] = (action);

/***/ }),

/***/ "./src/ducks/transactions/actions/HealthLinkAction.jsx":
/*!*************************************************************!*\
  !*** ./src/ducks/transactions/actions/HealthLinkAction.jsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/icons/actions/icon-link-out.svg */ "./src/assets/icons/actions/icon-link-out.svg");
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Openwith */ "./node_modules/cozy-ui/transpiled/react/Icons/Openwith.js");











var name = 'refund';
var transactionDialogListItemStyle = {
  color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_9___default.a.dodgerBlue
};

var Component = function Component(_ref) {
  var urls = _ref.actionProps.urls,
      isModalItem = _ref.isModalItem;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var url = "".concat(urls['HEALTH'], "#/remboursements");
  var label = t("Transactions.actions.".concat(name));
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev && ev.preventDefault();
    open(url);
  }, [url]);
  var handleModalClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev && ev.preventDefault();
    open(url, '_blank');
  }, [url]);

  if (isModalItem) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_4__["default"], {
      divider: true,
      button: true,
      onClick: handleModalClick,
      style: transactionDialogListItemStyle
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_10__["default"]
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__["default"], null, label));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_2__["default"], {
    size: "small",
    variant: "outlined",
    onClick: handleClick
  }, label, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_2__["default"].Separator, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_10__["default"]
  }));
};

var action = {
  name: name,
  icon: assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_7__["default"],
  color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_9___default.a.dodgerBlue,
  match: function match(transaction, _ref2) {
    var urls = _ref2.urls;
    return Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_8__["isHealth"])(transaction) && urls && urls['HEALTH'];
  },
  Component: Component
};
/* harmony default export */ __webpack_exports__["default"] = (action);

/***/ }),

/***/ "./src/ducks/transactions/actions/KonnectorAction/ConfigurationModal.jsx":
/*!*******************************************************************************!*\
  !*** ./src/ducks/transactions/actions/KonnectorAction/ConfigurationModal.jsx ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_transactions_actions_KonnectorAction_BrowserConfigurationModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction/BrowserConfigurationModal */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/BrowserConfigurationModal.jsx");
/* harmony import */ var ducks_transactions_actions_KonnectorAction_MobileConfigurationModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction/MobileConfigurationModal */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/MobileConfigurationModal.js");
/* global __TARGET__ */





var ConfigurationModal = function ConfigurationModal(props) {
  if (true) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_KonnectorAction_BrowserConfigurationModal__WEBPACK_IMPORTED_MODULE_2__["default"], props);
  } else {}
};

ConfigurationModal.propTypes = {
  dismissAction: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onComplete: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  slug: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (ConfigurationModal);

/***/ }),

/***/ "./src/ducks/transactions/actions/KonnectorAction/InformativeDialog.jsx":
/*!******************************************************************************!*\
  !*** ./src/ducks/transactions/actions/KonnectorAction/InformativeDialog.jsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var assets_icons_icon_collect_account_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/icons/icon-collect-account.svg */ "./src/assets/icons/icon-collect-account.svg");









var InformativeDialog = function InformativeDialog(_ref) {
  var onCancel = _ref.onCancel,
      onConfirm = _ref.onConfirm,
      title = _ref.title,
      description = _ref.description,
      caption = _ref.caption,
      cancelText = _ref.cancelText,
      confirmText = _ref.confirmText;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_2__["IllustrationDialog"], {
    open: true,
    size: "small",
    onClose: onCancel,
    title: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_5__["default"], {
      spacing: "m",
      className: "u-ta-center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
      icon: assets_icons_icon_collect_account_svg__WEBPACK_IMPORTED_MODULE_7__["default"],
      width: 192,
      height: 112,
      className: "u-m-auto"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
      variant: "h4"
    }, title)),
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
      tag: "p"
    }, description), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
      variant: "caption",
      tag: "p",
      color: "textSecondary"
    }, caption)),
    actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: "u-flex-grow-1",
      onClick: onCancel,
      theme: "secondary",
      label: cancelText
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: "u-flex-grow-1",
      onClick: onConfirm,
      label: confirmText
    }))
  });
};

InformativeDialog.propTypes = {
  onCancel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onConfirm: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  caption: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  cancelText: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  confirmText: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (InformativeDialog);

/***/ }),

/***/ "./src/ducks/transactions/actions/KonnectorAction/helpers.js":
/*!*******************************************************************!*\
  !*** ./src/ducks/transactions/actions/KonnectorAction/helpers.js ***!
  \*******************************************************************/
/*! exports provided: hasUrls */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasUrls", function() { return hasUrls; });
var hasUrls = function hasUrls(urls) {
  return urls && (urls['COLLECT'] || urls['HOME']);
};

/***/ }),

/***/ "./src/ducks/transactions/actions/KonnectorAction/index.jsx":
/*!******************************************************************!*\
  !*** ./src/ducks/transactions/actions/KonnectorAction/index.jsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Plus */ "./node_modules/cozy-ui/transpiled/react/Icons/Plus.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! assets/icons/actions/icon-link-out.svg */ "./src/assets/icons/actions/icon-link-out.svg");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_transactions_actions_KonnectorAction_InformativeDialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction/InformativeDialog */ "./src/ducks/transactions/actions/KonnectorAction/InformativeDialog.jsx");
/* harmony import */ var ducks_transactions_actions_KonnectorAction_ConfigurationModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction/ConfigurationModal */ "./src/ducks/transactions/actions/KonnectorAction/ConfigurationModal.jsx");
/* harmony import */ var ducks_transactions_actions_KonnectorAction_match__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction/match */ "./src/ducks/transactions/actions/KonnectorAction/match.js");
/* harmony import */ var components_KonnectorChip__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/KonnectorChip */ "../overrides/cozy-banks/src/components/KonnectorChip/index.jsx");
/* harmony import */ var ducks_brandDictionary_selectors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/brandDictionary/selectors */ "./src/ducks/brandDictionary/selectors.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



















var name = 'konnector';
var transactionDialogListItemStyle = {
  color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_11___default.a.dodgerBlue
};

var Component = /*#__PURE__*/function (_React$Component) {
  _inherits(Component, _React$Component);

  function Component() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, Component);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Component)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      showInformativeDialog: false,
      showIntentModal: false
    });

    _defineProperty(_assertThisInitialized(_this), "showInformativeDialog", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        showInformativeDialog: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "hideInformativeDialog", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        showInformativeDialog: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showIntentModal", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        showIntentModal: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "hideIntentModal", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        showIntentModal: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onInformativeDialogConfirm", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this.hideInformativeDialog();

              _this.showIntentModal();

            case 2:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    })));

    _defineProperty(_assertThisInitialized(_this), "onIntentComplete", function () {
      _this.props.fetchTriggers();

      _this.hideIntentModal();
    });

    return _this;
  }

  _createClass(Component, [{
    key: "renderModalItem",
    value: function renderModalItem(label) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
        divider: true,
        button: true,
        style: transactionDialogListItemStyle,
        onClick: this.showInformativeDialog
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
        icon: cozy_ui_transpiled_react_Icons_Plus__WEBPACK_IMPORTED_MODULE_6__["default"]
      })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_9__["default"], null, label));
    }
  }, {
    key: "renderTransactionRow",
    value: function renderTransactionRow(label, brand) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_KonnectorChip__WEBPACK_IMPORTED_MODULE_16__["KonnectorChip"], {
        onClick: this.showInformativeDialog,
        konnectorType: brand.health ? 'health' : 'generic'
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          t = _this$props.t,
          isModalItem = _this$props.isModalItem;
      var brand = this.props.brand;
      if (!brand) return;
      var healthOrGeneric = brand.health ? 'health' : 'generic';
      var label = t("Transactions.actions.konnector.".concat(healthOrGeneric));
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, isModalItem ? this.renderModalItem(label) : this.renderTransactionRow(label, brand), this.state.showInformativeDialog && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_actions_KonnectorAction_InformativeDialog__WEBPACK_IMPORTED_MODULE_13__["default"], {
        onCancel: this.hideInformativeDialog,
        onConfirm: this.onInformativeDialogConfirm,
        title: t("Transactions.actions.informativeModal.".concat(healthOrGeneric, ".title")),
        description: t("Transactions.actions.informativeModal.".concat(healthOrGeneric, ".description"), {
          brandName: brand.name
        }),
        caption: t('Transactions.actions.informativeModal.caption'),
        cancelText: t('Transactions.actions.informativeModal.cancel'),
        confirmText: t('Transactions.actions.informativeModal.confirm')
      }), this.state.showIntentModal && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_actions_KonnectorAction_ConfigurationModal__WEBPACK_IMPORTED_MODULE_14__["default"], {
        dismissAction: this.hideIntentModal,
        onComplete: this.onIntentComplete,
        slug: brand.konnectorSlug
      }));
    }
  }]);

  return Component;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

Component.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  transaction: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  actionProps: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  compact: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
  isModalItem: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
  fetchTriggers: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};

var mkFetchTriggers = function mkFetchTriggers(client) {
  return function () {
    return client.query(doctypes__WEBPACK_IMPORTED_MODULE_12__["cronKonnectorTriggersConn"].query(client), {
      as: doctypes__WEBPACK_IMPORTED_MODULE_12__["cronKonnectorTriggersConn"].as
    });
  };
};

var addFetchTriggers = function addFetchTriggers(Component) {
  var res = function res(props, context) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, _extends({}, props, {
      fetchTriggers: mkFetchTriggers(context.client)
    }));
  };

  res.contextTypes = {
    client: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
  };
  res.displayName = "withAddTrigger(".concat(Component.displayName, ")");
  return res;
};

var action = {
  name: name,
  icon: assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_10__["default"],
  match: ducks_transactions_actions_KonnectorAction_match__WEBPACK_IMPORTED_MODULE_15__["default"],
  Component: lodash_flowRight__WEBPACK_IMPORTED_MODULE_3___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])(), addFetchTriggers, Object(react_redux__WEBPACK_IMPORTED_MODULE_18__["connect"])(function (state, _ref2) {
    var actionProps = _ref2.actionProps,
        transaction = _ref2.transaction;
    return {
      brand: Object(ducks_brandDictionary_selectors__WEBPACK_IMPORTED_MODULE_17__["findMatchingBrandWithoutTrigger"])(transaction.label, actionProps.brands)
    };
  }))(Component)
};
/* harmony default export */ __webpack_exports__["default"] = (action);

/***/ }),

/***/ "./src/ducks/transactions/actions/KonnectorAction/match.js":
/*!*****************************************************************!*\
  !*** ./src/ducks/transactions/actions/KonnectorAction/match.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_transactions_actions_KonnectorAction_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction/helpers */ "./src/ducks/transactions/actions/KonnectorAction/helpers.js");
/* harmony import */ var ducks_brandDictionary_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/brandDictionary/selectors */ "./src/ducks/brandDictionary/selectors.js");



var match = function match(transaction, _ref) {
  var brands = _ref.brands,
      urls = _ref.urls;

  if (!Object(ducks_transactions_actions_KonnectorAction_helpers__WEBPACK_IMPORTED_MODULE_0__["hasUrls"])(urls)) {
    return false;
  }

  var brand = Object(ducks_brandDictionary_selectors__WEBPACK_IMPORTED_MODULE_1__["findMatchingBrandWithoutTrigger"])(transaction.label, brands);

  if (!brand || !brand.konnectorSlug) {
    return false;
  }

  return brand;
};

/* harmony default export */ __webpack_exports__["default"] = (match);

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/Card.jsx":
/*!***************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/Card.jsx ***!
  \***************************************************************************/
/*! exports provided: DumbPhoneCard, PhoneCard, DumbWebCard, WebCard, DumbAppCard, AppCard, ContactCard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbPhoneCard", function() { return DumbPhoneCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhoneCard", function() { return PhoneCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbWebCard", function() { return DumbWebCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebCard", function() { return WebCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbAppCard", function() { return DumbAppCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppCard", function() { return AppCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContactCard", function() { return ContactCard; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Card */ "./node_modules/cozy-ui/transpiled/react/Card/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Phone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Phone */ "./node_modules/cozy-ui/transpiled/react/Icons/Phone.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_Card_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/Card.styl */ "./src/ducks/transactions/actions/ReimbursementStatusAction/Card.styl");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_Card_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_actions_ReimbursementStatusAction_Card_styl__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var assets_icons_icon_phone_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! assets/icons/icon-phone.svg */ "./src/assets/icons/icon-phone.svg");
/* harmony import */ var assets_icons_icon_email_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! assets/icons/icon-email.svg */ "./src/assets/icons/icon-email.svg");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









 // TODO use icons from cozy-ui when https://github.com/cozy/cozy-ui/pull/983
// has been merged





var Card = function Card(props) {
  var title = props.title,
      caption = props.caption,
      icon = props.icon,
      className = props.className,
      rest = _objectWithoutProperties(props, ["title", "caption", "icon", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Card__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(ducks_transactions_actions_ReimbursementStatusAction_Card_styl__WEBPACK_IMPORTED_MODULE_7___default.a.Card, className)
  }, rest), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
    icon: icon,
    size: 16,
    color: "var(--coolGrey)"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-ml-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
    variant: "body1"
  }, title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, caption)));
};

Card.propTypes = {
  icon: cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["iconPropType"].isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  caption: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};
var DumbPhoneCard = function DumbPhoneCard(props) {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var contact = props.contact,
      rest = _objectWithoutProperties(props, ["contact"]);

  var href = "tel:".concat(contact.number);
  var caption = contact.price ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, contact.price, t('ReimbursementStatusModal.contact.phoneCallPrice')) : t('ReimbursementStatusModal.contact.phoneCallFree');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Card, _extends({
    href: href,
    title: contact.number,
    caption: caption,
    icon: assets_icons_icon_phone_svg__WEBPACK_IMPORTED_MODULE_9__["default"],
    tag: "a"
  }, rest));
};
var phoneContactShape = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
  price: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  number: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
});
DumbPhoneCard.propTypes = {
  contact: phoneContactShape.isRequired
};
var PhoneCard = DumbPhoneCard;
var DumbWebCard = function DumbWebCard(props) {
  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n2.t;

  var contact = props.contact,
      rest = _objectWithoutProperties(props, ["contact"]);

  var caption = new URL(contact.href).hostname;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Card, _extends({
    href: contact.href,
    title: t("ReimbursementStatusModal.contact.actions.".concat(contact.action)),
    caption: caption,
    icon: assets_icons_icon_email_svg__WEBPACK_IMPORTED_MODULE_10__["default"],
    target: "_blank",
    tag: "a"
  }, rest));
};
var webContactShape = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
  href: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  action: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
});
DumbWebCard.propTypes = {
  contact: webContactShape.isRequired
};
var WebCard = DumbWebCard;
var DumbAppCard = function DumbAppCard(props) {
  var _useI18n3 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n3.t;

  var contact = props.contact,
      rest = _objectWithoutProperties(props, ["contact"]);

  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__["getPlatform"])() !== contact.platform) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Card, _extends({
    href: contact.href,
    title: t('ReimbursementStatusModal.contact.openApp.title'),
    caption: t('ReimbursementStatusModal.contact.openApp.caption'),
    icon: cozy_ui_transpiled_react_Icons_Phone__WEBPACK_IMPORTED_MODULE_5__["default"],
    target: "_blank",
    tag: "a"
  }, rest));
};
var appContactShape = prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
  platform: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['android', 'ios']).isRequired,
  href: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
});
DumbAppCard.propTypes = {
  contact: appContactShape.isRequired
};
var AppCard = DumbAppCard;
var ContactCard = function ContactCard(props) {
  var type = props.type,
      rest = _objectWithoutProperties(props, ["type"]);

  switch (type) {
    case 'phone':
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PhoneCard, rest);

    case 'web':
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WebCard, rest);

    case 'app':
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AppCard, rest);

    default:
      return null;
  }
};
ContactCard.propTypes = {
  type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['phone', 'web', 'app']).isRequired,
  contact: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/Card.styl":
/*!****************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/Card.styl ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Card":"Card--28ExS"};

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/ContactItem.jsx":
/*!**********************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/ContactItem.jsx ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_Card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/Card */ "./src/ducks/transactions/actions/ReimbursementStatusAction/Card.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }







var ContactItem = function ContactItem(props) {
  var brand = props.brand,
      rest = _objectWithoutProperties(props, ["brand"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", rest, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "u-mb-half",
    variant: "h5"
  }, "Contacter ", brand.name), brand.contact.map(function (contact, index) {
    var isLast = index === brand.contact.length - 1;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_ReimbursementStatusAction_Card__WEBPACK_IMPORTED_MODULE_3__["ContactCard"], {
      key: index,
      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()({
        'u-mb-half': !isLast
      }),
      type: contact.type,
      contact: contact
    });
  }));
};

ContactItem.propTypes = {
  brand: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    contact: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object).isRequired
  })
};
/* harmony default export */ __webpack_exports__["default"] = (ContactItem);

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusAction.jsx":
/*!************************************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusAction.jsx ***!
  \************************************************************************************************/
/*! exports provided: DumbReimbursementStatusAction, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbReimbursementStatusAction", function() { return DumbReimbursementStatusAction; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var components_ListItemArrow__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/ListItemArrow */ "./src/components/ListItemArrow.jsx");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal */ "./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var assets_icons_icon_reimbursement_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! assets/icons/icon-reimbursement.svg */ "./src/assets/icons/icon-reimbursement.svg");
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var ducks_reimbursements_selectors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/reimbursements/selectors */ "./src/ducks/reimbursements/selectors.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_Hourglass__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Hourglass */ "./node_modules/cozy-ui/transpiled/react/Icons/Hourglass.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }























var TransactionItem = function TransactionItem(_ref) {
  var transaction = _ref.transaction,
      healthReimbursementLateLimit = _ref.healthReimbursementLateLimit,
      onClick = _ref.onClick;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n.t;

  var status = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_10__["getReimbursementStatus"])(transaction);
  var isLate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_10__["isReimbursementLate"])(transaction, healthReimbursementLateLimit);

  if (status === ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_10__["REIMBURSEMENTS_STATUS"].noReimbursement) {
    return null;
  }

  var translateKey = isLate ? 'late' : status;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_4__["default"], {
    size: "small",
    variant: "outlined",
    theme: isLate ? 'error' : 'normal',
    onClick: onClick,
    className: classnames__WEBPACK_IMPORTED_MODULE_16___default()({
      'u-success': status === 'reimbursed'
    })
  }, t("Transactions.actions.reimbursementStatus.".concat(translateKey)), status === 'pending' && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_4__["default"].Separator, null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Hourglass__WEBPACK_IMPORTED_MODULE_20__["default"],
    size: 12
  })));
};

var ModalItem = function ModalItem(_ref2) {
  var transaction = _ref2.transaction,
      healthReimbursementLateLimit = _ref2.healthReimbursementLateLimit,
      onClick = _ref2.onClick;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n2.t;

  var status = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_10__["getReimbursementStatus"])(transaction);
  var isLate = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_10__["isReimbursementLate"])(transaction, healthReimbursementLateLimit);
  var translateKey = isLate ? 'late' : status;
  var label = t("Transactions.actions.reimbursementStatus.".concat(translateKey));
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
    divider: true,
    button: true,
    disableRipple: true,
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: assets_icons_icon_reimbursement_svg__WEBPACK_IMPORTED_MODULE_14__["default"]
  })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_9__["default"], null, label), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_ListItemArrow__WEBPACK_IMPORTED_MODULE_11__["default"], null));
};

var reimbursementStatusToEventName = {
  pending: 'attente_remboursement',
  reimbursed: 'rembourse',
  'no-reimbursement': 'pas_attente_remboursement '
};
var DumbReimbursementStatusAction = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(DumbReimbursementStatusAction, _React$PureComponent);

  function DumbReimbursementStatusAction() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, DumbReimbursementStatusAction);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DumbReimbursementStatusAction)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      showModal: false
    });

    _defineProperty(_assertThisInitialized(_this), "showModal", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        showModal: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "hideModal", function (ev) {
      ev && ev.preventDefault();

      _this.setState({
        showModal: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleChange", /*#__PURE__*/function () {
      var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(value) {
        var _this$props, transaction, client, t;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this$props = _this.props, transaction = _this$props.transaction, client = _this$props.client, t = _this$props.t;
                transaction.reimbursementStatus = value;

                _this.hideModal();

                _context.prev = 3;
                _context.next = 6;
                return client.save(transaction);

              case 6:
                _context.next = 12;
                break;

              case 8:
                _context.prev = 8;
                _context.t0 = _context["catch"](3);
                Object(lib_sentry__WEBPACK_IMPORTED_MODULE_15__["logException"])(_context.t0);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error(t('Transactions.reimbursementStatusUpdateError'));

              case 12:
                Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_13__["trackEvent"])({
                  name: reimbursementStatusToEventName[value]
                });

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[3, 8]]);
      }));

      return function (_x) {
        return _ref3.apply(this, arguments);
      };
    }());

    return _this;
  }

  _createClass(DumbReimbursementStatusAction, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          isModalItem = _this$props2.isModalItem,
          transaction = _this$props2.transaction,
          healthReimbursementLateLimit = _this$props2.healthReimbursementLateLimit;
      var Item = isModalItem ? ModalItem : TransactionItem;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Item, {
        transaction: transaction,
        healthReimbursementLateLimit: healthReimbursementLateLimit,
        onClick: this.showModal
      }), this.state.showModal && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal__WEBPACK_IMPORTED_MODULE_12__["default"], {
        onClose: this.hideModal,
        transaction: transaction,
        onChange: this.handleChange,
        brands: this.props.actionProps.brands
      }));
    }
  }]);

  return DumbReimbursementStatusAction;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent);
var ReimbursementStatusAction = lodash_flowRight__WEBPACK_IMPORTED_MODULE_17___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_18__["withClient"], Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state) {
  return {
    healthReimbursementLateLimit: Object(ducks_reimbursements_selectors__WEBPACK_IMPORTED_MODULE_19__["getHealthReimbursementLateLimitSelector"])(state)
  };
}))(DumbReimbursementStatusAction);
/* harmony default export */ __webpack_exports__["default"] = (ReimbursementStatusAction);

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.jsx":
/*!***********************************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.jsx ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/List */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var components_List__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! components/List */ "./src/components/List/index.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var assets_icons_icon_reimbursement_detailed_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! assets/icons/icon-reimbursement-detailed.svg */ "./src/assets/icons/icon-reimbursement-detailed.svg");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal_styl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.styl */ "./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.styl");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal_styl__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal_styl__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_ContactItem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/ContactItem */ "./src/ducks/transactions/actions/ReimbursementStatusAction/ContactItem.jsx");
/* harmony import */ var components_RawContentDialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! components/RawContentDialog */ "./src/components/RawContentDialog.jsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





















var ReimbursementStatusModal = function ReimbursementStatusModal(props) {
  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var transaction = props.transaction,
      _onChange = props.onChange,
      brands = props.brands,
      onClose = props.onClose,
      rest = _objectWithoutProperties(props, ["transaction", "onChange", "brands", "onClose"]);

  var choices = ['pending', 'reimbursed', 'no-reimbursement'];
  var status = Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__["getReimbursementStatus"])(transaction);
  var showContacts = cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('reimbursements-contacts') && Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_16__["isHealthExpense"])(transaction);
  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["useTrackPage"])(function (lastTracked) {
    return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["replaceLastPart"])(lastTracked, 'depense-remboursement');
  });

  var handleClose = function handleClose() {
    Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["trackPage"])(function (lastTracked) {
      return Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_12__["replaceLastPart"])(lastTracked, 'depense');
    });
    onClose();
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_RawContentDialog__WEBPACK_IMPORTED_MODULE_18__["default"], _extends({
    size: "small",
    open: true,
    title: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "u-ta-center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: assets_icons_icon_reimbursement_detailed_svg__WEBPACK_IMPORTED_MODULE_13__["default"],
      size: 56,
      color: "var(--slateGrey)"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_10__["default"], {
      variant: "h4"
    }, t('Transactions.actions.reimbursementStatus.modal.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_10__["default"], {
      variant: "caption",
      color: "textSecondary"
    }, Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_15__["getLabel"])(transaction))),
    onClose: handleClose,
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_6__["default"], null, choices.map(function (choice) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
        divider: true,
        button: true,
        disableRipple: true,
        onClick: function onClick() {
          return _onChange(choice);
        },
        key: choice
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_8__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_11__["Radio"], {
        key: choice,
        name: "reimbursementStatus",
        value: choice,
        checked: status === choice,
        onChange: function onChange(ev) {
          return _onChange(ev.target.value);
        },
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('u-mb-0', ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal_styl__WEBPACK_IMPORTED_MODULE_14___default.a.Radio)
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_9__["default"], null, t("Transactions.reimbursementStatus.".concat(choice))));
    }))), showContacts ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusModal_styl__WEBPACK_IMPORTED_MODULE_14___default.a.ReimbursementStatusModal__contact, 'u-pt-2', {
        'u-mt-auto': isMobile
      })
    }, brands.filter(function (brand) {
      return brand.health && brand.hasTrigger && brand.contact;
    }).map(function (brand, index) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transactions_actions_ReimbursementStatusAction_ContactItem__WEBPACK_IMPORTED_MODULE_17__["default"], {
        brand: brand,
        key: brand.name // TODO use stack layout when https://github.com/cozy/cozy-banks/pull/1312 has been merged (see https://github.com/cozy/cozy-banks/pull/1312/commits/2bc1d75a25fe2c61f219579ac56407e356997105 more particularly)
        ,
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({
          'u-mt-1-half': index !== 0
        })
      });
    })) : null)
  }, rest));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(ReimbursementStatusModal));

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.styl":
/*!************************************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusModal.styl ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"Radio":"Radio--1y_BY","ReimbursementStatusModal__contact":"ReimbursementStatusModal__contact--1eF7G"};

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/index.js":
/*!***************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/index.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusAction */ "./src/ducks/transactions/actions/ReimbursementStatusAction/ReimbursementStatusAction.jsx");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction_match__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction/match */ "./src/ducks/transactions/actions/ReimbursementStatusAction/match.js");


var action = {
  name: 'ReimbursementStatus',
  match: ducks_transactions_actions_ReimbursementStatusAction_match__WEBPACK_IMPORTED_MODULE_1__["default"],
  Component: ducks_transactions_actions_ReimbursementStatusAction_ReimbursementStatusAction__WEBPACK_IMPORTED_MODULE_0__["default"]
};
/* harmony default export */ __webpack_exports__["default"] = (action);

/***/ }),

/***/ "./src/ducks/transactions/actions/ReimbursementStatusAction/match.js":
/*!***************************************************************************!*\
  !*** ./src/ducks/transactions/actions/ReimbursementStatusAction/match.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");


var match = function match(transaction) {
  // For the modal row, we need to match independently of the reimbursement status
  // since we have to show a "No reimbursements" line when no reimbursement expected.
  // It is different for the transaction row chip where should only show a reimbursement
  // chip if a reimbursement is expected/reimbursed. At the moment, matching is done for
  // both purposes (transaction modal and transaction list), it might make sense to decouple
  // the "transaction list matching" from the "modal row matching".
  return Object(ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_0__["isExpense"])(transaction);
};

/* harmony default export */ __webpack_exports__["default"] = (match);

/***/ }),

/***/ "./src/ducks/transactions/actions/UrlLinkAction.jsx":
/*!**********************************************************!*\
  !*** ./src/ducks/transactions/actions/UrlLinkAction.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/icons/actions/icon-link-out.svg */ "./src/assets/icons/actions/icon-link-out.svg");
/* harmony import */ var cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Chip */ "./node_modules/cozy-ui/transpiled/react/Chip/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItem */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItem/index.js");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon */ "./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/ListItemIcon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/ListItemText */ "./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/palette */ "./node_modules/cozy-ui/transpiled/react/palette.js");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/Openwith */ "./node_modules/cozy-ui/transpiled/react/Icons/Openwith.js");









var name = 'url';
var transactionDialogListItemStyle = {
  color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_7___default.a.dodgerBlue
};

var Component = function Component(_ref) {
  var transaction = _ref.transaction,
      isModalItem = _ref.isModalItem;
  var action = transaction.action;
  var handleClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (ev) {
    ev && ev.preventDefault();
    open(action.url, action.target);
  }, [action.target, action.url]);

  if (isModalItem) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItem__WEBPACK_IMPORTED_MODULE_4__["default"], {
      divider: true,
      button: true,
      onClick: handleClick,
      style: transactionDialogListItemStyle
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_ListItemIcon__WEBPACK_IMPORTED_MODULE_5__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_8__["default"]
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_6__["default"], null, action.trad));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_2__["default"], {
    size: "small",
    variant: "outlined",
    onClick: handleClick
  }, action.trad, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Chip__WEBPACK_IMPORTED_MODULE_2__["default"].Separator, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: cozy_ui_transpiled_react_Icons_Openwith__WEBPACK_IMPORTED_MODULE_8__["default"]
  }));
};

var action = {
  name: name,
  icon: assets_icons_actions_icon_link_out_svg__WEBPACK_IMPORTED_MODULE_1__["default"],
  match: function match(transaction) {
    return transaction.action && transaction.action.type && transaction.action.type === name;
  },
  Component: Component
};
/* harmony default export */ __webpack_exports__["default"] = (action);

/***/ }),

/***/ "./src/ducks/transactions/actions/index.js":
/*!*************************************************!*\
  !*** ./src/ducks/transactions/actions/index.js ***!
  \*************************************************/
/*! exports provided: findMatchingActions, getActionFromName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findMatchingActions", function() { return findMatchingActions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActionFromName", function() { return getActionFromName; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/filter */ "./node_modules/lodash/filter.js");
/* harmony import */ var lodash_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ducks_transactions_actions_KonnectorAction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ducks/transactions/actions/KonnectorAction */ "../overrides/cozy-banks/src/ducks/transactions/actions/KonnectorAction/index.jsx");
/* harmony import */ var ducks_transactions_actions_HealthLinkAction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/actions/HealthLinkAction */ "./src/ducks/transactions/actions/HealthLinkAction.jsx");
/* harmony import */ var ducks_transactions_actions_AppLinkAction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/actions/AppLinkAction */ "./src/ducks/transactions/actions/AppLinkAction.jsx");
/* harmony import */ var ducks_transactions_actions_UrlLinkAction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transactions/actions/UrlLinkAction */ "./src/ducks/transactions/actions/UrlLinkAction.jsx");
/* harmony import */ var ducks_transactions_actions_ReimbursementStatusAction__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transactions/actions/ReimbursementStatusAction */ "./src/ducks/transactions/actions/ReimbursementStatusAction/index.js");
/* harmony import */ var ducks_transactions_actions_AttachedDocsAction__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/transactions/actions/AttachedDocsAction */ "./src/ducks/transactions/actions/AttachedDocsAction/index.jsx");


function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}









var actions = [['AttachedDocsAction', ducks_transactions_actions_AttachedDocsAction__WEBPACK_IMPORTED_MODULE_8__["default"]], ['HealthLinkAction', ducks_transactions_actions_HealthLinkAction__WEBPACK_IMPORTED_MODULE_4__["default"]], ['AppLinkAction', ducks_transactions_actions_AppLinkAction__WEBPACK_IMPORTED_MODULE_5__["default"]], ['KonnectorAction', ducks_transactions_actions_KonnectorAction__WEBPACK_IMPORTED_MODULE_3__["default"]], ['UrlLinkAction', ducks_transactions_actions_UrlLinkAction__WEBPACK_IMPORTED_MODULE_6__["default"]], ['ReimbursementStatusAction', ducks_transactions_actions_ReimbursementStatusAction__WEBPACK_IMPORTED_MODULE_7__["default"]]];
var findMatchingActions = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(transaction, actionProps) {
    var matchingActions, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _step$value, actionName, action, matching, defaultAction, othersAction;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            matchingActions = [];
            _iteratorNormalCompletion = true;
            _didIteratorError = false;
            _iteratorError = undefined;
            _context.prev = 4;
            _iterator = actions[Symbol.iterator]();

          case 6:
            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
              _context.next = 21;
              break;
            }

            _step$value = _slicedToArray(_step.value, 2), actionName = _step$value[0], action = _step$value[1];
            _context.prev = 8;
            _context.next = 11;
            return action.match(transaction, actionProps);

          case 11:
            matching = _context.sent;

            if (matching) {
              matchingActions.push(action);
            }

            _context.next = 18;
            break;

          case 15:
            _context.prev = 15;
            _context.t0 = _context["catch"](8);

            if (true) {
              console.log('action matching failed', actionName); // eslint-disable-line no-console

              console.warn(_context.t0); // eslint-disable-line no-console
            }

          case 18:
            _iteratorNormalCompletion = true;
            _context.next = 6;
            break;

          case 21:
            _context.next = 27;
            break;

          case 23:
            _context.prev = 23;
            _context.t1 = _context["catch"](4);
            _didIteratorError = true;
            _iteratorError = _context.t1;

          case 27:
            _context.prev = 27;
            _context.prev = 28;

            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }

          case 30:
            _context.prev = 30;

            if (!_didIteratorError) {
              _context.next = 33;
              break;
            }

            throw _iteratorError;

          case 33:
            return _context.finish(30);

          case 34:
            return _context.finish(27);

          case 35:
            defaultAction = lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(matchingActions, function (action) {
              return action.defaultAction !== false && action.disabled !== true;
            });
            othersAction = lodash_filter__WEBPACK_IMPORTED_MODULE_1___default()(matchingActions, function (action) {
              return action !== defaultAction;
            });
            return _context.abrupt("return", {
              default: defaultAction,
              others: othersAction
            });

          case 38:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[4, 23, 27, 35], [8, 15], [28,, 30, 34]]);
  }));

  return function findMatchingActions(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();
var getActionFromName = function getActionFromName(name) {
  return lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(actions, function (action) {
    return action.name === name;
  });
};

/***/ }),

/***/ "./src/ducks/transactions/constants.js":
/*!*********************************************!*\
  !*** ./src/ducks/transactions/constants.js ***!
  \*********************************************/
/*! exports provided: APPLICATION_DATE */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APPLICATION_DATE", function() { return APPLICATION_DATE; });
var APPLICATION_DATE = 'applicationDate';

/***/ }),

/***/ "./src/ducks/transactions/getCategoryId.js":
/*!*************************************************!*\
  !*** ./src/ducks/transactions/getCategoryId.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-doctypes */ "./node_modules/cozy-doctypes/dist/index.js");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_1__);
/**
 * This helper is kept out of transactions/helpers to avoid a circular dependency
 * between ducks/transactions/helpers and ducks/categories/helpers
 */


/**
 * Return the category id of the transaction
 *
 * @param {Object} transaction
 * @return {String|null} A category id or null if the transaction has not been categorized yet
 */

var getCategoryId = function getCategoryId(transaction) {
  var localModelOverride = cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('local-model-override');
  return cozy_doctypes__WEBPACK_IMPORTED_MODULE_1__["BankTransaction"].getCategoryId(transaction, {
    localModelOverride: localModelOverride
  });
};

/* harmony default export */ __webpack_exports__["default"] = (getCategoryId);

/***/ }),

/***/ "./src/ducks/transactions/header/TableHead.jsx":
/*!*****************************************************!*\
  !*** ./src/ducks/transactions/header/TableHead.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_Table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Table */ "./src/components/Table/index.jsx");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/Transactions.styl */ "./src/ducks/transactions/Transactions.styl");
/* harmony import */ var ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5__);







var TableHead = function TableHead(_ref) {
  var isSubcategory = _ref.isSubcategory;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_2__["default"])(),
      isDesktop = _useBreakpoints.isDesktop;

  if (!isDesktop) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Table__WEBPACK_IMPORTED_MODULE_4__["Table"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ColumnSizeCheckbox, 'u-pl-0')
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ColumnSizeDesc
  }, isSubcategory ? t('Categories.headers.movements') : t('Transactions.header.description')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ColumnSizeDate
  }, t('Transactions.header.date')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ColumnSizeAmount
  }, t('Transactions.header.amount')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
    className: ducks_transactions_Transactions_styl__WEBPACK_IMPORTED_MODULE_5___default.a.ColumnSizeAction
  }, t('Transactions.header.action')))));
};

TableHead.defaultProps = {
  isSubcategory: false
};
/* harmony default export */ __webpack_exports__["default"] = (TableHead);

/***/ }),

/***/ "./src/ducks/transactions/helpers.js":
/*!*******************************************!*\
  !*** ./src/ducks/transactions/helpers.js ***!
  \*******************************************/
/*! exports provided: getCategoryId, getLabel, getAccountType, getDisplayDate, getDate, findNearestMonth, isExpense, getReimbursements, getReimbursementsBills, hasReimbursements, REIMBURSEMENTS_STATUS, getBills, hasBills, getReimbursedAmount, isFullyReimbursed, isNew, getHealthExpenseReimbursementStatus, getReimbursementStatus, isReimbursementLate, hasPendingReimbursement, isAlreadyNotified, setTransactionCategory, updateTransactionRecurrence, getApplicationDate, updateApplicationDate, computeTransactionsByDateAndApplicationDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLabel", function() { return getLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountType", function() { return getAccountType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayDate", function() { return getDisplayDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDate", function() { return getDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findNearestMonth", function() { return findNearestMonth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isExpense", function() { return isExpense; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReimbursements", function() { return getReimbursements; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReimbursementsBills", function() { return getReimbursementsBills; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasReimbursements", function() { return hasReimbursements; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REIMBURSEMENTS_STATUS", function() { return REIMBURSEMENTS_STATUS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBills", function() { return getBills; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasBills", function() { return hasBills; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReimbursedAmount", function() { return getReimbursedAmount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFullyReimbursed", function() { return isFullyReimbursed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNew", function() { return isNew; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHealthExpenseReimbursementStatus", function() { return getHealthExpenseReimbursementStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReimbursementStatus", function() { return getReimbursementStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReimbursementLate", function() { return isReimbursementLate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasPendingReimbursement", function() { return hasPendingReimbursement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAlreadyNotified", function() { return isAlreadyNotified; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setTransactionCategory", function() { return setTransactionCategory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateTransactionRecurrence", function() { return updateTransactionRecurrence; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getApplicationDate", function() { return getApplicationDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateApplicationDate", function() { return updateApplicationDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "computeTransactionsByDateAndApplicationDate", function() { return computeTransactionsByDateAndApplicationDate; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_findLast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/findLast */ "./node_modules/lodash/findLast.js");
/* harmony import */ var lodash_findLast__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_findLast__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/sumBy */ "./node_modules/lodash/sumBy.js");
/* harmony import */ var lodash_sumBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_sumBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/categories/helpers */ "./src/ducks/categories/helpers.js");
/* harmony import */ var ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/recurrence/api */ "./src/ducks/recurrence/api.js");
/* harmony import */ var ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/recurrence/constants */ "./src/ducks/recurrence/constants.js");
/* harmony import */ var _getCategoryId__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./getCategoryId */ "./src/ducks/transactions/getCategoryId.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getCategoryId", function() { return _getCategoryId__WEBPACK_IMPORTED_MODULE_10__["default"]; });



function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}











var prevRecurRx = /\bPRLV SEPA RECU RCUR\b/;
var longNumber = /\b\d{5,}\b/g;
var notWord = /\b[A-Z]*\d+[A-Z]*\b/g;
var tooLong = /\b[A-Z\d]{15,}\b/g;
var punctuations = /[-:++]/g;
var spaces = /\s+/g;
var cleanLabel = cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('transactions.clean-label') ? function (label) {
  return label.replace(prevRecurRx, ' ').replace(longNumber, ' ').replace(notWord, '').replace(punctuations, '').replace(tooLong, '').replace(spaces, ' ').trim();
} : function (x) {
  return x;
};
var titleRx = /(?:^|\s)\S/g;

var titleCase = function titleCase(label) {
  return label.toLowerCase().replace(titleRx, function (a) {
    return a.toUpperCase();
  });
};

var getLabel = function getLabel(transaction) {
  return cleanLabel(titleCase(transaction.label));
};
var getAccountType = function getAccountType(transaction) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(transaction, 'account.data.type');
};
var getDisplayDate = function getDisplayDate(transaction) {
  if (getAccountType(transaction) === 'CreditCard' && transaction.realisationDate) {
    return transaction.realisationDate;
  }

  return transaction.date;
};
var getDate = function getDate(transaction) {
  var date = getDisplayDate(transaction);

  if (!date) {
    throw new Error("Cannot get date on transaction ".concat(transaction.label));
  }

  return date.slice(0, 10);
};
/**
 * Performs successive `find`s until one of the find functions returns
 * a result
 */

var multiFind = function multiFind(arr, findFns) {
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = findFns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var findFn = _step.value;
      var res = findFn(arr);

      if (res) {
        return res;
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return null;
};
/**
 * Returns the first month having operations, closest to the given month.
 *
 * To know if we have to search in the past or the in the future, we check
 * if the chosen month is before or after the current month.
 */


var findNearestMonth = function findNearestMonth(chosenMonth, currentMonth, availableMonths) {
  var findBeforeChosenMonth = function findBeforeChosenMonth(months) {
    return lodash_findLast__WEBPACK_IMPORTED_MODULE_2___default()(months, function (x) {
      return x < chosenMonth;
    });
  };

  var findAfterChosenMonth = function findAfterChosenMonth(months) {
    return lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(months, function (x) {
      return x > chosenMonth;
    });
  };

  var findFns = chosenMonth < currentMonth ? [findBeforeChosenMonth, findAfterChosenMonth] : [findAfterChosenMonth, findBeforeChosenMonth];
  return multiFind(availableMonths, findFns);
};
var isExpense = function isExpense(transaction) {
  return transaction.amount < 0;
};
var getReimbursements = function getReimbursements(transaction) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(transaction, 'reimbursements.data');
};
var getReimbursementsBills = function getReimbursementsBills(transaction) {
  var reimbursements = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(transaction, 'reimbursements.data', []);
  var bills = reimbursements.map(function (r) {
    return r.bill;
  }).filter(Boolean);
  return bills;
};
var hasReimbursements = function hasReimbursements(transaction) {
  var reimbursements = getReimbursements(transaction);

  if (!reimbursements) {
    return false;
  }

  return reimbursements.length > 0;
};
var REIMBURSEMENTS_STATUS = {
  noReimbursement: 'no-reimbursement',
  pending: 'pending',
  reimbursed: 'reimbursed',
  late: 'late'
};
var getBills = function getBills(transaction) {
  var allBills = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(transaction, 'bills.data', []);
  return allBills.filter(Boolean);
};
var hasBills = function hasBills(transaction) {
  var bills = getBills(transaction);
  return bills.length > 0;
};
var getReimbursedAmount = function getReimbursedAmount(expense) {
  if (!isExpense(expense)) {
    throw new Error("Can't get the reimbursed amount of a debit transaction");
  }

  if (!hasReimbursements(expense)) {
    return 0;
  }

  var reimbursements = getReimbursements(expense);
  var reimbursedAmount = lodash_sumBy__WEBPACK_IMPORTED_MODULE_4___default()(reimbursements, function (r) {
    return r.amount;
  });
  return reimbursedAmount;
};
var isFullyReimbursed = function isFullyReimbursed(expense) {
  var reimbursedAmount = getReimbursedAmount(expense);
  return reimbursedAmount === -expense.amount;
};
/*
 * A transaction is considered as new if its revision is lesser than or equals
 * to 2. This is because when a transaction is imported by a banking konnector
 * it is saved, then categorized and re-saved (by the konnector or by the
 * categorization service). It means that when a new transaction is handled by
 * the onOperationOrBillCreate service, its revision is already `2`. So if we
 * only consider transactions with revision `1`, we will miss the vast majority
 * of them. For all other cases, please see `utils/isCreatedDoc`
 */

var isNew = function isNew(transaction) {
  return parseInt(transaction._rev.split('-').shift(), 10) <= 2;
};
var getHealthExpenseReimbursementStatus = function getHealthExpenseReimbursementStatus(transaction) {
  if (transaction.reimbursementStatus) {
    return transaction.reimbursementStatus;
  }

  return hasReimbursements(transaction) ? REIMBURSEMENTS_STATUS.reimbursed : REIMBURSEMENTS_STATUS.pending;
};

var getProfessionalExpenseReimbursementStatus = function getProfessionalExpenseReimbursementStatus(transaction) {
  return transaction.reimbursementStatus || 'pending';
};

var getReimbursementStatus = function getReimbursementStatus(transaction) {
  if (Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_7__["isHealthExpense"])(transaction)) {
    return getHealthExpenseReimbursementStatus(transaction);
  }

  if (Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_7__["isProfessionalExpense"])(transaction)) {
    return getProfessionalExpenseReimbursementStatus(transaction);
  }

  return transaction.reimbursementStatus || 'no-reimbursement';
};
var isReimbursementLate = function isReimbursementLate(transaction, lateLimitInDays) {
  if (!Object(ducks_categories_helpers__WEBPACK_IMPORTED_MODULE_7__["isHealthExpense"])(transaction)) {
    return false;
  }

  var status = getReimbursementStatus(transaction);

  if (status !== REIMBURSEMENTS_STATUS.pending) {
    return false;
  }

  var transactionDate = Object(date_fns__WEBPACK_IMPORTED_MODULE_6__["parse"])(getDate(transaction));
  var today = new Date();
  return Object(date_fns__WEBPACK_IMPORTED_MODULE_6__["differenceInDays"])(today, transactionDate) > lateLimitInDays;
};
var hasPendingReimbursement = function hasPendingReimbursement(transaction) {
  return getReimbursementStatus(transaction) === REIMBURSEMENTS_STATUS.pending;
};
var isAlreadyNotified = function isAlreadyNotified(transaction, notificationClass) {
  return Boolean(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(transaction, "cozyMetadata.notifications.".concat(notificationClass.settingKey)));
};
var setTransactionCategory = function setTransactionCategory(transaction, category) {
  var newTransaction = _objectSpread({}, transaction, {
    manualCategoryId: category.id
  });

  return newTransaction;
};
var updateTransactionRecurrence = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, transaction, recurrence) {
    var oldRecurrence, recurrenceRelationshipData, _yield$client$save, data;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            oldRecurrence = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(transaction, 'relationships.recurrence.data');
            recurrenceRelationshipData = {
              _id: recurrence._id,
              _type: recurrence._type
            };
            transaction.recurrence.set(recurrenceRelationshipData);
            _context.next = 5;
            return client.save(transaction);

          case 5:
            _yield$client$save = _context.sent;
            data = _yield$client$save.data;

            if (!(oldRecurrence && oldRecurrence._id !== ducks_recurrence_constants__WEBPACK_IMPORTED_MODULE_9__["NOT_RECURRENT_ID"])) {
              _context.next = 10;
              break;
            }

            _context.next = 10;
            return Object(ducks_recurrence_api__WEBPACK_IMPORTED_MODULE_8__["destroyRecurrenceIfEmpty"])(client, oldRecurrence);

          case 10:
            return _context.abrupt("return", data);

          case 11:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function updateTransactionRecurrence(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();

var isSameMonth = function isSameMonth(dateStr, otherDateStr) {
  return dateStr && otherDateStr && dateStr.slice(0, 7) == otherDateStr.slice(0, 7);
};

var getApplicationDate = function getApplicationDate(transaction) {
  if (isSameMonth(transaction.applicationDate, transaction.date)) {
    return null;
  }

  return transaction.applicationDate;
};
var updateApplicationDate = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, transaction, applicationDate) {
    var date, _yield$client$save2, data;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            date = getDisplayDate(transaction);

            if (isSameMonth(date, applicationDate)) {
              applicationDate = ''; // reset the application date
            }

            _context2.next = 4;
            return client.save(_objectSpread({}, transaction, {
              applicationDate: applicationDate
            }));

          case 4:
            _yield$client$save2 = _context2.sent;
            data = _yield$client$save2.data;
            return _context2.abrupt("return", data);

          case 7:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function updateApplicationDate(_x4, _x5, _x6) {
    return _ref2.apply(this, arguments);
  };
}();
/**
 * Merge data of transactions fetched by date and transactions fetched by applicationDate
 * @param {array} param.transactionsByDate - Data of transactions fetched by date
 * @param {array} param.transactionsByApplicationDate - Data of transactions fetched by applicationDate
 * @returns
 */

var computeTransactionsByDateAndApplicationDate = function computeTransactionsByDateAndApplicationDate(_ref3) {
  var transactionsByDate = _ref3.transactionsByDate,
      transactionsByApplicationDate = _ref3.transactionsByApplicationDate; // these are query result data. Could be null if the fetch is not finished

  if (!transactionsByDate || !transactionsByApplicationDate) return [];
  var newTransactionsByDate = transactionsByDate.filter(function (transaction) {
    return !transaction.applicationDate;
  });
  return [].concat(_toConsumableArray(newTransactionsByDate), _toConsumableArray(transactionsByApplicationDate));
};

/***/ }),

/***/ "./src/ducks/transactions/index.js":
/*!*****************************************!*\
  !*** ./src/ducks/transactions/index.js ***!
  \*****************************************/
/*! exports provided: getLabel, TransactionsPage, TransactionsPageWithBackButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_transactions_TransactionsPage_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/transactions/TransactionsPage.jsx */ "../overrides/cozy-banks/src/ducks/transactions/TransactionsPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TransactionsPage", function() { return ducks_transactions_TransactionsPage_jsx__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TransactionsPageWithBackButton", function() { return ducks_transactions_TransactionsPage_jsx__WEBPACK_IMPORTED_MODULE_0__["TransactionsPageWithBackButton"]; });

/* harmony import */ var ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/helpers */ "./src/ducks/transactions/helpers.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getLabel", function() { return ducks_transactions_helpers__WEBPACK_IMPORTED_MODULE_1__["getLabel"]; });


 // components



/***/ }),

/***/ "./src/ducks/transactions/queries.js":
/*!*******************************************!*\
  !*** ./src/ducks/transactions/queries.js ***!
  \*******************************************/
/*! exports provided: makeAccounts, makeFilteredTransactionsConn, makeEarliestLatestQueries, addMonthToConn, addPeriodToConn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeAccounts", function() { return makeAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeFilteredTransactionsConn", function() { return makeFilteredTransactionsConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeEarliestLatestQueries", function() { return makeEarliestLatestQueries; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addMonthToConn", function() { return addMonthToConn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addPeriodToConn", function() { return addPeriodToConn; });
/* harmony import */ var date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! date-fns/start_of_month */ "./node_modules/date-fns/start_of_month/index.js");
/* harmony import */ var date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var date_fns_end_of_month__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns/end_of_month */ "./node_modules/date-fns/end_of_month/index.js");
/* harmony import */ var date_fns_end_of_month__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(date_fns_end_of_month__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var date_fns_start_of_year__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! date-fns/start_of_year */ "./node_modules/date-fns/start_of_year/index.js");
/* harmony import */ var date_fns_start_of_year__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(date_fns_start_of_year__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var date_fns_end_of_year__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns/end_of_year */ "./node_modules/date-fns/end_of_year/index.js");
/* harmony import */ var date_fns_end_of_year__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(date_fns_end_of_year__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! date-fns/format */ "./node_modules/date-fns/format/index.js");
/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(date_fns_format__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/transactions/constants */ "./src/ducks/transactions/constants.js");
function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}











var makeAccounts = function makeAccounts(filteringDoc, groups) {
  var accounts;

  if (filteringDoc.virtual) {
    var _filteringDoc$account;

    accounts = ((_filteringDoc$account = filteringDoc.accounts) === null || _filteringDoc$account === void 0 ? void 0 : _filteringDoc$account.raw) || [];
  } else {
    var _group$accounts;

    var group = groups.data.find(function (g) {
      return g._id === filteringDoc._id;
    });
    accounts = (group === null || group === void 0 ? void 0 : (_group$accounts = group.accounts) === null || _group$accounts === void 0 ? void 0 : _group$accounts.raw) || [];
  }

  return accounts;
};
/**
 * Outputs a connection to fetch transactions
 * based on the current filtering doc
 *
 * @param  {FilterTransactionsConnOptions} options - Options
 * @return {Connection}
 */

var makeFilteredTransactionsConn = function makeFilteredTransactionsConn(options) {
  var filteringDoc = options.filteringDoc,
      groups = options.groups,
      accounts = options.accounts,
      _options$dateAttribut = options.dateAttribute,
      dateAttribute = _options$dateAttribut === void 0 ? 'date' : _options$dateAttribut;
  var enabled = true;

  if (!groups.lastUpdate || !accounts.lastUpdate) {
    enabled = false;
  }

  var indexFields = ['account', dateAttribute];
  var whereClause;
  var sortByClause = [{
    account: 'desc'
  }, _defineProperty({}, dateAttribute, 'desc')];

  if (enabled) {
    if (filteringDoc) {
      if (filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_8__["GROUP_DOCTYPE"]) {
        // The query issued does not use the index "by_account_and_date"
        // because of the $or. It is therefore much slower than queries
        // with only the account. We haven't found a satisfactory solution
        // yet.
        var _accounts = makeAccounts(filteringDoc, groups);

        indexFields = [dateAttribute, 'account'];
        whereClause = {
          account: {
            $in: _accounts
          }
        };
        sortByClause = [_defineProperty({}, dateAttribute, 'desc'), {
          account: 'desc'
        }];
      } else if (filteringDoc._type === doctypes__WEBPACK_IMPORTED_MODULE_8__["ACCOUNT_DOCTYPE"]) {
        whereClause = {
          account: filteringDoc._id
        };
      } else if (Array.isArray(filteringDoc)) {
        whereClause = {
          account: {
            $in: filteringDoc
          }
        };
      } else {
        throw new Error('Unsupported filtering doc to create transaction query');
      }
    } else {
      indexFields = [dateAttribute];
      whereClause = {
        _id: {
          $gt: null
        }
      };
      sortByClause = [_defineProperty({}, dateAttribute, 'desc')];
    }
  }

  Object(lib_sentry__WEBPACK_IMPORTED_MODULE_6__["logInfo"])(' > Queries : ' + JSON.stringify({
    date: new Date().toTimeString(),
    indexFields: indexFields,
    whereClause: whereClause,
    sortByClause: sortByClause,
    as: "transactions-by-".concat(dateAttribute, "-").concat(filteringDoc ? filteringDoc._id : 'all')
  }));
  return {
    query: function query() {
      return doctypes__WEBPACK_IMPORTED_MODULE_8__["transactionsConn"].query().where(whereClause).indexFields(indexFields).sortBy(sortByClause).limitBy(100);
    },
    fetchPolicy: doctypes__WEBPACK_IMPORTED_MODULE_8__["transactionsConn"].fetchPolicy,
    as: "transactions-by-".concat(dateAttribute, "-").concat(filteringDoc ? filteringDoc._id : 'all'),
    enabled: enabled
  };
};
/**
 * Makes queries to load earliest and latest transactions from
 * a base query.
 * The base query can contain a selector on the account for example
 * and it will be kept in the returned queries.
 * The date selector on the base query will be reset though so that
 * the queries return the earliest / latest transactions.
 *
 * @param  {QueryDefinition} baseQuery - The base query for transactions
 * @return {[QueryDefinition, QueryDefinition]} - Earliest and latest queries
 */

var makeEarliestLatestQueries = function makeEarliestLatestQueries(baseQuery) {
  var latestQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["Q"])('io.cozy.bank.operations').limitBy(1).where(_objectSpread({}, baseQuery.selector, {
    date: {
      $gt: null
    }
  })) // must reset the date
  .indexFields(['date']).sortBy([{
    date: 'desc'
  }]);
  var earliestQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["Q"])('io.cozy.bank.operations').limitBy(1).where(_objectSpread({}, baseQuery.selector, {
    date: {
      $gt: null
    }
  })) // must reset the date
  .indexFields(['date']).sortBy([{
    date: 'asc'
  }]);
  return [earliestQuery, latestQuery];
};
/**
 * Add a month selector to a connection, month is only a upper limit
 * to allow for infinite scrolling through fetchMore
 */

var addMonthToConn = function addMonthToConn(baseConn, month) {
  var baseQuery = baseConn.query,
      baseAs = baseConn.as,
      rest = _objectWithoutProperties(baseConn, ["query", "as"]);

  var thresholdDate = date_fns_end_of_month__WEBPACK_IMPORTED_MODULE_1___default()(new Date(month)).toISOString();
  var q = baseQuery();
  var query = q.where(_objectSpread({
    date: {
      $lt: thresholdDate
    }
  }, q.selector));
  var as = "".concat(baseAs, "-").concat(month);
  return _objectSpread({
    query: query,
    as: as
  }, rest);
};
/**
 * Makes a new conn, adding a date filter on the query selector
 * so that only transactions for a given month are fetched.
 */

var addPeriodToConn = function addPeriodToConn(_ref4) {
  var baseConn = _ref4.baseConn,
      period = _ref4.period,
      _ref4$dateAttribute = _ref4.dateAttribute,
      dateAttribute = _ref4$dateAttribute === void 0 ? 'date' : _ref4$dateAttribute;

  var mkBaseQuery = baseConn.query,
      baseAs = baseConn.as,
      rest = _objectWithoutProperties(baseConn, ["query", "as"]);

  var d = new Date(period);
  var startDate = period.length === 7 ? date_fns_start_of_month__WEBPACK_IMPORTED_MODULE_0___default()(d) : date_fns_start_of_year__WEBPACK_IMPORTED_MODULE_2___default()(d);
  var endDate = period.length === 7 ? date_fns_end_of_month__WEBPACK_IMPORTED_MODULE_1___default()(d) : date_fns_end_of_year__WEBPACK_IMPORTED_MODULE_3___default()(d);
  var dateFormat = dateAttribute === ducks_transactions_constants__WEBPACK_IMPORTED_MODULE_9__["APPLICATION_DATE"] ? 'YYYY-MM-DD' : 'YYYY-MM-DD[T]HH:mm';
  var baseQuery = mkBaseQuery();
  var query = Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["Q"])(baseQuery.doctype).where(lodash_merge__WEBPACK_IMPORTED_MODULE_5___default()(_defineProperty({}, dateAttribute, {
    $lte: date_fns_format__WEBPACK_IMPORTED_MODULE_4___default()(endDate, dateFormat),
    $gte: date_fns_format__WEBPACK_IMPORTED_MODULE_4___default()(startDate, dateFormat)
  }), baseQuery.selector)).indexFields(baseQuery.indexedFields || ['account', dateAttribute]).sortBy(baseQuery.sort || [{
    account: 'desc'
  }, _defineProperty({}, dateAttribute, 'desc')]).limitBy(500);
  var as = "".concat(baseAs, "-by-").concat(dateAttribute, "-").concat(date_fns_format__WEBPACK_IMPORTED_MODULE_4___default()(startDate, 'YYYY-MM'), "-").concat(date_fns_format__WEBPACK_IMPORTED_MODULE_4___default()(endDate, 'YYYY-MM'));
  return _objectSpread({
    query: query,
    as: as
  }, rest);
};

/***/ }),

/***/ "./src/ducks/transactions/scroll/InfiniteScroll.jsx":
/*!**********************************************************!*\
  !*** ./src/ducks/transactions/scroll/InfiniteScroll.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ducks/transactions/scroll/utils */ "./src/ducks/transactions/scroll/utils.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







function isElementInViewport(el, thresold) {
  if (!el) {
    return false;
  }

  var bcr = el.getBoundingClientRect();
  var top = bcr.top + thresold;
  var viewportTop = 0;
  var viewportBottom = viewportTop + window.innerHeight;
  return top >= viewportTop && top <= viewportBottom;
}

var InfiniteScroll = /*#__PURE__*/function (_React$Component) {
  _inherits(InfiniteScroll, _React$Component);

  function InfiniteScroll(props) {
    var _this;

    _classCallCheck(this, InfiniteScroll);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(InfiniteScroll).call(this, props)); // We deactivate the leading call to avoid layout trashing during
    // componentDidMount/componentDidUpdate

    _defineProperty(_assertThisInitialized(_this), "getScroll", function () {
      var node = _this.getScrollingElement();

      return Object(ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_4__["getScroll"])(node);
    });

    _defineProperty(_assertThisInitialized(_this), "handleScroll", function () {
      if (_this.unmounted) {
        return;
      }

      if (_this.props.onScroll) {
        _this.props.onScroll(_this.getScrollInfo);
      }

      _this.checkForLimits();
    });

    _defineProperty(_assertThisInitialized(_this), "getScrollInfo", function () {
      return {
        scroll: _this.getScroll(),
        scrollHeight: _this.getScrollHeight()
      };
    });

    _this.checkForLimits = lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default()(_this.checkForLimits.bind(_assertThisInitialized(_this)), 100, {
      leading: false
    });
    _this.onWindowResize = lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(_this.onWindowResize.bind(_assertThisInitialized(_this)), 500);
    return _this;
  }

  _createClass(InfiniteScroll, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.scrollingElement = this.getScrollingElement();
      this.listenToScroll();
      this.checkForLimits();
      window.addEventListener('resize', this.onWindowResize);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopListeningToScroll();
      window.removeEventListener('resize', this.onWindowResize);
      this.unmounted = true;
    }
  }, {
    key: "onWindowResize",
    value: function onWindowResize() {
      // scrolling element may have changed
      this.stopListeningToScroll();
      this.listenToScroll();
    }
  }, {
    key: "getScrollingElement",
    value: function getScrollingElement() {
      return this.props.getScrollingElement.apply(this);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.children !== this.props.children) {
        this.checkForLimits();
      }
    }
  }, {
    key: "listenToScroll",
    value: function listenToScroll() {
      if (!this.scrollingElement) {
        throw new Error('getScrollingElement returned null, make sure it returns a node.');
      }

      this.scrollingElement.addEventListener('scroll', this.handleScroll, {
        passive: true
      });
    }
  }, {
    key: "stopListeningToScroll",
    value: function stopListeningToScroll() {
      if (this.scrollingElement) {
        this.scrollingElement.removeEventListener('scroll', this.handleScroll);
      }
    }
  }, {
    key: "getScrollHeight",
    value: function getScrollHeight() {
      return Object(ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_4__["getScrollHeight"])(this.scrollingElement);
    }
  }, {
    key: "checkForLimits",
    value: function checkForLimits() {
      if (this.props.manual) {
        return;
      }

      var reachingTop = isElementInViewport(this.limitMinRef, -this.props.thresoldTop);
      var reachingBottom = isElementInViewport(this.limitMaxRef, this.props.thresoldBottom);
      var canLoadAtTop = this.props.canLoadAtTop;
      var canLoadAtBottom = this.props.canLoadAtBottom;

      if (reachingTop && canLoadAtTop) {
        this.props.onReachTop();
      } else if (reachingBottom && canLoadAtBottom) {
        this.props.onReachBottom();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        ref: function ref(_ref) {
          return _this2.limitMinRef = _ref;
        }
      }), this.props.children, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        ref: function ref(_ref2) {
          return _this2.limitMaxRef = _ref2;
        }
      }));
    }
  }]);

  return InfiniteScroll;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

InfiniteScroll.defaultProps = {
  thresoldTop: 100,
  thresoldBottom: -100,
  thresoldForInfiniteScrollTop: 150,
  getScrollingElement: function getScrollingElement() {
    return react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.findDOMNode(this); // eslint-disable-line
  }
};
/* harmony default export */ __webpack_exports__["default"] = (InfiniteScroll);

/***/ }),

/***/ "./src/ducks/transactions/scroll/ScrollRestore.js":
/*!********************************************************!*\
  !*** ./src/ducks/transactions/scroll/ScrollRestore.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/scroll/utils */ "./src/ducks/transactions/scroll/utils.js");
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}




var ScrollRestore = /*#__PURE__*/function (_React$Component) {
  _inherits(ScrollRestore, _React$Component);

  function ScrollRestore() {
    _classCallCheck(this, ScrollRestore);

    return _possibleConstructorReturn(this, _getPrototypeOf(ScrollRestore).apply(this, arguments));
  }

  _createClass(ScrollRestore, [{
    key: "UNSAFE_componentWillUpdate",
    value: function UNSAFE_componentWillUpdate(nextProps) {
      if (this.props.shouldRestore(this.props, nextProps)) {
        this.restoreScroll = this.getRestoreScroll();
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.restoreScroll) {
        this.restoreScroll();
        this.restoreScroll = null;
      }
    }
  }, {
    key: "getRestoreScroll",
    value: function getRestoreScroll() {
      // Save scroll position to restore it later
      var scrollNode = this.props.getScrollingElement();
      var height = Object(ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_1__["getScrollHeight"])(scrollNode);
      var scroll = Object(ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_1__["getScroll"])(scrollNode);
      return function () {
        var newHeight = Object(ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_1__["getScrollHeight"])(scrollNode);
        var newScroll = scroll + (newHeight - height);
        Object(ducks_transactions_scroll_utils__WEBPACK_IMPORTED_MODULE_1__["setScroll"])(scrollNode, newScroll);
      };
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return ScrollRestore;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ScrollRestore);

/***/ }),

/***/ "./src/ducks/transactions/scroll/TopMost.js":
/*!**************************************************!*\
  !*** ./src/ducks/transactions/scroll/TopMost.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}



/**
 * TopMost stores DOM nodes and computes the top most
 * visible node.
 */

var TopMost = /*#__PURE__*/function () {
  function TopMost(getScrollingElement) {
    _classCallCheck(this, TopMost);

    this.getScrollingElement = getScrollingElement;
    this.nodes = {};
  }

  _createClass(TopMost, [{
    key: "addNode",
    value: function addNode(id, node) {
      this.nodes[id] = node;
    }
  }, {
    key: "getTopMostVisibleNodeId",
    value: function getTopMostVisibleNodeId() {
      var scrollEl = this.getScrollingElement();
      var topRoot = scrollEl === window ? 0 : scrollEl.getBoundingClientRect().top;
      var offsets = lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default()(Object.entries(this.nodes).map(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
            tId = _ref2[0],
            node = _ref2[1];

        var rect = node ? node.getBoundingClientRect() : null;
        return [tId, rect ? rect.top : Infinity];
      }), function (x) {
        return x[1];
      });
      var topMost = lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(offsets, function (o) {
        var offset = o[1];
        return offset - topRoot >= 0;
      });
      return topMost ? topMost[0] : null;
    }
  }]);

  return TopMost;
}();

/* harmony default export */ __webpack_exports__["default"] = (TopMost);

/***/ }),

/***/ "./src/ducks/transactions/scroll/getScrollingElement.jsx":
/*!***************************************************************!*\
  !*** ./src/ducks/transactions/scroll/getScrollingElement.jsx ***!
  \***************************************************************/
/*! exports provided: DESKTOP_SCROLLING_ELEMENT_CLASSNAME, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESKTOP_SCROLLING_ELEMENT_CLASSNAME", function() { return DESKTOP_SCROLLING_ELEMENT_CLASSNAME; });
var DESKTOP_SCROLLING_ELEMENT_CLASSNAME = 'js-scrolling-element';

var getScrollingElement = function getScrollingElement(isDesktop) {
  return isDesktop ? document.querySelector(".".concat(DESKTOP_SCROLLING_ELEMENT_CLASSNAME)) : window;
};

/* harmony default export */ __webpack_exports__["default"] = (getScrollingElement);

/***/ }),

/***/ "./src/ducks/transactions/scroll/index.js":
/*!************************************************!*\
  !*** ./src/ducks/transactions/scroll/index.js ***!
  \************************************************/
/*! exports provided: ScrollRestore, InfiniteScroll, TopMost */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_transactions_scroll_ScrollRestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/transactions/scroll/ScrollRestore */ "./src/ducks/transactions/scroll/ScrollRestore.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ScrollRestore", function() { return ducks_transactions_scroll_ScrollRestore__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_transactions_scroll_InfiniteScroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/transactions/scroll/InfiniteScroll */ "./src/ducks/transactions/scroll/InfiniteScroll.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InfiniteScroll", function() { return ducks_transactions_scroll_InfiniteScroll__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var ducks_transactions_scroll_TopMost__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/transactions/scroll/TopMost */ "./src/ducks/transactions/scroll/TopMost.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TopMost", function() { return ducks_transactions_scroll_TopMost__WEBPACK_IMPORTED_MODULE_2__["default"]; });





/***/ }),

/***/ "./src/ducks/transactions/scroll/utils.js":
/*!************************************************!*\
  !*** ./src/ducks/transactions/scroll/utils.js ***!
  \************************************************/
/*! exports provided: getScroll, setScroll, getScrollHeight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScroll", function() { return getScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setScroll", function() { return setScroll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScrollHeight", function() { return getScrollHeight; });
/**
 * Smooth out discrepancies between window and other DOM nodes scroll
 * management.
 */
var getScroll = function getScroll(node) {
  return node === window ? window.pageYOffset || document.documentElement.scrollTop : node.scrollTop;
};
var setScroll = function setScroll(node, scroll) {
  if (node === window) {
    node.scrollTo(0, scroll);
  } else {
    node.scrollTop = scroll;
  }
};
var getScrollHeight = function getScrollHeight(node) {
  if (node === window) {
    var el = window.document.scrollingElement || window.document.documentElement;
    return el.getBoundingClientRect().height;
  } else if (node) {
    return node.scrollHeight;
  } else {
    throw new Error('getScrollHeight: no scrolling element !');
  }
};

/***/ }),

/***/ "./src/ducks/transfers/TransferGate.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/transfers/TransferGate.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ducks_personal_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/personal-info */ "./src/ducks/personal-info/index.jsx");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Empty */ "./node_modules/cozy-ui/transpiled/react/Empty/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icons_ForbiddenSign__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icons/ForbiddenSign */ "./node_modules/cozy-ui/transpiled/react/Icons/ForbiddenSign.js");







/**
 * Verifies transfer preconditions before rendering children
 *
 * - Checks for personal info via PersonalInfoGate
 * - Checks flags to see if transfers were blocked on an instance via Bender
 */

var TransferGate = function TransferGate(_ref) {
  var children = _ref.children;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  if (cozy_flags__WEBPACK_IMPORTED_MODULE_2___default()('banks.transfers.forbidden')) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_3__["default"], {
      className: "u-stack-s u-ta-center"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_4__["default"], {
      icon: cozy_ui_transpiled_react_Icons_ForbiddenSign__WEBPACK_IMPORTED_MODULE_6__["default"],
      title: t('Transfer.user-blocked.title'),
      text: t('Transfer.user-blocked.description')
    }));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_personal_info__WEBPACK_IMPORTED_MODULE_1__["PersonalInfoGate"], null, children);
};

/* harmony default export */ __webpack_exports__["default"] = (TransferGate);

/***/ }),

/***/ "./src/ducks/transfers/TransferPage.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/transfers/TransferPage.jsx ***!
  \**********************************************/
/*! exports provided: TransferPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransferPage", function() { return TransferPage; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/flowRight */ "./node_modules/lodash/flowRight.js");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/withBreakpoints */ "./node_modules/cozy-ui/transpiled/react/helpers/withBreakpoints.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! cozy-realtime */ "./node_modules/cozy-realtime/dist/index.js");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/pickBy */ "./node_modules/lodash/pickBy.js");
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_pickBy__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Loading__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! components/Loading */ "../overrides/cozy-banks/src/components/Loading/index.js");
/* harmony import */ var components_Stepper__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! components/Stepper */ "./src/components/Stepper/index.js");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ducks/categories/AddAccountButton */ "../overrides/cozy-banks/src/ducks/categories/AddAccountButton.jsx");
/* harmony import */ var ducks_transfers_recipients__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/transfers/recipients */ "./src/ducks/transfers/recipients.js");
/* harmony import */ var ducks_transfers_transfers__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ducks/transfers/transfers */ "./src/ducks/transfers/transfers.js");
/* harmony import */ var ducks_transfers_steps_TransferState__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ducks/transfers/steps/TransferState */ "./src/ducks/transfers/steps/TransferState.jsx");
/* harmony import */ var ducks_transfers_steps_Category__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ducks/transfers/steps/Category */ "./src/ducks/transfers/steps/Category.jsx");
/* harmony import */ var ducks_transfers_steps_Beneficiary__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/transfers/steps/Beneficiary */ "./src/ducks/transfers/steps/Beneficiary.jsx");
/* harmony import */ var ducks_transfers_steps_Sender__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ducks/transfers/steps/Sender */ "./src/ducks/transfers/steps/Sender.jsx");
/* harmony import */ var ducks_transfers_steps_Amount__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ducks/transfers/steps/Amount */ "./src/ducks/transfers/steps/Amount.jsx");
/* harmony import */ var ducks_transfers_steps_Summary__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ducks/transfers/steps/Summary */ "./src/ducks/transfers/steps/Summary.jsx");
/* harmony import */ var ducks_transfers_steps_Password__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ducks/transfers/steps/Password */ "./src/ducks/transfers/steps/Password.jsx");
/* harmony import */ var ducks_transfers_utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ducks/transfers/utils */ "./src/ducks/transfers/utils.js");
/* harmony import */ var ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ducks/bar/BarTheme */ "./src/ducks/bar/BarTheme.jsx");
/* harmony import */ var _TransferGate__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./TransferGate */ "./src/ducks/transfers/TransferGate.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ducks/legal/LegalMention */ "../overrides/cozy-banks/src/ducks/legal/LegalMention.jsx");
/* harmony import */ var components_Header__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! components/Header */ "./src/components/Header/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


































var THIRTY_SECONDS = 30 * 1000;
var slideIndexes = ['category', 'beneficiary', 'sender', 'amount', 'summary', 'password'];
var slideNameToTrackPageName = {
  category: 'choix_virement',
  beneficiary: 'choix_beneficiaire',
  sender: 'choix_compte',
  summary: 'resume',
  password: 'securite',
  amount: 'montant'
};

var subscribe = function subscribe(rt, event, doc, id, cb) {
  var handler;

  var unsubscribe = function unsubscribe() {
    rt.unsubscribe(event, doc, id, handler);
  };

  handler = function handler(doc) {
    return cb(doc, unsubscribe);
  };

  rt.subscribe(event, doc, id, handler);
  return unsubscribe;
};

var isRecipientForAccount = function isRecipientForAccount(recipient, account) {
  return recipient.vendorAccountId == account.vendorId;
};

var NoRecipient = function NoRecipient() {
  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_13__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_5__["default"], {
    spacing: "l"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_16__["default"], null, t('Transfer.no-recipients.title')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_33__["default"], {
    className: "u-maw-7",
    variant: "body1"
  }, t('Transfer.no-recipients.description')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Axa Banque"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "BNP Paribas"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Boursorama"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Banque Postale Particuliers"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "CIC"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Cr\xE9dit Agricole"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Cr\xE9dit Coop\xE9ratif"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Cr\xE9dit Foncier"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Cr\xE9dit Mutuel"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Fortuneo"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Hello Bank"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "ING"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "LCL"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, "Soci\xE9t\xE9 G\xE9n\xE9rale")), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_17__["default"], {
    extension: "full",
    label: t('Transfer.no-bank.add-bank'),
    theme: "primary",
    className: "u-mt-0"
  })));
};

var NoBank = function NoBank(_ref) {
  var isMobile = _ref.isMobile;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n2.t;

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_32__["default"], {
    theme: isMobile ? 'inverted' : 'normal'
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_13__["default"], {
    className: "u-pv-half"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_31__["default"], null))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_13__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_16__["default"], null, t('Transfer.page-title')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_33__["default"], {
    variant: "body1",
    align: "center",
    className: "u-mt-3"
  }, t('Transfer.no-bank.title')), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_17__["default"], {
    absolute: true,
    extension: "full",
    label: t('Transfer.no-bank.add-bank'),
    theme: "primary",
    className: "u-mt-3"
  })));
};

var TransferPage = /*#__PURE__*/function (_React$Component) {
  _inherits(TransferPage, _React$Component);

  function TransferPage(props, context) {
    var _this;

    _classCallCheck(this, TransferPage);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransferPage).call(this, props, context));
    _this.state = _this.getInitialState();
    _this.handleGoBack = _this.handleGoBack.bind(_assertThisInitialized(_this));
    _this.handleChangeCategory = _this.handleChangeCategory.bind(_assertThisInitialized(_this));
    _this.handleSelectBeneficiary = _this.handleSelectBeneficiary.bind(_assertThisInitialized(_this));
    _this.handleChangeAmount = _this.handleChangeAmount.bind(_assertThisInitialized(_this));
    _this.handleSelectAmount = _this.handleSelectAmount.bind(_assertThisInitialized(_this));
    _this.handleSelectSender = _this.handleSelectSender.bind(_assertThisInitialized(_this));
    _this.handleSelectSlide = _this.handleSelectSlide.bind(_assertThisInitialized(_this));
    _this.handleConfirmSummary = _this.handleConfirmSummary.bind(_assertThisInitialized(_this));
    _this.handleChangePassword = _this.handleChangePassword.bind(_assertThisInitialized(_this));
    _this.handleChangeLabel = _this.handleChangeLabel.bind(_assertThisInitialized(_this));
    _this.handleChangeDate = _this.handleChangeDate.bind(_assertThisInitialized(_this));
    _this.handleConfirmAdditionalInfo = _this.handleConfirmAdditionalInfo.bind(_assertThisInitialized(_this));
    _this.handleConfirm = _this.handleConfirm.bind(_assertThisInitialized(_this));
    _this.handleModalDismiss = _this.handleModalDismiss.bind(_assertThisInitialized(_this));
    _this.handleJobChange = _this.handleJobChange.bind(_assertThisInitialized(_this));
    _this.handleExit = _this.handleExit.bind(_assertThisInitialized(_this));
    _this.handleReset = _this.handleReset.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(TransferPage, [{
    key: "getInitialState",
    value: function getInitialState() {
      return {
        category: null,
        // Currently selected category
        transferState: cozy_flags__WEBPACK_IMPORTED_MODULE_9___default()('banks.transfers.mock-state'),
        senderAccount: null,
        senderAccounts: [],
        // Possible sender accounts for chosen person
        amount: '',
        password: '',
        label: '',
        date: new Date().toISOString().slice(0, 10),
        slide: 0
      };
    }
  }, {
    key: "handleConfirm",
    value: function handleConfirm() {
      this.transferMoney();
    }
  }, {
    key: "followJob",
    value: function followJob(job) {
      var rt = new cozy_realtime__WEBPACK_IMPORTED_MODULE_8___default.a({
        client: this.props.client
      });
      this.unfollowJob = subscribe(rt, 'updated', 'io.cozy.jobs', job._id, this.handleJobChange);
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_30__["trackPage"])("virement:".concat(slideNameToTrackPageName['category']));
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      this.ensureHasAllRecipients();
      this.checkToUpdateSlideBasedOnRoute(prevProps);
    }
  }, {
    key: "ensureHasAllRecipients",
    value: function ensureHasAllRecipients() {
      if (this.props.recipients.hasMore && this.props.recipients.fetchStatus !== 'loading') {
        this.props.recipients.fetchMore();
      }
    }
  }, {
    key: "checkToUpdateSlideBasedOnRoute",
    value: function checkToUpdateSlideBasedOnRoute(prevProps) {
      if (!this.props.router) {
        // In tests when TransferPage is not wrapped in withRouter
        return;
      }

      var prevRouteParams = prevProps.routeParams;
      var routeParams = this.props.routeParams;

      if (routeParams.slideName !== prevRouteParams.slideName) {
        this.selectSlideByName(routeParams.slideName);
      }
    }
  }, {
    key: "handleJobChange",
    value: function handleJobChange(job, unsubscribe) {
      if (job.state === 'done') {
        this.setState({
          transferState: 'success'
        });
        unsubscribe();
        clearTimeout(this.successTimeout);
      } else if (job.state === 'errored') {
        this.setState({
          transferState: new Error(job.error)
        });
        unsubscribe();
        clearTimeout(this.successTimeout);
      }
    }
  }, {
    key: "transferMoney",
    value: function () {
      var _transferMoney = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var _this2 = this;

        var client, _this$state, amount, beneficiary, senderAccount, password, label, date, recipient, job;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = this.props.client;
                _this$state = this.state, amount = _this$state.amount, beneficiary = _this$state.beneficiary, senderAccount = _this$state.senderAccount, password = _this$state.password, label = _this$state.label, date = _this$state.date;
                this.setState({
                  transferState: 'sending'
                });
                _context.prev = 3;
                recipient = beneficiary.recipients.find(function (rec) {
                  return isRecipientForAccount(rec, senderAccount);
                });
                _context.next = 7;
                return ducks_transfers_transfers__WEBPACK_IMPORTED_MODULE_19__["createJob"](client, {
                  amount: amount,
                  recipientId: recipient._id,
                  senderAccount: senderAccount,
                  password: password,
                  label: label,
                  executionDate: date
                });

              case 7:
                job = _context.sent;
                this.followJob(job);
                this.successTimeout = setTimeout(function () {
                  _this2.setState({
                    transferState: 'success'
                  });
                }, THIRTY_SECONDS);
                _context.next = 17;
                break;

              case 12:
                _context.prev = 12;
                _context.t0 = _context["catch"](3);
                console.error(_context.t0); // eslint-disable-line no-console

                if (!Object(ducks_transfers_utils__WEBPACK_IMPORTED_MODULE_27__["isLoginFailed"])(_context.t0)) {
                  Object(lib_sentry__WEBPACK_IMPORTED_MODULE_11__["logException"])(_context.t0);
                }

                this.setState({
                  transferState: _context.t0
                });

              case 17:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[3, 12]]);
      }));

      function transferMoney() {
        return _transferMoney.apply(this, arguments);
      }

      return transferMoney;
    }()
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      clearTimeout(this.successTimeout);
      this.unfollowJob && this.unfollowJob();
    }
  }, {
    key: "handleGoBack",
    value: function handleGoBack() {
      this.goToPrevious();
    }
  }, {
    key: "goToPrevious",
    value: function goToPrevious() {
      this.setState({
        slide: Math.max(this.state.slide - 1, 0)
      });
    }
  }, {
    key: "handleChangeCategory",
    value: function handleChangeCategory(category) {
      this.setState({
        category: category
      });
      this.selectSlideByName('beneficiary');
    }
  }, {
    key: "handleSelectBeneficiary",
    value: function handleSelectBeneficiary(beneficiary) {
      var possibleSenderAccounts = new Set(beneficiary.recipients.map(function (x) {
        return x.vendorAccountId + '';
      }));
      var data = this.props.accounts.data;
      var senderAccounts = data.filter(function (x) {
        return possibleSenderAccounts.has(x.vendorId);
      });
      this.setState({
        beneficiary: beneficiary,
        senderAccounts: senderAccounts,
        senderAccount: senderAccounts[0]
      });
      this.selectSlideByName('sender');
    }
  }, {
    key: "handleChangeAmount",
    value: function handleChangeAmount(amount) {
      this.setState({
        amount: amount
      });
    }
  }, {
    key: "handleSelectSender",
    value: function handleSelectSender(senderAccount) {
      this.setState({
        senderAccount: senderAccount
      });
      this.selectSlideByName('amount');
    }
  }, {
    key: "handleSelectAmount",
    value: function handleSelectAmount() {
      this.selectSlideByName('summary');
    }
  }, {
    key: "handleConfirmSummary",
    value: function handleConfirmSummary() {
      this.selectSlideByName('password');
    }
  }, {
    key: "handleConfirmAdditionalInfo",
    value: function handleConfirmAdditionalInfo() {
      this.selectSlideByName('category');
    }
  }, {
    key: "handleChangePassword",
    value: function handleChangePassword(ev) {
      this.setState({
        password: ev.target.value
      });
    }
  }, {
    key: "handleChangeLabel",
    value: function handleChangeLabel(ev) {
      this.setState({
        label: ev.target.value
      });
    }
  }, {
    key: "handleChangeDate",
    value: function handleChangeDate(ev) {
      this.setState({
        date: ev.target.value
      });
    }
  }, {
    key: "handleSelectSlide",
    value: function handleSelectSlide(slideName) {
      this.selectSlideByName(slideName);
    }
  }, {
    key: "getStateUpdateForSlideName",
    value: function getStateUpdateForSlideName(slideName) {
      var idx = slideIndexes.findIndex(function (x) {
        return x == slideName;
      });
      return {
        slide: idx !== -1 ? idx : 0
      };
    }
  }, {
    key: "selectSlideByName",
    value: function selectSlideByName(slideName) {
      this.setState(this.getStateUpdateForSlideName(slideName));
      Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_30__["trackPage"])(function (lastTracked) {
        var page = "virement:".concat(slideNameToTrackPageName[slideName]);

        if (lastTracked !== page) {
          return "virement:".concat(slideNameToTrackPageName[slideName]);
        } else {
          return false;
        }
      });
    }
  }, {
    key: "handleModalDismiss",
    value: function handleModalDismiss() {
      this.handleReset();
    }
  }, {
    key: "handleReset",
    value: function handleReset() {
      this.setState(this.getInitialState());
      clearTimeout(this.successTimeout);
    }
  }, {
    key: "handleExit",
    value: function handleExit() {
      var transferState = this.state.transferState;

      if (Object(ducks_transfers_utils__WEBPACK_IMPORTED_MODULE_27__["isLoginFailed"])(transferState)) {
        this.selectSlideByName('password');
        this.setState({
          password: '',
          transferState: null
        });
      } else {
        this.props.router.push('/');
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          recipients = _this$props.recipients,
          accounts = _this$props.accounts,
          myself = _this$props.myself,
          isMobile = _this$props.breakpoints.isMobile;
      var _this$state2 = this.state,
          category = _this$state2.category,
          beneficiary = _this$state2.beneficiary,
          senderAccount = _this$state2.senderAccount,
          senderAccounts = _this$state2.senderAccounts,
          amount = _this$state2.amount,
          transferState = _this$state2.transferState,
          password = _this$state2.password,
          label = _this$state2.label,
          date = _this$state2.date;

      if (Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["isQueryLoading"])(recipients) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["hasQueryBeenLoaded"])(recipients) || Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["isQueryLoading"])(accounts) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["hasQueryBeenLoaded"])(accounts) || transferState === 'sending' || myself && Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["isQueryLoading"])(myself) && !Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["hasQueryBeenLoaded"])(myself) && !myself.lastError) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_13__["default"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Loading__WEBPACK_IMPORTED_MODULE_14__["default"], null));
      }

      if (accounts.data.length === 0) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NoBank, {
          isMobile: isMobile
        });
      }

      if (recipients.data.length === 0) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NoRecipient, null);
      }

      var categoryFilter = ducks_transfers_recipients__WEBPACK_IMPORTED_MODULE_18__["createCategoryFilter"](category, accounts.data);
      var beneficiaries = ducks_transfers_recipients__WEBPACK_IMPORTED_MODULE_18__["groupAsBeneficiary"](recipients.data.filter(categoryFilter), accounts.data);
      var isSuccessTransfer = transferState === 'success';
      var isErrorTransfer = transferState instanceof Error;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TransferGate__WEBPACK_IMPORTED_MODULE_29__["default"], null, transferState ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, isSuccessTransfer && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_TransferState__WEBPACK_IMPORTED_MODULE_20__["TransferSuccessDialog"], {
        onExit: this.handleExit
      }), isErrorTransfer && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_TransferState__WEBPACK_IMPORTED_MODULE_20__["TransferErrorDialog"], {
        error: transferState,
        onExit: this.handleExit
      })) : null, !(isSuccessTransfer || isErrorTransfer) && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Header__WEBPACK_IMPORTED_MODULE_32__["default"], {
        theme: isMobile ? 'inverted' : 'normal'
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_13__["default"], {
        className: "u-pv-half"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_legal_LegalMention__WEBPACK_IMPORTED_MODULE_31__["default"], null))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Stepper__WEBPACK_IMPORTED_MODULE_15__["default"], {
        currentIndex: this.state.slide,
        onBack: this.handleGoBack
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_Category__WEBPACK_IMPORTED_MODULE_21__["default"], {
        category: category,
        onSelect: this.handleChangeCategory
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_Beneficiary__WEBPACK_IMPORTED_MODULE_22__["default"], {
        category: category,
        beneficiary: beneficiary,
        onSelect: this.handleSelectBeneficiary,
        beneficiaries: beneficiaries
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_Sender__WEBPACK_IMPORTED_MODULE_23__["default"], {
        account: senderAccount,
        accounts: senderAccounts,
        onSelect: this.handleSelectSender
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_Amount__WEBPACK_IMPORTED_MODULE_24__["default"], {
        amount: amount,
        onChange: this.handleChangeAmount,
        onSelect: this.handleSelectAmount
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_Summary__WEBPACK_IMPORTED_MODULE_25__["default"], {
        onConfirm: this.handleConfirmSummary,
        amount: amount,
        beneficiary: beneficiary,
        senderAccount: senderAccount,
        selectSlide: this.handleSelectSlide,
        onChangeLabel: this.handleChangeLabel,
        onChangeDate: this.handleChangeDate,
        label: label,
        date: date
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_transfers_steps_Password__WEBPACK_IMPORTED_MODULE_26__["default"], {
        onChangePassword: this.handleChangePassword,
        onConfirm: this.handleConfirm,
        password: password,
        senderAccount: senderAccount
      }))));
    }
  }]);

  return TransferPage;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

var barTheme = function barTheme(theme) {
  return function (Component) {
    return function (props) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ducks_bar_BarTheme__WEBPACK_IMPORTED_MODULE_28__["default"], {
        theme: theme
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, props));
    };
  };
};

var removeFalsyProperties = lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default.a;
var enhance = lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(barTheme('primary'), cozy_client__WEBPACK_IMPORTED_MODULE_7__["withClient"], react_router__WEBPACK_IMPORTED_MODULE_3__["withRouter"], Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_4__["default"])(), Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["queryConnect"])(removeFalsyProperties({
  accounts: doctypes__WEBPACK_IMPORTED_MODULE_12__["accountsConn"],
  recipients: doctypes__WEBPACK_IMPORTED_MODULE_12__["recipientsConn"]
})), Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])());

/* harmony default export */ __webpack_exports__["default"] = (enhance(TransferPage));

/***/ }),

/***/ "./src/ducks/transfers/index.js":
/*!**************************************!*\
  !*** ./src/ducks/transfers/index.js ***!
  \**************************************/
/*! exports provided: TransferPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TransferPage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TransferPage */ "./src/ducks/transfers/TransferPage.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TransferPage", function() { return _TransferPage__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "./src/ducks/transfers/recipients.js":
/*!*******************************************!*\
  !*** ./src/ducks/transfers/recipients.js ***!
  \*******************************************/
/*! exports provided: findAccount, groupAsBeneficiary, createCategoryFilter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findAccount", function() { return findAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupAsBeneficiary", function() { return groupAsBeneficiary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createCategoryFilter", function() { return createCategoryFilter; });
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Returns the io.cozy.banks.accounts corresponding to a recipient by matching
 * on IBAN or number
 */

var findAccount = function findAccount(recipient, accounts) {
  var account = accounts.find(function (acc) {
    var sameVendorId = Boolean(recipient.vendorAccountId && recipient.vendorAccountId === acc.vendorId);
    var sameIBAN = Boolean(acc.iban && acc.iban === recipient.iban);
    var sameNumber = Boolean(recipient.iban && acc.number && recipient.iban.includes(acc.number));
    return sameVendorId || sameIBAN || sameNumber;
  });
  return account || null;
};
/**
 * BI recipients are per-account, if a user has 2 accounts that can send money to 1 person, there will be
 * 2 recipients. External accounts can be deduped on IBAN, internal on label
 */

var groupAsBeneficiary = function groupAsBeneficiary(recipients, accounts) {
  return Object.values(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(recipients, function (r) {
    return r.category == 'internal' ? r.label : r.iban;
  })).map(function (group) {
    var beneficiary = {
      _id: group[0]._id,
      // useful for key
      label: group[0].label,
      bankName: group[0].bankName,
      iban: group[0].iban,
      category: group[0].category,
      recipients: group
    };
    beneficiary.account = findAccount(beneficiary, accounts);
    return beneficiary;
  });
};
/**
 * Creates a predicate checking whether a recipient should be internal or external.
 *
 * It is considered internal if its category is internal or if we can find a
 * matching io.cozy.bank.accounts.
 */

var createCategoryFilter = function createCategoryFilter(category, accounts) {
  return function (recipient) {
    var hasAccount = !!findAccount(recipient, accounts);

    if (category === 'internal' && !hasAccount) {
      // eslint-disable-next-line no-console
      console.warn('Recipient is internal, but no corresponding account was found', recipient);
      return false;
    }

    if (category === 'external' && hasAccount) {
      // eslint-disable-next-line no-console
      console.warn('Recipient is external, but a corresponding account was found', recipient);
      return false;
    }

    return true;
  };
};

/***/ }),

/***/ "./src/ducks/transfers/steps/Amount.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/transfers/steps/Amount.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Input */ "./node_modules/cozy-ui/transpiled/react/Input/index.js");
/* harmony import */ var cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/InputGroup */ "./node_modules/cozy-ui/transpiled/react/InputGroup/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Label__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Label */ "./node_modules/cozy-ui/transpiled/react/Label/index.js");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var components_BottomButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/BottomButton */ "./src/components/BottomButton.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");
/* harmony import */ var ducks_transfers_steps_Title__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ducks/transfers/steps/Title */ "./src/ducks/transfers/steps/Title.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }












var MINIMUM_AMOUNT = 5;
var MAXIMUM_AMOUNT = 1000;

var validateAmount = function validateAmount(amount) {
  if (amount == '') {
    return {
      ok: true
    };
  } else if (parseInt(amount, 10) > MAXIMUM_AMOUNT) {
    return {
      error: 'too-high',
      maximum: MAXIMUM_AMOUNT
    };
  } else if (parseInt(amount, 10) < MINIMUM_AMOUNT) {
    return {
      error: 'too-low',
      minimum: MINIMUM_AMOUNT
    };
  } else if (isNaN(parseInt(amount, 10))) {
    return {
      error: 'incorrect-number',
      value: amount
    };
  }

  return {
    ok: true
  };
};

var errorToTrackPage = {
  'too-high': 'erreur-montant_maximum',
  'too-low': 'erreur-montant_minimum',
  'incorrect-number': 'erreur-chiffres'
};

var _ChooseAmount = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(_ChooseAmount, _React$PureComponent);

  function _ChooseAmount(props, context) {
    var _this;

    _classCallCheck(this, _ChooseAmount);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_ChooseAmount).call(this, props, context));
    _this.state = {
      validation: {
        ok: true
      }
    };
    _this.handleBlur = _this.handleBlur.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(_ChooseAmount, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      this.checkToIncreaseSlideHeight(prevState);
    }
  }, {
    key: "checkToIncreaseSlideHeight",
    value: function checkToIncreaseSlideHeight(prevState) {
      if (Boolean(prevState.validation.error) !== Boolean(this.state.validation.error)) {
        this.context.swipeableViews.slideUpdateHeight();
      }
    }
  }, {
    key: "handleBlur",
    value: function handleBlur() {
      this.validate();
    }
  }, {
    key: "validate",
    value: function validate() {
      var validationResult = validateAmount(this.props.amount);

      if (!validationResult.ok) {
        var errorPage = errorToTrackPage[validationResult.error];
        Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_9__["trackPage"])(function (lastTracked) {
          var page = "virement:montant:".concat(errorPage);

          if (page == lastTracked) {
            return false;
          }

          return page;
        });
      }

      this.setState({
        validation: validationResult
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          t = _this$props.t,
          amount = _this$props.amount,
          _onChange = _this$props.onChange,
          onSelect = _this$props.onSelect,
          active = _this$props.active;
      var validation = this.state.validation;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_2__["default"], null, active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_7__["default"], null, t('Transfer.amount.page-title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transfers_steps_Title__WEBPACK_IMPORTED_MODULE_10__["default"], null, t('Transfer.amount.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Label__WEBPACK_IMPORTED_MODULE_6__["default"], null, t('Transfer.amount.field-label'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_5__["default"], {
        append: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InputGroup__WEBPACK_IMPORTED_MODULE_5__["default"].Unit, null, "\u20AC")
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_4__["default"], {
        className: "u-mt-0",
        value: amount,
        onChange: function onChange(ev) {
          return _onChange(ev.target.value);
        },
        step: "any",
        onBlur: this.handleBlur,
        error: Boolean(validation.error),
        placeholder: "10"
      }))), validation.error ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        className: "u-error"
      }, t("Transfer.amount.errors.".concat(validation.error), validation)) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BottomButton__WEBPACK_IMPORTED_MODULE_8__["default"], {
        disabled: amount === '' || !!validation.error,
        label: t('Transfer.amount.confirm'),
        visible: active,
        onClick: onSelect
      }));
    }
  }]);

  return _ChooseAmount;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

_ChooseAmount.contextTypes = {
  swipeableViews: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
var ChooseAmount = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(_ChooseAmount));
/* harmony default export */ __webpack_exports__["default"] = (ChooseAmount);

/***/ }),

/***/ "./src/ducks/transfers/steps/Beneficiary.jsx":
/*!***************************************************!*\
  !*** ./src/ducks/transfers/steps/Beneficiary.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/categories/AddAccountButton */ "../overrides/cozy-banks/src/ducks/categories/AddAccountButton.jsx");
/* harmony import */ var components_List__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/List */ "./src/components/List/index.jsx");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }














var _BeneficiaryRow = function _BeneficiaryRow(_ref) {
  var beneficiary = _ref.beneficiary,
      onSelect = _ref.onSelect;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_7__["Row"], {
    className: "u-c-pointer",
    onClick: onSelect.bind(null, beneficiary)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], {
    className: "u-w-100"
  }, beneficiary.account ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-mr-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_10__["default"], {
    key: beneficiary.account._id,
    account: beneficiary.account
  })) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
    variant: "body1"
  }, beneficiary.label), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, beneficiary.iban)), beneficiary.account ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-ml-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
    variant: "h6"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_9__["default"], {
    symbol: "\u20AC",
    total: beneficiary.account.balance,
    coloredPositive: true,
    coloredNegative: true,
    coloredWarning: true
  }))) : null));
};

var BeneficiaryRow = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_BeneficiaryRow);

var ChooseBeneficiary = /*#__PURE__*/function (_React$Component) {
  _inherits(ChooseBeneficiary, _React$Component);

  function ChooseBeneficiary(props, context) {
    var _this;

    _classCallCheck(this, ChooseBeneficiary);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChooseBeneficiary).call(this, props, context));
    _this.state = {
      showAddBeneficiary: false
    };
    _this.handleShowAddBeneficiary = _this.handleShowAddBeneficiary.bind(_assertThisInitialized(_this));
    _this.handleCloseAddBeneficiary = _this.handleCloseAddBeneficiary.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(ChooseBeneficiary, [{
    key: "handleShowAddBeneficiary",
    value: function handleShowAddBeneficiary() {
      this.setState({
        showAddBeneficiary: true
      });
    }
  }, {
    key: "handleCloseAddBeneficiary",
    value: function handleCloseAddBeneficiary() {
      this.setState({
        showAddBeneficiary: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          t = _this$props.t,
          beneficiaries = _this$props.beneficiaries,
          onSelect = _this$props.onSelect,
          active = _this$props.active,
          category = _this$props.category;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["default"], null, active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_8__["default"], null, t('Transfer.beneficiary.page-title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_11__["default"], {
        variant: "h4",
        gutterBottom: true
      }, t('Transfer.beneficiary.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["Unpadded"], {
        horizontal: true
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_7__["List"], {
        border: "horizontal",
        className: "u-mt-1 u-mb-1"
      }, beneficiaries.map(function (beneficiary) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BeneficiaryRow, {
          key: beneficiary._id,
          onSelect: onSelect,
          beneficiary: beneficiary
        });
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "u-ta-center"
      }, category === 'internal' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_categories_AddAccountButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
        label: t('Transfer.no-bank.add-bank'),
        theme: "primary",
        className: "u-mt-0"
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
        onClick: this.handleShowAddBeneficiary,
        theme: "primary",
        label: t('Transfer.beneficiary.add-beneficiary')
      }))), this.state.showAddBeneficiary ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_5__["Dialog"], {
        open: true,
        title: t('Transfer.beneficiary.help-add-beneficiary-title'),
        content: t('Transfer.beneficiary.help-add-beneficiary'),
        onClose: this.handleCloseAddBeneficiary,
        actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
          onClick: this.handleCloseAddBeneficiary,
          theme: "primary",
          label: t('Transfer.beneficiary.help-add-beneficiary-action')
        })
      }) : null);
    }
  }]);

  return ChooseBeneficiary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(ChooseBeneficiary)));

/***/ }),

/***/ "./src/ducks/transfers/steps/Category.jsx":
/*!************************************************!*\
  !*** ./src/ducks/transfers/steps/Category.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_List__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/List */ "./src/components/List/index.jsx");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var _Title__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Title */ "./src/ducks/transfers/steps/Title.jsx");







var ChooseRecipientCategory = function ChooseRecipientCategory(_ref) {
  var category = _ref.category,
      onSelect = _ref.onSelect,
      active = _ref.active;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["default"], null, active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_4__["default"], null, t('Transfer.category.page-title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Title__WEBPACK_IMPORTED_MODULE_5__["default"], null, t('Transfer.category.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["default"].Unpadded, {
    horizontal: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_3__["List"], {
    border: "horizontal"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_3__["Row"], {
    onClick: onSelect.bind(null, 'internal')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_3__["Radio"], {
    readOnly: true,
    name: "category",
    checked: category == 'internal',
    value: "internal",
    label: t('Transfer.category.internal')
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_3__["Row"], {
    onClick: onSelect.bind(null, 'external')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_3__["Radio"], {
    readOnly: true,
    name: "category",
    checked: category == 'external',
    value: "external",
    label: t('Transfer.category.external')
  })))));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(ChooseRecipientCategory));

/***/ }),

/***/ "./src/ducks/transfers/steps/Password.jsx":
/*!************************************************!*\
  !*** ./src/ducks/transfers/steps/Password.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Field */ "./node_modules/cozy-ui/transpiled/react/Field/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var components_BottomButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/BottomButton */ "./src/components/BottomButton.jsx");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var ducks_transfers_steps_Title__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/transfers/steps/Title */ "./src/ducks/transfers/steps/Title.jsx");










var _Password = function _Password(_ref) {
  var onChangePassword = _ref.onChangePassword,
      onConfirm = _ref.onConfirm,
      active = _ref.active,
      password = _ref.password,
      senderAccount = _ref.senderAccount;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["default"], null, active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_5__["default"], null, t('Transfer.password.page-title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_4__["default"], {
    spacing: "xs"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transfers_steps_Title__WEBPACK_IMPORTED_MODULE_8__["default"], null, t('Transfer.password.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-ta-center"
  }, senderAccount ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_7__["default"], {
    key: senderAccount._id,
    account: senderAccount,
    size: "large"
  }) : null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Field__WEBPACK_IMPORTED_MODULE_2__["default"], {
    type: "password",
    onChange: onChangePassword,
    value: password,
    placeholder: t('Transfer.password.field-placeholder'),
    label: t('Transfer.password.field-label')
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BottomButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    label: t('Transfer.password.confirm'),
    visible: active,
    onClick: onConfirm,
    disabled: password === ''
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_Password));

/***/ }),

/***/ "./src/ducks/transfers/steps/Sender.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/transfers/steps/Sender.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_List__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/List */ "./src/components/List/index.jsx");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");
/* harmony import */ var ducks_transfers_steps_Title__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ducks/transfers/steps/Title */ "./src/ducks/transfers/steps/Title.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }












var SenderRow = function SenderRow(_ref) {
  var account = _ref.account,
      onSelect = _ref.onSelect;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_4__["Row"], {
    className: "u-c-pointer",
    onClick: onSelect.bind(null, account),
    key: account._id
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], {
    className: "u-w-100"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-mr-1"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_8__["default"], {
    key: account._id,
    account: account
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "body1"
  }, account.shortLabel), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "caption",
    color: "textSecondary"
  }, account.iban)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-ml-half"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
    variant: "h6"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_6__["default"], {
    coloredWarning: true,
    coloredNegative: true,
    coloredPositive: true,
    total: account.balance,
    symbol: "\u20AC"
  })))));
};

var _ChooseSenderAccount = /*#__PURE__*/function (_React$Component) {
  _inherits(_ChooseSenderAccount, _React$Component);

  function _ChooseSenderAccount() {
    _classCallCheck(this, _ChooseSenderAccount);

    return _possibleConstructorReturn(this, _getPrototypeOf(_ChooseSenderAccount).apply(this, arguments));
  }

  _createClass(_ChooseSenderAccount, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          accounts = _this$props.accounts,
          onSelect = _this$props.onSelect,
          active = _this$props.active,
          t = _this$props.t;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["default"], null, active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_5__["default"], null, t('Transfer.sender.page-title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transfers_steps_Title__WEBPACK_IMPORTED_MODULE_9__["default"], null, t('Transfer.sender.title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_1__["default"].Unpadded, {
        horizontal: true
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_List__WEBPACK_IMPORTED_MODULE_4__["List"], {
        border: "horizontal"
      }, accounts.map(function (account) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SenderRow, {
          key: account._id,
          account: account,
          onSelect: onSelect
        });
      }))));
    }
  }]);

  return _ChooseSenderAccount;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var ChooseSenderAccount = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(_ChooseSenderAccount));
/* harmony default export */ __webpack_exports__["default"] = (ChooseSenderAccount);

/***/ }),

/***/ "./src/ducks/transfers/steps/Summary.jsx":
/*!***********************************************!*\
  !*** ./src/ducks/transfers/steps/Summary.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Input */ "./node_modules/cozy-ui/transpiled/react/Input/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Media */ "./node_modules/cozy-ui/transpiled/react/Media/index.js");
/* harmony import */ var cozy_ui_transpiled_react_InlineCard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/InlineCard */ "./node_modules/cozy-ui/transpiled/react/InlineCard/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var components_Padded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/Padded */ "./src/components/Padded/index.js");
/* harmony import */ var components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/Title/PageTitle */ "./src/components/Title/PageTitle.jsx");
/* harmony import */ var components_OptionalInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/OptionalInput */ "./src/components/OptionalInput/index.jsx");
/* harmony import */ var components_BottomButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/BottomButton */ "./src/components/BottomButton.jsx");
/* harmony import */ var components_AccountIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/AccountIcon */ "./src/components/AccountIcon/index.jsx");











var _Summary = function _Summary(_ref) {
  var amount = _ref.amount,
      senderAccount = _ref.senderAccount,
      beneficiary = _ref.beneficiary,
      onConfirm = _ref.onConfirm,
      active = _ref.active,
      selectSlide = _ref.selectSlide,
      onChangeLabel = _ref.onChangeLabel,
      label = _ref.label,
      onChangeDate = _ref.onChangeDate,
      date = _ref.date;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  return amount && senderAccount && beneficiary ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Padded__WEBPACK_IMPORTED_MODULE_5__["default"], null, active && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Title_PageTitle__WEBPACK_IMPORTED_MODULE_6__["default"], null, t('Transfer.summary.page-title')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, t('Transfer.summary.send'), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InlineCard__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-c-pointer u-mb-half",
    onClick: selectSlide.bind(null, 'amount')
  }, amount, "\u20AC"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), t('Transfer.summary.to'), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InlineCard__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-c-pointer u-mb-half",
    onClick: selectSlide.bind(null, 'beneficiary')
  }, beneficiary.label), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), t('Transfer.summary.from'), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InlineCard__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-c-pointer u-mb-half",
    onClick: selectSlide.bind(null, 'sender')
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_AccountIcon__WEBPACK_IMPORTED_MODULE_9__["default"], {
    key: senderAccount._id,
    size: "small",
    account: senderAccount
  }), ' ', senderAccount.label), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), t('Transfer.summary.on'), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_InlineCard__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-c-pointer u-mb-half u-invisible-form-field"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Input__WEBPACK_IMPORTED_MODULE_1__["default"], {
    type: "date",
    value: date,
    onChange: onChangeDate,
    size: "tiny"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Media"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-mr-half"
  }, t('Transfer.summary.for')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Media__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_OptionalInput__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "u-mb-half",
    value: label,
    onChange: onChangeLabel,
    placeholder: t('Transfer.summary.for-placeholder')
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_BottomButton__WEBPACK_IMPORTED_MODULE_8__["default"], {
    label: t('Transfer.summary.confirm'),
    visible: active,
    onClick: onConfirm
  }))) : null;
};

var Summary = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(_Summary);
/* harmony default export */ __webpack_exports__["default"] = (Summary);

/***/ }),

/***/ "./src/ducks/transfers/steps/Title.jsx":
/*!*********************************************!*\
  !*** ./src/ducks/transfers/steps/Title.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/hooks/useBreakpoints */ "./node_modules/cozy-ui/transpiled/react/hooks/useBreakpoints/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");




var Title = function Title(_ref) {
  var children = _ref.children;

  var _useBreakpoints = Object(cozy_ui_transpiled_react_hooks_useBreakpoints__WEBPACK_IMPORTED_MODULE_1__["default"])(),
      isMobile = _useBreakpoints.isMobile;

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
    variant: "h4",
    className: 'u-mb-1 ' + (isMobile ? 'u-ta-center' : '')
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Title));

/***/ }),

/***/ "./src/ducks/transfers/steps/TransferState.jsx":
/*!*****************************************************!*\
  !*** ./src/ducks/transfers/steps/TransferState.jsx ***!
  \*****************************************************/
/*! exports provided: DumbTransferSuccessDialog, TransferSuccessDialog, DumbTransferErrorDialog, TransferErrorDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbTransferSuccessDialog", function() { return DumbTransferSuccessDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransferSuccessDialog", function() { return TransferSuccessDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbTransferErrorDialog", function() { return DumbTransferErrorDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransferErrorDialog", function() { return TransferErrorDialog; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Typography */ "./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/CozyDialogs */ "./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Stack */ "./node_modules/cozy-ui/transpiled/react/Stack/index.js");
/* harmony import */ var ducks_transfers_steps_TransferDoneImg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/transfers/steps/TransferDoneImg */ "../overrides/cozy-banks/src/ducks/transfers/steps/TransferDoneImg.jsx");
/* harmony import */ var ducks_transfers_steps_TransferErrorImg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/transfers/steps/TransferErrorImg */ "../overrides/cozy-banks/src/ducks/transfers/steps/TransferErrorImg.jsx");
/* harmony import */ var ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ducks/tracking/browser */ "./src/ducks/tracking/browser.jsx");










var TransferStateDialog = function TransferStateDialog(_ref) {
  var title = _ref.title,
      description = _ref.description,
      onClickPrimaryButton = _ref.onClickPrimaryButton,
      primaryLabel = _ref.primaryLabel,
      Img = _ref.Img;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__["IllustrationDialog"], {
    open: true,
    onClose: onClickPrimaryButton,
    title: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_5__["default"], {
      spacing: "m",
      className: "u-ta-center"
    }, Img, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_2__["default"], {
      variant: "h4"
    }, title)),
    content: description,
    actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
      extension: "full",
      className: "u-flex-grow-1",
      onClick: onClickPrimaryButton,
      label: primaryLabel
    })
  });
};

var DumbTransferSuccessDialog = function DumbTransferSuccessDialog(_ref2) {
  var onExit = _ref2.onExit;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["useTrackPage"])('virements:succes');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransferStateDialog, {
    title: t('Transfer.success.title'),
    Img: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transfers_steps_TransferDoneImg__WEBPACK_IMPORTED_MODULE_6__["default"], null),
    description: t('Transfer.success.description'),
    onClickPrimaryButton: onExit,
    primaryLabel: t('Transfer.exit')
  });
};
var TransferSuccessDialog = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(DumbTransferSuccessDialog);
var defaultErrorPageName = 'impossible';
var konnectorErrorToPageName = {
  LOGIN_FAILED: 'echec',
  'VENDOR_DOWN.BANK_DOWN': 'banque-indisponible'
};

var isLoginFailed = function isLoginFailed(error) {
  return error.message && error.message.includes('LOGIN_FAILED');
};

var DumbTransferErrorDialog = function DumbTransferErrorDialog(_ref3) {
  var onExit = _ref3.onExit,
      error = _ref3.error;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n2.t;

  var loginFailed = isLoginFailed(error);
  var pageName = konnectorErrorToPageName[error.message] || defaultErrorPageName;
  Object(ducks_tracking_browser__WEBPACK_IMPORTED_MODULE_8__["useTrackPage"])("virements:".concat(pageName));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TransferStateDialog, {
    title: t('Transfer.error.title'),
    Img: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_transfers_steps_TransferErrorImg__WEBPACK_IMPORTED_MODULE_7__["default"], null),
    description: loginFailed ? t('Transfer.error.description-login-failed') : t('Transfer.error.description'),
    onClickPrimaryButton: onExit,
    primaryLabel: loginFailed ? t('Transfer.retry') : t('Transfer.exit')
  });
};
var TransferErrorDialog = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(DumbTransferErrorDialog);

/***/ }),

/***/ "./src/ducks/transfers/transfers.js":
/*!******************************************!*\
  !*** ./src/ducks/transfers/transfers.js ***!
  \******************************************/
/*! exports provided: prepareJobAccount, createJob */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "prepareJobAccount", function() { return prepareJobAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createJob", function() { return createJob; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");


function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}


/**
 * Creates a temporary account with authentication
 * and give permission to the konnector to access this account
 *
 * @param  {CozyClient} client
 * @param  {string} konnSlug - ex: "caissedepargne1"
 * @param  {Object} auth - ex: { password: '1234' }
 */

var prepareJobAccount = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, konnSlug, auth) {
    var accounts, permissions, konnectorsCol, _yield$accounts$creat, account, _yield$konnectorsCol$, konnectors, konnector, _yield$permissions$ad, permission;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            accounts = client.collection(doctypes__WEBPACK_IMPORTED_MODULE_1__["COZY_ACCOUNT_DOCTYPE"]);
            permissions = client.collection(doctypes__WEBPACK_IMPORTED_MODULE_1__["PERMISSION_DOCTYPE"]);
            konnectorsCol = client.collection(doctypes__WEBPACK_IMPORTED_MODULE_1__["KONNECTOR_DOCTYPE"]);
            _context.next = 5;
            return accounts.create({
              auth: auth,
              temporary: true
            });

          case 5:
            _yield$accounts$creat = _context.sent;
            account = _yield$accounts$creat.data;
            _context.next = 9;
            return konnectorsCol.all();

          case 9:
            _yield$konnectorsCol$ = _context.sent;
            konnectors = _yield$konnectorsCol$.data;
            konnector = konnectors.find(function (konn) {
              return konn._id === "".concat(doctypes__WEBPACK_IMPORTED_MODULE_1__["KONNECTOR_DOCTYPE"], "/").concat(konnSlug);
            });

            if (konnector) {
              _context.next = 14;
              break;
            }

            throw new Error("Could not find suitable konnector for slug: ".concat(konnSlug));

          case 14:
            _context.next = 16;
            return permissions.add(konnector, _defineProperty({}, account._id, {
              type: doctypes__WEBPACK_IMPORTED_MODULE_1__["COZY_ACCOUNT_DOCTYPE"],
              verbs: ['GET', 'DELETE'],
              values: ["".concat(doctypes__WEBPACK_IMPORTED_MODULE_1__["COZY_ACCOUNT_DOCTYPE"], ".").concat(account._id)]
            }));

          case 16:
            _yield$permissions$ad = _context.sent;
            permission = _yield$permissions$ad.data;
            return _context.abrupt("return", {
              account: account,
              permission: permission,
              konnector: konnector
            });

          case 19:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function prepareJobAccount(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();
/**
 * Creates a job to transfer money
 *
 * @param  {CozyClient} client            - CozyClient
 * @param  {Integer} options.amount    - Amount to send
 * @param  {String} options.recipientId - io.cozy.bank.recipients id
 * @param  {String} options.senderAccount - io.cozy.bank.accounts id
 * @param  {String} options.password - Password of the bank account
 * @param  {String} options.label - Label of the operation
 * @param  {String} options.executionDate - Date of the operation in DD/MM/YYYY
 * @return {Promise}
 */

var createJob = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, _ref2) {
    var amount, recipientId, senderAccount, password, label, executionDate, konnector, _yield$prepareJobAcco, account;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            amount = _ref2.amount, recipientId = _ref2.recipientId, senderAccount = _ref2.senderAccount, password = _ref2.password, label = _ref2.label, executionDate = _ref2.executionDate;
            konnector = senderAccount.cozyMetadata.createdByApp;
            _context2.next = 4;
            return prepareJobAccount(client, konnector, {
              password: password
            });

          case 4:
            _yield$prepareJobAcco = _context2.sent;
            account = _yield$prepareJobAcco.account;
            return _context2.abrupt("return", client.stackClient.jobs.create('konnector', {
              mode: 'transfer',
              konnector: konnector,
              recipientId: recipientId,
              temporaryAccountId: account._id,
              amount: amount,
              senderAccountId: senderAccount._id,
              label: label,
              executionDate: executionDate
            }));

          case 7:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function createJob(_x4, _x5) {
    return _ref3.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/ducks/transfers/utils.js":
/*!**************************************!*\
  !*** ./src/ducks/transfers/utils.js ***!
  \**************************************/
/*! exports provided: isLoginFailed */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLoginFailed", function() { return isLoginFailed; });
var isLoginFailed = function isLoginFailed(error) {
  return error.message && error.message.includes('LOGIN_FAILED');
};

/***/ }),

/***/ "./src/ducks/warnings/Warnings.jsx":
/*!*****************************************!*\
  !*** ./src/ducks/warnings/Warnings.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ducks_warnings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/warnings */ "./src/ducks/warnings/index.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* global __TARGET__ */




var Warnings = /*#__PURE__*/function (_Component) {
  _inherits(Warnings, _Component);

  function Warnings() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, Warnings);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Warnings)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      warnings: null
    });

    _defineProperty(_assertThisInitialized(_this), "checkWarnings", function () {
      var cozyClient = _this.props.client;
      Object(ducks_warnings__WEBPACK_IMPORTED_MODULE_2__["checkWarnings"])(cozyClient).then(function (warnings) {
        _this.setState({
          warnings: warnings
        });
      });
    });

    return _this;
  }

  _createClass(Warnings, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (false) {}
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (false) {}
    }
  }, {
    key: "render",
    value: function render() {
      var warnings = this.state.warnings;

      if (warnings) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, warnings.map(function (warning) {
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ducks_warnings__WEBPACK_IMPORTED_MODULE_2__["WarningsModal"], {
            key: warning.code,
            code: warning.code,
            title: warning.title,
            detail: warning.detail,
            links: warning.links
          });
        }));
      }

      return null;
    }
  }]);

  return Warnings;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["withClient"])(Warnings));

/***/ }),

/***/ "./src/ducks/warnings/WarningsModal.jsx":
/*!**********************************************!*\
  !*** ./src/ducks/warnings/WarningsModal.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var assets_icons_icon_tos_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assets/icons/icon-tos.svg */ "./src/assets/icons/icon-tos.svg");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-ui/transpiled/react/I18n */ "./node_modules/cozy-ui/transpiled/react/I18n/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/Icon */ "./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/transpiled/react/Button */ "../overrides/cozy-ui/transpiled/react/Button/index.jsx");
/* harmony import */ var ducks_warnings_WarningsModal_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/warnings/WarningsModal.styl */ "./src/ducks/warnings/WarningsModal.styl");
/* harmony import */ var ducks_warnings_WarningsModal_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(ducks_warnings_WarningsModal_styl__WEBPACK_IMPORTED_MODULE_6__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









var WarningsModal = /*#__PURE__*/function (_Component) {
  _inherits(WarningsModal, _Component);

  function WarningsModal() {
    _classCallCheck(this, WarningsModal);

    return _possibleConstructorReturn(this, _getPrototypeOf(WarningsModal).apply(this, arguments));
  }

  _createClass(WarningsModal, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          code = _this$props.code,
          title = _this$props.title,
          detail = _this$props.detail,
          links = _this$props.links,
          t = _this$props.t;
      var isTOSUpdated = code === 'tos-updated';
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: ducks_warnings_WarningsModal_styl__WEBPACK_IMPORTED_MODULE_6___default.a.WarningsModal
      }, isTOSUpdated && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
        icon: assets_icons_icon_tos_svg__WEBPACK_IMPORTED_MODULE_2__["default"],
        width: 96,
        height: 96
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: ducks_warnings_WarningsModal_styl__WEBPACK_IMPORTED_MODULE_6___default.a.WarningsModal__title
      }, isTOSUpdated ? t('Warnings.gdpr.title') : title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, isTOSUpdated ? t('Warnings.gdpr.detail') : detail), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
        extension: "full",
        label: isTOSUpdated ? t('Warnings.gdpr.cta') : 'OK',
        tag: "a",
        href: links.self
      }));
    }
  }]);

  return WarningsModal;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

_defineProperty(WarningsModal, "propTypes", {
  code: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  detail: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  links: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(WarningsModal));

/***/ }),

/***/ "./src/ducks/warnings/WarningsModal.styl":
/*!***********************************************!*\
  !*** ./src/ducks/warnings/WarningsModal.styl ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"WarningsModal":"WarningsModal--3z0fa","WarningsModal__title":"WarningsModal__title--1gJCH"};

/***/ }),

/***/ "./src/ducks/warnings/helpers.js":
/*!***************************************!*\
  !*** ./src/ducks/warnings/helpers.js ***!
  \***************************************/
/*! exports provided: checkWarnings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkWarnings", function() { return checkWarnings; });
function checkWarnings(cozyClient) {
  return cozyClient.stackClient.fetchJSON && cozyClient.stackClient.fetchJSON('GET', '/settings/warnings').then(function () {
    return null;
  }).catch(function (err) {
    if (err.status === 402) {
      try {
        var parsed = JSON.parse(err.message);
        var warnings = parsed.errors;
        return warnings;
      } catch (err) {
        return null; // nothing to do
      }
    } else {
      return null;
    }
  });
}

/***/ }),

/***/ "./src/ducks/warnings/index.js":
/*!*************************************!*\
  !*** ./src/ducks/warnings/index.js ***!
  \*************************************/
/*! exports provided: Warnings, WarningsModal, checkWarnings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var ducks_warnings_Warnings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ducks/warnings/Warnings */ "./src/ducks/warnings/Warnings.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Warnings", function() { return ducks_warnings_Warnings__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var ducks_warnings_WarningsModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/warnings/WarningsModal */ "./src/ducks/warnings/WarningsModal.jsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WarningsModal", function() { return ducks_warnings_WarningsModal__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var ducks_warnings_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/warnings/helpers */ "./src/ducks/warnings/helpers.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "checkWarnings", function() { return ducks_warnings_helpers__WEBPACK_IMPORTED_MODULE_2__["checkWarnings"]; });





/***/ }),

/***/ "./src/hooks/useFullyLoadedQuery.jsx":
/*!*******************************************!*\
  !*** ./src/hooks/useFullyLoadedQuery.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _useSafeState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useSafeState */ "./src/hooks/useSafeState.jsx");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




/**
 * Will run fetchMore on the query until the query is fully loaded
 */

var useFullyLoadedQuery = function useFullyLoadedQuery(query, options) {
  var res = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(query, options);

  var _useSafeState = Object(_useSafeState__WEBPACK_IMPORTED_MODULE_3__["default"])(false),
      _useSafeState2 = _slicedToArray(_useSafeState, 2),
      fetching = _useSafeState2[0],
      setFetching = _useSafeState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var checkToFetchMore = /*#__PURE__*/function () {
      var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(res.fetchStatus === 'loaded' && res.hasMore && !fetching)) {
                  _context.next = 5;
                  break;
                }

                setFetching(true);
                _context.next = 4;
                return res.fetchMore();

              case 4:
                setFetching(false);

              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function checkToFetchMore() {
        return _ref.apply(this, arguments);
      };
    }();

    checkToFetchMore(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [res.hasMore, res.fetchStatus, fetching]);
  return res;
};

/* harmony default export */ __webpack_exports__["default"] = (useFullyLoadedQuery);

/***/ }),

/***/ "./src/hooks/useIntersectionObserver.jsx":
/*!***********************************************!*\
  !*** ./src/hooks/useIntersectionObserver.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! intersection-observer */ "./node_modules/intersection-observer/intersection-observer.js");
/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var useIntersectionObserver = function useIntersectionObserver(observerOptions, handleIntersection) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null),
      _useState2 = _slicedToArray(_useState, 2),
      ref = _useState2[0],
      setRef = _useState2[1];

  var callbackRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  callbackRef.current = handleIntersection;
  var handleRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (node) {
    setRef(node);
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!ref) {
      return;
    }

    var handleIntersectionCb = function handleIntersectionCb(options) {
      callbackRef.current(options);
    };

    var o = new IntersectionObserver(handleIntersectionCb, observerOptions);
    o.observe(ref);
    return function () {
      return o.unobserve(ref);
    };
  }, [observerOptions, ref]);
  return handleRef;
};

/* harmony default export */ __webpack_exports__["default"] = (useIntersectionObserver);

/***/ }),

/***/ "./src/hooks/useIsMounted.jsx":
/*!************************************!*\
  !*** ./src/hooks/useIsMounted.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


var useIsMounted = function useIsMounted() {
  var mounted = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    mounted.current = true;
    return function () {
      mounted.current = false;
    };
  }, []);
  return mounted;
};

/* harmony default export */ __webpack_exports__["default"] = (useIsMounted);

/***/ }),

/***/ "./src/hooks/useLast.jsx":
/*!*******************************!*\
  !*** ./src/hooks/useLast.jsx ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Used to store the last value that passes a condition
 * Useful to keep a reference on a query while another
 * one is loading
 */

var useLast = function useLast(value, condition) {
  var last = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);

  if (condition(last.current, value)) {
    last.current = value;
  }

  return last.current;
};

/* harmony default export */ __webpack_exports__["default"] = (useLast);

/***/ }),

/***/ "./src/hooks/useLockedHTML.js":
/*!************************************!*\
  !*** ./src/hooks/useLockedHTML.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var lockedHTML = "html { position: fixed; overflow: hidden !important; }";

var lockSaveAndRestoreScrollFx = function lockSaveAndRestoreScrollFx() {
  var node = document.scrollingElement;
  var scrollLeft = node && node.scrollLeft;
  var scrollTop = node && node.scrollTop;
  var sheetNode = document.createElement('style');
  document.head.appendChild(sheetNode);
  sheetNode.sheet.insertRule(lockedHTML, 0);
  return function () {
    document.head.removeChild(sheetNode);
    requestAnimationFrame(function () {
      node.scrollTo(scrollLeft, scrollTop);
    });
  };
};
/**
 * A component using this effect will block the scroll on document.html
 * while it is mounted. When unmounted, it restores the scroll.
 */


var useLockedBody = function useLockedBody() {
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(lockSaveAndRestoreScrollFx, []);
};

/* harmony default export */ __webpack_exports__["default"] = (useLockedBody);

/***/ }),

/***/ "./src/hooks/useRedirectionURL.js":
/*!****************************************!*\
  !*** ./src/hooks/useRedirectionURL.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/pickBy */ "./node_modules/lodash/pickBy.js");
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_pickBy__WEBPACK_IMPORTED_MODULE_3__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}




/**
 * Custom hook to get a URL to another app / konnector
 */

var useRedirectionURL = function useRedirectionURL(doctype, _ref) {
  var type = _ref.type,
      category = _ref.category,
      pendingUpdate = _ref.pendingUpdate;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(),
      _useState2 = _slicedToArray(_useState, 2),
      redirectionURL = _useState2[0],
      setRedirectionURL = _useState2[1];

  var updateRedirectionURL = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var url;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return client.intents.getRedirectionURL('io.cozy.apps', lodash_pickBy__WEBPACK_IMPORTED_MODULE_3___default()({
              type: type,
              category: category,
              pendingUpdate: pendingUpdate
            }, Boolean));

          case 3:
            url = _context.sent;
            setRedirectionURL(url);
            _context.next = 10;
            break;

          case 7:
            _context.prev = 7;
            _context.t0 = _context["catch"](0); // eslint-disable-next-line no-console

            console.warn("useRedirectionURL: Could not get redirection url for type: ".concat(type, ", category: ").concat(category, "."));

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 7]]);
  })), [client.intents, type, category, pendingUpdate]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    updateRedirectionURL();
  }, [updateRedirectionURL]);
  return [redirectionURL, updateRedirectionURL];
};

/* harmony default export */ __webpack_exports__["default"] = (useRedirectionURL);

/***/ }),

/***/ "./src/hooks/useSafeState.jsx":
/*!************************************!*\
  !*** ./src/hooks/useSafeState.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _useIsMounted__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useIsMounted */ "./src/hooks/useIsMounted.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var useSafeState = function useSafeState(initialState) {
  var mounted = Object(_useIsMounted__WEBPACK_IMPORTED_MODULE_1__["default"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(initialState),
      _useState2 = _slicedToArray(_useState, 2),
      state = _useState2[0],
      setState = _useState2[1];

  var setSafeState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (newState) {
    if (mounted.current) {
      setState(newState);
    }
  }, [] // eslint-disable-line react-hooks/exhaustive-deps
  );
  return [state, setSafeState];
};

/* harmony default export */ __webpack_exports__["default"] = (useSafeState);

/***/ }),

/***/ "./src/hooks/useSwitch.js":
/*!********************************!*\
  !*** ./src/hooks/useSwitch.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}


/** Hook to manipulate a Boolean variable */

var useSwitch = function useSwitch(initialState) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(initialState),
      _useState2 = _slicedToArray(_useState, 2),
      state = _useState2[0],
      setState = _useState2[1];

  var toggleOn = function toggleOn() {
    return setState(true);
  };

  var toggleOff = function toggleOff() {
    return setState(false);
  };

  return [state, toggleOn, toggleOff];
};

/* harmony default export */ __webpack_exports__["default"] = (useSwitch);

/***/ }),

/***/ "./src/hooks/useTransactionExtent.jsx":
/*!********************************************!*\
  !*** ./src/hooks/useTransactionExtent.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
/* harmony import */ var ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ducks/transactions/queries */ "./src/ducks/transactions/queries.js");
/* harmony import */ var hooks_useSafeState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! hooks/useSafeState */ "./src/hooks/useSafeState.jsx");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }







 // We do not want queries with the minimal and maximal transaction to receive
// transactions from other queries

var extentAutoUpdateOptions = {
  update: true,
  add: false,
  remove: false
};

var useConn = function useConn(conn) {
  return Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(conn.query, conn);
};
/**
 * Fetches earliest an latest transactions according to current
 * account/group filter
 *
 * @returns {[Transaction, Transaction, boolean]} = [earliestTransaction, latestTransaction, isLoading]
 */


var useTransactionExtent = function useTransactionExtent() {
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useClient"])();
  var accounts = useConn(doctypes__WEBPACK_IMPORTED_MODULE_4__["accountsConn"]);
  var groups = useConn(doctypes__WEBPACK_IMPORTED_MODULE_4__["groupsConn"]);

  var _useSafeState = Object(hooks_useSafeState__WEBPACK_IMPORTED_MODULE_6__["default"])(true),
      _useSafeState2 = _slicedToArray(_useSafeState, 2),
      loading = _useSafeState2[0],
      setLoading = _useSafeState2[1];

  var filteringDoc = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(ducks_filters__WEBPACK_IMPORTED_MODULE_7__["getFilteringDoc"]);
  var transactionsConn = Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_5__["makeFilteredTransactionsConn"])({
    filteringDoc: filteringDoc,
    accounts: accounts,
    groups: groups
  });

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      data = _useState2[0],
      setData = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {
    var fetch = /*#__PURE__*/function () {
      var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var baseQuery, _makeEarliestLatestQu, _makeEarliestLatestQu2, earliestQuery, latestQuery, _yield$Promise$all, _yield$Promise$all2, earliest, latest;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                baseQuery = transactionsConn.query();
                _makeEarliestLatestQu = Object(ducks_transactions_queries__WEBPACK_IMPORTED_MODULE_5__["makeEarliestLatestQueries"])(baseQuery), _makeEarliestLatestQu2 = _slicedToArray(_makeEarliestLatestQu, 2), earliestQuery = _makeEarliestLatestQu2[0], latestQuery = _makeEarliestLatestQu2[1];
                setLoading(true);
                _context2.prev = 3;
                _context2.next = 6;
                return Promise.all([earliestQuery, latestQuery].map( /*#__PURE__*/function () {
                  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(q, i) {
                    var queryName;
                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            queryName = "".concat(transactionsConn.as, "-").concat(i === 0 ? 'earliest' : 'latest');
                            _context.next = 3;
                            return client.query(q, {
                              fetchPolicy: cozy_client__WEBPACK_IMPORTED_MODULE_3___default.a.fetchPolicies.olderThan(30 * 1000),
                              as: queryName,
                              autoUpdate: extentAutoUpdateOptions
                            });

                          case 3:
                            return _context.abrupt("return", client.getQueryFromState(queryName));

                          case 4:
                          case "end":
                            return _context.stop();
                        }
                      }
                    }, _callee);
                  }));

                  return function (_x, _x2) {
                    return _ref2.apply(this, arguments);
                  };
                }()));

              case 6:
                _yield$Promise$all = _context2.sent;
                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);
                earliest = _yield$Promise$all2[0];
                latest = _yield$Promise$all2[1];
                setData([earliest.data[0], latest.data[0]]);

              case 11:
                _context2.prev = 11;
                setLoading(false);
                return _context2.finish(11);

              case 14:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[3,, 11, 14]]);
      }));

      return function fetch() {
        return _ref.apply(this, arguments);
      };
    }();

    if (transactionsConn.enabled) {
      fetch();
    }
  }, [transactionsConn.enabled, transactionsConn.as]); // eslint-disable-line

  return [data[0], data[1], loading];
};

/* harmony default export */ __webpack_exports__["default"] = (useTransactionExtent);

/***/ }),

/***/ "./src/hooks/useVisible.jsx":
/*!**********************************!*\
  !*** ./src/hooks/useVisible.jsx ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var hooks_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hooks/useIntersectionObserver */ "./src/hooks/useIntersectionObserver.jsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var defaultObserverOptions = {
  threshold: [0, 1]
};

var useVisible = function useVisible(initialVisible) {
  var observerOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultObserverOptions;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(initialVisible),
      _useState2 = _slicedToArray(_useState, 2),
      visible = _useState2[0],
      setVisible = _useState2[1];

  var handleIntersection = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (entries) {
    if (entries[0].intersectionRatio > 0 && !visible) {
      setVisible(true);
    }
  }, [setVisible, visible]);
  var ref = Object(hooks_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_1__["default"])(observerOptions, handleIntersection);
  return [ref, visible];
};

/* harmony default export */ __webpack_exports__["default"] = (useVisible);

/***/ }),

/***/ "./src/lib/chartjsPieLabels.js":
/*!*************************************!*\
  !*** ./src/lib/chartjsPieLabels.js ***!
  \*************************************/
/*! exports provided: pieLabelsPlugin, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pieLabelsPlugin", function() { return pieLabelsPlugin; });
// From https://github.com/emn178/Chart.PieceLabel.js
// Just replaced format by labelFormater to work correctly

/* global Chart */
function drawArcText(context, str, centerX, centerY, radius, startAngle, endAngle) {
  context.save();
  context.translate(centerX, centerY);
  startAngle += Math.PI / 2;
  endAngle += Math.PI / 2;
  var mertrics = context.measureText(str);
  startAngle += (endAngle - (mertrics.width / radius + startAngle)) / 2;
  context.rotate(startAngle);

  for (var i = 0; i < str.length; i++) {
    var char = str.charAt(i);
    mertrics = context.measureText(char);
    context.save();
    context.translate(0, -1 * radius);
    context.fillText(char, 0, 0);
    context.restore();
    context.rotate(mertrics.width / radius);
  }

  context.restore();
}

var pieLabelsPlugin = {
  afterDraw: function afterDraw(chartInstance) {
    if (!chartInstance.options.pieceLabel) {
      return;
    }

    var ctx = chartInstance.chart.ctx;
    var options = chartInstance.config.options;
    var arcText = chartInstance.options.pieceLabel.arcText;
    var labelFormater = chartInstance.options.pieceLabel.labelFormater;
    var precision = chartInstance.options.pieceLabel.precision || 0;
    var fontSize = chartInstance.options.pieceLabel.fontSize || options.defaultFontSize;
    var fontColor = chartInstance.options.pieceLabel.fontColor || '#fff';
    var fontStyle = chartInstance.options.pieceLabel.fontStyle || options.defaultFontStyle;
    var fontFamily = chartInstance.options.pieceLabel.fontFamily || options.defaultFontFamily;
    var hasTooltip = chartInstance.tooltip._active && chartInstance.tooltip._active.length;
    chartInstance.config.data.datasets.forEach(function (dataset) {
      var meta = dataset._meta[Object.keys(dataset._meta)[0]];

      var totalPercentage = 0;

      for (var i = 0; i < meta.data.length; i++) {
        var element = meta.data[i];
        var view = element._view;

        if (hasTooltip) {
          element.draw();
        }

        var text = void 0,
            value = void 0,
            percentage = void 0;

        switch (chartInstance.options.pieceLabel.mode) {
          case 'value':
            value = dataset.data[i];

            if (labelFormater) {
              value = labelFormater(value);
            }

            text = value.toString();
            break;

          case 'label':
            text = chartInstance.config.data.labels[i];
            break;

          case 'percentage':
          default:
            percentage = view.circumference / options.circumference * 100;
            percentage = parseFloat(percentage.toFixed(precision));
            totalPercentage += percentage;

            if (totalPercentage > 100) {
              percentage -= totalPercentage - 100; // After adjusting the percentage, need to trim the numbers after decimal points again, otherwise it may not show
              // on chart due to very long number after decimal point.

              percentage = parseFloat(percentage.toFixed(precision));
            }

            text = percentage + '%';
            break;
        }

        ctx.save();
        ctx.beginPath();
        ctx.font = Chart.helpers.fontString(fontSize, fontStyle, fontFamily);
        var mertrics = ctx.measureText(text);
        var tooltipPosition = element.tooltipPosition();
        var left = tooltipPosition.x - mertrics.width / 2;
        var right = tooltipPosition.x + mertrics.width / 2;
        var top = tooltipPosition.y - fontSize / 2;
        var bottom = tooltipPosition.y + fontSize / 2;
        var inRange = element.inRange(left, top) && element.inRange(left, bottom) && element.inRange(right, top) && element.inRange(right, bottom);

        if (inRange) {
          ctx.fillStyle = fontColor;

          if (arcText) {
            ctx.textBaseline = 'middle';
            drawArcText(ctx, text, view.x, view.y, (view.innerRadius + view.outerRadius) / 2, view.startAngle, view.endAngle);
          } else {
            ctx.textBaseline = 'top';
            ctx.textAlign = 'center';
            ctx.fillText(text, tooltipPosition.x, tooltipPosition.y - fontSize / 2);
          }
        }

        ctx.restore();
      }
    });

    if (hasTooltip) {
      chartInstance.tooltip.draw();
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = (pieLabelsPlugin);

/***/ }),

/***/ "./src/lib/cozyUrl.js":
/*!****************************!*\
  !*** ./src/lib/cozyUrl.js ***!
  \****************************/
/*! exports provided: getProtocol, getSlug, getApp, getDomain */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProtocol", function() { return getProtocol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSlug", function() { return getSlug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getApp", function() { return getApp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDomain", function() { return getDomain; });
var protocolRegex = '(https?):/{2}';
var cozyRegex = '([^.-]+)(-([^.]+))?.([^.]*.[^./:]*)';
var getProtocol = function getProtocol(url) {
  var r = new RegExp("^".concat(protocolRegex));

  if (url.match(r)) {
    return url.match(r)[1];
  }
};
var getSlug = function getSlug(url) {
  var r = new RegExp("^(".concat(protocolRegex, ")?(").concat(cozyRegex, ")"));

  if (url.match(r)) {
    return url.match(r)[4];
  }
};
var getApp = function getApp(url) {
  var r = new RegExp("^(".concat(protocolRegex, ")?(").concat(cozyRegex, ")"));

  if (url.match(r)) {
    return url.match(r)[6];
  }
};
var getDomain = function getDomain(url) {
  var r = new RegExp("^(".concat(protocolRegex, ")?(").concat(cozyRegex, ")"));

  if (url.match(r)) {
    return url.match(r)[7];
  }
};

/***/ }),

/***/ "./src/lib/sentry.js":
/*!***************************!*\
  !*** ./src/lib/sentry.js ***!
  \***************************/
/*! exports provided: normalizeData, isSentryEnabled, setURLContext, getSentryMiddleware, configureSentry, logException, logInfo, SentryCozyClientPlugin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeData", function() { return normalizeData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSentryEnabled", function() { return isSentryEnabled; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setURLContext", function() { return setURLContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSentryMiddleware", function() { return getSentryMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "configureSentry", function() { return configureSentry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logException", function() { return logException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logInfo", function() { return logInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SentryCozyClientPlugin", function() { return SentryCozyClientPlugin; });
/* harmony import */ var raven_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! raven-js */ "./node_modules/raven-js/src/singleton.js");
/* harmony import */ var raven_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(raven_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var redux_raven_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux-raven-middleware */ "./node_modules/redux-raven-middleware/index.js");
/* harmony import */ var redux_raven_middleware__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux_raven_middleware__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lib_cozyUrl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/cozyUrl */ "./src/lib/cozyUrl.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}
/* global __SENTRY_URL__, __TARGET__, __DEVELOPMENT__, __APP_VERSION__ */





var domain;
var slug;

var normalizeData = function normalizeData(data) {
  data = normalizeRequestUrl(data);
  data = normalizeStacktrace(data);
  data = normalizeBreadcrumbs(data);
  return data;
}; // Configure

var isSentryEnabled = function isSentryEnabled() {
  return true;
};

var getSentryConfiguration = function getSentryConfiguration(cozyClient) {
  var config = {
    shouldSendCallback: true,
    environment: 'production',
    release: "1.5.5",
    allowSecretKey: true,
    dataCallback: normalizeData
  };

  if (true) {
    config.transport = function (options) {
      var auth = options.auth,
          data = options.data;

      var parameters = _objectSpread({}, auth, {
        project: data.project,
        data: JSON.stringify(data)
      });

      cozyClient.stackClient.fetchJSON('POST', '/remote/cc.cozycloud.sentry', parameters).catch(options.onError).then(options.onSuccess);
    };
  }

  return config;
};

var setURLContext = function setURLContext(url) {
  domain = Object(lib_cozyUrl__WEBPACK_IMPORTED_MODULE_2__["getDomain"])(url);
  slug = Object(lib_cozyUrl__WEBPACK_IMPORTED_MODULE_2__["getSlug"])(url);
};
var getSentryMiddleware = function getSentryMiddleware(cozyClient) {
  console.log('----Senrty Middleware Flag', cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.url.sentry'));
  return redux_raven_middleware__WEBPACK_IMPORTED_MODULE_1___default()(cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.url.sentry'), getSentryConfiguration(cozyClient));
};
var configureSentry = function configureSentry(cozyClient) {
  console.log('----Configur Flag', cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.url.sentry'));
  raven_js__WEBPACK_IMPORTED_MODULE_0___default.a.config(cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('banks.url.sentry'), getSentryConfiguration(cozyClient)).install();
  raven_js__WEBPACK_IMPORTED_MODULE_0___default.a.setTagsContext({
    target: "browser"
  });
}; // Normalize

var normalizeRequestUrl = function normalizeRequestUrl(data) {
  if (data && data.request && data.request.url) {
    var urlFragment = data.request.url.split('#', 2);

    if (urlFragment.length === 2) {
      data.request.url = 'banks://index.html#' + urlFragment[1];
    }
  }

  return data;
};

var normalizeStacktrace = function normalizeStacktrace(data) {
  if (data && data.stacktrace && data.stacktrace.frames && data.stacktrace.frames.length > 0) {
    var scriptRegex = new RegExp('/([a-z]+.js.*)');
    data.stacktrace.frames = data.stacktrace.frames.map(function (frame) {
      var filenameFragment = frame.filename.match(scriptRegex);

      if (filenameFragment && filenameFragment.length > 1) {
        frame.filename = 'banks://' + filenameFragment[1];
      }

      return frame;
    });
  }

  return data;
};

var normalizeBreadcrumbs = function normalizeBreadcrumbs(data) {
  if (data && data.breadcrumbs && data.breadcrumbs.values && data.breadcrumbs.values.length > 0) {
    var cleanUrl = function cleanUrl(url) {
      var urlFragment = url.split('index.html');

      if (urlFragment.length > 1) {
        return "banks://index.html".concat(urlFragment[1]);
      }

      return url;
    };

    data.breadcrumbs.values = data.breadcrumbs.values.map(function (breadcrumb) {
      if (breadcrumb.data && breadcrumb.data.from) {
        breadcrumb.data.from = cleanUrl(breadcrumb.data.from);
      }

      if (breadcrumb.data && breadcrumb.data.to) {
        breadcrumb.data.to = cleanUrl(breadcrumb.data.to);
      }

      return breadcrumb;
    });
    return data;
  }
}; // LOG


var logMessage = function logMessage(message) {
  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';
  console.log('----Message', message);
  raven_js__WEBPACK_IMPORTED_MODULE_0___default.a.captureMessage(message, {
    level: level,
    tags: {
      slug: slug,
      domain: domain
    }
  });
};

var logException = function logException(err) {
  return new Promise(function (resolve) {
    raven_js__WEBPACK_IMPORTED_MODULE_0___default.a.captureException(err, {
      tags: {
        slug: slug,
        domain: domain
      }
    }); // eslint-disable-next-line no-console

    console.warn('Raven is recording exception'); // eslint-disable-next-line no-console

    console.error(err);
    resolve();
  });
};
var logInfo = function logInfo(message) {
  return logMessage(message);
};
var SentryCozyClientPlugin = function SentryCozyClientPlugin(client) {
  _classCallCheck(this, SentryCozyClientPlugin);

  if (true) {
    setURLContext(client.stackClient.uri);
  }

  configureSentry(client);
  client.on('login', function () {
    setURLContext(client.stackClient.uri);
  });
};
SentryCozyClientPlugin.pluginName = 'sentry';

/***/ }),

/***/ "./src/logger.js":
/*!***********************!*\
  !*** ./src/logger.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cozy_minilog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cozy/minilog */ "./node_modules/@cozy/minilog/lib/web/index.js");
/* harmony import */ var _cozy_minilog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cozy_minilog__WEBPACK_IMPORTED_MODULE_0__);

window.minilog = _cozy_minilog__WEBPACK_IMPORTED_MODULE_0___default.a;
var logger = _cozy_minilog__WEBPACK_IMPORTED_MODULE_0___default()('banks');
/* harmony default export */ __webpack_exports__["default"] = (logger);

/***/ }),

/***/ "./src/main.jsx":
/*!**********************!*\
  !*** ./src/main.jsx ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var utils_react_exposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/react-exposer */ "./src/utils/react-exposer.js");
/* harmony import */ var utils_react_exposer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(utils_react_exposer__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! whatwg-fetch */ "./node_modules/whatwg-fetch/fetch.js");
/* harmony import */ var styles_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styles/main */ "./src/styles/main.styl");
/* harmony import */ var styles_main__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(styles_main__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/stylesheet.css */ "./node_modules/cozy-ui/transpiled/react/stylesheet.css");
/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_dist_cozy_ui_utils_min_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cozy-ui/dist/cozy-ui.utils.min.css */ "./node_modules/cozy-ui/dist/cozy-ui.utils.min.css");
/* harmony import */ var cozy_ui_dist_cozy_ui_utils_min_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_dist_cozy_ui_utils_min_css__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var store_persistedState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! store/persistedState */ "./src/store/persistedState.js");
/* harmony import */ var store_configureStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! store/configureStore */ "./src/store/configureStore.js");
/* harmony import */ var number_to_locale_string__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! number-to-locale-string */ "./node_modules/number-to-locale-string/polyfill.number.toLocaleString.js");
/* harmony import */ var number_to_locale_string__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(number_to_locale_string__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var fastclick__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! fastclick */ "./node_modules/fastclick/lib/fastclick.js");
/* harmony import */ var fastclick__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(fastclick__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var utils_d3__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! utils/d3 */ "./src/utils/d3.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! cozy-device-helper */ "./node_modules/cozy-device-helper/dist/index.js");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! cozy-ui/transpiled/react/Alerter */ "./node_modules/cozy-ui/transpiled/react/Alerter/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! cozy-harvest-lib */ "./node_modules/cozy-harvest-lib/dist/index.js");
/* harmony import */ var utils_history__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! utils/history */ "./src/utils/history.js");
/* harmony import */ var ducks_client__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ducks/client */ "./src/ducks/client/index.js");
/* harmony import */ var utils_flag__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! utils/flag */ "../overrides/cozy-banks/src/utils/flag.js");
/* harmony import */ var utils_token__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! utils/token */ "./src/utils/token.js");
/* harmony import */ var utils_display_debug__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! utils/display.debug */ "./src/utils/display.debug.js");
/* harmony import */ var ducks_pin_plugin__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ducks/pin/plugin */ "./src/ducks/pin/plugin.js");
/* harmony import */ var utils_cozyBar__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! utils/cozyBar */ "./src/utils/cozyBar.js");
/* harmony import */ var utils_lang__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! utils/lang */ "./src/utils/lang.jsx");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./logger */ "./src/logger.js");
/* harmony import */ var utils_cozyData__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! utils/cozyData */ "./src/utils/cozyData.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

/* global __TARGET__ */
// Uncomment to activate why-did-you-render
// https://github.com/welldone-software/why-did-you-render
// import './wdyr'



























if (false) {}

var store, client, history, lang, root;

var initRender = function initRender() {
  if (Object(cozy_harvest_lib__WEBPACK_IMPORTED_MODULE_16__["handleOAuthResponse"])()) return;

  var AppContainer = __webpack_require__(/*! ./AppContainer */ "./src/AppContainer.jsx").default;

  root = Object(react_dom__WEBPACK_IMPORTED_MODULE_7__["render"])(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(AppContainer, {
    store: store,
    client: client,
    lang: lang,
    history: history
  }), document.querySelector('[role=application]', root));
};

var setupApp = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(persistedState) {
    var root, refreshFlags, _parseCozyData, _parseCozyData$app, icon, name, locale, onStartOrResume;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            root = document.querySelector('[role=application]');
            lang = Object(utils_lang__WEBPACK_IMPORTED_MODULE_24__["getLanguageFromDOM"])(root);
            Object(utils_d3__WEBPACK_IMPORTED_MODULE_12__["setupLocale"])(lang);
            history = Object(utils_history__WEBPACK_IMPORTED_MODULE_17__["setupHistory"])();
            _context2.next = 6;
            return Object(ducks_client__WEBPACK_IMPORTED_MODULE_18__["getClient"])(persistedState);

          case 6:
            client = _context2.sent;
            store = Object(store_configureStore__WEBPACK_IMPORTED_MODULE_9__["default"])(client, persistedState);
            client.registerPlugin(ducks_client__WEBPACK_IMPORTED_MODULE_18__["CleanupStoreClientPlugin"], {
              store: store
            });
            client.registerPlugin(ducks_pin_plugin__WEBPACK_IMPORTED_MODULE_22__["default"]);
            client.registerPlugin(cozy_flags__WEBPACK_IMPORTED_MODULE_15___default.a.plugin);
            client.registerPlugin(ducks_client__WEBPACK_IMPORTED_MODULE_18__["StartupChecksPlugin"], {
              launchTriggers: [{
                slug: 'banks',
                name: 'autogroups',
                type: '@event',
                policy: 'never-executed'
              }],
              // Delay startup checks to lessen the load at page startup
              delay: 5000
            });

            refreshFlags = /*#__PURE__*/function () {
              var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        if (!client.plugins.flags.refresh) {
                          _context.next = 5;
                          break;
                        }

                        _context.next = 3;
                        return client.plugins.flags.refresh();

                      case 3:
                        _context.next = 7;
                        break;

                      case 5:
                        _context.next = 7;
                        return cozy_flags__WEBPACK_IMPORTED_MODULE_15___default.a.initializeFromRemote(client);

                      case 7:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee);
              }));

              return function refreshFlags() {
                return _ref2.apply(this, arguments);
              };
            }();

            document.addEventListener('resume', function () {
              refreshFlags();
            });
            document.addEventListener('visibilitychange', function () {
              if (document.visibilityState === 'visible') {
                refreshFlags();
              }
            });
            client.setStore(store);
            Object(store_persistedState__WEBPACK_IMPORTED_MODULE_8__["persistState"])(store);

            if (true) {
              _parseCozyData = Object(utils_cozyData__WEBPACK_IMPORTED_MODULE_26__["default"])(root), _parseCozyData$app = _parseCozyData.app, icon = _parseCozyData$app.icon, name = _parseCozyData$app.name, locale = _parseCozyData.locale;
              !cozy_flags__WEBPACK_IMPORTED_MODULE_15___default()('authentication') && utils_cozyBar__WEBPACK_IMPORTED_MODULE_23__["default"].init({
                appName: name,
                cozyClient: client,
                iconPath: icon,
                lang: locale,
                replaceTitleOnMobile: true
              });
            } else {}

            initRender();

          case 19:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function setupApp(_x) {
    return _ref.apply(this, arguments);
  };
}();

document.addEventListener('DOMContentLoaded', function () {
  Object(store_persistedState__WEBPACK_IMPORTED_MODULE_8__["loadState"])().then(setupApp); // We add fastclick only for iOS since Chrome removed this behavior (iOS also, but
  // we still use UIWebview and not WKWebview... )

  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_13__["isIOSApp"])()) {
    fastclick__WEBPACK_IMPORTED_MODULE_11___default.a.attach(document.body);
  }
});

if (false) {}

/***/ }),

/***/ "./src/selectors/getClient.js":
/*!************************************!*\
  !*** ./src/selectors/getClient.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var client;

var getClient = function getClient() {
  if (!client) {
    client = window.cozyClient;
  }

  return client;
};

/* harmony default export */ __webpack_exports__["default"] = (getClient);

/***/ }),

/***/ "./src/selectors/index.js":
/*!********************************!*\
  !*** ./src/selectors/index.js ***!
  \********************************/
/*! exports provided: querySelector, queryDataSelector, documentSelector, getTransactionsRaw, getGroups, getSettings, getConfig, getAccounts, getRecurrences, getTransactions, getVirtualAccounts, getAllAccounts, getAutoGroups, getVirtualGroups, getWarningLimitPerAccount, getHydratedAccountsFromGroup, getAllGroups, getGroupsById, getAccountsById */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "querySelector", function() { return querySelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queryDataSelector", function() { return queryDataSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "documentSelector", function() { return documentSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactionsRaw", function() { return getTransactionsRaw; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroups", function() { return getGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSettings", function() { return getSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getConfig", function() { return getConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccounts", function() { return getAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRecurrences", function() { return getRecurrences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransactions", function() { return getTransactions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getVirtualAccounts", function() { return getVirtualAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAllAccounts", function() { return getAllAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAutoGroups", function() { return getAutoGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getVirtualGroups", function() { return getVirtualGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWarningLimitPerAccount", function() { return getWarningLimitPerAccount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getHydratedAccountsFromGroup", function() { return getHydratedAccountsFromGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAllGroups", function() { return getAllGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupsById", function() { return getGroupsById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAccountsById", function() { return getAccountsById; });
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ducks/groups/helpers */ "./src/ducks/groups/helpers.js");
/* harmony import */ var ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ducks/account/helpers */ "./src/ducks/account/helpers.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-client */ "./node_modules/cozy-client/dist/index.js");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _getClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getClient */ "./src/selectors/getClient.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/keyBy */ "./node_modules/lodash/keyBy.js");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/settings/helpers */ "./src/ducks/settings/helpers.js");
/* harmony import */ var doctypes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! doctypes */ "../overrides/cozy-banks/src/doctypes.js");
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}










var updatedAtSameTime = function updatedAtSameTime(currentQuery, prevQuery) {
  return currentQuery && prevQuery && currentQuery.lastUpdate === prevQuery.lastUpdate;
};

var queryCreateSelector = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelectorCreator"])(reselect__WEBPACK_IMPORTED_MODULE_0__["defaultMemoize"], updatedAtSameTime);

var hydratedQuery = function hydratedQuery(queryResult) {
  // We need the client here since selectors that are directly exported
  // from cozy-client cannot hydrate. We should find a better way to do
  // that :
  //  - Be able to hydrate without a client.
  //  - Put the schema inside the store.
  //  - The problem is that some methods used by relationships are bound
  //    to the client
  var client = Object(_getClient__WEBPACK_IMPORTED_MODULE_4__["default"])();
  var doctype = queryResult.definition && queryResult.definition.doctype;
  var data = client.hydrateDocuments(doctype, queryResult.data);
  return _objectSpread({}, queryResult, {
    data: data
  });
};

var getRawQuery = function getRawQuery(queryName) {
  return function (state) {
    return Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["getQueryFromState"])(state, queryName);
  };
};
/**
 * Hydratation is expensive as it creates new objects that do not play well
 * with React's triple equal checks to bypass renders.
 * This is why we memoize based on the queryResult which should change
 * identity more rarely (only when updating results inside).
 */


var getHydratedQuery = function getHydratedQuery(queryName) {
  return queryCreateSelector([getRawQuery(queryName)], hydratedQuery);
};

var querySelector = function querySelector(queryName) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return options.hydrated ? getHydratedQuery(queryName) : getRawQuery(queryName);
};
var queryDataSelector = function queryDataSelector(queryName, options) {
  return queryCreateSelector([querySelector(queryName, options)], function (query) {
    return query && query.data || [];
  });
};
var documentSelector = function documentSelector(doctype) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([function (state) {
    return state.cozy.documents[doctype];
  }], function (documents) {
    var client = Object(_getClient__WEBPACK_IMPORTED_MODULE_4__["default"])();
    var docs = Object.values(documents || {});
    return options.hydrated ? client.hydrateDocuments(doctype, docs) : docs;
  });
};
var getTransactionsRaw = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([documentSelector(doctypes__WEBPACK_IMPORTED_MODULE_7__["TRANSACTION_DOCTYPE"], {
  hydrated: true
})], function (partialTransactions) {
  return partialTransactions.filter(function (x) {
    return !!x.label;
  });
});
var getGroups = queryDataSelector('groups', {
  hydrated: true
});
var getSettings = queryDataSelector('settings', {
  hydrated: true
});
var getConfig = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getSettings], function (settings) {
  return Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__["getDefaultedSettings"])(settings.find(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__["isConfigurationSetting"]));
});
var getAccounts = queryDataSelector('accounts');
var getRecurrences = queryDataSelector('recurrence', {
  hydrated: true
});
var getTransactions = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getTransactionsRaw], function (transactions) {
  return transactions.filter(Boolean);
});
var getVirtualAccounts = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getTransactions], function (transactions) {
  return Object(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__["buildVirtualAccounts"])(transactions);
});
var getAllAccounts = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getAccounts, getVirtualAccounts], function (accounts, virtualAccounts) {
  return [].concat(_toConsumableArray(accounts), _toConsumableArray(virtualAccounts));
});
var getAutoGroups = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getGroups], function (groups) {
  return groups.filter(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_1__["isAutoGroup"]);
});
var getVirtualGroups = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getAllAccounts, getAutoGroups], function (accounts, autoGroups) {
  // While autogroups service has not run, we display virtual groups
  // to the user
  if (autoGroups.length === 0) {
    return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_1__["buildAutoGroups"])(accounts, {
      virtual: true
    });
  } else {
    return Object(ducks_groups_helpers__WEBPACK_IMPORTED_MODULE_1__["buildAutoGroups"])(accounts.filter(ducks_account_helpers__WEBPACK_IMPORTED_MODULE_2__["isReimbursementsAccount"]), {
      virtual: true
    });
  }
});
var getWarningLimitPerAccount = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getConfig, getAccounts, getGroups], function (config, accounts, groups) {
  var balanceLowerRules = Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__["getNotificationFromConfig"])(config, 'balanceLower');
  return Object(ducks_settings_helpers__WEBPACK_IMPORTED_MODULE_6__["getWarningLimitsPerAccount"])(balanceLowerRules, accounts, groups);
});
var getHydratedAccountsFromGroup = function getHydratedAccountsFromGroup(state, group, client) {
  var rawAccounts = group.accounts.data.filter(Boolean).map(function (account) {
    return client.getDocumentFromState(doctypes__WEBPACK_IMPORTED_MODULE_7__["ACCOUNT_DOCTYPE"], account._id) || account;
  });
  return client.hydrateDocuments(doctypes__WEBPACK_IMPORTED_MODULE_7__["ACCOUNT_DOCTYPE"], rawAccounts);
};
var getAllGroups = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getGroups, getVirtualGroups], function (groups, virtualGroups) {
  return [].concat(_toConsumableArray(groups), _toConsumableArray(virtualGroups));
});
var getGroupsById = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getAllGroups], function (groups) {
  return lodash_keyBy__WEBPACK_IMPORTED_MODULE_5___default()(groups, '_id');
});
var getAccountsById = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([getAccounts], function (accounts) {
  return lodash_keyBy__WEBPACK_IMPORTED_MODULE_5___default()(accounts, '_id');
});

/***/ }),

/***/ "./src/store/configureStore.js":
/*!*************************************!*\
  !*** ./src/store/configureStore.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var redux_thunk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux-thunk */ "./node_modules/redux-thunk/es/index.js");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux-logger */ "./node_modules/redux-logger/dist/redux-logger.js");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(redux_logger__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cozy-ui/transpiled/react/helpers/tracker */ "./node_modules/cozy-ui/transpiled/react/helpers/tracker.js");
/* harmony import */ var lib_sentry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/sentry */ "./src/lib/sentry.js");
/* harmony import */ var ducks_filters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ducks/filters */ "./src/ducks/filters/index.js");
/* global __DEVELOPMENT__ */








var configureStore = function configureStore(cozyClient, persistedState) {
  // Enable Redux dev tools
  var composeEnhancers =  true && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || redux__WEBPACK_IMPORTED_MODULE_0__["compose"]; // middlewares

  var middlewares = [redux_thunk__WEBPACK_IMPORTED_MODULE_1__["default"]];

  if (Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_4__["shouldEnableTracking"])() && Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_4__["getTracker"])()) {
    middlewares.push(createTrackerMiddleware());
  }

  if (cozy_flags__WEBPACK_IMPORTED_MODULE_3___default()('logs') && true) {
    // eslint-disable-line
    // must be the last middleware in chain https://git.io/vHQpt
    var loggerMiddleware = Object(redux_logger__WEBPACK_IMPORTED_MODULE_2__["createLogger"])();
    middlewares.push(loggerMiddleware);
  }

  middlewares.push(Object(lib_sentry__WEBPACK_IMPORTED_MODULE_5__["getSentryMiddleware"])(cozyClient));
  var store = Object(redux__WEBPACK_IMPORTED_MODULE_0__["createStore"])(Object(redux__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    filters: ducks_filters__WEBPACK_IMPORTED_MODULE_6__["default"],
    cozy: cozyClient.reducer()
  }), persistedState, composeEnhancers(redux__WEBPACK_IMPORTED_MODULE_0__["applyMiddleware"].apply(null, middlewares)));
  return store;
};

/* harmony default export */ __webpack_exports__["default"] = (configureStore);

/***/ }),

/***/ "./src/store/persistedState.js":
/*!*************************************!*\
  !*** ./src/store/persistedState.js ***!
  \*************************************/
/*! exports provided: loadState, saveState, persistState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadState", function() { return loadState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveState", function() { return saveState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "persistState", function() { return persistState; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! localforage */ "./node_modules/localforage/dist/localforage.js");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_1__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}


var loadState = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    var persistedState;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return localforage__WEBPACK_IMPORTED_MODULE_1___default.a.getItem('state');

          case 3:
            persistedState = _context.sent;

            if (!(persistedState === null)) {
              _context.next = 6;
              break;
            }

            return _context.abrupt("return", undefined);

          case 6:
            return _context.abrupt("return", persistedState);

          case 9:
            _context.prev = 9;
            _context.t0 = _context["catch"](0); // eslint-disable-next-line no-console

            console.warn(_context.t0);
            return _context.abrupt("return", undefined);

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 9]]);
  }));

  return function loadState() {
    return _ref.apply(this, arguments);
  };
}();
var saveState = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(state) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            try {
              localforage__WEBPACK_IMPORTED_MODULE_1___default.a.setItem('state', state);
            } catch (err) {
              // eslint-disable-next-line no-console
              console.warn(err); // Errors handling
            }

          case 1:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function saveState(_x) {
    return _ref2.apply(this, arguments);
  };
}();
var persistState = function persistState(store) {
  store.subscribe(function () {
    return saveState({
      filters: {
        filteringDoc: store.getState().filters.filteringDoc
      }
    });
  });
};

/***/ }),

/***/ "./src/styles/main.styl":
/*!******************************!*\
  !*** ./src/styles/main.styl ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"from-bottom":"from-bottom--mdhky","spin":"spin--BmaML","shake":"shake--2Y-ol"};

/***/ }),

/***/ "./src/targets/favicons/icon-banks.jpg":
/*!*********************************************!*\
  !*** ./src/targets/favicons/icon-banks.jpg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/icon-banks.jpg";

/***/ }),

/***/ "./src/targets/favicons/icon-banks.svg":
/*!*********************************************!*\
  !*** ./src/targets/favicons/icon-banks.svg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/img/icon-banks.svg";

/***/ }),

/***/ "./src/types.js":
/*!**********************!*\
  !*** ./src/types.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * @typedef {object} Connection
 * @property {string} as - Name of the query
 * @property {function(Client):QueryDefinition} query - Function creating a query
 * @property {function(QueryState):Boolean} fetchPolicy - Fetch policy for the query
 * @property {Boolean} enabled - Whether the query is enabled
 */

/**
 * @typedef {object} BankTransaction
 * @property {string} _id
 * @property {string} label
 * @property {string?} automaticCategoryId
 * @property {string?} cozyCategoryId
 * @property {string?} manualCategoryId
 */

/**
 * @typedef {object} CategorySummary
 * @property {Array<BankTransaction>} transactions
 * @property {Record<CategoryId,{ transactions: Array<BankTransaction> }>} subcategories
 */

/**
 * @typedef {Record<CategoryName, CategorySummary>} TransactionCategoriesSummary
 */

/***/ }),

/***/ "./src/utils/backSwipe.jsx":
/*!*********************************!*\
  !*** ./src/utils/backSwipe.jsx ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




/* harmony default export */ __webpack_exports__["default"] = (function (_ref) {
  var getLocation = _ref.getLocation;
  return function (Wrapped) {
    var _temp;

    return Object(react_router__WEBPACK_IMPORTED_MODULE_2__["withRouter"])((_temp = /*#__PURE__*/function (_Component) {
      _inherits(_temp, _Component);

      function _temp() {
        var _getPrototypeOf2;

        var _this;

        _classCallCheck(this, _temp);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_temp)).call.apply(_getPrototypeOf2, [this].concat(args)));

        _defineProperty(_assertThisInitialized(_this), "onSwipeRight", function (ev) {
          if (!ev.defaultPrevented) {
            var location = getLocation(_this.props);

            if (location) {
              _this.props.router.push(location);

              ev.preventDefault();
            }
          }
        });

        return _this;
      }

      _createClass(_temp, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          var node = document.body;
          this.hammer = new hammerjs__WEBPACK_IMPORTED_MODULE_1___default.a.Manager(node, {
            recognizers: [[hammerjs__WEBPACK_IMPORTED_MODULE_1___default.a.Swipe, {
              direction: hammerjs__WEBPACK_IMPORTED_MODULE_1___default.a.DIRECTION_RIGHT
            }]]
          });
          this.hammer.on('swiperight', this.onSwipeRight);
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          this.hammer.destroy();
        }
      }, {
        key: "render",
        value: function render() {
          var props = this.props;
          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrapped, props);
        }
      }]);

      return _temp;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]), _temp));
  };
});

/***/ }),

/***/ "./src/utils/cozyBar.js":
/*!******************************!*\
  !*** ./src/utils/cozyBar.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_bar_transpiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-bar/transpiled */ "./node_modules/cozy-bar/transpiled/index.js");
/* harmony import */ var _style_loader_css_loader_cozy_bar_transpiled_cozy_bar_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !style-loader!css-loader!cozy-bar/transpiled/cozy-bar.css */ "./node_modules/style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/cozy-bar/transpiled/cozy-bar.css");
/* harmony import */ var _style_loader_css_loader_cozy_bar_transpiled_cozy_bar_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_css_loader_cozy_bar_transpiled_cozy_bar_css__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ __webpack_exports__["default"] = (cozy_bar_transpiled__WEBPACK_IMPORTED_MODULE_0__);

/***/ }),

/***/ "./src/utils/cozyData.js":
/*!*******************************!*\
  !*** ./src/utils/cozyData.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var parseCozyData = function parseCozyData(root) {
  return JSON.parse(root.dataset.cozy);
};

/* harmony default export */ __webpack_exports__["default"] = (parseCozyData);

/***/ }),

/***/ "./src/utils/currencySymbol.js":
/*!*************************************!*\
  !*** ./src/utils/currencySymbol.js ***!
  \*************************************/
/*! exports provided: DEFAULT_CURRENCY_SYMBOL, getCurrencySymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_CURRENCY_SYMBOL", function() { return DEFAULT_CURRENCY_SYMBOL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCurrencySymbol", function() { return getCurrencySymbol; });
var DEFAULT_CURRENCY_SYMBOL = '€';
var CURRENCY_TO_SYMBOL = {
  EUR: DEFAULT_CURRENCY_SYMBOL,
  USD: '$',
  GBP: '£'
};
var getCurrencySymbol = function getCurrencySymbol(currency) {
  if (typeof currency === 'string') {
    return CURRENCY_TO_SYMBOL[currency] || currency;
  }

  if (typeof currency === 'object') {
    // currency :
    // { crypto, datetime, id, marketcap, name, precision, prefix, symbol }
    return currency ? currency.symbol || CURRENCY_TO_SYMBOL[currency.id] || DEFAULT_CURRENCY_SYMBOL : DEFAULT_CURRENCY_SYMBOL;
  }

  return DEFAULT_CURRENCY_SYMBOL;
};

/***/ }),

/***/ "./src/utils/d3.js":
/*!*************************!*\
  !*** ./src/utils/d3.js ***!
  \*************************/
/*! exports provided: timeFormatDefaultLocale, timeFormat, select, selectAll, mouse, area, line, drag, extent, bisector, easeExpInOut, easeLinear, easeExpIn, scaleLinear, scaleTime, axisBottom, transition, setupLocale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupLocale", function() { return setupLocale; });
/* harmony import */ var d3_time_format__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-time-format */ "./node_modules/d3-time-format/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeFormatDefaultLocale", function() { return d3_time_format__WEBPACK_IMPORTED_MODULE_0__["timeFormatDefaultLocale"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timeFormat", function() { return d3_time_format__WEBPACK_IMPORTED_MODULE_0__["timeFormat"]; });

/* harmony import */ var d3_selection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-selection */ "./node_modules/d3-selection/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "select", function() { return d3_selection__WEBPACK_IMPORTED_MODULE_1__["select"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "selectAll", function() { return d3_selection__WEBPACK_IMPORTED_MODULE_1__["selectAll"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mouse", function() { return d3_selection__WEBPACK_IMPORTED_MODULE_1__["mouse"]; });

/* harmony import */ var d3_shape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-shape */ "./node_modules/d3-shape/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "area", function() { return d3_shape__WEBPACK_IMPORTED_MODULE_2__["area"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "line", function() { return d3_shape__WEBPACK_IMPORTED_MODULE_2__["line"]; });

/* harmony import */ var d3_drag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-drag */ "./node_modules/d3-drag/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "drag", function() { return d3_drag__WEBPACK_IMPORTED_MODULE_3__["drag"]; });

/* harmony import */ var d3_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-array */ "./node_modules/d3-array/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extent", function() { return d3_array__WEBPACK_IMPORTED_MODULE_4__["extent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bisector", function() { return d3_array__WEBPACK_IMPORTED_MODULE_4__["bisector"]; });

/* harmony import */ var d3_ease__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-ease */ "./node_modules/d3-ease/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "easeExpInOut", function() { return d3_ease__WEBPACK_IMPORTED_MODULE_5__["easeExpInOut"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "easeLinear", function() { return d3_ease__WEBPACK_IMPORTED_MODULE_5__["easeLinear"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "easeExpIn", function() { return d3_ease__WEBPACK_IMPORTED_MODULE_5__["easeExpIn"]; });

/* harmony import */ var d3_scale__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-scale */ "./node_modules/d3-scale/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scaleLinear", function() { return d3_scale__WEBPACK_IMPORTED_MODULE_6__["scaleLinear"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scaleTime", function() { return d3_scale__WEBPACK_IMPORTED_MODULE_6__["scaleTime"]; });

/* harmony import */ var d3_axis__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! d3-axis */ "./node_modules/d3-axis/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "axisBottom", function() { return d3_axis__WEBPACK_IMPORTED_MODULE_7__["axisBottom"]; });

/* harmony import */ var d3_transition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! d3-transition */ "./node_modules/d3-transition/src/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "transition", function() { return d3_transition__WEBPACK_IMPORTED_MODULE_8__["transition"]; });

/* harmony import */ var d3_time_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! d3-time-format/locale/fr-FR.json */ "./node_modules/d3-time-format/locale/fr-FR.json");
var d3_time_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_9___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-time-format/locale/fr-FR.json */ "./node_modules/d3-time-format/locale/fr-FR.json", 1);
/* harmony import */ var d3_time_format_locale_en_GB_json__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! d3-time-format/locale/en-GB.json */ "./node_modules/d3-time-format/locale/en-GB.json");
var d3_time_format_locale_en_GB_json__WEBPACK_IMPORTED_MODULE_10___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-time-format/locale/en-GB.json */ "./node_modules/d3-time-format/locale/en-GB.json", 1);











var D3_LOCALES_MAP = {
  fr: d3_time_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_9__,
  en: d3_time_format_locale_en_GB_json__WEBPACK_IMPORTED_MODULE_10__
};

var setupLocale = function setupLocale(lang) {
  Object(d3_time_format__WEBPACK_IMPORTED_MODULE_0__["timeFormatDefaultLocale"])(D3_LOCALES_MAP[lang] || D3_LOCALES_MAP.en);
};



/***/ }),

/***/ "./src/utils/display.debug.js":
/*!************************************!*\
  !*** ./src/utils/display.debug.js ***!
  \************************************/
/*! exports provided: makeItShine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeItShine", function() { return makeItShine; });
var makeItShine = function makeItShine(node) {
  node.style.boxShadow = 'inset 0px 0px 20px yellow';
  node.style.transition = 'box-shadow 0.3s ease';
  setTimeout(function () {
    node.style.boxShadow = 'inset 0 0 0';
  }, 2000);
};

/***/ }),

/***/ "./src/utils/effects.js":
/*!******************************!*\
  !*** ./src/utils/effects.js ***!
  \******************************/
/*! exports provided: shake */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shake", function() { return shake; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var utils_sleep__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/sleep */ "./src/utils/sleep.js");


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}


var shakeClassName = 'u-shake';
/**
 * Shake a DOM node via CSS
 * Resolves when animation is finished
 */

var shake = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(node) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            node.classList.remove(shakeClassName);
            requestAnimationFrame(function () {
              node.classList.add(shakeClassName);
            });
            _context.next = 4;
            return Object(utils_sleep__WEBPACK_IMPORTED_MODULE_1__["default"])(820);

          case 4:
            node.classList.remove(shakeClassName);

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function shake(_x) {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "./src/utils/empty.js":
/*!****************************!*\
  !*** ./src/utils/empty.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Serves as alias to module we do not need

/***/ }),

/***/ "./src/utils/flag.js":
/*!***************************!*\
  !*** ./src/utils/flag.js ***!
  \***************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cozy-flags */ "./node_modules/cozy-flags/dist/index.js");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/some */ "./node_modules/lodash/some.js");
/* harmony import */ var lodash_some__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_some__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cozy-ui/transpiled/react/Figure */ "./node_modules/cozy-ui/transpiled/react/Figure/index.js");
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
/* global __DEVELOPMENT__ */





/** Reset flags, keeping only those set to a truthy value */

var garbageCollectFlags = function garbageCollectFlags() {
  var trueFlags = cozy_flags__WEBPACK_IMPORTED_MODULE_0___default.a.list().map(function (name) {
    return [name, cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()(name)];
  }).filter(function (x) {
    return x[1];
  });
  cozy_flags__WEBPACK_IMPORTED_MODULE_0___default.a.reset();
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = trueFlags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var _step$value = _slicedToArray(_step.value, 2),
          flagName = _step$value[0],
          flagValue = _step$value[1];

      cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()(flagName, flagValue);
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }
};

garbageCollectFlags();

if ( true && cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('switcher') === null) {
  cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('switcher', true);
}

var demoFqdns = ['stephaniedurand.cozy.rocks', 'isabelledurand.cozy.rocks', 'genevievedurand.cozy.rocks', 'isabelledurand.mycozy.cloud'];

var locationMatchesFqdn = function locationMatchesFqdn(location, fqdn) {
  var splitted = fqdn.split('.');
  var slug = splitted[0];
  var domain = splitted.slice(1).join('.');
  var rx = new RegExp(slug + '.*' + domain.replace('.', '\\.'));
  return rx.exec(location);
};

var isDemoCozy = function isDemoCozy() {
  var location = window.location.href;
  return lodash_some__WEBPACK_IMPORTED_MODULE_1___default()(demoFqdns.map(function (fqdn) {
    return locationMatchesFqdn(location, fqdn);
  }));
};

if (isDemoCozy()) {
  cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('demo', true);
}

cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__["default"].defaultProps = Object.assign({}, cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__["default"].defaultProps, {
  blurred: cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('amount-blur') ? true : false
});
cozy_flags__WEBPACK_IMPORTED_MODULE_0___default.a.store.on('change', function (flagName) {
  if (flagName === 'amount-blur') {
    cozy_ui_transpiled_react_Figure__WEBPACK_IMPORTED_MODULE_2__["default"].defaultProps.blurred = cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('amount-blur');
  }
});
window.flag = cozy_flags__WEBPACK_IMPORTED_MODULE_0___default.a;

/***/ }),

/***/ "./src/utils/history.js":
/*!******************************!*\
  !*** ./src/utils/history.js ***!
  \******************************/
/*! exports provided: setupHistory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupHistory", function() { return setupHistory; });
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");

var setupHistory = function setupHistory() {
  var history = react_router__WEBPACK_IMPORTED_MODULE_0__["hashHistory"];
  return history;
};

/***/ }),

/***/ "./src/utils/lang.jsx":
/*!****************************!*\
  !*** ./src/utils/lang.jsx ***!
  \****************************/
/*! exports provided: getLanguageFromDOM, getT, lang, dictRequire, enLocaleOption */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLanguageFromDOM", function() { return getLanguageFromDOM; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getT", function() { return getT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lang", function() { return lang; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dictRequire", function() { return dictRequire; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enLocaleOption", function() { return enLocaleOption; });
/* harmony import */ var locales_en_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! locales/en.json */ "../overrides/cozy-banks/src/locales/en.json");
var locales_en_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! locales/en.json */ "../overrides/cozy-banks/src/locales/en.json", 1);
/* harmony import */ var locales_fr_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! locales/fr.json */ "../overrides/cozy-banks/src/locales/fr.json");
var locales_fr_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! locales/fr.json */ "../overrides/cozy-banks/src/locales/fr.json", 1);
/* harmony import */ var node_polyglot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node-polyglot */ "./node_modules/node-polyglot/index.js");
/* harmony import */ var node_polyglot__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(node_polyglot__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var utils_cozyData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/cozyData */ "./src/utils/cozyData.js");
/* global __TARGET__ */




var locales = {
  en: locales_en_json__WEBPACK_IMPORTED_MODULE_0__,
  fr: locales_fr_json__WEBPACK_IMPORTED_MODULE_1__
};
var getLanguageFromDOM = function getLanguageFromDOM(rootOption) {
  var _root$dataset;

  if (false) {}

  var root = rootOption || document.querySelector('[role=application]');
  return root !== null && root !== void 0 && (_root$dataset = root.dataset) !== null && _root$dataset !== void 0 && _root$dataset.cozy ? Object(utils_cozyData__WEBPACK_IMPORTED_MODULE_3__["default"])(root).locale : 'en';
};
/**
 * Used to translate strings
 *
 * To be used when not in React context, in React
 * context, the t function comes from the context
 */

var getT = function getT(option) {
  var lang = getLanguageFromDOM(option);
  var polyglot = new node_polyglot__WEBPACK_IMPORTED_MODULE_2___default.a({
    lang: lang,
    phrases: locales[lang]
  });
  return polyglot.t.bind(polyglot);
};
var lang = process.env.COZY_LOCALE || 'en';
var dictRequire = function dictRequire(lang) {
  return __webpack_require__("../overrides/cozy-banks/src/locales sync recursive ^\\.\\/.*$")("./".concat(lang));
};
var enLocaleOption = {
  dataset: {
    cozy: JSON.stringify({
      locale: 'en'
    })
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/process/browser.js */ "../node_modules/process/browser.js")))

/***/ }),

/***/ "./src/utils/multiKeyBy.js":
/*!*********************************!*\
  !*** ./src/utils/multiKeyBy.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Similar to lodash's key by but an item can be
 * indexed by multiple keys
 *
 * @param  {Array<T>} arr   - Array to be indexed
 * @param  {(T) => string} getKeys - Returns multiple keys for an array item
 * @return {Record<string, Array<T>>} - Indexed items
 */
var multiKeyBy = function multiKeyBy(arr, getKeys) {
  if (!arr) {
    return {};
  }

  var res = {};
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var item = _step.value;
      var keys = getKeys(item) || [];
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = keys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var key = _step2.value;
          res[key] = res[key] || [];
          res[key].push(item);
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return != null) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return res;
};

/* harmony default export */ __webpack_exports__["default"] = (multiKeyBy);

/***/ }),

/***/ "./src/utils/react-exposer.js":
/*!************************************!*\
  !*** ./src/utils/react-exposer.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! expose-loader?React!react */ "./node_modules/expose-loader/index.js?React!./node_modules/react/index.js-exposed");

__webpack_require__(/*! expose-loader?ReactDOM!react-dom */ "./node_modules/expose-loader/index.js?ReactDOM!./node_modules/react-dom/index.js-exposed");

/***/ }),

/***/ "./src/utils/resultWithArgs.js":
/*!*************************************!*\
  !*** ./src/utils/resultWithArgs.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * If obj[name] is a function, invokes it with this binded to obj and with args
 * Otherwise, returns obj[name]
 *
 * Similar to lodash's result but supports arguments
 */
var resultWithArgs = function resultWithArgs(obj, name, args) {
  var v = obj[name];

  if (typeof v === 'function') {
    return v.apply(obj, args);
  } else {
    return v;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (resultWithArgs);

/***/ }),

/***/ "./src/utils/sleep.js":
/*!****************************!*\
  !*** ./src/utils/sleep.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var sleep = function sleep(duration) {
  return new Promise(function (resolve) {
    return setTimeout(resolve, duration);
  });
};

/* harmony default export */ __webpack_exports__["default"] = (sleep);

/***/ }),

/***/ "./src/utils/token.js":
/*!****************************!*\
  !*** ./src/utils/token.js ***!
  \****************************/
/*! exports provided: checkToRefreshToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkToRefreshToken", function() { return checkToRefreshToken; });
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/index.js");
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_0__);

/**
 * This check will be removed when we will be able to inject a cozy-client
 * in the cozy-bar, thus it can renew the token it needed by itself.
 * For now, we ensure that the token is refreshed before it expires,
 * so the bar always has a valid token
 */

var checkToRefreshToken = function checkToRefreshToken(client, store, onRefresh) {
  return function () {
    var state = store.getState();
    var token = state.mobile && state.mobile.token;

    if (!token) {
      return;
    } // Since the token is valid for a week, we refresh it
    // if it was issued more than 6 days ago


    var today = new Date();
    var sixDaysAgo = Object(date_fns__WEBPACK_IMPORTED_MODULE_0__["subDays"])(today, 6);
    var issuedAt = token.issuedAt;

    if (!issuedAt || !Object(date_fns__WEBPACK_IMPORTED_MODULE_0__["isValid"])(issuedAt) || Object(date_fns__WEBPACK_IMPORTED_MODULE_0__["isBefore"])(issuedAt, sixDaysAgo)) {
      try {
        client.stackClient.refreshToken();
        onRefresh && onRefresh();
      } catch (err) {
        // eslint-disable-next-line no-console
        console.error('Error while refreshing token:' + err);
      }
    }
  };
};



/***/ }),

/***/ "./src/utils/triggers.js":
/*!*******************************!*\
  !*** ./src/utils/triggers.js ***!
  \*******************************/
/*! exports provided: isBankTrigger, isBankKonnector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBankTrigger", function() { return isBankTrigger; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBankKonnector", function() { return isBankKonnector; });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/includes */ "./node_modules/lodash/includes.js");
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_1__);

 // To update this list used this command on banking konnector:
// $ cat src/publish/manifests.json | jq '[.[].slug]' | sort

var bankingSlug = ['afer', 'ageas', 'agipi', 'allianzretraitecollective', 'altaprofits', 'americanexpress', 'amundiee', 'amunditc', 'arkea', 'assuranceviecom', 'axabanque102', 'axaer', 'axaes', 'banquecasino', 'banquepopulaire', 'banquepostaleee', 'barclays136', 'bcp', 'becm', 'bfcoi', 'bforbank97', 'bnpes', 'bnpparibas82', 'bolden', 'boursorama83', 'bpe', 'bred', 'breddispobank', 'caatlantica3', 'caels', 'caissedepargne1', 'carrefour159', 'casden173', 'ccso', 'cdngroup109', 'cdngroup88', 'cetelem', 'chalus', 'cic45', 'cic63', 'cicee', 'comptenickel168', 'courtois', 'creditcooperatif148', 'creditdunordes', 'creditfoncier', 'creditmaritime', 'creditmutueles', 'edmondderothschild', 'epargnissimo', 'epsenses', 'esalia', 'fortuneo84', 'gan', 'generali', 'groupama', 'groupamaes', 'hellobank145', 'hsbc119', 'ingdirect95', 'kolb', 'labanquepostale44', 'laydernier', 'lcl-linxo', 'linxea', 'maafvie', 'macsf', 'maif-nestor', 'manymore', 'mesplacementsfr', 'monabanq96', 'moneoresto', 'mutavie', 'n26', 'natixis', 'nuger', 'oddo', 'oney', 'orangebank', 'palatine', 'paypal', 'psa', 'revolut', 'rhonealpes', 'sbe', 'sharinbox', 'societegenerale', 'socram', 'sofinco', 'sogeretraite', 'spirica', 'swisslife', 'swisslifebp', 'tarneaud', 'transatlantique', 'transatlantiquees', 'unionfinancieredefrance', 'wesave', 'yomoni', 'zesto'];
var isBankTrigger = function isBankTrigger(trigger) {
  return lodash_includes__WEBPACK_IMPORTED_MODULE_1___default()(bankingSlug, lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(trigger, 'message.konnector'));
};
var isBankKonnector = function isBankKonnector(job) {
  return lodash_includes__WEBPACK_IMPORTED_MODULE_1___default()(bankingSlug, lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(job, 'konnector'));
};

/***/ }),

/***/ 0:
/*!********************************************************************!*\
  !*** multi ./node_modules/@babel/polyfill/lib/index.js ./src/main ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! /Users/florianpires/Developer/cozy/maif-epa-customizations/cozy-banks/node_modules/@babel/polyfill/lib/index.js */"./node_modules/@babel/polyfill/lib/index.js");
module.exports = __webpack_require__(/*! /Users/florianpires/Developer/cozy/maif-epa-customizations/cozy-banks/src/main */"./src/main.jsx");


/***/ }),

/***/ 1:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 5:
/*!****************************!*\
  !*** ./nextTick (ignored) ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 6:
/*!**********************!*\
  !*** zlib (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 7:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 8:
/*!**********************!*\
  !*** http (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 9:
/*!***********************!*\
  !*** https (ignored) ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

/******/ });